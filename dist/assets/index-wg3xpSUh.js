var N7=Object.defineProperty;var Wj=e=>{throw TypeError(e)};var j7=(e,t,r)=>t in e?N7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hy=(e,t,r)=>j7(e,typeof t!="symbol"?t+"":t,r),Xx=(e,t,r)=>t.has(e)||Wj("Cannot "+r);var Fe=(e,t,r)=>(Xx(e,t,"read from private field"),r?r.call(e):t.get(e)),lr=(e,t,r)=>t.has(e)?Wj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Vt=(e,t,r,n)=>(Xx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Wn=(e,t,r)=>(Xx(e,t,"access private method"),r);var fy=(e,t,r,n)=>({set _(s){Vt(e,t,s,r)},get _(){return Fe(e,t,n)}});function C7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Ia=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var ZP={exports:{}},q0={},QP={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=Symbol.for("react.element"),E7=Symbol.for("react.portal"),P7=Symbol.for("react.fragment"),A7=Symbol.for("react.strict_mode"),T7=Symbol.for("react.profiler"),L7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),R7=Symbol.for("react.forward_ref"),O7=Symbol.for("react.suspense"),I7=Symbol.for("react.memo"),M7=Symbol.for("react.lazy"),Hj=Symbol.iterator;function F7(e){return e===null||typeof e!="object"?null:(e=Hj&&e[Hj]||e["@@iterator"],typeof e=="function"?e:null)}var e3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t3=Object.assign,r3={};function Bh(e,t,r){this.props=e,this.context=t,this.refs=r3,this.updater=r||e3}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function n3(){}n3.prototype=Bh.prototype;function hS(e,t,r){this.props=e,this.context=t,this.refs=r3,this.updater=r||e3}var fS=hS.prototype=new n3;fS.constructor=hS;t3(fS,Bh.prototype);fS.isPureReactComponent=!0;var Gj=Array.isArray,s3=Object.prototype.hasOwnProperty,pS={current:null},a3={key:!0,ref:!0,__self:!0,__source:!0};function i3(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)s3.call(t,n)&&!a3.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Gm,type:e,key:a,ref:i,props:s,_owner:pS.current}}function B7(e,t){return{$$typeof:Gm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gm}function $7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yj=/\/+/g;function Jx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$7(""+e.key):t.toString(36)}function ev(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Gm:case E7:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Jx(i,0):n,Gj(s)?(r="",e!=null&&(r=e.replace(Yj,"$&/")+"/"),ev(s,t,r,"",function(u){return u})):s!=null&&(mS(s)&&(s=B7(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Yj,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Gj(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Jx(a,o);i+=ev(a,t,r,c,s)}else if(c=F7(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Jx(a,o++),i+=ev(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function py(e,t,r){if(e==null)return e;var n=[],s=0;return ev(e,n,"","",function(a){return t.call(r,a,s++)}),n}function U7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ws={current:null},tv={transition:null},V7={ReactCurrentDispatcher:ws,ReactCurrentBatchConfig:tv,ReactCurrentOwner:pS};function o3(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:py,forEach:function(e,t,r){py(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return py(e,function(){t++}),t},toArray:function(e){return py(e,function(t){return t})||[]},only:function(e){if(!mS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=Bh;Wt.Fragment=P7;Wt.Profiler=T7;Wt.PureComponent=hS;Wt.StrictMode=A7;Wt.Suspense=O7;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V7;Wt.act=o3;Wt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=t3({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=pS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)s3.call(t,c)&&!a3.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Gm,type:e.type,key:s,ref:a,props:n,_owner:i}};Wt.createContext=function(e){return e={$$typeof:D7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L7,_context:e},e.Consumer=e};Wt.createElement=i3;Wt.createFactory=function(e){var t=i3.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:R7,render:e}};Wt.isValidElement=mS;Wt.lazy=function(e){return{$$typeof:M7,_payload:{_status:-1,_result:e},_init:U7}};Wt.memo=function(e,t){return{$$typeof:I7,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=tv.transition;tv.transition={};try{e()}finally{tv.transition=t}};Wt.unstable_act=o3;Wt.useCallback=function(e,t){return ws.current.useCallback(e,t)};Wt.useContext=function(e){return ws.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return ws.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return ws.current.useEffect(e,t)};Wt.useId=function(){return ws.current.useId()};Wt.useImperativeHandle=function(e,t,r){return ws.current.useImperativeHandle(e,t,r)};Wt.useInsertionEffect=function(e,t){return ws.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return ws.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return ws.current.useMemo(e,t)};Wt.useReducer=function(e,t,r){return ws.current.useReducer(e,t,r)};Wt.useRef=function(e){return ws.current.useRef(e)};Wt.useState=function(e){return ws.current.useState(e)};Wt.useSyncExternalStore=function(e,t,r){return ws.current.useSyncExternalStore(e,t,r)};Wt.useTransition=function(){return ws.current.useTransition()};Wt.version="18.3.1";QP.exports=Wt;var v=QP.exports;const Pe=JP(v),l3=C7({__proto__:null,default:Pe},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z7=v,q7=Symbol.for("react.element"),W7=Symbol.for("react.fragment"),H7=Object.prototype.hasOwnProperty,G7=z7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y7={key:!0,ref:!0,__self:!0,__source:!0};function c3(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)H7.call(t,n)&&!Y7.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:q7,type:e,key:a,ref:i,props:s,_owner:G7.current}}q0.Fragment=W7;q0.jsx=c3;q0.jsxs=c3;ZP.exports=q0;var l=ZP.exports,u3={exports:{}},ha={},d3={exports:{}},h3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,Y){var ie=M.length;M.push(Y);e:for(;0<ie;){var me=ie-1>>>1,T=M[me];if(0<s(T,Y))M[me]=Y,M[ie]=T,ie=me;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var Y=M[0],ie=M.pop();if(ie!==Y){M[0]=ie;e:for(var me=0,T=M.length,G=T>>>1;me<G;){var Z=2*(me+1)-1,ae=M[Z],W=Z+1,se=M[W];if(0>s(ae,ie))W<T&&0>s(se,ae)?(M[me]=se,M[W]=ie,me=W):(M[me]=ae,M[Z]=ie,me=Z);else if(W<T&&0>s(se,ie))M[me]=se,M[W]=ie,me=W;else break e}}return Y}function s(M,Y){var ie=M.sortIndex-Y.sortIndex;return ie!==0?ie:M.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(M){for(var Y=r(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=M)n(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=r(u)}}function C(M){if(y=!1,N(M),!g)if(r(c)!==null)g=!0,ee(E);else{var Y=r(u);Y!==null&&V(C,Y.startTime-M)}}function E(M,Y){g=!1,y&&(y=!1,b(A),A=-1),p=!0;var ie=f;try{for(N(Y),h=r(c);h!==null&&(!(h.expirationTime>Y)||M&&!I());){var me=h.callback;if(typeof me=="function"){h.callback=null,f=h.priorityLevel;var T=me(h.expirationTime<=Y);Y=e.unstable_now(),typeof T=="function"?h.callback=T:h===r(c)&&n(c),N(Y)}else n(c);h=r(c)}if(h!==null)var G=!0;else{var Z=r(u);Z!==null&&V(C,Z.startTime-Y),G=!1}return G}finally{h=null,f=ie,p=!1}}var F=!1,P=null,A=-1,K=5,Q=-1;function I(){return!(e.unstable_now()-Q<K)}function D(){if(P!==null){var M=e.unstable_now();Q=M;var Y=!0;try{Y=P(!0,M)}finally{Y?L():(F=!1,P=null)}}else F=!1}var L;if(typeof x=="function")L=function(){x(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,q=B.port2;B.port1.onmessage=D,L=function(){q.postMessage(null)}}else L=function(){S(D,0)};function ee(M){P=M,F||(F=!0,L())}function V(M,Y){A=S(function(){M(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,ee(E))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var ie=f;f=Y;try{return M()}finally{f=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=f;f=M;try{return Y()}finally{f=ie}},e.unstable_scheduleCallback=function(M,Y,ie){var me=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,M){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ie+T,M={id:d++,callback:Y,priorityLevel:M,startTime:ie,expirationTime:T,sortIndex:-1},ie>me?(M.sortIndex=ie,t(u,M),r(c)===null&&M===r(u)&&(y?(b(A),A=-1):y=!0,V(C,ie-me))):(M.sortIndex=T,t(c,M),g||p||(g=!0,ee(E))),M},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(M){var Y=f;return function(){var ie=f;f=Y;try{return M.apply(this,arguments)}finally{f=ie}}}})(h3);d3.exports=h3;var K7=d3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X7=v,ua=K7;function qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f3=new Set,Op={};function bu(e,t){xh(e,t),xh(e+"Capture",t)}function xh(e,t){for(Op[e]=t,e=0;e<t.length;e++)f3.add(t[e])}var Fo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F2=Object.prototype.hasOwnProperty,J7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kj={},Xj={};function Z7(e){return F2.call(Xj,e)?!0:F2.call(Kj,e)?!1:J7.test(e)?Xj[e]=!0:(Kj[e]=!0,!1)}function Q7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eB(e,t,r,n){if(t===null||typeof t>"u"||Q7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bs(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Un[e]=new bs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Un[t]=new bs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Un[e]=new bs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Un[e]=new bs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Un[e]=new bs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Un[e]=new bs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Un[e]=new bs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Un[e]=new bs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Un[e]=new bs(e,5,!1,e.toLowerCase(),null,!1,!1)});var gS=/[\-:]([a-z])/g;function yS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gS,yS);Un[t]=new bs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gS,yS);Un[t]=new bs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gS,yS);Un[t]=new bs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Un[e]=new bs(e,1,!1,e.toLowerCase(),null,!1,!1)});Un.xlinkHref=new bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Un[e]=new bs(e,1,!1,e.toLowerCase(),null,!0,!0)});function vS(e,t,r,n){var s=Un.hasOwnProperty(t)?Un[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eB(t,r,s,n)&&(r=null),n||s===null?Z7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Yo=X7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,my=Symbol.for("react.element"),bd=Symbol.for("react.portal"),Sd=Symbol.for("react.fragment"),xS=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),p3=Symbol.for("react.provider"),m3=Symbol.for("react.context"),wS=Symbol.for("react.forward_ref"),$2=Symbol.for("react.suspense"),U2=Symbol.for("react.suspense_list"),bS=Symbol.for("react.memo"),_l=Symbol.for("react.lazy"),g3=Symbol.for("react.offscreen"),Jj=Symbol.iterator;function Df(e){return e===null||typeof e!="object"?null:(e=Jj&&e[Jj]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,Zx;function Qf(e){if(Zx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zx=t&&t[1]||""}return`
`+Zx+e}var Qx=!1;function ew(e,t){if(!e||Qx)return"";Qx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Qx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qf(e):""}function tB(e){switch(e.tag){case 5:return Qf(e.type);case 16:return Qf("Lazy");case 13:return Qf("Suspense");case 19:return Qf("SuspenseList");case 0:case 2:case 15:return e=ew(e.type,!1),e;case 11:return e=ew(e.type.render,!1),e;case 1:return e=ew(e.type,!0),e;default:return""}}function V2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sd:return"Fragment";case bd:return"Portal";case B2:return"Profiler";case xS:return"StrictMode";case $2:return"Suspense";case U2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m3:return(e.displayName||"Context")+".Consumer";case p3:return(e._context.displayName||"Context")+".Provider";case wS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bS:return t=e.displayName||null,t!==null?t:V2(e.type)||"Memo";case _l:t=e._payload,e=e._init;try{return V2(e(t))}catch{}}return null}function rB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V2(t);case 8:return t===xS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nB(e){var t=y3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gy(e){e._valueTracker||(e._valueTracker=nB(e))}function v3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=y3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ev(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function z2(e,t){var r=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x3(e,t){t=t.checked,t!=null&&vS(e,"checked",t,!1)}function q2(e,t){x3(e,t);var r=Jl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W2(e,t.type,r):t.hasOwnProperty("defaultValue")&&W2(e,t.type,Jl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function W2(e,t,r){(t!=="number"||Ev(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ep=Array.isArray;function Ud(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function H2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(qe(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(qe(92));if(ep(r)){if(1<r.length)throw Error(qe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jl(r)}}function w3(e,t){var r=Jl(t.value),n=Jl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function G2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yy,S3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yy=yy||document.createElement("div"),yy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ip(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sB=["Webkit","ms","Moz","O"];Object.keys(dp).forEach(function(e){sB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dp[t]=dp[e]})});function _3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dp.hasOwnProperty(e)&&dp[e]?(""+t).trim():t+"px"}function N3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=_3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var aB=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y2(e,t){if(t){if(aB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(qe(62))}}function K2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X2=null;function SS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var J2=null,Vd=null,zd=null;function rC(e){if(e=Xm(e)){if(typeof J2!="function")throw Error(qe(280));var t=e.stateNode;t&&(t=K0(t),J2(e.stateNode,e.type,t))}}function j3(e){Vd?zd?zd.push(e):zd=[e]:Vd=e}function C3(){if(Vd){var e=Vd,t=zd;if(zd=Vd=null,rC(e),t)for(e=0;e<t.length;e++)rC(t[e])}}function k3(e,t){return e(t)}function E3(){}var tw=!1;function P3(e,t,r){if(tw)return e(t,r);tw=!0;try{return k3(e,t,r)}finally{tw=!1,(Vd!==null||zd!==null)&&(E3(),C3())}}function Mp(e,t){var r=e.stateNode;if(r===null)return null;var n=K0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(qe(231,t,typeof r));return r}var Z2=!1;if(Fo)try{var Rf={};Object.defineProperty(Rf,"passive",{get:function(){Z2=!0}}),window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{Z2=!1}function iB(e,t,r,n,s,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hp=!1,Pv=null,Av=!1,Q2=null,oB={onError:function(e){hp=!0,Pv=e}};function lB(e,t,r,n,s,a,i,o,c){hp=!1,Pv=null,iB.apply(oB,arguments)}function cB(e,t,r,n,s,a,i,o,c){if(lB.apply(this,arguments),hp){if(hp){var u=Pv;hp=!1,Pv=null}else throw Error(qe(198));Av||(Av=!0,Q2=u)}}function Su(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function A3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nC(e){if(Su(e)!==e)throw Error(qe(188))}function uB(e){var t=e.alternate;if(!t){if(t=Su(e),t===null)throw Error(qe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return nC(s),e;if(a===n)return nC(s),t;a=a.sibling}throw Error(qe(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i)throw Error(qe(189))}}if(r.alternate!==n)throw Error(qe(190))}if(r.tag!==3)throw Error(qe(188));return r.stateNode.current===r?e:t}function T3(e){return e=uB(e),e!==null?L3(e):null}function L3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=L3(e);if(t!==null)return t;e=e.sibling}return null}var D3=ua.unstable_scheduleCallback,sC=ua.unstable_cancelCallback,dB=ua.unstable_shouldYield,hB=ua.unstable_requestPaint,nn=ua.unstable_now,fB=ua.unstable_getCurrentPriorityLevel,_S=ua.unstable_ImmediatePriority,R3=ua.unstable_UserBlockingPriority,Tv=ua.unstable_NormalPriority,pB=ua.unstable_LowPriority,O3=ua.unstable_IdlePriority,W0=null,Ji=null;function mB(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(W0,e,void 0,(e.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:vB,gB=Math.log,yB=Math.LN2;function vB(e){return e>>>=0,e===0?32:31-(gB(e)/yB|0)|0}var vy=64,xy=4194304;function tp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~s;o!==0?n=tp(o):(a&=i,a!==0&&(n=tp(a)))}else i=r&~s,i!==0?n=tp(i):a!==0&&(n=tp(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fi(t),s=1<<r,n|=e[r],t&=~s;return n}function xB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-fi(a),o=1<<i,c=s[i];c===-1?(!(o&r)||o&n)&&(s[i]=xB(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function eb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I3(){var e=vy;return vy<<=1,!(vy&4194240)&&(vy=64),e}function rw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ym(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fi(t),e[t]=r}function bB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fi(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function NS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fi(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var yr=0;function M3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F3,jS,B3,$3,U3,tb=!1,wy=[],Ul=null,Vl=null,zl=null,Fp=new Map,Bp=new Map,kl=[],SB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aC(e,t){switch(e){case"focusin":case"focusout":Ul=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bp.delete(t.pointerId)}}function Of(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Xm(t),t!==null&&jS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _B(e,t,r,n,s){switch(t){case"focusin":return Ul=Of(Ul,e,t,r,n,s),!0;case"dragenter":return Vl=Of(Vl,e,t,r,n,s),!0;case"mouseover":return zl=Of(zl,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Fp.set(a,Of(Fp.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Bp.set(a,Of(Bp.get(a)||null,e,t,r,n,s)),!0}return!1}function V3(e){var t=Yc(e.target);if(t!==null){var r=Su(t);if(r!==null){if(t=r.tag,t===13){if(t=A3(r),t!==null){e.blockedOn=t,U3(e.priority,function(){B3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=rb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);X2=n,r.target.dispatchEvent(n),X2=null}else return t=Xm(r),t!==null&&jS(t),e.blockedOn=r,!1;t.shift()}return!0}function iC(e,t,r){rv(e)&&r.delete(t)}function NB(){tb=!1,Ul!==null&&rv(Ul)&&(Ul=null),Vl!==null&&rv(Vl)&&(Vl=null),zl!==null&&rv(zl)&&(zl=null),Fp.forEach(iC),Bp.forEach(iC)}function If(e,t){e.blockedOn===t&&(e.blockedOn=null,tb||(tb=!0,ua.unstable_scheduleCallback(ua.unstable_NormalPriority,NB)))}function $p(e){function t(s){return If(s,e)}if(0<wy.length){If(wy[0],e);for(var r=1;r<wy.length;r++){var n=wy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ul!==null&&If(Ul,e),Vl!==null&&If(Vl,e),zl!==null&&If(zl,e),Fp.forEach(t),Bp.forEach(t),r=0;r<kl.length;r++)n=kl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<kl.length&&(r=kl[0],r.blockedOn===null);)V3(r),r.blockedOn===null&&kl.shift()}var qd=Yo.ReactCurrentBatchConfig,Dv=!0;function jB(e,t,r,n){var s=yr,a=qd.transition;qd.transition=null;try{yr=1,CS(e,t,r,n)}finally{yr=s,qd.transition=a}}function CB(e,t,r,n){var s=yr,a=qd.transition;qd.transition=null;try{yr=4,CS(e,t,r,n)}finally{yr=s,qd.transition=a}}function CS(e,t,r,n){if(Dv){var s=rb(e,t,r,n);if(s===null)hw(e,t,n,Rv,r),aC(e,n);else if(_B(s,e,t,r,n))n.stopPropagation();else if(aC(e,n),t&4&&-1<SB.indexOf(e)){for(;s!==null;){var a=Xm(s);if(a!==null&&F3(a),a=rb(e,t,r,n),a===null&&hw(e,t,n,Rv,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else hw(e,t,n,null,r)}}var Rv=null;function rb(e,t,r,n){if(Rv=null,e=SS(n),e=Yc(e),e!==null)if(t=Su(e),t===null)e=null;else if(r=t.tag,r===13){if(e=A3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rv=e,null}function z3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fB()){case _S:return 1;case R3:return 4;case Tv:case pB:return 16;case O3:return 536870912;default:return 16}default:return 16}}var Ml=null,kS=null,nv=null;function q3(){if(nv)return nv;var e,t=kS,r=t.length,n,s="value"in Ml?Ml.value:Ml.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return nv=s.slice(e,1<n?1-n:void 0)}function sv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function by(){return!0}function oC(){return!1}function fa(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?by:oC,this.isPropagationStopped=oC,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=by)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=by)},persist:function(){},isPersistent:by}),t}var $h={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ES=fa($h),Km=zr({},$h,{view:0,detail:0}),kB=fa(Km),nw,sw,Mf,H0=zr({},Km,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mf&&(Mf&&e.type==="mousemove"?(nw=e.screenX-Mf.screenX,sw=e.screenY-Mf.screenY):sw=nw=0,Mf=e),nw)},movementY:function(e){return"movementY"in e?e.movementY:sw}}),lC=fa(H0),EB=zr({},H0,{dataTransfer:0}),PB=fa(EB),AB=zr({},Km,{relatedTarget:0}),aw=fa(AB),TB=zr({},$h,{animationName:0,elapsedTime:0,pseudoElement:0}),LB=fa(TB),DB=zr({},$h,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RB=fa(DB),OB=zr({},$h,{data:0}),cC=fa(OB),IB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=FB[e])?!!t[e]:!1}function PS(){return BB}var $B=zr({},Km,{key:function(e){if(e.key){var t=IB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PS,charCode:function(e){return e.type==="keypress"?sv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UB=fa($B),VB=zr({},H0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uC=fa(VB),zB=zr({},Km,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PS}),qB=fa(zB),WB=zr({},$h,{propertyName:0,elapsedTime:0,pseudoElement:0}),HB=fa(WB),GB=zr({},H0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YB=fa(GB),KB=[9,13,27,32],AS=Fo&&"CompositionEvent"in window,fp=null;Fo&&"documentMode"in document&&(fp=document.documentMode);var XB=Fo&&"TextEvent"in window&&!fp,W3=Fo&&(!AS||fp&&8<fp&&11>=fp),dC=" ",hC=!1;function H3(e,t){switch(e){case"keyup":return KB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _d=!1;function JB(e,t){switch(e){case"compositionend":return G3(t);case"keypress":return t.which!==32?null:(hC=!0,dC);case"textInput":return e=t.data,e===dC&&hC?null:e;default:return null}}function ZB(e,t){if(_d)return e==="compositionend"||!AS&&H3(e,t)?(e=q3(),nv=kS=Ml=null,_d=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W3&&t.locale!=="ko"?null:t.data;default:return null}}var QB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QB[e.type]:t==="textarea"}function Y3(e,t,r,n){j3(n),t=Ov(t,"onChange"),0<t.length&&(r=new ES("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pp=null,Up=null;function e$(e){aA(e,0)}function G0(e){var t=Cd(e);if(v3(t))return e}function t$(e,t){if(e==="change")return t}var K3=!1;if(Fo){var iw;if(Fo){var ow="oninput"in document;if(!ow){var pC=document.createElement("div");pC.setAttribute("oninput","return;"),ow=typeof pC.oninput=="function"}iw=ow}else iw=!1;K3=iw&&(!document.documentMode||9<document.documentMode)}function mC(){pp&&(pp.detachEvent("onpropertychange",X3),Up=pp=null)}function X3(e){if(e.propertyName==="value"&&G0(Up)){var t=[];Y3(t,Up,e,SS(e)),P3(e$,t)}}function r$(e,t,r){e==="focusin"?(mC(),pp=t,Up=r,pp.attachEvent("onpropertychange",X3)):e==="focusout"&&mC()}function n$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return G0(Up)}function s$(e,t){if(e==="click")return G0(t)}function a$(e,t){if(e==="input"||e==="change")return G0(t)}function i$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yi=typeof Object.is=="function"?Object.is:i$;function Vp(e,t){if(yi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!F2.call(t,s)||!yi(e[s],t[s]))return!1}return!0}function gC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yC(e,t){var r=gC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gC(r)}}function J3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?J3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z3(){for(var e=window,t=Ev();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ev(e.document)}return t}function TS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o$(e){var t=Z3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&J3(r.ownerDocument.documentElement,r)){if(n!==null&&TS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=yC(r,a);var i=yC(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var l$=Fo&&"documentMode"in document&&11>=document.documentMode,Nd=null,nb=null,mp=null,sb=!1;function vC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sb||Nd==null||Nd!==Ev(n)||(n=Nd,"selectionStart"in n&&TS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mp&&Vp(mp,n)||(mp=n,n=Ov(nb,"onSelect"),0<n.length&&(t=new ES("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Nd)))}function Sy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jd={animationend:Sy("Animation","AnimationEnd"),animationiteration:Sy("Animation","AnimationIteration"),animationstart:Sy("Animation","AnimationStart"),transitionend:Sy("Transition","TransitionEnd")},lw={},Q3={};Fo&&(Q3=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function Y0(e){if(lw[e])return lw[e];if(!jd[e])return e;var t=jd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Q3)return lw[e]=t[r];return e}var eA=Y0("animationend"),tA=Y0("animationiteration"),rA=Y0("animationstart"),nA=Y0("transitionend"),sA=new Map,xC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dc(e,t){sA.set(e,t),bu(t,[e])}for(var cw=0;cw<xC.length;cw++){var uw=xC[cw],c$=uw.toLowerCase(),u$=uw[0].toUpperCase()+uw.slice(1);dc(c$,"on"+u$)}dc(eA,"onAnimationEnd");dc(tA,"onAnimationIteration");dc(rA,"onAnimationStart");dc("dblclick","onDoubleClick");dc("focusin","onFocus");dc("focusout","onBlur");dc(nA,"onTransitionEnd");xh("onMouseEnter",["mouseout","mouseover"]);xh("onMouseLeave",["mouseout","mouseover"]);xh("onPointerEnter",["pointerout","pointerover"]);xh("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d$=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function wC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cB(n,t,void 0,e),e.currentTarget=null}function aA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;wC(s,o,u),a=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;wC(s,o,u),a=c}}}if(Av)throw e=Q2,Av=!1,Q2=null,e}function Dr(e,t){var r=t[cb];r===void 0&&(r=t[cb]=new Set);var n=e+"__bubble";r.has(n)||(iA(t,e,2,!1),r.add(n))}function dw(e,t,r){var n=0;t&&(n|=4),iA(r,e,n,t)}var _y="_reactListening"+Math.random().toString(36).slice(2);function zp(e){if(!e[_y]){e[_y]=!0,f3.forEach(function(r){r!=="selectionchange"&&(d$.has(r)||dw(r,!1,e),dw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_y]||(t[_y]=!0,dw("selectionchange",!1,t))}}function iA(e,t,r,n){switch(z3(t)){case 1:var s=jB;break;case 4:s=CB;break;default:s=CS}r=s.bind(null,t,r,e),s=void 0,!Z2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function hw(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;o!==null;){if(i=Yc(o),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}o=o.parentNode}}n=n.return}P3(function(){var u=a,d=SS(r),h=[];e:{var f=sA.get(e);if(f!==void 0){var p=ES,g=e;switch(e){case"keypress":if(sv(r)===0)break e;case"keydown":case"keyup":p=UB;break;case"focusin":g="focus",p=aw;break;case"focusout":g="blur",p=aw;break;case"beforeblur":case"afterblur":p=aw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=lC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qB;break;case eA:case tA:case rA:p=LB;break;case nA:p=HB;break;case"scroll":p=kB;break;case"wheel":p=YB;break;case"copy":case"cut":case"paste":p=RB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uC}var y=(t&4)!==0,S=!y&&e==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var x=u,N;x!==null;){N=x;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,b!==null&&(C=Mp(x,b),C!=null&&y.push(qp(x,C,N)))),S)break;x=x.return}0<y.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==X2&&(g=r.relatedTarget||r.fromElement)&&(Yc(g)||g[Bo]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Yc(g):null,g!==null&&(S=Su(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=lC,C="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=uC,C="onPointerLeave",b="onPointerEnter",x="pointer"),S=p==null?f:Cd(p),N=g==null?f:Cd(g),f=new y(C,x+"leave",p,r,d),f.target=S,f.relatedTarget=N,C=null,Yc(d)===u&&(y=new y(b,x+"enter",g,r,d),y.target=N,y.relatedTarget=S,C=y),S=C,p&&g)t:{for(y=p,b=g,x=0,N=y;N;N=id(N))x++;for(N=0,C=b;C;C=id(C))N++;for(;0<x-N;)y=id(y),x--;for(;0<N-x;)b=id(b),N--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=id(y),b=id(b)}y=null}else y=null;p!==null&&bC(h,f,p,y,!1),g!==null&&S!==null&&bC(h,S,g,y,!0)}}e:{if(f=u?Cd(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=t$;else if(fC(f))if(K3)E=a$;else{E=n$;var F=r$}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=s$);if(E&&(E=E(e,u))){Y3(h,E,r,d);break e}F&&F(e,f,u),e==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&W2(f,"number",f.value)}switch(F=u?Cd(u):window,e){case"focusin":(fC(F)||F.contentEditable==="true")&&(Nd=F,nb=u,mp=null);break;case"focusout":mp=nb=Nd=null;break;case"mousedown":sb=!0;break;case"contextmenu":case"mouseup":case"dragend":sb=!1,vC(h,r,d);break;case"selectionchange":if(l$)break;case"keydown":case"keyup":vC(h,r,d)}var P;if(AS)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _d?H3(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(W3&&r.locale!=="ko"&&(_d||A!=="onCompositionStart"?A==="onCompositionEnd"&&_d&&(P=q3()):(Ml=d,kS="value"in Ml?Ml.value:Ml.textContent,_d=!0)),F=Ov(u,A),0<F.length&&(A=new cC(A,e,null,r,d),h.push({event:A,listeners:F}),P?A.data=P:(P=G3(r),P!==null&&(A.data=P)))),(P=XB?JB(e,r):ZB(e,r))&&(u=Ov(u,"onBeforeInput"),0<u.length&&(d=new cC("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=P))}aA(h,t)})}function qp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ov(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Mp(e,r),a!=null&&n.unshift(qp(e,a,s)),a=Mp(e,t),a!=null&&n.push(qp(e,a,s))),e=e.return}return n}function id(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bC(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Mp(r,a),c!=null&&i.unshift(qp(r,c,o))):s||(c=Mp(r,a),c!=null&&i.push(qp(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var h$=/\r\n?/g,f$=/\u0000|\uFFFD/g;function SC(e){return(typeof e=="string"?e:""+e).replace(h$,`
`).replace(f$,"")}function Ny(e,t,r){if(t=SC(t),SC(e)!==t&&r)throw Error(qe(425))}function Iv(){}var ab=null,ib=null;function ob(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lb=typeof setTimeout=="function"?setTimeout:void 0,p$=typeof clearTimeout=="function"?clearTimeout:void 0,_C=typeof Promise=="function"?Promise:void 0,m$=typeof queueMicrotask=="function"?queueMicrotask:typeof _C<"u"?function(e){return _C.resolve(null).then(e).catch(g$)}:lb;function g$(e){setTimeout(function(){throw e})}function fw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),$p(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);$p(t)}function ql(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),Wi="__reactFiber$"+Uh,Wp="__reactProps$"+Uh,Bo="__reactContainer$"+Uh,cb="__reactEvents$"+Uh,y$="__reactListeners$"+Uh,v$="__reactHandles$"+Uh;function Yc(e){var t=e[Wi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bo]||r[Wi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NC(e);e!==null;){if(r=e[Wi])return r;e=NC(e)}return t}e=r,r=e.parentNode}return null}function Xm(e){return e=e[Wi]||e[Bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(qe(33))}function K0(e){return e[Wp]||null}var ub=[],kd=-1;function hc(e){return{current:e}}function Or(e){0>kd||(e.current=ub[kd],ub[kd]=null,kd--)}function kr(e,t){kd++,ub[kd]=e.current,e.current=t}var Zl={},ss=hc(Zl),Fs=hc(!1),uu=Zl;function wh(e,t){var r=e.type.contextTypes;if(!r)return Zl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bs(e){return e=e.childContextTypes,e!=null}function Mv(){Or(Fs),Or(ss)}function jC(e,t,r){if(ss.current!==Zl)throw Error(qe(168));kr(ss,t),kr(Fs,r)}function oA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(qe(108,rB(e)||"Unknown",s));return zr({},r,n)}function Fv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zl,uu=ss.current,kr(ss,e),kr(Fs,Fs.current),!0}function CC(e,t,r){var n=e.stateNode;if(!n)throw Error(qe(169));r?(e=oA(e,t,uu),n.__reactInternalMemoizedMergedChildContext=e,Or(Fs),Or(ss),kr(ss,e)):Or(Fs),kr(Fs,r)}var Eo=null,X0=!1,pw=!1;function lA(e){Eo===null?Eo=[e]:Eo.push(e)}function x$(e){X0=!0,lA(e)}function fc(){if(!pw&&Eo!==null){pw=!0;var e=0,t=yr;try{var r=Eo;for(yr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Eo=null,X0=!1}catch(s){throw Eo!==null&&(Eo=Eo.slice(e+1)),D3(_S,fc),s}finally{yr=t,pw=!1}}return null}var Ed=[],Pd=0,Bv=null,$v=0,Pa=[],Aa=0,du=null,Po=1,Ao="";function Mc(e,t){Ed[Pd++]=$v,Ed[Pd++]=Bv,Bv=e,$v=t}function cA(e,t,r){Pa[Aa++]=Po,Pa[Aa++]=Ao,Pa[Aa++]=du,du=e;var n=Po;e=Ao;var s=32-fi(n)-1;n&=~(1<<s),r+=1;var a=32-fi(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Po=1<<32-fi(t)+s|r<<s|n,Ao=a+e}else Po=1<<a|r<<s|n,Ao=e}function LS(e){e.return!==null&&(Mc(e,1),cA(e,1,0))}function DS(e){for(;e===Bv;)Bv=Ed[--Pd],Ed[Pd]=null,$v=Ed[--Pd],Ed[Pd]=null;for(;e===du;)du=Pa[--Aa],Pa[Aa]=null,Ao=Pa[--Aa],Pa[Aa]=null,Po=Pa[--Aa],Pa[Aa]=null}var ia=null,na=null,Mr=!1,li=null;function uA(e,t){var r=Ta(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ia=e,na=ql(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ia=e,na=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=du!==null?{id:Po,overflow:Ao}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ta(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ia=e,na=null,!0):!1;default:return!1}}function db(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hb(e){if(Mr){var t=na;if(t){var r=t;if(!kC(e,t)){if(db(e))throw Error(qe(418));t=ql(r.nextSibling);var n=ia;t&&kC(e,t)?uA(n,r):(e.flags=e.flags&-4097|2,Mr=!1,ia=e)}}else{if(db(e))throw Error(qe(418));e.flags=e.flags&-4097|2,Mr=!1,ia=e}}}function EC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ia=e}function jy(e){if(e!==ia)return!1;if(!Mr)return EC(e),Mr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ob(e.type,e.memoizedProps)),t&&(t=na)){if(db(e))throw dA(),Error(qe(418));for(;t;)uA(e,t),t=ql(t.nextSibling)}if(EC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){na=ql(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}na=null}}else na=ia?ql(e.stateNode.nextSibling):null;return!0}function dA(){for(var e=na;e;)e=ql(e.nextSibling)}function bh(){na=ia=null,Mr=!1}function RS(e){li===null?li=[e]:li.push(e)}var w$=Yo.ReactCurrentBatchConfig;function Ff(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qe(309));var n=r.stateNode}if(!n)throw Error(qe(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(qe(284));if(!r._owner)throw Error(qe(290,e))}return e}function Cy(e,t){throw e=Object.prototype.toString.call(t),Error(qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function PC(e){var t=e._init;return t(e._payload)}function hA(e){function t(b,x){if(e){var N=b.deletions;N===null?(b.deletions=[x],b.flags|=16):N.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function s(b,x){return b=Yl(b,x),b.index=0,b.sibling=null,b}function a(b,x,N){return b.index=N,e?(N=b.alternate,N!==null?(N=N.index,N<x?(b.flags|=2,x):N):(b.flags|=2,x)):(b.flags|=1048576,x)}function i(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,x,N,C){return x===null||x.tag!==6?(x=bw(N,b.mode,C),x.return=b,x):(x=s(x,N),x.return=b,x)}function c(b,x,N,C){var E=N.type;return E===Sd?d(b,x,N.props.children,C,N.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_l&&PC(E)===x.type)?(C=s(x,N.props),C.ref=Ff(b,x,N),C.return=b,C):(C=dv(N.type,N.key,N.props,null,b.mode,C),C.ref=Ff(b,x,N),C.return=b,C)}function u(b,x,N,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Sw(N,b.mode,C),x.return=b,x):(x=s(x,N.children||[]),x.return=b,x)}function d(b,x,N,C,E){return x===null||x.tag!==7?(x=au(N,b.mode,C,E),x.return=b,x):(x=s(x,N),x.return=b,x)}function h(b,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return x=bw(""+x,b.mode,N),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case my:return N=dv(x.type,x.key,x.props,null,b.mode,N),N.ref=Ff(b,null,x),N.return=b,N;case bd:return x=Sw(x,b.mode,N),x.return=b,x;case _l:var C=x._init;return h(b,C(x._payload),N)}if(ep(x)||Df(x))return x=au(x,b.mode,N,null),x.return=b,x;Cy(b,x)}return null}function f(b,x,N,C){var E=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return E!==null?null:o(b,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case my:return N.key===E?c(b,x,N,C):null;case bd:return N.key===E?u(b,x,N,C):null;case _l:return E=N._init,f(b,x,E(N._payload),C)}if(ep(N)||Df(N))return E!==null?null:d(b,x,N,C,null);Cy(b,N)}return null}function p(b,x,N,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(N)||null,o(x,b,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case my:return b=b.get(C.key===null?N:C.key)||null,c(x,b,C,E);case bd:return b=b.get(C.key===null?N:C.key)||null,u(x,b,C,E);case _l:var F=C._init;return p(b,x,N,F(C._payload),E)}if(ep(C)||Df(C))return b=b.get(N)||null,d(x,b,C,E,null);Cy(x,C)}return null}function g(b,x,N,C){for(var E=null,F=null,P=x,A=x=0,K=null;P!==null&&A<N.length;A++){P.index>A?(K=P,P=null):K=P.sibling;var Q=f(b,P,N[A],C);if(Q===null){P===null&&(P=K);break}e&&P&&Q.alternate===null&&t(b,P),x=a(Q,x,A),F===null?E=Q:F.sibling=Q,F=Q,P=K}if(A===N.length)return r(b,P),Mr&&Mc(b,A),E;if(P===null){for(;A<N.length;A++)P=h(b,N[A],C),P!==null&&(x=a(P,x,A),F===null?E=P:F.sibling=P,F=P);return Mr&&Mc(b,A),E}for(P=n(b,P);A<N.length;A++)K=p(P,b,A,N[A],C),K!==null&&(e&&K.alternate!==null&&P.delete(K.key===null?A:K.key),x=a(K,x,A),F===null?E=K:F.sibling=K,F=K);return e&&P.forEach(function(I){return t(b,I)}),Mr&&Mc(b,A),E}function y(b,x,N,C){var E=Df(N);if(typeof E!="function")throw Error(qe(150));if(N=E.call(N),N==null)throw Error(qe(151));for(var F=E=null,P=x,A=x=0,K=null,Q=N.next();P!==null&&!Q.done;A++,Q=N.next()){P.index>A?(K=P,P=null):K=P.sibling;var I=f(b,P,Q.value,C);if(I===null){P===null&&(P=K);break}e&&P&&I.alternate===null&&t(b,P),x=a(I,x,A),F===null?E=I:F.sibling=I,F=I,P=K}if(Q.done)return r(b,P),Mr&&Mc(b,A),E;if(P===null){for(;!Q.done;A++,Q=N.next())Q=h(b,Q.value,C),Q!==null&&(x=a(Q,x,A),F===null?E=Q:F.sibling=Q,F=Q);return Mr&&Mc(b,A),E}for(P=n(b,P);!Q.done;A++,Q=N.next())Q=p(P,b,A,Q.value,C),Q!==null&&(e&&Q.alternate!==null&&P.delete(Q.key===null?A:Q.key),x=a(Q,x,A),F===null?E=Q:F.sibling=Q,F=Q);return e&&P.forEach(function(D){return t(b,D)}),Mr&&Mc(b,A),E}function S(b,x,N,C){if(typeof N=="object"&&N!==null&&N.type===Sd&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case my:e:{for(var E=N.key,F=x;F!==null;){if(F.key===E){if(E=N.type,E===Sd){if(F.tag===7){r(b,F.sibling),x=s(F,N.props.children),x.return=b,b=x;break e}}else if(F.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===_l&&PC(E)===F.type){r(b,F.sibling),x=s(F,N.props),x.ref=Ff(b,F,N),x.return=b,b=x;break e}r(b,F);break}else t(b,F);F=F.sibling}N.type===Sd?(x=au(N.props.children,b.mode,C,N.key),x.return=b,b=x):(C=dv(N.type,N.key,N.props,null,b.mode,C),C.ref=Ff(b,x,N),C.return=b,b=C)}return i(b);case bd:e:{for(F=N.key;x!==null;){if(x.key===F)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){r(b,x.sibling),x=s(x,N.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=Sw(N,b.mode,C),x.return=b,b=x}return i(b);case _l:return F=N._init,S(b,x,F(N._payload),C)}if(ep(N))return g(b,x,N,C);if(Df(N))return y(b,x,N,C);Cy(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,x!==null&&x.tag===6?(r(b,x.sibling),x=s(x,N),x.return=b,b=x):(r(b,x),x=bw(N,b.mode,C),x.return=b,b=x),i(b)):r(b,x)}return S}var Sh=hA(!0),fA=hA(!1),Uv=hc(null),Vv=null,Ad=null,OS=null;function IS(){OS=Ad=Vv=null}function MS(e){var t=Uv.current;Or(Uv),e._currentValue=t}function fb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wd(e,t){Vv=e,OS=Ad=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ms=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(OS!==e)if(e={context:e,memoizedValue:t,next:null},Ad===null){if(Vv===null)throw Error(qe(308));Ad=e,Vv.dependencies={lanes:0,firstContext:e}}else Ad=Ad.next=e;return t}var Kc=null;function FS(e){Kc===null?Kc=[e]:Kc.push(e)}function pA(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,FS(t)):(r.next=s.next,s.next=r),t.interleaved=r,$o(e,n)}function $o(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nl=!1;function BS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,tr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,$o(e,r)}return s=n.interleaved,s===null?(t.next=t,FS(n)):(t.next=s.next,s.next=t),n.interleaved=t,$o(e,r)}function av(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NS(e,r)}}function AC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zv(e,t,r,n){var s=e.updateQueue;Nl=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,d=u=c=null,o=a;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(f=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=zr({},h,f);break e;case 2:Nl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,i|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);fu|=i,e.lanes=i,e.memoizedState=h}}function TC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(qe(191,s));s.call(n)}}}var Jm={},Zi=hc(Jm),Hp=hc(Jm),Gp=hc(Jm);function Xc(e){if(e===Jm)throw Error(qe(174));return e}function $S(e,t){switch(kr(Gp,t),kr(Hp,e),kr(Zi,Jm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:G2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=G2(t,e)}Or(Zi),kr(Zi,t)}function _h(){Or(Zi),Or(Hp),Or(Gp)}function gA(e){Xc(Gp.current);var t=Xc(Zi.current),r=G2(t,e.type);t!==r&&(kr(Hp,e),kr(Zi,r))}function US(e){Hp.current===e&&(Or(Zi),Or(Hp))}var $r=hc(0);function qv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mw=[];function VS(){for(var e=0;e<mw.length;e++)mw[e]._workInProgressVersionPrimary=null;mw.length=0}var iv=Yo.ReactCurrentDispatcher,gw=Yo.ReactCurrentBatchConfig,hu=0,Vr=null,wn=null,En=null,Wv=!1,gp=!1,Yp=0,b$=0;function Hn(){throw Error(qe(321))}function zS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yi(e[r],t[r]))return!1;return!0}function qS(e,t,r,n,s,a){if(hu=a,Vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,iv.current=e===null||e.memoizedState===null?j$:C$,e=r(n,s),gp){a=0;do{if(gp=!1,Yp=0,25<=a)throw Error(qe(301));a+=1,En=wn=null,t.updateQueue=null,iv.current=k$,e=r(n,s)}while(gp)}if(iv.current=Hv,t=wn!==null&&wn.next!==null,hu=0,En=wn=Vr=null,Wv=!1,t)throw Error(qe(300));return e}function WS(){var e=Yp!==0;return Yp=0,e}function $i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Vr.memoizedState=En=e:En=En.next=e,En}function Fa(){if(wn===null){var e=Vr.alternate;e=e!==null?e.memoizedState:null}else e=wn.next;var t=En===null?Vr.memoizedState:En.next;if(t!==null)En=t,wn=e;else{if(e===null)throw Error(qe(310));wn=e,e={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},En===null?Vr.memoizedState=En=e:En=En.next=e}return En}function Kp(e,t){return typeof t=="function"?t(e):t}function yw(e){var t=Fa(),r=t.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=e;var n=wn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var o=i=null,c=null,u=a;do{var d=u.lane;if((hu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,i=n):c=c.next=h,Vr.lanes|=d,fu|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=o,yi(n,t.memoizedState)||(Ms=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Vr.lanes|=a,fu|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vw(e){var t=Fa(),r=t.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);yi(a,t.memoizedState)||(Ms=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function yA(){}function vA(e,t){var r=Vr,n=Fa(),s=t(),a=!yi(n.memoizedState,s);if(a&&(n.memoizedState=s,Ms=!0),n=n.queue,HS(bA.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||En!==null&&En.memoizedState.tag&1){if(r.flags|=2048,Xp(9,wA.bind(null,r,n,s,t),void 0,null),Ln===null)throw Error(qe(349));hu&30||xA(r,t,s)}return s}function xA(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wA(e,t,r,n){t.value=r,t.getSnapshot=n,SA(t)&&_A(e)}function bA(e,t,r){return r(function(){SA(t)&&_A(e)})}function SA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yi(e,r)}catch{return!0}}function _A(e){var t=$o(e,1);t!==null&&pi(t,e,1,-1)}function LC(e){var t=$i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kp,lastRenderedState:e},t.queue=e,e=e.dispatch=N$.bind(null,Vr,e),[t.memoizedState,e]}function Xp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Vr.updateQueue,t===null?(t={lastEffect:null,stores:null},Vr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function NA(){return Fa().memoizedState}function ov(e,t,r,n){var s=$i();Vr.flags|=e,s.memoizedState=Xp(1|t,r,void 0,n===void 0?null:n)}function J0(e,t,r,n){var s=Fa();n=n===void 0?null:n;var a=void 0;if(wn!==null){var i=wn.memoizedState;if(a=i.destroy,n!==null&&zS(n,i.deps)){s.memoizedState=Xp(t,r,a,n);return}}Vr.flags|=e,s.memoizedState=Xp(1|t,r,a,n)}function DC(e,t){return ov(8390656,8,e,t)}function HS(e,t){return J0(2048,8,e,t)}function jA(e,t){return J0(4,2,e,t)}function CA(e,t){return J0(4,4,e,t)}function kA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function EA(e,t,r){return r=r!=null?r.concat([e]):null,J0(4,4,kA.bind(null,t,e),r)}function GS(){}function PA(e,t){var r=Fa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function AA(e,t){var r=Fa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function TA(e,t,r){return hu&21?(yi(r,t)||(r=I3(),Vr.lanes|=r,fu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ms=!0),e.memoizedState=r)}function S$(e,t){var r=yr;yr=r!==0&&4>r?r:4,e(!0);var n=gw.transition;gw.transition={};try{e(!1),t()}finally{yr=r,gw.transition=n}}function LA(){return Fa().memoizedState}function _$(e,t,r){var n=Gl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DA(e))RA(t,r);else if(r=pA(e,t,r,n),r!==null){var s=ys();pi(r,e,n,s),OA(r,t,n)}}function N$(e,t,r){var n=Gl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DA(e))RA(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,yi(o,i)){var c=t.interleaved;c===null?(s.next=s,FS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=pA(e,t,s,n),r!==null&&(s=ys(),pi(r,e,n,s),OA(r,t,n))}}function DA(e){var t=e.alternate;return e===Vr||t!==null&&t===Vr}function RA(e,t){gp=Wv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function OA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NS(e,r)}}var Hv={readContext:Ma,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},j$={readContext:Ma,useCallback:function(e,t){return $i().memoizedState=[e,t===void 0?null:t],e},useContext:Ma,useEffect:DC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ov(4194308,4,kA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ov(4194308,4,e,t)},useInsertionEffect:function(e,t){return ov(4,2,e,t)},useMemo:function(e,t){var r=$i();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$i();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_$.bind(null,Vr,e),[n.memoizedState,e]},useRef:function(e){var t=$i();return e={current:e},t.memoizedState=e},useState:LC,useDebugValue:GS,useDeferredValue:function(e){return $i().memoizedState=e},useTransition:function(){var e=LC(!1),t=e[0];return e=S$.bind(null,e[1]),$i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Vr,s=$i();if(Mr){if(r===void 0)throw Error(qe(407));r=r()}else{if(r=t(),Ln===null)throw Error(qe(349));hu&30||xA(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,DC(bA.bind(null,n,a,e),[e]),n.flags|=2048,Xp(9,wA.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=$i(),t=Ln.identifierPrefix;if(Mr){var r=Ao,n=Po;r=(n&~(1<<32-fi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=b$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},C$={readContext:Ma,useCallback:PA,useContext:Ma,useEffect:HS,useImperativeHandle:EA,useInsertionEffect:jA,useLayoutEffect:CA,useMemo:AA,useReducer:yw,useRef:NA,useState:function(){return yw(Kp)},useDebugValue:GS,useDeferredValue:function(e){var t=Fa();return TA(t,wn.memoizedState,e)},useTransition:function(){var e=yw(Kp)[0],t=Fa().memoizedState;return[e,t]},useMutableSource:yA,useSyncExternalStore:vA,useId:LA,unstable_isNewReconciler:!1},k$={readContext:Ma,useCallback:PA,useContext:Ma,useEffect:HS,useImperativeHandle:EA,useInsertionEffect:jA,useLayoutEffect:CA,useMemo:AA,useReducer:vw,useRef:NA,useState:function(){return vw(Kp)},useDebugValue:GS,useDeferredValue:function(e){var t=Fa();return wn===null?t.memoizedState=e:TA(t,wn.memoizedState,e)},useTransition:function(){var e=vw(Kp)[0],t=Fa().memoizedState;return[e,t]},useMutableSource:yA,useSyncExternalStore:vA,useId:LA,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:zr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Z0={isMounted:function(e){return(e=e._reactInternals)?Su(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ys(),s=Gl(e),a=Ro(n,s);a.payload=t,r!=null&&(a.callback=r),t=Wl(e,a,s),t!==null&&(pi(t,e,s,n),av(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ys(),s=Gl(e),a=Ro(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Wl(e,a,s),t!==null&&(pi(t,e,s,n),av(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ys(),n=Gl(e),s=Ro(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wl(e,s,n),t!==null&&(pi(t,e,n,r),av(t,e,n))}};function RC(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Vp(r,n)||!Vp(s,a):!0}function IA(e,t,r){var n=!1,s=Zl,a=t.contextType;return typeof a=="object"&&a!==null?a=Ma(a):(s=Bs(t)?uu:ss.current,n=t.contextTypes,a=(n=n!=null)?wh(e,s):Zl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Z0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function OC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Z0.enqueueReplaceState(t,t.state,null)}function mb(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},BS(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ma(a):(a=Bs(t)?uu:ss.current,s.context=wh(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(pb(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Z0.enqueueReplaceState(s,s.state,null),zv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Nh(e,t){try{var r="",n=t;do r+=tB(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function xw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var E$=typeof WeakMap=="function"?WeakMap:Map;function MA(e,t,r){r=Ro(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yv||(Yv=!0,Cb=n),gb(e,t)},r}function FA(e,t,r){r=Ro(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){gb(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){gb(e,t),typeof n!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function IC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new E$;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=V$.bind(null,e,t,r),t.then(e,e))}function MC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function FC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ro(-1,1),t.tag=2,Wl(r,t,1))),r.lanes|=1),e)}var P$=Yo.ReactCurrentOwner,Ms=!1;function hs(e,t,r,n){t.child=e===null?fA(t,null,r,n):Sh(t,e.child,r,n)}function BC(e,t,r,n,s){r=r.render;var a=t.ref;return Wd(t,s),n=qS(e,t,r,n,a,s),r=WS(),e!==null&&!Ms?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Uo(e,t,s)):(Mr&&r&&LS(t),t.flags|=1,hs(e,t,n,s),t.child)}function $C(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!t_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,BA(e,t,a,n,s)):(e=dv(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Vp,r(i,n)&&e.ref===t.ref)return Uo(e,t,s)}return t.flags|=1,e=Yl(a,n),e.ref=t.ref,e.return=t,t.child=e}function BA(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Vp(a,n)&&e.ref===t.ref)if(Ms=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ms=!0);else return t.lanes=e.lanes,Uo(e,t,s)}return yb(e,t,r,n,s)}function $A(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Ld,ta),ta|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Ld,ta),ta|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,kr(Ld,ta),ta|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,kr(Ld,ta),ta|=n;return hs(e,t,s,r),t.child}function UA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yb(e,t,r,n,s){var a=Bs(r)?uu:ss.current;return a=wh(t,a),Wd(t,s),r=qS(e,t,r,n,a,s),n=WS(),e!==null&&!Ms?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Uo(e,t,s)):(Mr&&n&&LS(t),t.flags|=1,hs(e,t,r,s),t.child)}function UC(e,t,r,n,s){if(Bs(r)){var a=!0;Fv(t)}else a=!1;if(Wd(t,s),t.stateNode===null)lv(e,t),IA(t,r,n),mb(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ma(u):(u=Bs(r)?uu:ss.current,u=wh(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&OC(t,i,n,u),Nl=!1;var f=t.memoizedState;i.state=f,zv(t,n,i,s),c=t.memoizedState,o!==n||f!==c||Fs.current||Nl?(typeof d=="function"&&(pb(t,r,d,n),c=t.memoizedState),(o=Nl||RC(t,r,o,n,f,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,mA(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ri(t.type,o),i.props=u,h=t.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ma(c):(c=Bs(r)?uu:ss.current,c=wh(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==c)&&OC(t,i,n,c),Nl=!1,f=t.memoizedState,i.state=f,zv(t,n,i,s);var g=t.memoizedState;o!==h||f!==g||Fs.current||Nl?(typeof p=="function"&&(pb(t,r,p,n),g=t.memoizedState),(u=Nl||RC(t,r,u,n,f,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return vb(e,t,r,n,a,s)}function vb(e,t,r,n,s,a){UA(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&CC(t,r,!1),Uo(e,t,a);n=t.stateNode,P$.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Sh(t,e.child,null,a),t.child=Sh(t,null,o,a)):hs(e,t,o,a),t.memoizedState=n.state,s&&CC(t,r,!0),t.child}function VA(e){var t=e.stateNode;t.pendingContext?jC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jC(e,t.context,!1),$S(e,t.containerInfo)}function VC(e,t,r,n,s){return bh(),RS(s),t.flags|=256,hs(e,t,r,n),t.child}var xb={dehydrated:null,treeContext:null,retryLane:0};function wb(e){return{baseLanes:e,cachePool:null,transitions:null}}function zA(e,t,r){var n=t.pendingProps,s=$r.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),kr($r,s&1),e===null)return hb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=t1(i,n,0,null),e=au(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=wb(r),t.memoizedState=xb,e):YS(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return A$(e,t,i,n,o,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=Yl(o,a):(a=au(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?wb(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=xb,n}return a=e.child,e=a.sibling,n=Yl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function YS(e,t){return t=t1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ky(e,t,r,n){return n!==null&&RS(n),Sh(t,e.child,null,r),e=YS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function A$(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=xw(Error(qe(422))),ky(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=t1({mode:"visible",children:n.children},s,0,null),a=au(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Sh(t,e.child,null,i),t.child.memoizedState=wb(i),t.memoizedState=xb,a);if(!(t.mode&1))return ky(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(qe(419)),n=xw(a,n,void 0),ky(e,t,i,n)}if(o=(i&e.childLanes)!==0,Ms||o){if(n=Ln,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,$o(e,s),pi(n,e,s,-1))}return e_(),n=xw(Error(qe(421))),ky(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=z$.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,na=ql(s.nextSibling),ia=t,Mr=!0,li=null,e!==null&&(Pa[Aa++]=Po,Pa[Aa++]=Ao,Pa[Aa++]=du,Po=e.id,Ao=e.overflow,du=t),t=YS(t,n.children),t.flags|=4096,t)}function zC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fb(e.return,t,r)}function ww(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function qA(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(hs(e,t,n.children,r),n=$r.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zC(e,r,t);else if(e.tag===19)zC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kr($r,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&qv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ww(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ww(t,!0,r,null,a);break;case"together":ww(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Uo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(qe(153));if(t.child!==null){for(e=t.child,r=Yl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function T$(e,t,r){switch(t.tag){case 3:VA(t),bh();break;case 5:gA(t);break;case 1:Bs(t.type)&&Fv(t);break;case 4:$S(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;kr(Uv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kr($r,$r.current&1),t.flags|=128,null):r&t.child.childLanes?zA(e,t,r):(kr($r,$r.current&1),e=Uo(e,t,r),e!==null?e.sibling:null);kr($r,$r.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qA(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),kr($r,$r.current),n)break;return null;case 22:case 23:return t.lanes=0,$A(e,t,r)}return Uo(e,t,r)}var WA,bb,HA,GA;WA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bb=function(){};HA=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Xc(Zi.current);var a=null;switch(r){case"input":s=z2(e,s),n=z2(e,n),a=[];break;case"select":s=zr({},s,{value:void 0}),n=zr({},n,{value:void 0}),a=[];break;case"textarea":s=H2(e,s),n=H2(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Iv)}Y2(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Op.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Op.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Dr("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};GA=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bf(e,t){if(!Mr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function L$(e,t,r){var n=t.pendingProps;switch(DS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(t),null;case 1:return Bs(t.type)&&Mv(),Gn(t),null;case 3:return n=t.stateNode,_h(),Or(Fs),Or(ss),VS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,li!==null&&(Pb(li),li=null))),bb(e,t),Gn(t),null;case 5:US(t);var s=Xc(Gp.current);if(r=t.type,e!==null&&t.stateNode!=null)HA(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(qe(166));return Gn(t),null}if(e=Xc(Zi.current),jy(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Wi]=t,n[Wp]=a,e=(t.mode&1)!==0,r){case"dialog":Dr("cancel",n),Dr("close",n);break;case"iframe":case"object":case"embed":Dr("load",n);break;case"video":case"audio":for(s=0;s<rp.length;s++)Dr(rp[s],n);break;case"source":Dr("error",n);break;case"img":case"image":case"link":Dr("error",n),Dr("load",n);break;case"details":Dr("toggle",n);break;case"input":Zj(n,a),Dr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Dr("invalid",n);break;case"textarea":eC(n,a),Dr("invalid",n)}Y2(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ny(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ny(n.textContent,o,e),s=["children",""+o]):Op.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Dr("scroll",n)}switch(r){case"input":gy(n),Qj(n,a,!0);break;case"textarea":gy(n),tC(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Iv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Wi]=t,e[Wp]=n,WA(e,t,!1,!1),t.stateNode=e;e:{switch(i=K2(r,n),r){case"dialog":Dr("cancel",e),Dr("close",e),s=n;break;case"iframe":case"object":case"embed":Dr("load",e),s=n;break;case"video":case"audio":for(s=0;s<rp.length;s++)Dr(rp[s],e);s=n;break;case"source":Dr("error",e),s=n;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),s=n;break;case"details":Dr("toggle",e),s=n;break;case"input":Zj(e,n),s=z2(e,n),Dr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=zr({},n,{value:void 0}),Dr("invalid",e);break;case"textarea":eC(e,n),s=H2(e,n),Dr("invalid",e);break;default:s=n}Y2(r,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?N3(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&S3(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ip(e,c):typeof c=="number"&&Ip(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Op.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Dr("scroll",e):c!=null&&vS(e,a,c,i))}switch(r){case"input":gy(e),Qj(e,n,!1);break;case"textarea":gy(e),tC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ud(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ud(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Iv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gn(t),null;case 6:if(e&&t.stateNode!=null)GA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(qe(166));if(r=Xc(Gp.current),Xc(Zi.current),jy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Wi]=t,(a=n.nodeValue!==r)&&(e=ia,e!==null))switch(e.tag){case 3:Ny(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ny(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wi]=t,t.stateNode=n}return Gn(t),null;case 13:if(Or($r),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mr&&na!==null&&t.mode&1&&!(t.flags&128))dA(),bh(),t.flags|=98560,a=!1;else if(a=jy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(qe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(qe(317));a[Wi]=t}else bh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gn(t),a=!1}else li!==null&&(Pb(li),li=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$r.current&1?bn===0&&(bn=3):e_())),t.updateQueue!==null&&(t.flags|=4),Gn(t),null);case 4:return _h(),bb(e,t),e===null&&zp(t.stateNode.containerInfo),Gn(t),null;case 10:return MS(t.type._context),Gn(t),null;case 17:return Bs(t.type)&&Mv(),Gn(t),null;case 19:if(Or($r),a=t.memoizedState,a===null)return Gn(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Bf(a,!1);else{if(bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=qv(e),i!==null){for(t.flags|=128,Bf(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kr($r,$r.current&1|2),t.child}e=e.sibling}a.tail!==null&&nn()>jh&&(t.flags|=128,n=!0,Bf(a,!1),t.lanes=4194304)}else{if(!n)if(e=qv(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Mr)return Gn(t),null}else 2*nn()-a.renderingStartTime>jh&&r!==1073741824&&(t.flags|=128,n=!0,Bf(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nn(),t.sibling=null,r=$r.current,kr($r,n?r&1|2:r&1),t):(Gn(t),null);case 22:case 23:return QS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ta&1073741824&&(Gn(t),t.subtreeFlags&6&&(t.flags|=8192)):Gn(t),null;case 24:return null;case 25:return null}throw Error(qe(156,t.tag))}function D$(e,t){switch(DS(t),t.tag){case 1:return Bs(t.type)&&Mv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _h(),Or(Fs),Or(ss),VS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return US(t),null;case 13:if(Or($r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(qe(340));bh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Or($r),null;case 4:return _h(),null;case 10:return MS(t.type._context),null;case 22:case 23:return QS(),null;case 24:return null;default:return null}}var Ey=!1,es=!1,R$=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Td(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kr(e,t,n)}else r.current=null}function Sb(e,t,r){try{r()}catch(n){Kr(e,t,n)}}var qC=!1;function O$(e,t){if(ab=Dv,e=Z3(),TS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(o=i+s),h!==a||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=i),f===a&&++d===n&&(c=i),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ib={focusedElem:e,selectionRange:r},Dv=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){t=ct;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:ri(t.type,y),S);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(C){Kr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}return g=qC,qC=!1,g}function yp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Sb(t,r,a)}s=s.next}while(s!==n)}}function Q0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _b(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function YA(e){var t=e.alternate;t!==null&&(e.alternate=null,YA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wi],delete t[Wp],delete t[cb],delete t[y$],delete t[v$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KA(e){return e.tag===5||e.tag===3||e.tag===4}function WC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||KA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Iv));else if(n!==4&&(e=e.child,e!==null))for(Nb(e,t,r),e=e.sibling;e!==null;)Nb(e,t,r),e=e.sibling}function jb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jb(e,t,r),e=e.sibling;e!==null;)jb(e,t,r),e=e.sibling}var Fn=null,ii=!1;function hl(e,t,r){for(r=r.child;r!==null;)XA(e,t,r),r=r.sibling}function XA(e,t,r){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(W0,r)}catch{}switch(r.tag){case 5:es||Td(r,t);case 6:var n=Fn,s=ii;Fn=null,hl(e,t,r),Fn=n,ii=s,Fn!==null&&(ii?(e=Fn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fn.removeChild(r.stateNode));break;case 18:Fn!==null&&(ii?(e=Fn,r=r.stateNode,e.nodeType===8?fw(e.parentNode,r):e.nodeType===1&&fw(e,r),$p(e)):fw(Fn,r.stateNode));break;case 4:n=Fn,s=ii,Fn=r.stateNode.containerInfo,ii=!0,hl(e,t,r),Fn=n,ii=s;break;case 0:case 11:case 14:case 15:if(!es&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Sb(r,t,i),s=s.next}while(s!==n)}hl(e,t,r);break;case 1:if(!es&&(Td(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Kr(r,t,o)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:r.mode&1?(es=(n=es)||r.memoizedState!==null,hl(e,t,r),es=n):hl(e,t,r);break;default:hl(e,t,r)}}function HC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new R$),t.forEach(function(n){var s=q$.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ka(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Fn=o.stateNode,ii=!1;break e;case 3:Fn=o.stateNode.containerInfo,ii=!0;break e;case 4:Fn=o.stateNode.containerInfo,ii=!0;break e}o=o.return}if(Fn===null)throw Error(qe(160));XA(a,i,s),Fn=null,ii=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Kr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JA(t,e),t=t.sibling}function JA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ka(t,e),Ii(e),n&4){try{yp(3,e,e.return),Q0(3,e)}catch(y){Kr(e,e.return,y)}try{yp(5,e,e.return)}catch(y){Kr(e,e.return,y)}}break;case 1:Ka(t,e),Ii(e),n&512&&r!==null&&Td(r,r.return);break;case 5:if(Ka(t,e),Ii(e),n&512&&r!==null&&Td(r,r.return),e.flags&32){var s=e.stateNode;try{Ip(s,"")}catch(y){Kr(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&x3(s,a),K2(o,i);var u=K2(o,a);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?N3(s,h):d==="dangerouslySetInnerHTML"?S3(s,h):d==="children"?Ip(s,h):vS(s,d,h,u)}switch(o){case"input":q2(s,a);break;case"textarea":w3(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ud(s,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ud(s,!!a.multiple,a.defaultValue,!0):Ud(s,!!a.multiple,a.multiple?[]:"",!1))}s[Wp]=a}catch(y){Kr(e,e.return,y)}}break;case 6:if(Ka(t,e),Ii(e),n&4){if(e.stateNode===null)throw Error(qe(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){Kr(e,e.return,y)}}break;case 3:if(Ka(t,e),Ii(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$p(t.containerInfo)}catch(y){Kr(e,e.return,y)}break;case 4:Ka(t,e),Ii(e);break;case 13:Ka(t,e),Ii(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(JS=nn())),n&4&&HC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(es=(u=es)||d,Ka(t,e),es=u):Ka(t,e),Ii(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ct=e,d=e.child;d!==null;){for(h=ct=d;ct!==null;){switch(f=ct,p=f.child,f.tag){case 0:case 11:case 14:case 15:yp(4,f,f.return);break;case 1:Td(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Kr(n,r,y)}}break;case 5:Td(f,f.return);break;case 22:if(f.memoizedState!==null){YC(h);continue}}p!==null?(p.return=f,ct=p):YC(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=_3("display",i))}catch(y){Kr(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Kr(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ka(t,e),Ii(e),n&4&&HC(e);break;case 21:break;default:Ka(t,e),Ii(e)}}function Ii(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(KA(r)){var n=r;break e}r=r.return}throw Error(qe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ip(s,""),n.flags&=-33);var a=WC(e);jb(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,o=WC(e);Nb(e,o,i);break;default:throw Error(qe(161))}}catch(c){Kr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function I$(e,t,r){ct=e,ZA(e)}function ZA(e,t,r){for(var n=(e.mode&1)!==0;ct!==null;){var s=ct,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Ey;if(!i){var o=s.alternate,c=o!==null&&o.memoizedState!==null||es;o=Ey;var u=es;if(Ey=i,(es=c)&&!u)for(ct=s;ct!==null;)i=ct,c=i.child,i.tag===22&&i.memoizedState!==null?KC(s):c!==null?(c.return=i,ct=c):KC(s);for(;a!==null;)ct=a,ZA(a),a=a.sibling;ct=s,Ey=o,es=u}GC(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ct=a):GC(e)}}function GC(e){for(;ct!==null;){var t=ct;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:es||Q0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!es)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&TC(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}TC(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$p(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}es||t.flags&512&&_b(t)}catch(f){Kr(t,t.return,f)}}if(t===e){ct=null;break}if(r=t.sibling,r!==null){r.return=t.return,ct=r;break}ct=t.return}}function YC(e){for(;ct!==null;){var t=ct;if(t===e){ct=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ct=r;break}ct=t.return}}function KC(e){for(;ct!==null;){var t=ct;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Q0(4,t)}catch(c){Kr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Kr(t,s,c)}}var a=t.return;try{_b(t)}catch(c){Kr(t,a,c)}break;case 5:var i=t.return;try{_b(t)}catch(c){Kr(t,i,c)}}}catch(c){Kr(t,t.return,c)}if(t===e){ct=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ct=o;break}ct=t.return}}var M$=Math.ceil,Gv=Yo.ReactCurrentDispatcher,KS=Yo.ReactCurrentOwner,Da=Yo.ReactCurrentBatchConfig,tr=0,Ln=null,mn=null,$n=0,ta=0,Ld=hc(0),bn=0,Jp=null,fu=0,e1=0,XS=0,vp=null,Ds=null,JS=0,jh=1/0,Co=null,Yv=!1,Cb=null,Hl=null,Py=!1,Fl=null,Kv=0,xp=0,kb=null,cv=-1,uv=0;function ys(){return tr&6?nn():cv!==-1?cv:cv=nn()}function Gl(e){return e.mode&1?tr&2&&$n!==0?$n&-$n:w$.transition!==null?(uv===0&&(uv=I3()),uv):(e=yr,e!==0||(e=window.event,e=e===void 0?16:z3(e.type)),e):1}function pi(e,t,r,n){if(50<xp)throw xp=0,kb=null,Error(qe(185));Ym(e,r,n),(!(tr&2)||e!==Ln)&&(e===Ln&&(!(tr&2)&&(e1|=r),bn===4&&El(e,$n)),$s(e,n),r===1&&tr===0&&!(t.mode&1)&&(jh=nn()+500,X0&&fc()))}function $s(e,t){var r=e.callbackNode;wB(e,t);var n=Lv(e,e===Ln?$n:0);if(n===0)r!==null&&sC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&sC(r),t===1)e.tag===0?x$(XC.bind(null,e)):lA(XC.bind(null,e)),m$(function(){!(tr&6)&&fc()}),r=null;else{switch(M3(n)){case 1:r=_S;break;case 4:r=R3;break;case 16:r=Tv;break;case 536870912:r=O3;break;default:r=Tv}r=iT(r,QA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function QA(e,t){if(cv=-1,uv=0,tr&6)throw Error(qe(327));var r=e.callbackNode;if(Hd()&&e.callbackNode!==r)return null;var n=Lv(e,e===Ln?$n:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xv(e,n);else{t=n;var s=tr;tr|=2;var a=tT();(Ln!==e||$n!==t)&&(Co=null,jh=nn()+500,su(e,t));do try{$$();break}catch(o){eT(e,o)}while(!0);IS(),Gv.current=a,tr=s,mn!==null?t=0:(Ln=null,$n=0,t=bn)}if(t!==0){if(t===2&&(s=eb(e),s!==0&&(n=s,t=Eb(e,s))),t===1)throw r=Jp,su(e,0),El(e,n),$s(e,nn()),r;if(t===6)El(e,n);else{if(s=e.current.alternate,!(n&30)&&!F$(s)&&(t=Xv(e,n),t===2&&(a=eb(e),a!==0&&(n=a,t=Eb(e,a))),t===1))throw r=Jp,su(e,0),El(e,n),$s(e,nn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(qe(345));case 2:Fc(e,Ds,Co);break;case 3:if(El(e,n),(n&130023424)===n&&(t=JS+500-nn(),10<t)){if(Lv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ys(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lb(Fc.bind(null,e,Ds,Co),t);break}Fc(e,Ds,Co);break;case 4:if(El(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-fi(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*M$(n/1960))-n,10<n){e.timeoutHandle=lb(Fc.bind(null,e,Ds,Co),n);break}Fc(e,Ds,Co);break;case 5:Fc(e,Ds,Co);break;default:throw Error(qe(329))}}}return $s(e,nn()),e.callbackNode===r?QA.bind(null,e):null}function Eb(e,t){var r=vp;return e.current.memoizedState.isDehydrated&&(su(e,t).flags|=256),e=Xv(e,t),e!==2&&(t=Ds,Ds=r,t!==null&&Pb(t)),e}function Pb(e){Ds===null?Ds=e:Ds.push.apply(Ds,e)}function F$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!yi(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function El(e,t){for(t&=~XS,t&=~e1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fi(t),n=1<<r;e[r]=-1,t&=~n}}function XC(e){if(tr&6)throw Error(qe(327));Hd();var t=Lv(e,0);if(!(t&1))return $s(e,nn()),null;var r=Xv(e,t);if(e.tag!==0&&r===2){var n=eb(e);n!==0&&(t=n,r=Eb(e,n))}if(r===1)throw r=Jp,su(e,0),El(e,t),$s(e,nn()),r;if(r===6)throw Error(qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fc(e,Ds,Co),$s(e,nn()),null}function ZS(e,t){var r=tr;tr|=1;try{return e(t)}finally{tr=r,tr===0&&(jh=nn()+500,X0&&fc())}}function pu(e){Fl!==null&&Fl.tag===0&&!(tr&6)&&Hd();var t=tr;tr|=1;var r=Da.transition,n=yr;try{if(Da.transition=null,yr=1,e)return e()}finally{yr=n,Da.transition=r,tr=t,!(tr&6)&&fc()}}function QS(){ta=Ld.current,Or(Ld)}function su(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,p$(r)),mn!==null)for(r=mn.return;r!==null;){var n=r;switch(DS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mv();break;case 3:_h(),Or(Fs),Or(ss),VS();break;case 5:US(n);break;case 4:_h();break;case 13:Or($r);break;case 19:Or($r);break;case 10:MS(n.type._context);break;case 22:case 23:QS()}r=r.return}if(Ln=e,mn=e=Yl(e.current,null),$n=ta=t,bn=0,Jp=null,XS=e1=fu=0,Ds=vp=null,Kc!==null){for(t=0;t<Kc.length;t++)if(r=Kc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}Kc=null}return e}function eT(e,t){do{var r=mn;try{if(IS(),iv.current=Hv,Wv){for(var n=Vr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wv=!1}if(hu=0,En=wn=Vr=null,gp=!1,Yp=0,KS.current=null,r===null||r.return===null){bn=1,Jp=t,mn=null;break}e:{var a=e,i=r.return,o=r,c=t;if(t=$n,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=MC(i);if(p!==null){p.flags&=-257,FC(p,i,o,a,t),p.mode&1&&IC(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){IC(a,u,t),e_();break e}c=Error(qe(426))}}else if(Mr&&o.mode&1){var S=MC(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),FC(S,i,o,a,t),RS(Nh(c,o));break e}}a=c=Nh(c,o),bn!==4&&(bn=2),vp===null?vp=[a]:vp.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=MA(a,c,t);AC(a,b);break e;case 1:o=c;var x=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Hl===null||!Hl.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=FA(a,o,t);AC(a,C);break e}}a=a.return}while(a!==null)}nT(r)}catch(E){t=E,mn===r&&r!==null&&(mn=r=r.return);continue}break}while(!0)}function tT(){var e=Gv.current;return Gv.current=Hv,e===null?Hv:e}function e_(){(bn===0||bn===3||bn===2)&&(bn=4),Ln===null||!(fu&268435455)&&!(e1&268435455)||El(Ln,$n)}function Xv(e,t){var r=tr;tr|=2;var n=tT();(Ln!==e||$n!==t)&&(Co=null,su(e,t));do try{B$();break}catch(s){eT(e,s)}while(!0);if(IS(),tr=r,Gv.current=n,mn!==null)throw Error(qe(261));return Ln=null,$n=0,bn}function B$(){for(;mn!==null;)rT(mn)}function $$(){for(;mn!==null&&!dB();)rT(mn)}function rT(e){var t=aT(e.alternate,e,ta);e.memoizedProps=e.pendingProps,t===null?nT(e):mn=t,KS.current=null}function nT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=D$(r,t),r!==null){r.flags&=32767,mn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bn=6,mn=null;return}}else if(r=L$(r,t,ta),r!==null){mn=r;return}if(t=t.sibling,t!==null){mn=t;return}mn=t=e}while(t!==null);bn===0&&(bn=5)}function Fc(e,t,r){var n=yr,s=Da.transition;try{Da.transition=null,yr=1,U$(e,t,r,n)}finally{Da.transition=s,yr=n}return null}function U$(e,t,r,n){do Hd();while(Fl!==null);if(tr&6)throw Error(qe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(qe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(bB(e,a),e===Ln&&(mn=Ln=null,$n=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Py||(Py=!0,iT(Tv,function(){return Hd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Da.transition,Da.transition=null;var i=yr;yr=1;var o=tr;tr|=4,KS.current=null,O$(e,r),JA(r,e),o$(ib),Dv=!!ab,ib=ab=null,e.current=r,I$(r),hB(),tr=o,yr=i,Da.transition=a}else e.current=r;if(Py&&(Py=!1,Fl=e,Kv=s),a=e.pendingLanes,a===0&&(Hl=null),mB(r.stateNode),$s(e,nn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yv)throw Yv=!1,e=Cb,Cb=null,e;return Kv&1&&e.tag!==0&&Hd(),a=e.pendingLanes,a&1?e===kb?xp++:(xp=0,kb=e):xp=0,fc(),null}function Hd(){if(Fl!==null){var e=M3(Kv),t=Da.transition,r=yr;try{if(Da.transition=null,yr=16>e?16:e,Fl===null)var n=!1;else{if(e=Fl,Fl=null,Kv=0,tr&6)throw Error(qe(331));var s=tr;for(tr|=4,ct=e.current;ct!==null;){var a=ct,i=a.child;if(ct.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ct=u;ct!==null;){var d=ct;switch(d.tag){case 0:case 11:case 15:yp(8,d,a)}var h=d.child;if(h!==null)h.return=d,ct=h;else for(;ct!==null;){d=ct;var f=d.sibling,p=d.return;if(YA(d),d===u){ct=null;break}if(f!==null){f.return=p,ct=f;break}ct=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}ct=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ct=i;else e:for(;ct!==null;){if(a=ct,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yp(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,ct=b;break e}ct=a.return}}var x=e.current;for(ct=x;ct!==null;){i=ct;var N=i.child;if(i.subtreeFlags&2064&&N!==null)N.return=i,ct=N;else e:for(i=x;ct!==null;){if(o=ct,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Q0(9,o)}}catch(E){Kr(o,o.return,E)}if(o===i){ct=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,ct=C;break e}ct=o.return}}if(tr=s,fc(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(W0,e)}catch{}n=!0}return n}finally{yr=r,Da.transition=t}}return!1}function JC(e,t,r){t=Nh(r,t),t=MA(e,t,1),e=Wl(e,t,1),t=ys(),e!==null&&(Ym(e,1,t),$s(e,t))}function Kr(e,t,r){if(e.tag===3)JC(e,e,r);else for(;t!==null;){if(t.tag===3){JC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hl===null||!Hl.has(n))){e=Nh(r,e),e=FA(t,e,1),t=Wl(t,e,1),e=ys(),t!==null&&(Ym(t,1,e),$s(t,e));break}}t=t.return}}function V$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ys(),e.pingedLanes|=e.suspendedLanes&r,Ln===e&&($n&r)===r&&(bn===4||bn===3&&($n&130023424)===$n&&500>nn()-JS?su(e,0):XS|=r),$s(e,t)}function sT(e,t){t===0&&(e.mode&1?(t=xy,xy<<=1,!(xy&130023424)&&(xy=4194304)):t=1);var r=ys();e=$o(e,t),e!==null&&(Ym(e,t,r),$s(e,r))}function z$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sT(e,r)}function q$(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(qe(314))}n!==null&&n.delete(t),sT(e,r)}var aT;aT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fs.current)Ms=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ms=!1,T$(e,t,r);Ms=!!(e.flags&131072)}else Ms=!1,Mr&&t.flags&1048576&&cA(t,$v,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lv(e,t),e=t.pendingProps;var s=wh(t,ss.current);Wd(t,r),s=qS(null,t,n,e,s,r);var a=WS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bs(n)?(a=!0,Fv(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,BS(t),s.updater=Z0,t.stateNode=s,s._reactInternals=t,mb(t,n,e,r),t=vb(null,t,n,!0,a,r)):(t.tag=0,Mr&&a&&LS(t),hs(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(lv(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=H$(n),e=ri(n,e),s){case 0:t=yb(null,t,n,e,r);break e;case 1:t=UC(null,t,n,e,r);break e;case 11:t=BC(null,t,n,e,r);break e;case 14:t=$C(null,t,n,ri(n.type,e),r);break e}throw Error(qe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ri(n,s),yb(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ri(n,s),UC(e,t,n,s,r);case 3:e:{if(VA(t),e===null)throw Error(qe(387));n=t.pendingProps,a=t.memoizedState,s=a.element,mA(e,t),zv(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Nh(Error(qe(423)),t),t=VC(e,t,n,r,s);break e}else if(n!==s){s=Nh(Error(qe(424)),t),t=VC(e,t,n,r,s);break e}else for(na=ql(t.stateNode.containerInfo.firstChild),ia=t,Mr=!0,li=null,r=fA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bh(),n===s){t=Uo(e,t,r);break e}hs(e,t,n,r)}t=t.child}return t;case 5:return gA(t),e===null&&hb(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,ob(n,s)?i=null:a!==null&&ob(n,a)&&(t.flags|=32),UA(e,t),hs(e,t,i,r),t.child;case 6:return e===null&&hb(t),null;case 13:return zA(e,t,r);case 4:return $S(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sh(t,null,n,r):hs(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ri(n,s),BC(e,t,n,s,r);case 7:return hs(e,t,t.pendingProps,r),t.child;case 8:return hs(e,t,t.pendingProps.children,r),t.child;case 12:return hs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,kr(Uv,n._currentValue),n._currentValue=i,a!==null)if(yi(a.value,i)){if(a.children===s.children&&!Fs.current){t=Uo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ro(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),fb(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(qe(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),fb(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}hs(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Wd(t,r),s=Ma(s),n=n(s),t.flags|=1,hs(e,t,n,r),t.child;case 14:return n=t.type,s=ri(n,t.pendingProps),s=ri(n.type,s),$C(e,t,n,s,r);case 15:return BA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ri(n,s),lv(e,t),t.tag=1,Bs(n)?(e=!0,Fv(t)):e=!1,Wd(t,r),IA(t,n,s),mb(t,n,s,r),vb(null,t,n,!0,e,r);case 19:return qA(e,t,r);case 22:return $A(e,t,r)}throw Error(qe(156,t.tag))};function iT(e,t){return D3(e,t)}function W$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(e,t,r,n){return new W$(e,t,r,n)}function t_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function H$(e){if(typeof e=="function")return t_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wS)return 11;if(e===bS)return 14}return 2}function Yl(e,t){var r=e.alternate;return r===null?(r=Ta(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dv(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")t_(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Sd:return au(r.children,s,a,t);case xS:i=8,s|=8;break;case B2:return e=Ta(12,r,t,s|2),e.elementType=B2,e.lanes=a,e;case $2:return e=Ta(13,r,t,s),e.elementType=$2,e.lanes=a,e;case U2:return e=Ta(19,r,t,s),e.elementType=U2,e.lanes=a,e;case g3:return t1(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p3:i=10;break e;case m3:i=9;break e;case wS:i=11;break e;case bS:i=14;break e;case _l:i=16,n=null;break e}throw Error(qe(130,e==null?e:typeof e,""))}return t=Ta(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function au(e,t,r,n){return e=Ta(7,e,n,t),e.lanes=r,e}function t1(e,t,r,n){return e=Ta(22,e,n,t),e.elementType=g3,e.lanes=r,e.stateNode={isHidden:!1},e}function bw(e,t,r){return e=Ta(6,e,null,t),e.lanes=r,e}function Sw(e,t,r){return t=Ta(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function G$(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rw(0),this.expirationTimes=rw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function r_(e,t,r,n,s,a,i,o,c){return e=new G$(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ta(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},BS(a),e}function Y$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function oT(e){if(!e)return Zl;e=e._reactInternals;e:{if(Su(e)!==e||e.tag!==1)throw Error(qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(qe(171))}if(e.tag===1){var r=e.type;if(Bs(r))return oA(e,r,t)}return t}function lT(e,t,r,n,s,a,i,o,c){return e=r_(r,n,!0,e,s,a,i,o,c),e.context=oT(null),r=e.current,n=ys(),s=Gl(r),a=Ro(n,s),a.callback=t??null,Wl(r,a,s),e.current.lanes=s,Ym(e,s,n),$s(e,n),e}function r1(e,t,r,n){var s=t.current,a=ys(),i=Gl(s);return r=oT(r),t.context===null?t.context=r:t.pendingContext=r,t=Ro(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wl(s,t,i),e!==null&&(pi(e,s,i,a),av(e,s,i)),i}function Jv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ZC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function n_(e,t){ZC(e,t),(e=e.alternate)&&ZC(e,t)}function K$(){return null}var cT=typeof reportError=="function"?reportError:function(e){console.error(e)};function s_(e){this._internalRoot=e}n1.prototype.render=s_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(qe(409));r1(e,t,null,null)};n1.prototype.unmount=s_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pu(function(){r1(null,e,null,null)}),t[Bo]=null}};function n1(e){this._internalRoot=e}n1.prototype.unstable_scheduleHydration=function(e){if(e){var t=$3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kl.length&&t!==0&&t<kl[r].priority;r++);kl.splice(r,0,e),r===0&&V3(e)}};function a_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function s1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QC(){}function X$(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Jv(i);a.call(u)}}var i=lT(t,n,e,0,null,!1,!1,"",QC);return e._reactRootContainer=i,e[Bo]=i.current,zp(e.nodeType===8?e.parentNode:e),pu(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Jv(c);o.call(u)}}var c=r_(e,0,!1,null,null,!1,!1,"",QC);return e._reactRootContainer=c,e[Bo]=c.current,zp(e.nodeType===8?e.parentNode:e),pu(function(){r1(t,c,r,n)}),c}function a1(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var c=Jv(i);o.call(c)}}r1(t,i,e,s)}else i=X$(r,t,e,s,n);return Jv(i)}F3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tp(t.pendingLanes);r!==0&&(NS(t,r|1),$s(t,nn()),!(tr&6)&&(jh=nn()+500,fc()))}break;case 13:pu(function(){var n=$o(e,1);if(n!==null){var s=ys();pi(n,e,1,s)}}),n_(e,1)}};jS=function(e){if(e.tag===13){var t=$o(e,134217728);if(t!==null){var r=ys();pi(t,e,134217728,r)}n_(e,134217728)}};B3=function(e){if(e.tag===13){var t=Gl(e),r=$o(e,t);if(r!==null){var n=ys();pi(r,e,t,n)}n_(e,t)}};$3=function(){return yr};U3=function(e,t){var r=yr;try{return yr=e,t()}finally{yr=r}};J2=function(e,t,r){switch(t){case"input":if(q2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=K0(n);if(!s)throw Error(qe(90));v3(n),q2(n,s)}}}break;case"textarea":w3(e,r);break;case"select":t=r.value,t!=null&&Ud(e,!!r.multiple,t,!1)}};k3=ZS;E3=pu;var J$={usingClientEntryPoint:!1,Events:[Xm,Cd,K0,j3,C3,ZS]},$f={findFiberByHostInstance:Yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z$={bundleType:$f.bundleType,version:$f.version,rendererPackageName:$f.rendererPackageName,rendererConfig:$f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T3(e),e===null?null:e.stateNode},findFiberByHostInstance:$f.findFiberByHostInstance||K$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ay=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ay.isDisabled&&Ay.supportsFiber)try{W0=Ay.inject(Z$),Ji=Ay}catch{}}ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J$;ha.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a_(t))throw Error(qe(200));return Y$(e,t,null,r)};ha.createRoot=function(e,t){if(!a_(e))throw Error(qe(299));var r=!1,n="",s=cT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=r_(e,1,!1,null,null,r,!1,n,s),e[Bo]=t.current,zp(e.nodeType===8?e.parentNode:e),new s_(t)};ha.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(qe(188)):(e=Object.keys(e).join(","),Error(qe(268,e)));return e=T3(t),e=e===null?null:e.stateNode,e};ha.flushSync=function(e){return pu(e)};ha.hydrate=function(e,t,r){if(!s1(t))throw Error(qe(200));return a1(null,e,t,!0,r)};ha.hydrateRoot=function(e,t,r){if(!a_(e))throw Error(qe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=cT;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=lT(t,null,e,1,r??null,s,!1,a,i),e[Bo]=t.current,zp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new n1(t)};ha.render=function(e,t,r){if(!s1(t))throw Error(qe(200));return a1(null,e,t,!1,r)};ha.unmountComponentAtNode=function(e){if(!s1(e))throw Error(qe(40));return e._reactRootContainer?(pu(function(){a1(null,null,e,!1,function(){e._reactRootContainer=null,e[Bo]=null})}),!0):!1};ha.unstable_batchedUpdates=ZS;ha.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!s1(r))throw Error(qe(200));if(e==null||e._reactInternals===void 0)throw Error(qe(38));return a1(e,t,r,!1,n)};ha.version="18.3.1-next-f1338f8080-20240426";function uT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uT)}catch(e){console.error(e)}}uT(),u3.exports=ha;var _u=u3.exports;const dT=JP(_u);var hT,e4=_u;hT=e4.createRoot,e4.hydrateRoot;const Q$="modulepreload",e9=function(e){return"/Trade-Book-Ledge/"+e},t4={},vs=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=e9(c),c in t4)return;t4[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Q$,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},t9=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vs(async()=>{const{default:n}=await Promise.resolve().then(()=>Vh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class i_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class r9 extends i_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class n9 extends i_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s9 extends i_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ab;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ab||(Ab={}));var a9=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class i9{constructor(t,{headers:r={},customFetch:n,region:s=Ab.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=t9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return a9(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(o["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(o["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(g=>{throw new r9(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new n9(d);if(!d.ok)throw new s9(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Rs={},o_={},i1={},Zm={},o1={},l1={},o9=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ch=o9();const l9=Ch.fetch,fT=Ch.fetch.bind(Ch),pT=Ch.Headers,c9=Ch.Request,u9=Ch.Response,Vh=Object.freeze(Object.defineProperty({__proto__:null,Headers:pT,Request:c9,Response:u9,default:fT,fetch:l9},Symbol.toStringTag,{value:"Module"})),d9=k7(Vh);var c1={};Object.defineProperty(c1,"__esModule",{value:!0});let h9=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};c1.default=h9;var mT=Ia&&Ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l1,"__esModule",{value:!0});const f9=mT(d9),p9=mT(c1);let m9=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=f9.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,o,c;let u=null,d=null,h=null,f=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),S=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await a.text();try{u=JSON.parse(y),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,p="OK")}catch{a.status===404&&y===""?(f=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new p9.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,o,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};l1.default=m9;var g9=Ia&&Ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o1,"__esModule",{value:!0});const y9=g9(l1);let v9=class extends y9.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};o1.default=v9;var x9=Ia&&Ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zm,"__esModule",{value:!0});const w9=x9(o1);let b9=class extends w9.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Zm.default=b9;var S9=Ia&&Ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i1,"__esModule",{value:!0});const Uf=S9(Zm);let _9=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Uf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(i.length>0){const o=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Uf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Uf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Uf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Uf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};i1.default=_9;var u1={},d1={};Object.defineProperty(d1,"__esModule",{value:!0});d1.version=void 0;d1.version="0.0.0-automated";Object.defineProperty(u1,"__esModule",{value:!0});u1.DEFAULT_HEADERS=void 0;const N9=d1;u1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${N9.version}`};var gT=Ia&&Ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o_,"__esModule",{value:!0});const j9=gT(i1),C9=gT(Zm),k9=u1;let E9=class yT{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},k9.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new j9.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new yT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new C9.default({method:i,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};o_.default=E9;var zh=Ia&&Ia.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.PostgrestError=Rs.PostgrestBuilder=Rs.PostgrestTransformBuilder=Rs.PostgrestFilterBuilder=Rs.PostgrestQueryBuilder=Rs.PostgrestClient=void 0;const vT=zh(o_);Rs.PostgrestClient=vT.default;const xT=zh(i1);Rs.PostgrestQueryBuilder=xT.default;const wT=zh(Zm);Rs.PostgrestFilterBuilder=wT.default;const bT=zh(o1);Rs.PostgrestTransformBuilder=bT.default;const ST=zh(l1);Rs.PostgrestBuilder=ST.default;const _T=zh(c1);Rs.PostgrestError=_T.default;var P9=Rs.default={PostgrestClient:vT.default,PostgrestQueryBuilder:xT.default,PostgrestFilterBuilder:wT.default,PostgrestTransformBuilder:bT.default,PostgrestBuilder:ST.default,PostgrestError:_T.default};const{PostgrestClient:A9,PostgrestQueryBuilder:pde,PostgrestFilterBuilder:mde,PostgrestTransformBuilder:gde,PostgrestBuilder:yde,PostgrestError:vde}=P9,T9="2.11.2",L9={"X-Client-Info":`realtime-js/${T9}`},D9="1.0.0",NT=1e4,R9=1e3;var Gd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gd||(Gd={}));var Zs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zs||(Zs={}));var oi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oi||(oi={}));var Tb;(function(e){e.websocket="websocket"})(Tb||(Tb={}));var Hc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Hc||(Hc={}));class O9{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class jT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jr||(jr={}));const r4=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=I9(i,e,t,s),a),{})},I9=(e,t,r,n)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?CT(a,i):Lb(i)},CT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $9(t,r)}switch(e){case jr.bool:return M9(t);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return F9(t);case jr.json:case jr.jsonb:return B9(t);case jr.timestamp:return U9(t);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return Lb(t);default:return Lb(t)}},Lb=e=>e,M9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},B9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>CT(t,o))}return e},U9=e=>typeof e=="string"?e.replace(" ","T"):e,kT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _w{constructor(t,r,n={},s=NT){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var n4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(n4||(n4={}));class wp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wp.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=wp.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wp.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=a[u];if(h){const f=d.map(S=>S.presence_ref),p=h.map(S=>S.presence_ref),g=d.filter(S=>p.indexOf(S.presence_ref)<0),y=h.filter(S=>f.indexOf(S.presence_ref)<0);g.length>0&&(o[u]=g),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[o].unshift(...f)}n(o,d,c)}),this.map(i,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var s4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(s4||(s4={}));var a4;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(a4||(a4={}));var ko;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ko||(ko={}));class l_{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Zs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _w(this,oi.join,this.params,this.timeout),this.rejoinTimer=new jT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zs.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Zs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oi.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new wp(this),this.broadcastEndpointURL=kT(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:o}}=this.params;this._onError(d=>t==null?void 0:t(ko.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ko.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(ko.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<p;y++){const S=f[y],{filter:{event:b,schema:x,table:N,filter:C}}=S,E=d&&d[y];if(E&&E.event===b&&E.schema===x&&E.table===N&&E.filter===C)g.push(Object.assign(Object.assign({},S),{id:E.id}));else{this.unsubscribe(),t==null||t(ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ko.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new _w(this,oi.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _w(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=oi;if(n&&[o,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,y,S;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((S=(y=p.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var g,y,S,b,x,N;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const C=p.id,E=(g=p.filter)===null||g===void 0?void 0:g.event;return C&&((y=r.ids)===null||y===void 0?void 0:y.includes(C))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(x=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return C==="*"||C===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:S,commit_timestamp:b,type:x,errors:N}=g;f=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:b,eventType:x,new:{},old:{},errors:N}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Zs.closed}_isJoined(){return this.state===Zs.joined}_isJoining(){return this.state===Zs.joining}_isLeaving(){return this.state===Zs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&l_.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oi.close,{},t)}_onError(t){this._on(oi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=r4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=r4(t.columns,t.old_record)),r}}const V9=()=>{},z9=typeof WebSocket<"u",q9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W9{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=L9,this.params={},this.timeout=NT,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=V9,this.conn=null,this.sendBuffer=[],this.serializer=new O9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>vs(async()=>{const{default:c}=await Promise.resolve().then(()=>Vh);return{default:c}},void 0).then(({default:c})=>c(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${t}/${Tb.websocket}`,this.httpEndpoint=kT(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jT(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(z9){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new H9(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vs(async()=>{const{default:t}=await import("./browser-DUjNzhob.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:D9}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gd.connecting:return Hc.Connecting;case Gd.open:return Hc.Open;case Gd.closing:return Hc.Closing;default:return Hc.Closed}}isConnected(){return this.connectionState()===Hc.Open}channel(t,r={config:{}}){const n=new l_(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(oi.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(R9,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(oi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([q9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class H9{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class c_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class G9 extends c_{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Db extends c_{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Y9=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const ET=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vs(async()=>{const{default:n}=await Promise.resolve().then(()=>Vh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},K9=()=>Y9(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vs(()=>Promise.resolve().then(()=>Vh),void 0)).Response:Response}),Rb=e=>{if(Array.isArray(e))return e.map(r=>Rb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Rb(n)}),t};var Nu=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Nw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X9=(e,t,r)=>Nu(void 0,void 0,void 0,function*(){const n=yield K9();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new G9(Nw(s),e.status||500))}).catch(s=>{t(new Db(Nw(s),s))}):t(new Db(Nw(e),e))}),J9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Qm(e,t,r,n,s,a){return Nu(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,J9(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>X9(c,o,n))})})}function Zv(e,t,r,n){return Nu(this,void 0,void 0,function*(){return Qm(e,"GET",t,r,n)})}function jl(e,t,r,n,s){return Nu(this,void 0,void 0,function*(){return Qm(e,"POST",t,n,s,r)})}function Z9(e,t,r,n,s){return Nu(this,void 0,void 0,function*(){return Qm(e,"PUT",t,n,s,r)})}function Q9(e,t,r,n){return Nu(this,void 0,void 0,function*(){return Qm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function PT(e,t,r,n,s){return Nu(this,void 0,void 0,function*(){return Qm(e,"DELETE",t,n,s,r)})}var As=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const eU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tU{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ET(s)}uploadOrUpdate(t,r,n,s){return As(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},i4),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(kn(a))return{data:null,error:a};throw a}})}upload(t,r,n){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return As(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:i4.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return As(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield jl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new c_("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}update(t,r,n){return As(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return As(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}copy(t,r,n){return As(this,void 0,void 0,function*(){try{return{data:{path:(yield jl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return As(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield jl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return As(this,void 0,void 0,function*(){try{const s=yield jl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}download(t,r){return As(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Zv(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(kn(o))return{data:null,error:o};throw o}})}info(t){return As(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rb(n),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}exists(t){return As(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Q9(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(kn(n)&&n instanceof Db){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return As(this,void 0,void 0,function*(){try{return{data:yield PT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}list(t,r,n){return As(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},eU),r),{prefix:t||""});return{data:yield jl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(kn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rU="2.7.1",nU={"X-Client-Info":`storage-js/${rU}`};var od=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class sU{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},nU),r),this.fetch=ET(n)}listBuckets(){return od(this,void 0,void 0,function*(){try{return{data:yield Zv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}getBucket(t){return od(this,void 0,void 0,function*(){try{return{data:yield Zv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return od(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return od(this,void 0,void 0,function*(){try{return{data:yield Z9(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return od(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return od(this,void 0,void 0,function*(){try{return{data:yield PT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}}class aU extends sU{constructor(t,r={},n){super(t,r,n)}from(t){return new tU(this.url,this.headers,t,this.fetch)}}const iU="2.49.3";let np="";typeof Deno<"u"?np="deno":typeof document<"u"?np="web":typeof navigator<"u"&&navigator.product==="ReactNative"?np="react-native":np="node";const oU={"X-Client-Info":`supabase-js-${np}/${iU}`},lU={headers:oU},cU={schema:"public"},uU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dU={};var hU=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const fU=e=>{let t;return e?t=e:typeof fetch>"u"?t=fT:t=fetch,(...r)=>t(...r)},pU=()=>typeof Headers>"u"?pT:Headers,mU=(e,t,r)=>{const n=fU(r),s=pU();return(a,i)=>hU(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var gU=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function yU(e){return e.replace(/\/$/,"")}function vU(e,t){const{db:r,auth:n,realtime:s,global:a}=e,{db:i,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),a),accessToken:()=>gU(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const AT="2.69.1",yd=30*1e3,Ob=3,jw=Ob*yd,xU="http://localhost:9999",wU="supabase.auth.token",bU={"X-Client-Info":`gotrue-js/${AT}`},Ib="X-Supabase-Api-Version",TT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_U=6e5;class u_ extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NU extends u_{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function jU(e){return Ut(e)&&e.name==="AuthApiError"}class LT extends u_{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class pc extends u_{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class vl extends pc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CU(e){return Ut(e)&&e.name==="AuthSessionMissingError"}class Cw extends pc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ty extends pc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ly extends pc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kU(e){return Ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class o4 extends pc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mb extends pc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function kw(e){return Ut(e)&&e.name==="AuthRetryableFetchError"}class l4 extends pc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bp extends pc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const c4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u4=` 	
\r=`.split(""),EU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<u4.length;t+=1)e[u4[t].charCodeAt(0)]=-2;for(let t=0;t<c4.length;t+=1)e[c4[t].charCodeAt(0)]=t;return e})();function DT(e,t,r){const n=EU[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function d4(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{TU(i,n,r)};for(let i=0;i<e.length;i+=1)DT(e.charCodeAt(i),s,a);return t.join("")}function PU(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AU(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}PU(n,t)}}function TU(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function LU(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)DT(e.charCodeAt(s),r,n);return new Uint8Array(t)}function DU(e){const t=[];return AU(e,r=>t.push(r)),new Uint8Array(t)}function RU(e){return Math.round(Date.now()/1e3)+e}function OU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fi=()=>typeof window<"u"&&typeof document<"u",Rc={tested:!1,writable:!1},Sp=()=>{if(!Fi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rc.tested)return Rc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rc.tested=!0,Rc.writable=!0}catch{Rc.tested=!0,Rc.writable=!1}return Rc.writable};function IU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const RT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>vs(async()=>{const{default:n}=await Promise.resolve().then(()=>Vh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",OT=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Dy=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ry=async(e,t)=>{await e.removeItem(t)};class h1{constructor(){this.promise=new h1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}h1.promiseConstructor=Promise;function Ew(e){const t=e.split(".");if(t.length!==3)throw new bp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!SU.test(t[n]))throw new bp("JWT not in base64url format");return{header:JSON.parse(d4(t[0])),payload:JSON.parse(d4(t[1])),signature:LU(t[2]),raw:{header:t[0],payload:t[1]}}}async function FU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BU(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function $U(e){return("0"+e.toString(16)).substr(-2)}function UU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,$U).join("")}async function VU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function zU(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await VU(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ld(e,t,r=!1){const n=UU();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await OT(e,`${t}-code-verifier`,s);const a=await zU(n);return[a,n===a?"plain":"s256"]}const qU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WU(e){const t=e.headers.get(Ib);if(!t||!t.match(qU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HU(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GU(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var YU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Bc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),KU=[502,503,504];async function h4(e){var t;if(!MU(e))throw new Mb(Bc(e),0);if(KU.includes(e.status))throw new Mb(Bc(e),e.status);let r;try{r=await e.json()}catch(a){throw new LT(Bc(a),a)}let n;const s=WU(e);if(s&&s.getTime()>=TT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new l4(Bc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new l4(Bc(r),e.status,r.weak_password.reasons);throw new NU(Bc(r),e.status||500,n)}const XU=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Gt(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Ib]||(a[Ib]=TT["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await JU(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function JU(e,t,r,n,s,a){const i=XU(t,n,s,a);let o;try{o=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Mb(Bc(c),0)}if(o.ok||await h4(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await h4(c)}}function xl(e){var t;let r=null;tV(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=RU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function f4(e){const t=xl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZU(e){return{data:e,error:null}}function QU(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=YU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function eV(e){return e}function tV(e){return e.access_token&&e.refresh_token&&e.expires_in}var rV=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class nV{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=RT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pl})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=rV(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:QU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ut(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pl})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:eV});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(g.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ut(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pl})}catch(r){if(Ut(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Pl})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pl})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}}const sV={getItem:e=>Sp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Sp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Sp()&&globalThis.localStorage.removeItem(e)}};function p4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function aV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cd={debug:!!(globalThis&&Sp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class IT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iV extends IT{}async function oV(e,t,r){cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}aV();const lV={url:xU,storageKey:wU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function m4(e,t,r){return await r()}class Zp{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zp.nextInstanceID,Zp.nextInstanceID+=1,this.instanceID>0&&Fi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},lV),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new nV({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=RT(s.fetch),this.lock=s.lock||m4,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=oV:this.lock=m4,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Sp()?this.storage=sV:(this.memoryStorage={},this.storage=p4(this.memoryStorage)):(this.memoryStorage={},this.storage=p4(this.memoryStorage)),Fi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${AT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=IU(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fi()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kU(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ut(r)?{error:r}:{error:new LT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xl}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ut(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ld(this.storage,this.storageKey)),a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:xl})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xl})}else throw new Ty("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ut(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:o}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:f4})}else if("phone"in t){const{phone:a,password:i,options:o}=t;r=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:f4})}else throw new Ty("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Dy(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xl});if(await Ry(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Cw}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(Ut(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,o=await Gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xl}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ld(this.storage,this.storageKey));const{error:h}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await Gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ty("You must provide either an email or phone number.")}catch(o){if(Ut(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:xl});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ut(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await ld(this.storage,this.storageKey)),await Gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:ZU})}catch(a){if(Ut(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new vl;const{error:s}=await Gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ut(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:o}=await Gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new Ty("You must provide either an email or phone number and a type")}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Dy(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<jw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pl}):await this._useSession(async r=>{var n,s,a;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vl}:await Gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Pl})})}catch(r){if(Ut(r))return CU(r)&&(await this._removeSession(),await Ry(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new vl;const i=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ld(this.storage,this.storageKey));const{data:u,error:d}=await Gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:Pl});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Ut(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vl;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Ew(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ut(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new vl;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ut(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fi())throw new Ly("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ly(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new o4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ly("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new o4("No code detected.");const{data:x,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!i||!u)throw new Ly("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=yd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:y,error:S}=await this._getUser(a);if(S)throw S;const b={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Ut(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Dy(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(jU(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ry(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=OU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ld(this.storage,this.storageKey,!0));try{return await Gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ut(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,o,c,u,d;const{data:h,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Gt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ut(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BU(async s=>(s>0&&await FU(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xl})),(s,a)=>{const i=200*Math.pow(2,s);return a&&kw(a)&&Date.now()+i-n<yd})}catch(n){if(this._debug(r,"error",n),Ut(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Dy(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<jw;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${jw}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),kw(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new vl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new h1;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new vl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),Ut(a)){const i={session:null,error:a};return kw(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await OT(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ry(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/yd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yd}ms, refresh threshold is ${Ob} ticks`),s<=Ob&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof IT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await ld(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Gt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:o}=await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ut(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ew(s.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+_U>Date.now()))return n;const{data:s,error:a}=await Gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new bp("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new bp("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:a,signature:i,raw:{header:o,payload:c}}=Ew(n);if(HU(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:i},error:null}}const u=GU(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,DU(`${o}.${c}`)))throw new bp("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(Ut(n))return{data:null,error:n};throw n}}}Zp.nextInstanceID=0;const cV=Zp;class uV extends cV{constructor(t){super(t)}}var dV=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class hV{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=yU(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:cU,realtime:dU,auth:Object.assign(Object.assign({},uU),{storageKey:c}),global:lU},d=vU(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=mU(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new A9(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new i9(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new aU(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return dV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uV({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new W9(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const g4=(e,t,r)=>new hV(e,t,r),y4="https://unwisxczcoeoshwybktg.supabase.co",v4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVud2lzeGN6Y29lb3Nod3lia3RnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MTE2MzEsImV4cCI6MjA1ODQ4NzYzMX0.CQWn7zkuEHAIPCNPB8nIGCaZE1hut2umQEMdRkq3IFk";let hv;try{hv=g4(y4,v4,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{headers:{"x-application-name":"trade-book-ledger"}}}),hv.storage?console.log("Supabase client initialized with storage support"):console.error("Supabase storage is not available in the client")}catch(e){console.error("Error initializing Supabase client:",e),hv=g4(y4,v4)}const He=hv,d_=Object.freeze(Object.defineProperty({__proto__:null,supabaseSimple:He},Symbol.toStringTag,{value:"Module"})),Hi={isStorageAvailable:()=>{try{return!!He&&!!He.storage}catch(e){return console.error("Error checking Supabase storage availability:",e),!1}},checkBucketExists:async e=>{try{if(!Hi.isStorageAvailable())return console.error("Supabase storage is not available"),!1;const{data:t,error:r}=await He.storage.getBucket(e);return r?r.message&&r.message.includes("does not exist")?(console.error(`Bucket '${e}' does not exist`),!1):(console.error(`Error checking bucket '${e}':`,r),!1):!!t}catch(t){return console.error(`Error checking bucket '${e}':`,t),!1}},ensureBucketExists:async(e,t=!1)=>{try{if(!Hi.isStorageAvailable())return console.error("Supabase storage is not available"),!1;if(await Hi.checkBucketExists(e))return console.log(`Bucket '${e}' already exists`),!0;const{data:n,error:s}=await He.storage.createBucket(e,{public:t});return s?(console.error(`Error creating bucket '${e}':`,s),!1):(console.log(`Bucket '${e}' created successfully`),!0)}catch(r){return console.error(`Error ensuring bucket '${e}' exists:`,r),!1}},initializeStorage:async()=>{try{return Hi.isStorageAvailable()?await Hi.ensureBucketExists("attachments",!0):(console.error("Supabase storage is not available"),!1)}catch(e){return console.error("Error initializing Supabase storage:",e),!1}}},fV=async()=>{try{return console.log("Initializing Supabase storage..."),Hi.isStorageAvailable()?await Hi.ensureBucketExists("attachments",!0)?(console.log("Supabase storage initialized successfully"),!0):(console.error("Failed to create attachments bucket"),!1):(console.error("Supabase storage is not available"),!1)}catch(e){return console.error("Error initializing Supabase storage:",e),!1}},pV=1,mV=5e3;let Pw=0;function gV(){return Pw=(Pw+1)%Number.MAX_SAFE_INTEGER,Pw.toString()}const Aw=new Map,x4=e=>{if(Aw.has(e))return;const t=setTimeout(()=>{Aw.delete(e),_p({type:"REMOVE_TOAST",toastId:e})},mV);Aw.set(e,t)},yV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?x4(r):e.toasts.forEach(n=>{x4(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},fv=[];let pv={toasts:[]};function _p(e){pv=yV(pv,e),fv.forEach(t=>{t(pv)})}function vV({...e}){const t=gV(),r=s=>_p({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>_p({type:"DISMISS_TOAST",toastId:t});return _p({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function nr(){const[e,t]=v.useState(pv);return v.useEffect(()=>(fv.push(t),()=>{const r=fv.indexOf(t);r>-1&&fv.splice(r,1)}),[e]),{...e,toast:vV,dismiss:r=>_p({type:"DISMISS_TOAST",toastId:r})}}function Xe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function xV(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function f1(...e){return t=>e.forEach(r=>xV(r,t))}function qt(...e){return v.useCallback(f1(...e),e)}function wV(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,bV(s,...t)]}function bV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var no=v.forwardRef((e,t)=>{const{children:r,...n}=e,s=v.Children.toArray(r),a=s.find(SV);if(a){const i=a.props.children,o=s.map(c=>c===a?v.Children.count(i)>1?v.Children.only(null):v.isValidElement(i)?i.props.children:null:c);return l.jsx(Fb,{...n,ref:t,children:v.isValidElement(i)?v.cloneElement(i,void 0,o):null})}return l.jsx(Fb,{...n,ref:t,children:r})});no.displayName="Slot";var Fb=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const s=NV(r);return v.cloneElement(r,{..._V(n,r.props),ref:t?f1(t,s):s})}return v.Children.count(r)>1?v.Children.only(null):null});Fb.displayName="SlotClone";var h_=({children:e})=>l.jsx(l.Fragment,{children:e});function SV(e){return v.isValidElement(e)&&e.type===h_}function _V(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...o)=>{a(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function NV(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function p1(e){const t=e+"CollectionProvider",[r,n]=wV(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:y}=p,S=Pe.useRef(null),b=Pe.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:b,collectionRef:S,children:y})};i.displayName=t;const o=e+"CollectionSlot",c=Pe.forwardRef((p,g)=>{const{scope:y,children:S}=p,b=a(o,y),x=qt(g,b.collectionRef);return l.jsx(no,{ref:x,children:S})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=Pe.forwardRef((p,g)=>{const{scope:y,children:S,...b}=p,x=Pe.useRef(null),N=qt(g,x),C=a(u,y);return Pe.useEffect(()=>(C.itemMap.set(x,{ref:x,...b}),()=>void C.itemMap.delete(x))),l.jsx(no,{[d]:"",ref:N,children:S})});h.displayName=u;function f(p){const g=a(e+"CollectionConsumer",p);return Pe.useCallback(()=>{const S=g.collectionRef.current;if(!S)return[];const b=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((C,E)=>b.indexOf(C.ref.current)-b.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},f,n]}function jV(e,t){const r=v.createContext(t),n=a=>{const{children:i,...o}=a,c=v.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=v.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function pa(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];const u=h=>{var b;const{scope:f,children:p,...g}=h,y=((b=f==null?void 0:f[e])==null?void 0:b[c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})};u.displayName=a+"Provider";function d(h,f){var y;const p=((y=f==null?void 0:f[e])==null?void 0:y[c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,CV(s,...t)]}function CV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var kV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mt=kV.reduce((e,t)=>{const r=v.forwardRef((n,s)=>{const{asChild:a,...i}=n,o=a?no:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function f_(e,t){e&&_u.flushSync(()=>e.dispatchEvent(t))}function Vn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function EV(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var PV="DismissableLayer",Bb="dismissableLayer.update",AV="dismissableLayer.pointerDownOutside",TV="dismissableLayer.focusOutside",w4,MT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ju=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...c}=e,u=v.useContext(MT),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),g=qt(t,P=>h(P)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(S),x=d?y.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,C=x>=b,E=DV(P=>{const A=P.target,K=[...u.branches].some(Q=>Q.contains(A));!C||K||(s==null||s(P),i==null||i(P),P.defaultPrevented||o==null||o())},f),F=RV(P=>{const A=P.target;[...u.branches].some(Q=>Q.contains(A))||(a==null||a(P),i==null||i(P),P.defaultPrevented||o==null||o())},f);return EV(P=>{x===u.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},f),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(w4=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),b4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=w4)}},[d,f,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),b4())},[d,u]),v.useEffect(()=>{const P=()=>p({});return document.addEventListener(Bb,P),()=>document.removeEventListener(Bb,P)},[]),l.jsx(mt.div,{...c,ref:g,style:{pointerEvents:N?C?"auto":"none":void 0,...e.style},onFocusCapture:Xe(e.onFocusCapture,F.onFocusCapture),onBlurCapture:Xe(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Xe(e.onPointerDownCapture,E.onPointerDownCapture)})});ju.displayName=PV;var LV="DismissableLayerBranch",FT=v.forwardRef((e,t)=>{const r=v.useContext(MT),n=v.useRef(null),s=qt(t,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(mt.div,{...e,ref:s})});FT.displayName=LV;function DV(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let c=function(){BT(AV,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function RV(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!n.current&&BT(TV,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function b4(){const e=new CustomEvent(Bb);document.dispatchEvent(e)}function BT(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?f_(s,a):s.dispatchEvent(a)}var OV=ju,IV=FT,Dn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},MV="Portal",qh=v.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[s,a]=v.useState(!1);Dn(()=>a(!0),[]);const i=r||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?dT.createPortal(l.jsx(mt.div,{...n,ref:t}),i):null});qh.displayName=MV;function FV(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Ws=e=>{const{present:t,children:r}=e,n=BV(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=qt(n.ref,$V(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:a}):null};Ws.displayName="Presence";function BV(e){const[t,r]=v.useState(),n=v.useRef({}),s=v.useRef(e),a=v.useRef("none"),i=e?"mounted":"unmounted",[o,c]=FV(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Oy(n.current);a.current=o==="mounted"?u:"none"},[o]),Dn(()=>{const u=n.current,d=s.current;if(d!==e){const f=a.current,p=Oy(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Dn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const y=Oy(n.current).includes(p.animationName);if(p.target===t&&y&&(c("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},f=p=>{p.target===t&&(a.current=Oy(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Oy(e){return(e==null?void 0:e.animationName)||"none"}function $V(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Vs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=UV({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,o=Vn(r),c=v.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[a,e,s,o]);return[i,c]}function UV({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,s=v.useRef(n),a=Vn(t);return v.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var VV="VisuallyHidden",eg=v.forwardRef((e,t)=>l.jsx(mt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));eg.displayName=VV;var zV=eg,p_="ToastProvider",[m_,qV,WV]=p1("Toast"),[$T,xde]=pa("Toast",[WV]),[HV,m1]=$T(p_),UT=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[o,c]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${p_}\`. Expected non-empty \`string\`.`),l.jsx(m_.Provider,{scope:t,children:l.jsx(HV,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};UT.displayName=p_;var VT="ToastViewport",GV=["F8"],$b="toast.viewportPause",Ub="toast.viewportResume",zT=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=GV,label:s="Notifications ({hotkey})",...a}=e,i=m1(VT,r),o=qV(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=qt(t,h,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;v.useEffect(()=>{const S=b=>{var N;n.length!==0&&n.every(C=>b[C]||b.code===C)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),v.useEffect(()=>{const S=c.current,b=h.current;if(g&&S&&b){const x=()=>{if(!i.isClosePausedRef.current){const F=new CustomEvent($b);b.dispatchEvent(F),i.isClosePausedRef.current=!0}},N=()=>{if(i.isClosePausedRef.current){const F=new CustomEvent(Ub);b.dispatchEvent(F),i.isClosePausedRef.current=!1}},C=F=>{!S.contains(F.relatedTarget)&&N()},E=()=>{S.contains(document.activeElement)||N()};return S.addEventListener("focusin",x),S.addEventListener("focusout",C),S.addEventListener("pointermove",x),S.addEventListener("pointerleave",E),window.addEventListener("blur",x),window.addEventListener("focus",N),()=>{S.removeEventListener("focusin",x),S.removeEventListener("focusout",C),S.removeEventListener("pointermove",x),S.removeEventListener("pointerleave",E),window.removeEventListener("blur",x),window.removeEventListener("focus",N)}}},[g,i.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:S})=>{const x=o().map(N=>{const C=N.ref.current,E=[C,...iz(C)];return S==="forwards"?E:E.reverse()});return(S==="forwards"?x.reverse():x).flat()},[o]);return v.useEffect(()=>{const S=h.current;if(S){const b=x=>{var E,F,P;const N=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!N){const A=document.activeElement,K=x.shiftKey;if(x.target===S&&K){(E=u.current)==null||E.focus();return}const D=y({tabbingDirection:K?"backwards":"forwards"}),L=D.findIndex(B=>B===A);Tw(D.slice(L+1))?x.preventDefault():K?(F=u.current)==null||F.focus():(P=d.current)==null||P.focus()}};return S.addEventListener("keydown",b),()=>S.removeEventListener("keydown",b)}},[o,y]),l.jsxs(IV,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(Vb,{ref:u,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});Tw(S)}}),l.jsx(m_.Slot,{scope:r,children:l.jsx(mt.ol,{tabIndex:-1,...a,ref:f})}),g&&l.jsx(Vb,{ref:d,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});Tw(S)}})]})});zT.displayName=VT;var qT="ToastFocusProxy",Vb=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=m1(qT,r);return l.jsx(eg,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const o=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});Vb.displayName=qT;var g1="Toast",YV="toast.swipeStart",KV="toast.swipeMove",XV="toast.swipeCancel",JV="toast.swipeEnd",WT=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[o=!0,c]=Vs({prop:n,defaultProp:s,onChange:a});return l.jsx(Ws,{present:r||o,children:l.jsx(ez,{open:o,...i,ref:t,onClose:()=>c(!1),onPause:Vn(e.onPause),onResume:Vn(e.onResume),onSwipeStart:Xe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Xe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Xe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Xe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});WT.displayName=g1;var[ZV,QV]=$T(g1,{onClose(){}}),ez=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=e,y=m1(g1,r),[S,b]=v.useState(null),x=qt(t,B=>b(B)),N=v.useRef(null),C=v.useRef(null),E=s||y.duration,F=v.useRef(0),P=v.useRef(E),A=v.useRef(0),{onToastAdd:K,onToastRemove:Q}=y,I=Vn(()=>{var q;(S==null?void 0:S.contains(document.activeElement))&&((q=y.viewport)==null||q.focus()),i()}),D=v.useCallback(B=>{!B||B===1/0||(window.clearTimeout(A.current),F.current=new Date().getTime(),A.current=window.setTimeout(I,B))},[I]);v.useEffect(()=>{const B=y.viewport;if(B){const q=()=>{D(P.current),u==null||u()},ee=()=>{const V=new Date().getTime()-F.current;P.current=P.current-V,window.clearTimeout(A.current),c==null||c()};return B.addEventListener($b,ee),B.addEventListener(Ub,q),()=>{B.removeEventListener($b,ee),B.removeEventListener(Ub,q)}}},[y.viewport,E,c,u,D]),v.useEffect(()=>{a&&!y.isClosePausedRef.current&&D(E)},[a,E,y.isClosePausedRef,D]),v.useEffect(()=>(K(),()=>Q()),[K,Q]);const L=v.useMemo(()=>S?ZT(S):null,[S]);return y.viewport?l.jsxs(l.Fragment,{children:[L&&l.jsx(tz,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),l.jsx(ZV,{scope:r,onClose:I,children:_u.createPortal(l.jsx(m_.ItemSlot,{scope:r,children:l.jsx(OV,{asChild:!0,onEscapeKeyDown:Xe(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Xe(e.onKeyDown,B=>{B.key==="Escape"&&(o==null||o(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Xe(e.onPointerDown,B=>{B.button===0&&(N.current={x:B.clientX,y:B.clientY})}),onPointerMove:Xe(e.onPointerMove,B=>{if(!N.current)return;const q=B.clientX-N.current.x,ee=B.clientY-N.current.y,V=!!C.current,M=["left","right"].includes(y.swipeDirection),Y=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ie=M?Y(0,q):0,me=M?0:Y(0,ee),T=B.pointerType==="touch"?10:2,G={x:ie,y:me},Z={originalEvent:B,delta:G};V?(C.current=G,Iy(KV,h,Z,{discrete:!1})):S4(G,y.swipeDirection,T)?(C.current=G,Iy(YV,d,Z,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(q)>T||Math.abs(ee)>T)&&(N.current=null)}),onPointerUp:Xe(e.onPointerUp,B=>{const q=C.current,ee=B.target;if(ee.hasPointerCapture(B.pointerId)&&ee.releasePointerCapture(B.pointerId),C.current=null,N.current=null,q){const V=B.currentTarget,M={originalEvent:B,delta:q};S4(q,y.swipeDirection,y.swipeThreshold)?Iy(JV,p,M,{discrete:!0}):Iy(XV,f,M,{discrete:!0}),V.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),tz=e=>{const{__scopeToast:t,children:r,...n}=e,s=m1(g1,t),[a,i]=v.useState(!1),[o,c]=v.useState(!1);return sz(()=>i(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(qh,{asChild:!0,children:l.jsx(eg,{...n,children:a&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},rz="ToastTitle",HT=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(mt.div,{...n,ref:t})});HT.displayName=rz;var nz="ToastDescription",GT=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(mt.div,{...n,ref:t})});GT.displayName=nz;var YT="ToastAction",KT=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(JT,{altText:r,asChild:!0,children:l.jsx(g_,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${YT}\`. Expected non-empty \`string\`.`),null)});KT.displayName=YT;var XT="ToastClose",g_=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=QV(XT,r);return l.jsx(JT,{asChild:!0,children:l.jsx(mt.button,{type:"button",...n,ref:t,onClick:Xe(e.onClick,s.onClose)})})});g_.displayName=XT;var JT=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function ZT(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),az(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...ZT(n))}}),t}function Iy(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?f_(s,a):s.dispatchEvent(a)}var S4=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function sz(e=()=>{}){const t=Vn(e);Dn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function az(e){return e.nodeType===e.ELEMENT_NODE}function iz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Tw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var oz=UT,QT=zT,eL=WT,tL=HT,rL=GT,nL=KT,sL=g_;function aL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=aL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function iL(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=aL(e))&&(n&&(n+=" "),n+=t);return n}const _4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,N4=iL,tg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return N4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const f=_4(d)||_4(h);return s[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[y,S]=g;return Array.isArray(S)?S.includes({...a,...o}[y]):{...a,...o}[y]===S})?[...u,h,f]:u},[]);return N4(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oL=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...o},c)=>v.createElement("svg",{ref:c,...cz,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oL("lucide",s),...o},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const r=v.forwardRef(({className:n,...s},a)=>v.createElement(uz,{ref:a,iconNode:t,className:oL(`lucide-${lz(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ht("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=ht("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ht("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=ht("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=ht("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=ht("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=ht("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=ht("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=ht("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ht("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=ht("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=ht("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ht("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=ht("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=ht("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=ht("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=ht("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=ht("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=ht("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=ht("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=ht("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=ht("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=ht("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=ht("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ht("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=ht("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=ht("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=ht("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=ht("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=ht("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=ht("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ht("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=ht("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=ht("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=ht("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=ht("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=ht("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=ht("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=ht("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ht("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=ht("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),b_="-",Vz=e=>{const t=qz(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const o=i.split(b_);return o[0]===""&&o.length!==1&&o.shift(),pL(o,t)||zz(i)},getConflictingClassGroupIds:(i,o)=>{const c=r[i]||[];return o&&n[i]?[...c,...n[i]]:c}}},pL=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?pL(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(b_);return(i=t.validators.find(({validator:o})=>o(a)))==null?void 0:i.classGroupId},T4=/^\[(.+)\]$/,zz=e=>{if(T4.test(e)){const t=T4.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qz=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Hz(Object.entries(e.classGroups),r).forEach(([a,i])=>{Yb(i,n,a,t)}),n},Yb=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:L4(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Wz(s)){Yb(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{Yb(i,L4(t,a),r,n)})})},L4=(e,t)=>{let r=e;return t.split(b_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Wz=e=>e.isThemeGetter,Hz=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,o])=>[t+i,o])):a);return[r,s]}):e,Gz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},mL="!",Yz=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=o=>{const c=[];let u=0,d=0,h;for(let S=0;S<o.length;S++){let b=o[S];if(u===0){if(b===s&&(n||o.slice(S,S+a)===t)){c.push(o.slice(d,S)),d=S+a;continue}if(b==="/"){h=S;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?o:o.substring(d),p=f.startsWith(mL),g=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:i}):i},Kz=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Xz=e=>({cache:Gz(e.cacheSize),parseClassName:Yz(e),...Vz(e)}),Jz=/\s+/,Zz=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(Jz);let o="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let g=!!p,y=n(g?f.substring(0,p):f);if(!y){if(!g){o=u+(o.length>0?" "+o:o);continue}if(y=n(f),!y){o=u+(o.length>0?" "+o:o);continue}g=!1}const S=Kz(d).join(":"),b=h?S+mL:S,x=b+y;if(a.includes(x))continue;a.push(x);const N=s(y,g);for(let C=0;C<N.length;++C){const E=N[C];a.push(b+E)}o=u+(o.length>0?" "+o:o)}return o};function Qz(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=gL(t))&&(n&&(n+=" "),n+=r);return n}const gL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=gL(e[n]))&&(r&&(r+=" "),r+=t);return r};function eq(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return r=Xz(u),n=r.cache.get,s=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=Zz(c,r);return s(c,d),d}return function(){return a(Qz.apply(null,arguments))}}const Tr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yL=/^\[(?:([a-z-]+):)?(.+)\]$/i,tq=/^\d+\/\d+$/,rq=new Set(["px","full","screen"]),nq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wo=e=>Yd(e)||rq.has(e)||tq.test(e),fl=e=>Wh(e,"length",mq),Yd=e=>!!e&&!Number.isNaN(Number(e)),Dw=e=>Wh(e,"number",Yd),Vf=e=>!!e&&Number.isInteger(Number(e)),lq=e=>e.endsWith("%")&&Yd(e.slice(0,-1)),$t=e=>yL.test(e),pl=e=>nq.test(e),cq=new Set(["length","size","percentage"]),uq=e=>Wh(e,cq,vL),dq=e=>Wh(e,"position",vL),hq=new Set(["image","url"]),fq=e=>Wh(e,hq,yq),pq=e=>Wh(e,"",gq),zf=()=>!0,Wh=(e,t,r)=>{const n=yL.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},mq=e=>sq.test(e)&&!aq.test(e),vL=()=>!1,gq=e=>iq.test(e),yq=e=>oq.test(e),vq=()=>{const e=Tr("colors"),t=Tr("spacing"),r=Tr("blur"),n=Tr("brightness"),s=Tr("borderColor"),a=Tr("borderRadius"),i=Tr("borderSpacing"),o=Tr("borderWidth"),c=Tr("contrast"),u=Tr("grayscale"),d=Tr("hueRotate"),h=Tr("invert"),f=Tr("gap"),p=Tr("gradientColorStops"),g=Tr("gradientColorStopPositions"),y=Tr("inset"),S=Tr("margin"),b=Tr("opacity"),x=Tr("padding"),N=Tr("saturate"),C=Tr("scale"),E=Tr("sepia"),F=Tr("skew"),P=Tr("space"),A=Tr("translate"),K=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",$t,t],D=()=>[$t,t],L=()=>["",wo,fl],B=()=>["auto",Yd,$t],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",$t],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[Yd,$t];return{cacheSize:500,separator:":",theme:{colors:[zf],spacing:[wo,fl],blur:["none","",pl,$t],brightness:me(),borderColor:[e],borderRadius:["none","","full",pl,$t],borderSpacing:D(),borderWidth:L(),contrast:me(),grayscale:Y(),hueRotate:me(),invert:Y(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[lq,fl],inset:I(),margin:I(),opacity:me(),padding:D(),saturate:me(),scale:me(),sepia:Y(),skew:me(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",$t]}],container:["container"],columns:[{columns:[pl]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),$t]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:K()}],"overscroll-x":[{"overscroll-x":K()}],"overscroll-y":[{"overscroll-y":K()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vf,$t]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$t]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Vf,$t]}],"grid-cols":[{"grid-cols":[zf]}],"col-start-end":[{col:["auto",{span:["full",Vf,$t]},$t]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[zf]}],"row-start-end":[{row:["auto",{span:[Vf,$t]},$t]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$t]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$t]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$t,t]}],"min-w":[{"min-w":[$t,t,"min","max","fit"]}],"max-w":[{"max-w":[$t,t,"none","full","min","max","fit","prose",{screen:[pl]},pl]}],h:[{h:[$t,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$t,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$t,t,"auto","min","max","fit"]}],"font-size":[{text:["base",pl,fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dw]}],"font-family":[{font:[zf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$t]}],"line-clamp":[{"line-clamp":["none",Yd,Dw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wo,$t]}],"list-image":[{"list-image":["none",$t]}],"list-style-type":[{list:["none","disc","decimal",$t]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wo,fl]}],"underline-offset":[{"underline-offset":["auto",wo,$t]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),dq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fq]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[wo,$t]}],"outline-w":[{outline:[wo,fl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[wo,fl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",pl,pq]}],"shadow-color":[{shadow:[zf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pl,$t]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$t]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",$t]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",$t]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Vf,$t]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$t]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$t]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$t]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wo,fl,Dw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xq=eq(vq);function Ve(...e){return xq(iL(e))}function di(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e)}function wq(e="id"){return`${e}-${Date.now().toString(36)}${Math.random().toString(36).substring(2,5)}`}const bq=oz,xL=v.forwardRef(({className:e,...t},r)=>l.jsx(QT,{ref:r,className:Ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xL.displayName=QT.displayName;const Sq=tg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wL=v.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(eL,{ref:n,className:Ve(Sq({variant:t}),e),...r}));wL.displayName=eL.displayName;const _q=v.forwardRef(({className:e,...t},r)=>l.jsx(nL,{ref:r,className:Ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_q.displayName=nL.displayName;const bL=v.forwardRef(({className:e,...t},r)=>l.jsx(sL,{ref:r,className:Ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(y1,{className:"h-4 w-4"})}));bL.displayName=sL.displayName;const SL=v.forwardRef(({className:e,...t},r)=>l.jsx(tL,{ref:r,className:Ve("text-sm font-semibold",e),...t}));SL.displayName=tL.displayName;const _L=v.forwardRef(({className:e,...t},r)=>l.jsx(rL,{ref:r,className:Ve("text-sm opacity-90",e),...t}));_L.displayName=rL.displayName;function Nq(){const{toasts:e}=nr();return l.jsxs(bq,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return l.jsxs(wL,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(SL,{children:r}),n&&l.jsx(_L,{children:n})]}),s,l.jsx(bL,{})]},t)}),l.jsx(xL,{})]})}var D4=["light","dark"],jq="(prefers-color-scheme: dark)",Cq=v.createContext(void 0),kq={setTheme:e=>{},themes:[]},Eq=()=>{var e;return(e=v.useContext(Cq))!=null?e:kq};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:o,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?D4.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,y=!1,S=!0)=>{let b=i?i[g]:g,x=y?g+"|| ''":`'${b}'`,N="";return s&&S&&!y&&D4.includes(g)&&(N+=`d.style.colorScheme = '${g}';`),r==="class"?y||b?N+=`c.add(${x})`:N+="null":b&&(N+=`d[s](n,${x})`),N},p=e?`!function(){${d}${f(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${jq}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Pq=e=>{switch(e){case"success":return Lq;case"info":return Rq;case"warning":return Dq;case"error":return Oq;default:return null}},Aq=Array(12).fill(0),Tq=({visible:e})=>Pe.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Pe.createElement("div",{className:"sonner-spinner"},Aq.map((t,r)=>Pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Lq=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Dq=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Rq=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Oq=Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Iq=()=>{let[e,t]=Pe.useState(document.hidden);return Pe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Kb=1,Mq=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Kb++,i=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:o,title:n}):c):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=t=>(t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),a=n!==void 0;return s.then(async i=>{if(Bq(i)&&!i.ok){a=!1;let o=typeof r.error=="function"?await r.error(`HTTP error! status: ${i.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${i.status}`):r.description;this.create({id:n,type:"error",message:o,description:c})}else if(r.success!==void 0){a=!1;let o=typeof r.success=="function"?await r.success(i):r.success,c=typeof r.description=="function"?await r.description(i):r.description;this.create({id:n,type:"success",message:o,description:c})}}).catch(async i=>{if(r.error!==void 0){a=!1;let o=typeof r.error=="function"?await r.error(i):r.error,c=typeof r.description=="function"?await r.description(i):r.description;this.create({id:n,type:"error",message:o,description:c})}}).finally(()=>{var i;a&&(this.dismiss(n),n=void 0),(i=r.finally)==null||i.call(r)}),n},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||Kb++;return this.create({jsx:t(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},ea=new Mq,Fq=(e,t)=>{let r=(t==null?void 0:t.id)||Kb++;return ea.addToast({title:e,...t,id:r}),r},Bq=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$q=Fq,Uq=()=>ea.toasts;Object.assign($q,{success:ea.success,info:ea.info,warning:ea.warning,error:ea.error,custom:ea.custom,message:ea.message,promise:ea.promise,dismiss:ea.dismiss,loading:ea.loading},{getHistory:Uq});function Vq(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Vq(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function My(e){return e.label!==void 0}var zq=3,qq="32px",Wq=4e3,Hq=356,Gq=14,Yq=20,Kq=200;function Xq(...e){return e.filter(Boolean).join(" ")}var Jq=e=>{var t,r,n,s,a,i,o,c,u,d;let{invert:h,toast:f,unstyled:p,interacting:g,setHeights:y,visibleToasts:S,heights:b,index:x,toasts:N,expanded:C,removeToast:E,defaultRichColors:F,closeButton:P,style:A,cancelButtonStyle:K,actionButtonStyle:Q,className:I="",descriptionClassName:D="",duration:L,position:B,gap:q,loadingIcon:ee,expandByDefault:V,classNames:M,icons:Y,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:me,cn:T}=e,[G,Z]=Pe.useState(!1),[ae,W]=Pe.useState(!1),[se,le]=Pe.useState(!1),[ue,xe]=Pe.useState(!1),[Ee,Se]=Pe.useState(0),[ke,Je]=Pe.useState(0),Ce=Pe.useRef(null),re=Pe.useRef(null),Ke=x===0,X=x+1<=S,te=f.type,oe=f.dismissible!==!1,Ne=f.className||"",ve=f.descriptionClassName||"",_e=Pe.useMemo(()=>b.findIndex(Ze=>Ze.toastId===f.id)||0,[b,f.id]),Be=Pe.useMemo(()=>{var Ze;return(Ze=f.closeButton)!=null?Ze:P},[f.closeButton,P]),ze=Pe.useMemo(()=>f.duration||L||Wq,[f.duration,L]),ot=Pe.useRef(0),ut=Pe.useRef(0),Ot=Pe.useRef(0),ft=Pe.useRef(null),[Ct,Ge]=B.split("-"),De=Pe.useMemo(()=>b.reduce((Ze,Bt,pt)=>pt>=_e?Ze:Ze+Bt.height,0),[b,_e]),st=Iq(),Tt=f.invert||h,kt=te==="loading";ut.current=Pe.useMemo(()=>_e*q+De,[_e,De]),Pe.useEffect(()=>{Z(!0)},[]),Pe.useLayoutEffect(()=>{if(!G)return;let Ze=re.current,Bt=Ze.style.height;Ze.style.height="auto";let pt=Ze.getBoundingClientRect().height;Ze.style.height=Bt,Je(pt),y(Sr=>Sr.find(Ir=>Ir.toastId===f.id)?Sr.map(Ir=>Ir.toastId===f.id?{...Ir,height:pt}:Ir):[{toastId:f.id,height:pt,position:f.position},...Sr])},[G,f.title,f.description,y,f.id]);let lt=Pe.useCallback(()=>{W(!0),Se(ut.current),y(Ze=>Ze.filter(Bt=>Bt.toastId!==f.id)),setTimeout(()=>{E(f)},Kq)},[f,E,y,ut]);Pe.useEffect(()=>{if(f.promise&&te==="loading"||f.duration===1/0||f.type==="loading")return;let Ze,Bt=ze;return C||g||me&&st?(()=>{if(Ot.current<ot.current){let pt=new Date().getTime()-ot.current;Bt=Bt-pt}Ot.current=new Date().getTime()})():Bt!==1/0&&(ot.current=new Date().getTime(),Ze=setTimeout(()=>{var pt;(pt=f.onAutoClose)==null||pt.call(f,f),lt()},Bt)),()=>clearTimeout(Ze)},[C,g,V,f,ze,lt,f.promise,te,me,st]),Pe.useEffect(()=>{let Ze=re.current;if(Ze){let Bt=Ze.getBoundingClientRect().height;return Je(Bt),y(pt=>[{toastId:f.id,height:Bt,position:f.position},...pt]),()=>y(pt=>pt.filter(Sr=>Sr.toastId!==f.id))}},[y,f.id]),Pe.useEffect(()=>{f.delete&&lt()},[lt,f.delete]);function gn(){return Y!=null&&Y.loading?Pe.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},Y.loading):ee?Pe.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},ee):Pe.createElement(Tq,{visible:te==="loading"})}return Pe.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:re,className:T(I,Ne,M==null?void 0:M.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[te],(r=f==null?void 0:f.classNames)==null?void 0:r[te]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:F,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":G,"data-promise":!!f.promise,"data-removed":ae,"data-visible":X,"data-y-position":Ct,"data-x-position":Ge,"data-index":x,"data-front":Ke,"data-swiping":se,"data-dismissible":oe,"data-type":te,"data-invert":Tt,"data-swipe-out":ue,"data-expanded":!!(C||V&&G),style:{"--index":x,"--toasts-before":x,"--z-index":N.length-x,"--offset":`${ae?Ee:ut.current}px`,"--initial-height":V?"auto":`${ke}px`,...A,...f.style},onPointerDown:Ze=>{kt||!oe||(Ce.current=new Date,Se(ut.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(le(!0),ft.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,Bt,pt,Sr;if(ue||!oe)return;ft.current=null;let Ir=Number(((Ze=re.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount").replace("px",""))||0),xr=new Date().getTime()-((Bt=Ce.current)==null?void 0:Bt.getTime()),At=Math.abs(Ir)/xr;if(Math.abs(Ir)>=Yq||At>.11){Se(ut.current),(pt=f.onDismiss)==null||pt.call(f,f),lt(),xe(!0);return}(Sr=re.current)==null||Sr.style.setProperty("--swipe-amount","0px"),le(!1)},onPointerMove:Ze=>{var Bt;if(!ft.current||!oe)return;let pt=Ze.clientY-ft.current.y,Sr=Ze.clientX-ft.current.x,Ir=(Ct==="top"?Math.min:Math.max)(0,pt),xr=Ze.pointerType==="touch"?10:2;Math.abs(Ir)>xr?(Bt=re.current)==null||Bt.style.setProperty("--swipe-amount",`${pt}px`):Math.abs(Sr)>xr&&(ft.current=null)}},Be&&!f.jsx?Pe.createElement("button",{"aria-label":ie,"data-disabled":kt,"data-close-button":!0,onClick:kt||!oe?()=>{}:()=>{var Ze;lt(),(Ze=f.onDismiss)==null||Ze.call(f,f)},className:T(M==null?void 0:M.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Pe.isValidElement(f.title)?f.jsx||f.title:Pe.createElement(Pe.Fragment,null,te||f.icon||f.promise?Pe.createElement("div",{"data-icon":"",className:T(M==null?void 0:M.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||gn():null,f.type!=="loading"?f.icon||(Y==null?void 0:Y[te])||Pq(te):null):null,Pe.createElement("div",{"data-content":"",className:T(M==null?void 0:M.content,(i=f==null?void 0:f.classNames)==null?void 0:i.content)},Pe.createElement("div",{"data-title":"",className:T(M==null?void 0:M.title,(o=f==null?void 0:f.classNames)==null?void 0:o.title)},f.title),f.description?Pe.createElement("div",{"data-description":"",className:T(D,ve,M==null?void 0:M.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),Pe.isValidElement(f.cancel)?f.cancel:f.cancel&&My(f.cancel)?Pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||K,onClick:Ze=>{var Bt,pt;My(f.cancel)&&oe&&((pt=(Bt=f.cancel).onClick)==null||pt.call(Bt,Ze),lt())},className:T(M==null?void 0:M.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Pe.isValidElement(f.action)?f.action:f.action&&My(f.action)?Pe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||Q,onClick:Ze=>{var Bt,pt;My(f.action)&&(Ze.defaultPrevented||((pt=(Bt=f.action).onClick)==null||pt.call(Bt,Ze),lt()))},className:T(M==null?void 0:M.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function R4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Zq=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:o,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=zq,toastOptions:p,dir:g=R4(),gap:y=Gq,loadingIcon:S,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:N,cn:C=Xq}=e,[E,F]=Pe.useState([]),P=Pe.useMemo(()=>Array.from(new Set([r].concat(E.filter(me=>me.position).map(me=>me.position)))),[E,r]),[A,K]=Pe.useState([]),[Q,I]=Pe.useState(!1),[D,L]=Pe.useState(!1),[B,q]=Pe.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Pe.useRef(null),V=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Pe.useRef(null),Y=Pe.useRef(!1),ie=Pe.useCallback(me=>{var T;(T=E.find(G=>G.id===me.id))!=null&&T.delete||ea.dismiss(me.id),F(G=>G.filter(({id:Z})=>Z!==me.id))},[E]);return Pe.useEffect(()=>ea.subscribe(me=>{if(me.dismiss){F(T=>T.map(G=>G.id===me.id?{...G,delete:!0}:G));return}setTimeout(()=>{dT.flushSync(()=>{F(T=>{let G=T.findIndex(Z=>Z.id===me.id);return G!==-1?[...T.slice(0,G),{...T[G],...me},...T.slice(G+1)]:[me,...T]})})})}),[]),Pe.useEffect(()=>{if(c!=="system"){q(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:me})=>{q(me?"dark":"light")})},[c]),Pe.useEffect(()=>{E.length<=1&&I(!1)},[E]),Pe.useEffect(()=>{let me=T=>{var G,Z;n.every(ae=>T[ae]||T.code===ae)&&(I(!0),(G=ee.current)==null||G.focus()),T.code==="Escape"&&(document.activeElement===ee.current||(Z=ee.current)!=null&&Z.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",me),()=>document.removeEventListener("keydown",me)},[n]),Pe.useEffect(()=>{if(ee.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,Y.current=!1)}},[ee.current]),E.length?Pe.createElement("section",{"aria-label":`${x} ${V}`,tabIndex:-1},P.map((me,T)=>{var G;let[Z,ae]=me.split("-");return Pe.createElement("ol",{key:me,dir:g==="auto"?R4():g,tabIndex:-1,ref:ee,className:i,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Z,"data-x-position":ae,style:{"--front-toast-height":`${((G=A[0])==null?void 0:G.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||qq,"--width":`${Hq}px`,"--gap":`${y}px`,...h},onBlur:W=>{Y.current&&!W.currentTarget.contains(W.relatedTarget)&&(Y.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,M.current=W.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{D||I(!1)},onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},E.filter(W=>!W.position&&T===0||W.position===me).map((W,se)=>{var le,ue;return Pe.createElement(Jq,{key:W.id,icons:b,index:se,toast:W,defaultRichColors:u,duration:(le=p==null?void 0:p.duration)!=null?le:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:f,closeButton:(ue=p==null?void 0:p.closeButton)!=null?ue:a,interacting:D,position:me,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ie,toasts:E.filter(xe=>xe.position==W.position),heights:A.filter(xe=>xe.position==W.position),setHeights:K,expandByDefault:s,gap:y,loadingIcon:S,expanded:Q,pauseWhenPageIsHidden:N,cn:C})}))})):null};const Qq=({...e})=>{const{theme:t="system"}=Eq();return l.jsx(Zq,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var eW=l3.useId||(()=>{}),tW=0;function Ra(e){const[t,r]=v.useState(eW());return Dn(()=>{e||r(n=>n??String(tW++))},[e]),e||(t?`radix-${t}`:"")}const rW=["top","right","bottom","left"],Ql=Math.min,ra=Math.max,r0=Math.round,Fy=Math.floor,ec=e=>({x:e,y:e}),nW={left:"right",right:"left",bottom:"top",top:"bottom"},sW={start:"end",end:"start"};function Xb(e,t,r){return ra(e,Ql(t,r))}function Vo(e,t){return typeof e=="function"?e(t):e}function zo(e){return e.split("-")[0]}function Hh(e){return e.split("-")[1]}function S_(e){return e==="x"?"y":"x"}function __(e){return e==="y"?"height":"width"}function tc(e){return["top","bottom"].includes(zo(e))?"y":"x"}function N_(e){return S_(tc(e))}function aW(e,t,r){r===void 0&&(r=!1);const n=Hh(e),s=N_(e),a=__(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=n0(i)),[i,n0(i)]}function iW(e){const t=n0(e);return[Jb(e),t,Jb(t)]}function Jb(e){return e.replace(/start|end/g,t=>sW[t])}function oW(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:i;default:return[]}}function lW(e,t,r,n){const s=Hh(e);let a=oW(zo(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Jb)))),a}function n0(e){return e.replace(/left|right|bottom|top/g,t=>nW[t])}function cW(e){return{top:0,right:0,bottom:0,left:0,...e}}function NL(e){return typeof e!="number"?cW(e):{top:e,right:e,bottom:e,left:e}}function s0(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function O4(e,t,r){let{reference:n,floating:s}=e;const a=tc(t),i=N_(t),o=__(i),c=zo(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[o]/2-s[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Hh(t)){case"start":p[i]-=f*(r&&u?-1:1);break;case"end":p[i]+=f*(r&&u?-1:1);break}return p}const uW=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,o=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=O4(u,n,c),f=n,p={},g=0;for(let y=0;y<o.length;y++){const{name:S,fn:b}=o[y],{x,y:N,data:C,reset:E}=await b({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=x??d,h=N??h,p={...p,[S]:{...p[S],...C}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:h}=O4(u,f,c)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Qp(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Vo(t,e),g=NL(p),S=o[f?h==="floating"?"reference":"floating":h],b=s0(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(S)))==null||r?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),C=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},E=s0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:N,strategy:c}):x);return{top:(b.top-E.top+g.top)/C.y,bottom:(E.bottom-b.bottom+g.bottom)/C.y,left:(b.left-E.left+g.left)/C.x,right:(E.right-b.right+g.right)/C.x}}const dW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Vo(e,t)||{};if(u==null)return{};const h=NL(d),f={x:r,y:n},p=N_(s),g=__(p),y=await i.getDimensions(u),S=p==="y",b=S?"top":"left",x=S?"bottom":"right",N=S?"clientHeight":"clientWidth",C=a.reference[g]+a.reference[p]-f[p]-a.floating[g],E=f[p]-a.reference[p],F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let P=F?F[N]:0;(!P||!await(i.isElement==null?void 0:i.isElement(F)))&&(P=o.floating[N]||a.floating[g]);const A=C/2-E/2,K=P/2-y[g]/2-1,Q=Ql(h[b],K),I=Ql(h[x],K),D=Q,L=P-y[g]-I,B=P/2-y[g]/2+A,q=Xb(D,B,L),ee=!c.arrow&&Hh(s)!=null&&B!==q&&a.reference[g]/2-(B<D?Q:I)-y[g]/2<0,V=ee?B<D?B-D:B-L:0;return{[p]:f[p]+V,data:{[p]:q,centerOffset:B-q-V,...ee&&{alignmentOffset:V}},reset:ee}}}),hW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...S}=Vo(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=zo(s),x=tc(o),N=zo(o)===o,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=f||(N||!y?[n0(o)]:iW(o)),F=g!=="none";!f&&F&&E.push(...lW(o,y,g,C));const P=[o,...E],A=await Qp(t,S),K=[];let Q=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&K.push(A[b]),h){const B=aW(s,i,C);K.push(A[B[0]],A[B[1]])}if(Q=[...Q,{placement:s,overflows:K}],!K.every(B=>B<=0)){var I,D;const B=(((I=a.flip)==null?void 0:I.index)||0)+1,q=P[B];if(q)return{data:{index:B,overflows:Q},reset:{placement:q}};let ee=(D=Q.filter(V=>V.overflows[0]<=0).sort((V,M)=>V.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!ee)switch(p){case"bestFit":{var L;const V=(L=Q.filter(M=>{if(F){const Y=tc(M.placement);return Y===x||Y==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(Y=>Y>0).reduce((Y,ie)=>Y+ie,0)]).sort((M,Y)=>M[1]-Y[1])[0])==null?void 0:L[0];V&&(ee=V);break}case"initialPlacement":ee=o;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function I4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function M4(e){return rW.some(t=>e[t]>=0)}const fW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Vo(e,t);switch(n){case"referenceHidden":{const a=await Qp(t,{...s,elementContext:"reference"}),i=I4(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:M4(i)}}}case"escaped":{const a=await Qp(t,{...s,altBoundary:!0}),i=I4(a,r.floating);return{data:{escapedOffsets:i,escaped:M4(i)}}}default:return{}}}}};async function pW(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=zo(r),o=Hh(r),c=tc(r)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,h=Vo(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const mW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:o}=t,c=await pW(t,e);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},gW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...c}=Vo(e,t),u={x:r,y:n},d=await Qp(t,c),h=tc(zo(s)),f=S_(h);let p=u[f],g=u[h];if(a){const S=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=p+d[S],N=p-d[b];p=Xb(x,p,N)}if(i){const S=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=g+d[S],N=g-d[b];g=Xb(x,g,N)}const y=o.fn({...t,[f]:p,[h]:g});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:a,[h]:i}}}}}},yW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Vo(e,t),d={x:r,y:n},h=tc(s),f=S_(h);let p=d[f],g=d[h];const y=Vo(o,t),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=f==="y"?"height":"width",C=a.reference[f]-a.floating[N]+S.mainAxis,E=a.reference[f]+a.reference[N]-S.mainAxis;p<C?p=C:p>E&&(p=E)}if(u){var b,x;const N=f==="y"?"width":"height",C=["top","left"].includes(zo(s)),E=a.reference[h]-a.floating[N]+(C&&((b=i.offset)==null?void 0:b[h])||0)+(C?0:S.crossAxis),F=a.reference[h]+a.reference[N]+(C?0:((x=i.offset)==null?void 0:x[h])||0)-(C?S.crossAxis:0);g<E?g=E:g>F&&(g=F)}return{[f]:p,[h]:g}}}},vW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:o}=t,{apply:c=()=>{},...u}=Vo(e,t),d=await Qp(t,u),h=zo(s),f=Hh(s),p=tc(s)==="y",{width:g,height:y}=a.floating;let S,b;h==="top"||h==="bottom"?(S=h,b=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(b=h,S=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,N=g-d.left-d.right,C=Ql(y-d[S],x),E=Ql(g-d[b],N),F=!t.middlewareData.shift;let P=C,A=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=x),F&&!f){const Q=ra(d.left,0),I=ra(d.right,0),D=ra(d.top,0),L=ra(d.bottom,0);p?A=g-2*(Q!==0||I!==0?Q+I:ra(d.left,d.right)):P=y-2*(D!==0||L!==0?D+L:ra(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:P});const K=await i.getDimensions(o.floating);return g!==K.width||y!==K.height?{reset:{rects:!0}}:{}}}};function v1(){return typeof window<"u"}function Gh(e){return jL(e)?(e.nodeName||"").toLowerCase():"#document"}function oa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oo(e){var t;return(t=(jL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jL(e){return v1()?e instanceof Node||e instanceof oa(e).Node:!1}function vi(e){return v1()?e instanceof Element||e instanceof oa(e).Element:!1}function so(e){return v1()?e instanceof HTMLElement||e instanceof oa(e).HTMLElement:!1}function F4(e){return!v1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oa(e).ShadowRoot}function rg(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=xi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function xW(e){return["table","td","th"].includes(Gh(e))}function x1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function j_(e){const t=C_(),r=vi(e)?xi(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function wW(e){let t=rc(e);for(;so(t)&&!kh(t);){if(j_(t))return t;if(x1(t))return null;t=rc(t)}return null}function C_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kh(e){return["html","body","#document"].includes(Gh(e))}function xi(e){return oa(e).getComputedStyle(e)}function w1(e){return vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rc(e){if(Gh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||F4(e)&&e.host||oo(e);return F4(t)?t.host:t}function CL(e){const t=rc(e);return kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:so(t)&&rg(t)?t:CL(t)}function em(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=CL(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=oa(s);if(a){const o=Zb(i);return t.concat(i,i.visualViewport||[],rg(s)?s:[],o&&r?em(o):[])}return t.concat(s,em(s,[],r))}function Zb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kL(e){const t=xi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=so(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,o=r0(r)!==a||r0(n)!==i;return o&&(r=a,n=i),{width:r,height:n,$:o}}function k_(e){return vi(e)?e:e.contextElement}function Kd(e){const t=k_(e);if(!so(t))return ec(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=kL(t);let i=(a?r0(r.width):r.width)/n,o=(a?r0(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const bW=ec(0);function EL(e){const t=oa(e);return!C_()||!t.visualViewport?bW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==oa(e)?!1:t}function mu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=k_(e);let i=ec(1);t&&(n?vi(n)&&(i=Kd(n)):i=Kd(e));const o=SW(a,r,n)?EL(a):ec(0);let c=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const f=oa(a),p=n&&vi(n)?oa(n):n;let g=f,y=Zb(g);for(;y&&n&&p!==g;){const S=Kd(y),b=y.getBoundingClientRect(),x=xi(y),N=b.left+(y.clientLeft+parseFloat(x.paddingLeft))*S.x,C=b.top+(y.clientTop+parseFloat(x.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,h*=S.y,c+=N,u+=C,g=oa(y),y=Zb(g)}}return s0({width:d,height:h,x:c,y:u})}function _W(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=oo(n),o=t?x1(t.floating):!1;if(n===i||o&&a)return r;let c={scrollLeft:0,scrollTop:0},u=ec(1);const d=ec(0),h=so(n);if((h||!h&&!a)&&((Gh(n)!=="body"||rg(i))&&(c=w1(n)),so(n))){const f=mu(n);u=Kd(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function NW(e){return Array.from(e.getClientRects())}function Qb(e,t){const r=w1(e).scrollLeft;return t?t.left+r:mu(oo(e)).left+r}function jW(e){const t=oo(e),r=w1(e),n=e.ownerDocument.body,s=ra(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ra(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Qb(e);const o=-r.scrollTop;return xi(n).direction==="rtl"&&(i+=ra(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:o}}function CW(e,t){const r=oa(e),n=oo(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,o=0,c=0;if(s){a=s.width,i=s.height;const u=C_();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:o,y:c}}function kW(e,t){const r=mu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=so(e)?Kd(e):ec(1),i=e.clientWidth*a.x,o=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:o,x:c,y:u}}function B4(e,t,r){let n;if(t==="viewport")n=CW(e,r);else if(t==="document")n=jW(oo(e));else if(vi(t))n=kW(t,r);else{const s=EL(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return s0(n)}function PL(e,t){const r=rc(e);return r===t||!vi(r)||kh(r)?!1:xi(r).position==="fixed"||PL(r,t)}function EW(e,t){const r=t.get(e);if(r)return r;let n=em(e,[],!1).filter(o=>vi(o)&&Gh(o)!=="body"),s=null;const a=xi(e).position==="fixed";let i=a?rc(e):e;for(;vi(i)&&!kh(i);){const o=xi(i),c=j_(i);!c&&o.position==="fixed"&&(s=null),(a?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||rg(i)&&!c&&PL(e,i))?n=n.filter(d=>d!==i):s=o,i=rc(i)}return t.set(e,n),n}function PW(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?x1(t)?[]:EW(t,this._c):[].concat(r),n],o=i[0],c=i.reduce((u,d)=>{const h=B4(t,d,s);return u.top=ra(h.top,u.top),u.right=Ql(h.right,u.right),u.bottom=Ql(h.bottom,u.bottom),u.left=ra(h.left,u.left),u},B4(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function AW(e){const{width:t,height:r}=kL(e);return{width:t,height:r}}function TW(e,t,r){const n=so(t),s=oo(t),a=r==="fixed",i=mu(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=ec(0);if(n||!n&&!a)if((Gh(t)!=="body"||rg(s))&&(o=w1(t)),n){const p=mu(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=Qb(s));let u=0,d=0;if(s&&!n&&!a){const p=s.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-Qb(s,p)}const h=i.left+o.scrollLeft-c.x-u,f=i.top+o.scrollTop-c.y-d;return{x:h,y:f,width:i.width,height:i.height}}function Rw(e){return xi(e).position==="static"}function $4(e,t){if(!so(e)||xi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return oo(e)===r&&(r=r.ownerDocument.body),r}function AL(e,t){const r=oa(e);if(x1(e))return r;if(!so(e)){let s=rc(e);for(;s&&!kh(s);){if(vi(s)&&!Rw(s))return s;s=rc(s)}return r}let n=$4(e,t);for(;n&&xW(n)&&Rw(n);)n=$4(n,t);return n&&kh(n)&&Rw(n)&&!j_(n)?r:n||wW(e)||r}const LW=async function(e){const t=this.getOffsetParent||AL,r=this.getDimensions,n=await r(e.floating);return{reference:TW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function DW(e){return xi(e).direction==="rtl"}const RW={convertOffsetParentRelativeRectToViewportRelativeRect:_W,getDocumentElement:oo,getClippingRect:PW,getOffsetParent:AL,getElementRects:LW,getClientRects:NW,getDimensions:AW,getScale:Kd,isElement:vi,isRTL:DW};function OW(e,t){let r=null,n;const s=oo(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(o||t(),!h||!f)return;const p=Fy(d),g=Fy(s.clientWidth-(u+h)),y=Fy(s.clientHeight-(d+f)),S=Fy(u),x={rootMargin:-p+"px "+-g+"px "+-y+"px "+-S+"px",threshold:ra(0,Ql(1,c))||1};let N=!0;function C(E){const F=E[0].intersectionRatio;if(F!==c){if(!N)return i();F?i(!1,F):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N=!1}try{r=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,x)}r.observe(e)}return i(!0),a}function IW(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=k_(e),d=s||a?[...u?em(u):[],...em(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const h=u&&o?OW(u,r):null;let f=-1,p=null;i&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=p)==null||N.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,y=c?mu(e):null;c&&S();function S(){const b=mu(e);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&r(),y=b,g=requestAnimationFrame(S)}return r(),()=>{var b;d.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const MW=mW,FW=gW,BW=hW,$W=vW,UW=fW,U4=dW,VW=yW,zW=(e,t,r)=>{const n=new Map,s={platform:RW,...r},a={...s.platform,_c:n};return uW(e,t,{...s,platform:a})};var mv=typeof document<"u"?v.useLayoutEffect:v.useEffect;function a0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!a0(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!a0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function TL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function V4(e,t){const r=TL(e);return Math.round(t*r)/r}function Ow(e){const t=v.useRef(e);return mv(()=>{t.current=e}),t}function qW(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=v.useState(n);a0(f,n)||p(n);const[g,y]=v.useState(null),[S,b]=v.useState(null),x=v.useCallback(M=>{M!==F.current&&(F.current=M,y(M))},[]),N=v.useCallback(M=>{M!==P.current&&(P.current=M,b(M))},[]),C=a||g,E=i||S,F=v.useRef(null),P=v.useRef(null),A=v.useRef(d),K=c!=null,Q=Ow(c),I=Ow(s),D=Ow(u),L=v.useCallback(()=>{if(!F.current||!P.current)return;const M={placement:t,strategy:r,middleware:f};I.current&&(M.platform=I.current),zW(F.current,P.current,M).then(Y=>{const ie={...Y,isPositioned:D.current!==!1};B.current&&!a0(A.current,ie)&&(A.current=ie,_u.flushSync(()=>{h(ie)}))})},[f,t,r,I,D]);mv(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[u]);const B=v.useRef(!1);mv(()=>(B.current=!0,()=>{B.current=!1}),[]),mv(()=>{if(C&&(F.current=C),E&&(P.current=E),C&&E){if(Q.current)return Q.current(C,E,L);L()}},[C,E,L,Q,K]);const q=v.useMemo(()=>({reference:F,floating:P,setReference:x,setFloating:N}),[x,N]),ee=v.useMemo(()=>({reference:C,floating:E}),[C,E]),V=v.useMemo(()=>{const M={position:r,left:0,top:0};if(!ee.floating)return M;const Y=V4(ee.floating,d.x),ie=V4(ee.floating,d.y);return o?{...M,transform:"translate("+Y+"px, "+ie+"px)",...TL(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:ie}},[r,o,ee.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:L,refs:q,elements:ee,floatingStyles:V}),[d,L,q,ee,V])}const WW=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?U4({element:n.current,padding:s}).fn(r):{}:n?U4({element:n,padding:s}).fn(r):{}}}},HW=(e,t)=>({...MW(e),options:[e,t]}),GW=(e,t)=>({...FW(e),options:[e,t]}),YW=(e,t)=>({...VW(e),options:[e,t]}),KW=(e,t)=>({...BW(e),options:[e,t]}),XW=(e,t)=>({...$W(e),options:[e,t]}),JW=(e,t)=>({...UW(e),options:[e,t]}),ZW=(e,t)=>({...WW(e),options:[e,t]});var QW="Arrow",LL=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return l.jsx(mt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});LL.displayName=QW;var eH=LL;function tH(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,rH(s,...t)]}function rH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function E_(e){const[t,r]=v.useState(void 0);return Dn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var P_="Popper",[DL,mc]=tH(P_),[nH,RL]=DL(P_),OL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return l.jsx(nH,{scope:t,anchor:n,onAnchorChange:s,children:r})};OL.displayName=P_;var IL="PopperAnchor",ML=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=RL(IL,r),i=v.useRef(null),o=qt(t,i);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(mt.div,{...s,ref:o})});ML.displayName=IL;var A_="PopperContent",[sH,aH]=DL(A_),FL=v.forwardRef((e,t)=>{var se,le,ue,xe,Ee,Se;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=e,S=RL(A_,r),[b,x]=v.useState(null),N=qt(t,ke=>x(ke)),[C,E]=v.useState(null),F=E_(C),P=(F==null?void 0:F.width)??0,A=(F==null?void 0:F.height)??0,K=n+(a!=="center"?"-"+a:""),Q=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],D=I.length>0,L={padding:Q,boundary:I.filter(oH),altBoundary:D},{refs:B,floatingStyles:q,placement:ee,isPositioned:V,middlewareData:M}=qW({strategy:"fixed",placement:K,whileElementsMounted:(...ke)=>IW(...ke,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[HW({mainAxis:s+A,alignmentAxis:i}),c&&GW({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?YW():void 0,...L}),c&&KW({...L}),XW({...L,apply:({elements:ke,rects:Je,availableWidth:Ce,availableHeight:re})=>{const{width:Ke,height:X}=Je.reference,te=ke.floating.style;te.setProperty("--radix-popper-available-width",`${Ce}px`),te.setProperty("--radix-popper-available-height",`${re}px`),te.setProperty("--radix-popper-anchor-width",`${Ke}px`),te.setProperty("--radix-popper-anchor-height",`${X}px`)}}),C&&ZW({element:C,padding:o}),lH({arrowWidth:P,arrowHeight:A}),f&&JW({strategy:"referenceHidden",...L})]}),[Y,ie]=UL(ee),me=Vn(g);Dn(()=>{V&&(me==null||me())},[V,me]);const T=(se=M.arrow)==null?void 0:se.x,G=(le=M.arrow)==null?void 0:le.y,Z=((ue=M.arrow)==null?void 0:ue.centerOffset)!==0,[ae,W]=v.useState();return Dn(()=>{b&&W(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:V?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(xe=M.transformOrigin)==null?void 0:xe.x,(Ee=M.transformOrigin)==null?void 0:Ee.y].join(" "),...((Se=M.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(sH,{scope:r,placedSide:Y,onArrowChange:E,arrowX:T,arrowY:G,shouldHideArrow:Z,children:l.jsx(mt.div,{"data-side":Y,"data-align":ie,...y,ref:N,style:{...y.style,animation:V?void 0:"none"}})})})});FL.displayName=A_;var BL="PopperArrow",iH={top:"bottom",right:"left",bottom:"top",left:"right"},$L=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=aH(BL,n),i=iH[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(eH,{...s,ref:r,style:{...s.style,display:"block"}})})});$L.displayName=BL;function oH(e){return e!==null}var lH=e=>({name:"transformOrigin",options:e,fn(t){var S,b,x;const{placement:r,rects:n,middlewareData:s}=t,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,o=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=UL(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=s.arrow)==null?void 0:b.x)??0)+o/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=i?h:`${f}px`,y=`${-c}px`):u==="top"?(g=i?h:`${f}px`,y=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=i?h:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,y=i?h:`${p}px`),{data:{x:g,y}}}});function UL(e){const[t,r="center"]=e.split("-");return[t,r]}var b1=OL,ng=ML,S1=FL,_1=$L,[N1,bde]=pa("Tooltip",[mc]),j1=mc(),VL="TooltipProvider",cH=700,e5="tooltip.open",[uH,T_]=N1(VL),zL=e=>{const{__scopeTooltip:t,delayDuration:r=cH,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,o]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(uH,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};zL.displayName=VL;var C1="Tooltip",[dH,k1]=N1(C1),qL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:o}=e,c=T_(C1,e.__scopeTooltip),u=j1(t),[d,h]=v.useState(null),f=Ra(),p=v.useRef(0),g=i??c.disableHoverableContent,y=o??c.delayDuration,S=v.useRef(!1),[b=!1,x]=Vs({prop:n,defaultProp:s,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(e5))):c.onClose(),a==null||a(P)}}),N=v.useMemo(()=>b?S.current?"delayed-open":"instant-open":"closed",[b]),C=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,S.current=!1,x(!0)},[x]),E=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),F=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{S.current=!0,x(!0),p.current=0},y)},[y,x]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(b1,{...u,children:l.jsx(dH,{scope:t,contentId:f,open:b,stateAttribute:N,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?F():C()},[c.isOpenDelayed,F,C]),onTriggerLeave:v.useCallback(()=>{g?E():(window.clearTimeout(p.current),p.current=0)},[E,g]),onOpen:C,onClose:E,disableHoverableContent:g,children:r})})};qL.displayName=C1;var t5="TooltipTrigger",WL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=k1(t5,r),a=T_(t5,r),i=j1(r),o=v.useRef(null),c=qt(t,o,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(ng,{asChild:!0,...i,children:l.jsx(mt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Xe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Xe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Xe(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Xe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Xe(e.onBlur,s.onClose),onClick:Xe(e.onClick,s.onClose)})})});WL.displayName=t5;var hH="TooltipPortal",[Sde,fH]=N1(hH,{forceMount:void 0}),Eh="TooltipContent",HL=v.forwardRef((e,t)=>{const r=fH(Eh,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=k1(Eh,e.__scopeTooltip);return l.jsx(Ws,{present:n||i.open,children:i.disableHoverableContent?l.jsx(GL,{side:s,...a,ref:t}):l.jsx(pH,{side:s,...a,ref:t})})}),pH=v.forwardRef((e,t)=>{const r=k1(Eh,e.__scopeTooltip),n=T_(Eh,e.__scopeTooltip),s=v.useRef(null),a=qt(t,s),[i,o]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=v.useCallback(()=>{o(null),h(!1)},[h]),p=v.useCallback((g,y)=>{const S=g.currentTarget,b={x:g.clientX,y:g.clientY},x=vH(b,S.getBoundingClientRect()),N=xH(b,x),C=wH(y.getBoundingClientRect()),E=SH([...N,...C]);o(E),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(c&&d){const g=S=>p(S,d),y=S=>p(S,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[c,d,p,f]),v.useEffect(()=>{if(i){const g=y=>{const S=y.target,b={x:y.clientX,y:y.clientY},x=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),N=!bH(b,i);x?f():N&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,f]),l.jsx(GL,{...e,ref:a})}),[mH,gH]=N1(C1,{isInside:!1}),GL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,c=k1(Eh,r),u=j1(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(e5,d),()=>document.removeEventListener(e5,d)),[d]),v.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(S1,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(h_,{children:n}),l.jsx(mH,{scope:r,isInside:!0,children:l.jsx(zV,{id:c.contentId,role:"tooltip",children:s||n})})]})})});HL.displayName=Eh;var YL="TooltipArrow",yH=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=j1(r);return gH(YL,r).isInside?null:l.jsx(_1,{...s,...n,ref:t})});yH.displayName=YL;function vH(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function xH(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function wH(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function bH(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const o=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function SH(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_H(t)}function _H(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var NH=zL,jH=qL,CH=WL,KL=HL;const r5=NH,z4=jH,q4=CH,n5=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(KL,{ref:n,sideOffset:t,className:Ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));n5.displayName=KL.displayName;var E1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},P1=typeof window>"u"||"Deno"in globalThis;function ni(){}function kH(e,t){return typeof e=="function"?e(t):e}function EH(e){return typeof e=="number"&&e>=0&&e!==1/0}function PH(e,t){return Math.max(e+(t||0)-Date.now(),0)}function W4(e,t){return typeof e=="function"?e(t):e}function AH(e,t){return typeof e=="function"?e(t):e}function H4(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==L_(i,t.options))return!1}else if(!rm(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||a&&!a(t))}function G4(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(tm(t.options.mutationKey)!==tm(a))return!1}else if(!rm(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function L_(e,t){return((t==null?void 0:t.queryKeyHashFn)||tm)(e)}function tm(e){return JSON.stringify(e,(t,r)=>s5(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function rm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!rm(e[r],t[r])):!1}function XL(e,t){if(e===t)return e;const r=Y4(e)&&Y4(t);if(r||s5(e)&&s5(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,o=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=XL(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:o}return t}function Y4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function s5(e){if(!K4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!K4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function K4(e){return Object.prototype.toString.call(e)==="[object Object]"}function TH(e){return new Promise(t=>{setTimeout(t,e)})}function LH(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?XL(e,t):t}function DH(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function RH(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var D_=Symbol();function JL(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===D_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var eu,Ll,uh,zP,OH=(zP=class extends E1{constructor(){super();lr(this,eu);lr(this,Ll);lr(this,uh);Vt(this,uh,t=>{if(!P1&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Fe(this,Ll)||this.setEventListener(Fe(this,uh))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Ll))==null||t.call(this),Vt(this,Ll,void 0))}setEventListener(t){var r;Vt(this,uh,t),(r=Fe(this,Ll))==null||r.call(this),Vt(this,Ll,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Fe(this,eu)!==t&&(Vt(this,eu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Fe(this,eu)=="boolean"?Fe(this,eu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},eu=new WeakMap,Ll=new WeakMap,uh=new WeakMap,zP),ZL=new OH,dh,Dl,hh,qP,IH=(qP=class extends E1{constructor(){super();lr(this,dh,!0);lr(this,Dl);lr(this,hh);Vt(this,hh,t=>{if(!P1&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Fe(this,Dl)||this.setEventListener(Fe(this,hh))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Dl))==null||t.call(this),Vt(this,Dl,void 0))}setEventListener(t){var r;Vt(this,hh,t),(r=Fe(this,Dl))==null||r.call(this),Vt(this,Dl,t(this.setOnline.bind(this)))}setOnline(t){Fe(this,dh)!==t&&(Vt(this,dh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Fe(this,dh)}},dh=new WeakMap,Dl=new WeakMap,hh=new WeakMap,qP),i0=new IH;function MH(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function FH(e){return Math.min(1e3*2**e,3e4)}function QL(e){return(e??"online")==="online"?i0.isOnline():!0}var eD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Iw(e){return e instanceof eD}function tD(e){let t=!1,r=0,n=!1,s;const a=MH(),i=y=>{var S;n||(f(new eD(y)),(S=e.abort)==null||S.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>ZL.isFocused()&&(e.networkMode==="always"||i0.isOnline())&&e.canRun(),d=()=>QL(e.networkMode)&&e.canRun(),h=y=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,y),s==null||s(),a.resolve(y))},f=y=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,y),s==null||s(),a.reject(y))},p=()=>new Promise(y=>{var S;s=b=>{(n||u())&&y(b)},(S=e.onPause)==null||S.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(n)return;let y;const S=r===0?e.initialPromise:void 0;try{y=S??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var F;if(n)return;const x=e.retry??(P1?0:3),N=e.retryDelay??FH,C=typeof N=="function"?N(r,b):N,E=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!E){f(b);return}r++,(F=e.onFail)==null||F.call(e,r,b),TH(C).then(()=>u()?void 0:p()).then(()=>{t?f(b):g()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),a)}}function BH(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const a=o=>{t?e.push(o):s(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var ms=BH(),tu,WP,rD=(WP=class{constructor(){lr(this,tu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EH(this.gcTime)&&Vt(this,tu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(P1?1/0:5*60*1e3))}clearGcTimeout(){Fe(this,tu)&&(clearTimeout(Fe(this,tu)),Vt(this,tu,void 0))}},tu=new WeakMap,WP),fh,ph,ka,Zn,Wm,ru,ai,No,HP,$H=(HP=class extends rD{constructor(t){super();lr(this,ai);lr(this,fh);lr(this,ph);lr(this,ka);lr(this,Zn);lr(this,Wm);lr(this,ru);Vt(this,ru,!1),Vt(this,Wm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Vt(this,ka,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Vt(this,fh,VH(this.options)),this.state=t.state??Fe(this,fh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Fe(this,Zn))==null?void 0:t.promise}setOptions(t){this.options={...Fe(this,Wm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Fe(this,ka).remove(this)}setData(t,r){const n=LH(this.state.data,t,this.options);return Wn(this,ai,No).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Wn(this,ai,No).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Fe(this,Zn))==null?void 0:n.promise;return(s=Fe(this,Zn))==null||s.cancel(t),r?r.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Fe(this,fh))}isActive(){return this.observers.some(t=>AH(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===D_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!PH(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Zn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Zn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Fe(this,ka).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Fe(this,Zn)&&(Fe(this,ru)?Fe(this,Zn).cancel({revert:!0}):Fe(this,Zn).cancelRetry()),this.scheduleGc()),Fe(this,ka).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wn(this,ai,No).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Fe(this,Zn))return Fe(this,Zn).continueRetry(),Fe(this,Zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Vt(this,ru,!0),n.signal)})},a=()=>{const h=JL(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),Vt(this,ru,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),Vt(this,ph,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Wn(this,ai,No).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const o=h=>{var f,p,g,y;Iw(h)&&h.silent||Wn(this,ai,No).call(this,{type:"error",error:h}),Iw(h)||((p=(f=Fe(this,ka).config).onError)==null||p.call(f,h,this),(y=(g=Fe(this,ka).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Vt(this,Zn,tD({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,p,g,y;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(S){o(S);return}(p=(f=Fe(this,ka).config).onSuccess)==null||p.call(f,h,this),(y=(g=Fe(this,ka).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,f)=>{Wn(this,ai,No).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Wn(this,ai,No).call(this,{type:"pause"})},onContinue:()=>{Wn(this,ai,No).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),Fe(this,Zn).start()}},fh=new WeakMap,ph=new WeakMap,ka=new WeakMap,Zn=new WeakMap,Wm=new WeakMap,ru=new WeakMap,ai=new WeakSet,No=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...UH(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Iw(s)&&s.revert&&Fe(this,ph)?{...Fe(this,ph),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ms.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Fe(this,ka).notify({query:this,type:"updated",action:t})})},HP);function UH(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QL(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VH(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vi,GP,zH=(GP=class extends E1{constructor(t={}){super();lr(this,Vi);this.config=t,Vt(this,Vi,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??L_(s,r);let i=this.get(a);return i||(i=new $H({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){Fe(this,Vi).has(t.queryHash)||(Fe(this,Vi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Fe(this,Vi).get(t.queryHash);r&&(t.destroy(),r===t&&Fe(this,Vi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Fe(this,Vi).get(t)}getAll(){return[...Fe(this,Vi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>H4(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>H4(t,n)):r}notify(t){ms.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ms.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ms.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Vi=new WeakMap,GP),zi,ds,nu,qi,wl,YP,qH=(YP=class extends rD{constructor(t){super();lr(this,qi);lr(this,zi);lr(this,ds);lr(this,nu);this.mutationId=t.mutationId,Vt(this,ds,t.mutationCache),Vt(this,zi,[]),this.state=t.state||WH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Fe(this,zi).includes(t)||(Fe(this,zi).push(t),this.clearGcTimeout(),Fe(this,ds).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Vt(this,zi,Fe(this,zi).filter(r=>r!==t)),this.scheduleGc(),Fe(this,ds).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Fe(this,zi).length||(this.state.status==="pending"?this.scheduleGc():Fe(this,ds).remove(this))}continue(){var t;return((t=Fe(this,nu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,o,c,u,d,h,f,p,g,y,S,b,x,N,C,E,F,P;Vt(this,nu,tD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,K)=>{Wn(this,qi,wl).call(this,{type:"failed",failureCount:A,error:K})},onPause:()=>{Wn(this,qi,wl).call(this,{type:"pause"})},onContinue:()=>{Wn(this,qi,wl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Fe(this,ds).canRun(this)}));const r=this.state.status==="pending",n=!Fe(this,nu).canStart();try{if(!r){Wn(this,qi,wl).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=Fe(this,ds).config).onMutate)==null?void 0:a.call(s,t,this));const K=await((o=(i=this.options).onMutate)==null?void 0:o.call(i,t));K!==this.state.context&&Wn(this,qi,wl).call(this,{type:"pending",context:K,variables:t,isPaused:n})}const A=await Fe(this,nu).start();return await((u=(c=Fe(this,ds).config).onSuccess)==null?void 0:u.call(c,A,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,A,t,this.state.context)),await((p=(f=Fe(this,ds).config).onSettled)==null?void 0:p.call(f,A,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,A,null,t,this.state.context)),Wn(this,qi,wl).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(S=Fe(this,ds).config).onError)==null?void 0:b.call(S,A,t,this.state.context,this)),await((N=(x=this.options).onError)==null?void 0:N.call(x,A,t,this.state.context)),await((E=(C=Fe(this,ds).config).onSettled)==null?void 0:E.call(C,void 0,A,this.state.variables,this.state.context,this)),await((P=(F=this.options).onSettled)==null?void 0:P.call(F,void 0,A,t,this.state.context)),A}finally{Wn(this,qi,wl).call(this,{type:"error",error:A})}}finally{Fe(this,ds).runNext(this)}}},zi=new WeakMap,ds=new WeakMap,nu=new WeakMap,qi=new WeakSet,wl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ms.batch(()=>{Fe(this,zi).forEach(n=>{n.onMutationUpdate(t)}),Fe(this,ds).notify({mutation:this,type:"updated",action:t})})},YP);function WH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qs,Hm,KP,HH=(KP=class extends E1{constructor(t={}){super();lr(this,Qs);lr(this,Hm);this.config=t,Vt(this,Qs,new Map),Vt(this,Hm,Date.now())}build(t,r,n){const s=new qH({mutationCache:this,mutationId:++fy(this,Hm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=By(t),n=Fe(this,Qs).get(r)??[];n.push(t),Fe(this,Qs).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=By(t);if(Fe(this,Qs).has(r)){const s=(n=Fe(this,Qs).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?Fe(this,Qs).delete(r):Fe(this,Qs).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=Fe(this,Qs).get(By(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=Fe(this,Qs).get(By(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Fe(this,Qs).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>G4(r,n))}findAll(t={}){return this.getAll().filter(r=>G4(t,r))}notify(t){ms.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ms.batch(()=>Promise.all(t.map(r=>r.continue().catch(ni))))}},Qs=new WeakMap,Hm=new WeakMap,KP);function By(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function X4(e){return{onFetch:(t,r)=>{var d,h,f,p,g;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const S=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=JL(t.options,t.fetchOptions),x=async(N,C,E)=>{if(y)return Promise.reject();if(C==null&&N.pages.length)return Promise.resolve(N);const F={queryKey:t.queryKey,pageParam:C,direction:E?"backward":"forward",meta:t.options.meta};S(F);const P=await b(F),{maxPages:A}=t.options,K=E?RH:DH;return{pages:K(N.pages,P,A),pageParams:K(N.pageParams,C,A)}};if(s&&a.length){const N=s==="backward",C=N?GH:J4,E={pages:a,pageParams:i},F=C(n,E);o=await x(E,F,N)}else{const N=e??a.length;do{const C=c===0?i[0]??n.initialPageParam:J4(n,o);if(c>0&&C==null)break;o=await x(o,C),c++}while(c<N)}return o};t.options.persister?t.fetchFn=()=>{var y,S;return(S=(y=t.options).persister)==null?void 0:S.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function J4(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function GH(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Hr,Rl,Ol,mh,gh,Il,yh,vh,XP,YH=(XP=class{constructor(e={}){lr(this,Hr);lr(this,Rl);lr(this,Ol);lr(this,mh);lr(this,gh);lr(this,Il);lr(this,yh);lr(this,vh);Vt(this,Hr,e.queryCache||new zH),Vt(this,Rl,e.mutationCache||new HH),Vt(this,Ol,e.defaultOptions||{}),Vt(this,mh,new Map),Vt(this,gh,new Map),Vt(this,Il,0)}mount(){fy(this,Il)._++,Fe(this,Il)===1&&(Vt(this,yh,ZL.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,Hr).onFocus())})),Vt(this,vh,i0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,Hr).onOnline())})))}unmount(){var e,t;fy(this,Il)._--,Fe(this,Il)===0&&((e=Fe(this,yh))==null||e.call(this),Vt(this,yh,void 0),(t=Fe(this,vh))==null||t.call(this),Vt(this,vh,void 0))}isFetching(e){return Fe(this,Hr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Fe(this,Rl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,Hr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=Fe(this,Hr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(W4(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Fe(this,Hr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Fe(this,Hr).get(n.queryHash),a=s==null?void 0:s.state.data,i=kH(t,a);if(i!==void 0)return Fe(this,Hr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ms.batch(()=>Fe(this,Hr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,Hr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Fe(this,Hr);ms.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Fe(this,Hr),n={type:"active",...e};return ms.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ms.batch(()=>Fe(this,Hr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ni).catch(ni)}invalidateQueries(e={},t={}){return ms.batch(()=>{if(Fe(this,Hr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ms.batch(()=>Fe(this,Hr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ni)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Fe(this,Hr).build(this,t);return r.isStaleByTime(W4(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=X4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=X4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return i0.isOnline()?Fe(this,Rl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Fe(this,Hr)}getMutationCache(){return Fe(this,Rl)}getDefaultOptions(){return Fe(this,Ol)}setDefaultOptions(e){Vt(this,Ol,e)}setQueryDefaults(e,t){Fe(this,mh).set(tm(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Fe(this,mh).values()];let r={};return t.forEach(n=>{rm(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){Fe(this,gh).set(tm(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Fe(this,gh).values()];let r={};return t.forEach(n=>{rm(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Fe(this,Ol).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=L_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===D_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Fe(this,Ol).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Fe(this,Hr).clear(),Fe(this,Rl).clear()}},Hr=new WeakMap,Rl=new WeakMap,Ol=new WeakMap,mh=new WeakMap,gh=new WeakMap,Il=new WeakMap,yh=new WeakMap,vh=new WeakMap,XP),KH=v.createContext(void 0),XH=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(KH.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nm.apply(this,arguments)}var Bl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bl||(Bl={}));const Z4="popstate";function JH(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:o}=n.location;return a5("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:o0(s)}return QH(t,r,null,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nD(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZH(){return Math.random().toString(36).substr(2,8)}function Q4(e,t){return{usr:e.state,key:e.key,idx:t}}function a5(e,t,r,n){return r===void 0&&(r=null),nm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yh(t):t,{state:r,key:t&&t.key||n||ZH()})}function o0(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function QH(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,o=Bl.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(nm({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){o=Bl.Pop;let S=d(),b=S==null?null:S-u;u=S,c&&c({action:o,location:y.location,delta:b})}function f(S,b){o=Bl.Push;let x=a5(y.location,S,b);u=d()+1;let N=Q4(x,u),C=y.createHref(x);try{i.pushState(N,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(C)}a&&c&&c({action:o,location:y.location,delta:1})}function p(S,b){o=Bl.Replace;let x=a5(y.location,S,b);u=d();let N=Q4(x,u),C=y.createHref(x);i.replaceState(N,"",C),a&&c&&c({action:o,location:y.location,delta:0})}function g(S){let b=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof S=="string"?S:o0(S);return x=x.replace(/ $/,"%20"),ln(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let y={get action(){return o},get location(){return e(s,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Z4,h),c=S,()=>{s.removeEventListener(Z4,h),c=null}},createHref(S){return t(s,S)},createURL:g,encodeLocation(S){let b=g(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(S){return i.go(S)}};return y}var ek;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ek||(ek={}));function eG(e,t,r){return r===void 0&&(r="/"),tG(e,t,r,!1)}function tG(e,t,r,n){let s=typeof t=="string"?Yh(t):t,a=R_(s.pathname||"/",r);if(a==null)return null;let i=sD(e);rG(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=fG(a);o=dG(i[c],u,n)}return o}function sD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Kl([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(ln(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sD(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:cG(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of aD(a.path))s(a,i,c)}),t}function aD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=aD(n.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function rG(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:uG(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nG=/^:[\w-]+$/,sG=3,aG=2,iG=1,oG=10,lG=-2,tk=e=>e==="*";function cG(e,t){let r=e.split("/"),n=r.length;return r.some(tk)&&(n+=lG),t&&(n+=aG),r.filter(s=>!tk(s)).reduce((s,a)=>s+(nG.test(a)?sG:a===""?iG:oG),n)}function uG(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function dG(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=rk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=rk({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Kl([a,h.pathname]),pathnameBase:yG(Kl([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Kl([a,h.pathnameBase]))}return i}function rk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hG(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function hG(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),nD(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function fG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nD(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function R_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function pG(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Yh(e):e;return{pathname:r?r.startsWith("/")?r:mG(r,t):t,search:vG(n),hash:xG(s)}}function mG(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Mw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gG(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function O_(e,t){let r=gG(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function I_(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Yh(e):(s=nm({},e),ln(!s.pathname||!s.pathname.includes("?"),Mw("?","pathname","search",s)),ln(!s.pathname||!s.pathname.includes("#"),Mw("#","pathname","hash",s)),ln(!s.search||!s.search.includes("#"),Mw("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=pG(s,o),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Kl=e=>e.join("/").replace(/\/\/+/g,"/"),yG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iD=["post","put","patch","delete"];new Set(iD);const bG=["get",...iD];new Set(bG);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}const M_=v.createContext(null),SG=v.createContext(null),gc=v.createContext(null),A1=v.createContext(null),Ko=v.createContext({outlet:null,matches:[],isDataRoute:!1}),oD=v.createContext(null);function _G(e,t){let{relative:r}=t===void 0?{}:t;Kh()||ln(!1);let{basename:n,navigator:s}=v.useContext(gc),{hash:a,pathname:i,search:o}=cD(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Kl([n,i])),s.createHref({pathname:c,search:o,hash:a})}function Kh(){return v.useContext(A1)!=null}function Xh(){return Kh()||ln(!1),v.useContext(A1).location}function lD(e){v.useContext(gc).static||v.useLayoutEffect(e)}function Ss(){let{isDataRoute:e}=v.useContext(Ko);return e?MG():NG()}function NG(){Kh()||ln(!1);let e=v.useContext(M_),{basename:t,future:r,navigator:n}=v.useContext(gc),{matches:s}=v.useContext(Ko),{pathname:a}=Xh(),i=JSON.stringify(O_(s,r.v7_relativeSplatPath)),o=v.useRef(!1);return lD(()=>{o.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=I_(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Kl([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,i,a,e])}function jG(){let{matches:e}=v.useContext(Ko),t=e[e.length-1];return t?t.params:{}}function cD(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(gc),{matches:s}=v.useContext(Ko),{pathname:a}=Xh(),i=JSON.stringify(O_(s,n.v7_relativeSplatPath));return v.useMemo(()=>I_(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function CG(e,t){return kG(e,t)}function kG(e,t,r,n){Kh()||ln(!1);let{navigator:s}=v.useContext(gc),{matches:a}=v.useContext(Ko),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Xh(),d;if(t){var h;let S=typeof t=="string"?Yh(t):t;c==="/"||(h=S.pathname)!=null&&h.startsWith(c)||ln(!1),d=S}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let S=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=eG(e,{pathname:p}),y=LG(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Kl([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Kl([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,r,n);return t&&y?v.createElement(A1.Provider,{value:{location:sm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bl.Pop}},y):y}function EG(){let e=IG(),t=wG(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const PG=v.createElement(EG,null);class AG extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Ko.Provider,{value:this.props.routeContext},v.createElement(oD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TG(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(M_);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Ko.Provider,{value:t},n)}function LG(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ln(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let p,g=!1,y=null,S=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||PG,c&&(u<0&&f===0?(g=!0,S=null):u===f&&(g=!0,S=h.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),x=()=>{let N;return p?N=y:g?N=S:h.route.Component?N=v.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,v.createElement(TG,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(AG,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var uD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uD||{}),l0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(l0||{});function DG(e){let t=v.useContext(M_);return t||ln(!1),t}function RG(e){let t=v.useContext(SG);return t||ln(!1),t}function OG(e){let t=v.useContext(Ko);return t||ln(!1),t}function dD(e){let t=OG(),r=t.matches[t.matches.length-1];return r.route.id||ln(!1),r.route.id}function IG(){var e;let t=v.useContext(oD),r=RG(l0.UseRouteError),n=dD(l0.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function MG(){let{router:e}=DG(uD.UseNavigateStable),t=dD(l0.UseNavigateStable),r=v.useRef(!1);return lD(()=>{r.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sm({fromRouteId:t},a)))},[e,t])}function F_(e){let{to:t,replace:r,state:n,relative:s}=e;Kh()||ln(!1);let{future:a,static:i}=v.useContext(gc),{matches:o}=v.useContext(Ko),{pathname:c}=Xh(),u=Ss(),d=I_(t,O_(o,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function ja(e){ln(!1)}function FG(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Bl.Pop,navigator:a,static:i=!1,future:o}=e;Kh()&&ln(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:i,future:sm({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof n=="string"&&(n=Yh(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,y=v.useMemo(()=>{let S=R_(d,c);return S==null?null:{location:{pathname:S,search:h,hash:f,state:p,key:g},navigationType:s}},[c,d,h,f,p,g,s]);return y==null?null:v.createElement(gc.Provider,{value:u},v.createElement(A1.Provider,{children:r,value:y}))}function BG(e){let{children:t,location:r}=e;return CG(i5(t),r)}new Promise(()=>{});function i5(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let a=[...t,s];if(n.type===v.Fragment){r.push.apply(r,i5(n.props.children,a));return}n.type!==ja&&ln(!1),!n.props.index||!n.props.children||ln(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=i5(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o5(){return o5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o5.apply(this,arguments)}function $G(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function UG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VG(e,t){return e.button===0&&(!t||t==="_self")&&!UG(e)}const zG=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qG="6";try{window.__reactRouterVersion=qG}catch{}const WG="startTransition",nk=l3[WG];function HG(e){let{basename:t,children:r,future:n,window:s}=e,a=v.useRef();a.current==null&&(a.current=JH({window:s,v5Compat:!0}));let i=a.current,[o,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&nk?nk(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.createElement(FG,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const GG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KG=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=$G(t,zG),{basename:p}=v.useContext(gc),g,y=!1;if(typeof u=="string"&&YG.test(u)&&(g=u,GG))try{let N=new URL(window.location.href),C=u.startsWith("//")?new URL(N.protocol+u):new URL(u),E=R_(C.pathname,p);C.origin===N.origin&&E!=null?u=E+C.search+C.hash:y=!0}catch{}let S=_G(u,{relative:s}),b=XG(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(N){n&&n(N),N.defaultPrevented||b(N)}return v.createElement("a",o5({},f,{href:g||S,onClick:y||a?n:x,ref:r,target:c}))});var sk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sk||(sk={}));var ak;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ak||(ak={}));function XG(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=Ss(),u=Xh(),d=cD(e,{relative:i});return v.useCallback(h=>{if(VG(h,r)){h.preventDefault();let f=n!==void 0?n:o0(u)===o0(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,d,n,s,r,e,a,i,o])}const B_=v.createContext({});function $_(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const U_=typeof window<"u",hD=U_?v.useLayoutEffect:v.useEffect,T1=v.createContext(null),V_=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class JG extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZG({children:e,isPresent:t,anchorX:r}){const n=v.useId(),s=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=v.useContext(V_);return v.useInsertionEffect(()=>{const{width:o,height:c,top:u,left:d,right:h}=a.current;if(t||!s.current||!o||!c)return;const f=r==="left"?`left: ${d}`:`right: ${h}`;s.current.dataset.motionPopId=n;const p=document.createElement("style");return i&&(p.nonce=i),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),l.jsx(JG,{isPresent:t,childRef:s,sizeRef:a,children:v.cloneElement(e,{ref:s})})}const QG=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i,anchorX:o})=>{const c=$_(eY),u=v.useId(),d=v.useCallback(f=>{c.set(f,!0);for(const p of c.values())if(!p)return;n&&n()},[c,n]),h=v.useMemo(()=>({id:u,initial:t,isPresent:r,custom:s,onExitComplete:d,register:f=>(c.set(f,!1),()=>c.delete(f))}),a?[Math.random(),d]:[r,d]);return v.useMemo(()=>{c.forEach((f,p)=>c.set(p,!1))},[r]),v.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),i==="popLayout"&&(e=l.jsx(ZG,{isPresent:r,anchorX:o,children:e})),l.jsx(T1.Provider,{value:h,children:e})};function eY(){return new Map}function fD(e=!0){const t=v.useContext(T1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=v.useId();v.useEffect(()=>{if(e)return s(a)},[e]);const i=v.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,i]:[!0]}const $y=e=>e.key||"";function ik(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const z_=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1,anchorX:o="left"})=>{const[c,u]=fD(i),d=v.useMemo(()=>ik(e),[e]),h=i&&!c?[]:d.map($y),f=v.useRef(!0),p=v.useRef(d),g=$_(()=>new Map),[y,S]=v.useState(d),[b,x]=v.useState(d);hD(()=>{f.current=!1,p.current=d;for(let E=0;E<b.length;E++){const F=$y(b[E]);h.includes(F)?g.delete(F):g.get(F)!==!0&&g.set(F,!1)}},[b,h.length,h.join("-")]);const N=[];if(d!==y){let E=[...d];for(let F=0;F<b.length;F++){const P=b[F],A=$y(P);h.includes(A)||(E.splice(F,0,P),N.push(P))}return a==="wait"&&N.length&&(E=N),x(ik(E)),S(d),null}const{forceRender:C}=v.useContext(B_);return l.jsx(l.Fragment,{children:b.map(E=>{const F=$y(E),P=i&&!c?!1:d===b||h.includes(F),A=()=>{if(g.has(F))g.set(F,!0);else return;let K=!0;g.forEach(Q=>{Q||(K=!1)}),K&&(C==null||C(),x(p.current),i&&(u==null||u()),n&&n())};return l.jsx(QG,{isPresent:P,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:P?void 0:A,anchorX:o,children:E},F)})})};function q_(e,t){e.indexOf(t)===-1&&e.push(t)}function W_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const la=e=>e;let l5=la;const tY={skipAnimations:!1,useManualTiming:!1};function H_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ph=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class G_{constructor(){this.subscriptions=[]}add(t){return q_(this.subscriptions,t),()=>W_(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oo=e=>e*1e3,Io=e=>e/1e3;function pD(e,t){return t?e*(1e3/t):0}const rY=H_(()=>window.ScrollTimeline!==void 0);class nY{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(rY()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sY extends nY{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Y_(e,t){return e?e[t]||e.default||e:void 0}const c5=2e4;function mD(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<c5;)t+=r,n=e.next(t);return t>=c5?1/0:t}function K_(e){return typeof e=="function"}function ok(e,t){e.timeline=t,e.onfinish=null}const X_=e=>Array.isArray(e)&&typeof e[0]=="number",aY={linearEasing:void 0};function iY(e,t){const r=H_(e);return()=>{var n;return(n=aY[t])!==null&&n!==void 0?n:r()}}const c0=iY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gD=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=e(Ph(0,s-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function yD(e){return!!(typeof e=="function"&&c0()||!e||typeof e=="string"&&(e in u5||c0())||X_(e)||Array.isArray(e)&&e.every(yD))}const sp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,u5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sp([0,.65,.55,1]),circOut:sp([.55,0,1,.45]),backIn:sp([.31,.01,.66,-.59]),backOut:sp([.33,1.53,.69,.99])};function vD(e,t){if(e)return typeof e=="function"&&c0()?gD(e,t):X_(e)?sp(e):Array.isArray(e)?e.map(r=>vD(r,t)||u5.easeOut):u5[e]}const Uy=["read","resolveKeyframes","update","preRender","render","postRender"],lk={value:null,addProjectionMetrics:null};function oY(e,t){let r=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){i.has(h)&&(d.schedule(h),e()),c++,h(o)}const d={schedule:(h,f=!1,p=!1)=>{const y=p&&s?r:n;return f&&i.add(h),y.has(h)||y.add(h),h},cancel:h=>{n.delete(h),i.delete(h)},process:h=>{if(o=h,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&lk.value&&lk.value.frameloop[t].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(h))}};return d}const lY=40;function xD(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=Uy.reduce((b,x)=>(b[x]=oY(a,t?x:void 0),b),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=i,p=()=>{const b=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,lY),1),s.timestamp=b,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},g=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:Uy.reduce((b,x)=>{const N=i[x];return b[x]=(C,E=!1,F=!1)=>(r||g(),N.schedule(C,E,F)),b},{}),cancel:b=>{for(let x=0;x<Uy.length;x++)i[Uy[x]].cancel(b)},state:s,steps:i}}const{schedule:Er,cancel:nc,state:Bn,steps:Fw}=xD(typeof requestAnimationFrame<"u"?requestAnimationFrame:la,!0),{schedule:J_,cancel:_de}=xD(queueMicrotask,!1);let gv;function cY(){gv=void 0}const Qi={now:()=>(gv===void 0&&Qi.set(Bn.isProcessing||tY.useManualTiming?Bn.timestamp:performance.now()),gv),set:e=>{gv=e,queueMicrotask(cY)}},ei={x:!1,y:!1};function wD(){return ei.x||ei.y}function uY(e){return e==="x"||e==="y"?ei[e]?null:(ei[e]=!0,()=>{ei[e]=!1}):ei.x||ei.y?null:(ei.x=ei.y=!0,()=>{ei.x=ei.y=!1})}function dY(e,t,r){var n;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function bD(e,t){const r=dY(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function ck(e){return!(e.pointerType==="touch"||wD())}function hY(e,t,r={}){const[n,s,a]=bD(e,r),i=o=>{if(!ck(o))return;const{target:c}=o,u=t(c,o);if(typeof u!="function"||!c)return;const d=h=>{ck(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(o=>{o.addEventListener("pointerenter",i,s)}),a}function uk(e,t){const r=`${t}PointerCapture`;if(e.target instanceof Element&&r in e.target&&e.pointerId!==void 0)try{e.target[r](e.pointerId)}catch{}}const SD=(e,t)=>t?e===t?!0:SD(e,t.parentElement):!1,Z_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,fY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pY(e){return fY.has(e.tagName)||e.tabIndex!==-1}const ap=new WeakSet;function dk(e){return t=>{t.key==="Enter"&&e(t)}}function Bw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mY=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=dk(()=>{if(ap.has(r))return;Bw(r,"down");const s=dk(()=>{Bw(r,"up")}),a=()=>Bw(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function hk(e){return Z_(e)&&!wD()}function gY(e,t,r={}){const[n,s,a]=bD(e,r),i=o=>{const c=o.currentTarget;if(!c||!hk(o)||ap.has(c))return;ap.add(c),uk(o,"set");const u=t(c,o),d=(p,g)=>{c.removeEventListener("pointerup",h),c.removeEventListener("pointercancel",f),uk(p,"release"),!(!hk(p)||!ap.has(c))&&(ap.delete(c),typeof u=="function"&&u(p,{success:g}))},h=p=>{(p.isTrusted?yY(p,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(p,!1):d(p,!(c instanceof Element)||SD(c,p.target))},f=p=>{d(p,!1)};c.addEventListener("pointerup",h,s),c.addEventListener("pointercancel",f,s),c.addEventListener("lostpointercapture",f,s)};return n.forEach(o=>{o=r.useGlobalTarget?window:o;let c=!1;o instanceof HTMLElement&&(c=!0,!pY(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0)),o.addEventListener("pointerdown",i,s),c&&o.addEventListener("focus",u=>mY(u,s),s)}),a}function yY(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}const fk=30,vY=e=>!isNaN(parseFloat(e));class xY{constructor(t,r={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=Qi.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vY(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new G_);const n=this.events[t].add(r);return t==="change"?()=>{n(),Er.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fk)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,fk);return pD(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function am(e,t){return new xY(e,t)}const _D=v.createContext({strict:!1}),pk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ah={};for(const e in pk)Ah[e]={isEnabled:t=>pk[e].some(r=>!!t[r])};function wY(e){for(const t in e)Ah[t]={...Ah[t],...e[t]}}const bY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function u0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bY.has(e)}let ND=e=>!u0(e);function SY(e){e&&(ND=t=>t.startsWith("on")?!u0(t):e(t))}try{SY(require("@emotion/is-prop-valid").default)}catch{}function _Y(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(ND(s)||r===!0&&u0(s)||!t&&!u0(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function NY(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const L1=v.createContext({});function D1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function im(e){return typeof e=="string"||Array.isArray(e)}const Q_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eN=["initial",...Q_];function R1(e){return D1(e.animate)||eN.some(t=>im(e[t]))}function jD(e){return!!(R1(e)||e.variants)}function jY(e,t){if(R1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||im(r)?r:void 0,animate:im(n)?n:void 0}}return e.inherit!==!1?t:{}}function CY(e){const{initial:t,animate:r}=jY(e,v.useContext(L1));return v.useMemo(()=>({initial:t,animate:r}),[mk(t),mk(r)])}function mk(e){return Array.isArray(e)?e.join(" "):e}const kY=Symbol.for("motionComponentSymbol");function Rd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function EY(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Rd(r)&&(r.current=n))},[t])}const tN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PY="framerAppearId",CD="data-"+tN(PY),kD=v.createContext({});function AY(e,t,r,n,s){var a,i;const{visualElement:o}=v.useContext(L1),c=v.useContext(_D),u=v.useContext(T1),d=v.useContext(V_).reducedMotion,h=v.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=v.useContext(kD);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&TY(h.current,r,s,p);const g=v.useRef(!1);v.useInsertionEffect(()=>{f&&g.current&&f.update(r,u)});const y=r[CD],S=v.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,y)));return hD(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),J_.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),S.current=!1))}),f}function TY(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:ED(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||o&&Rd(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function ED(e){if(e)return e.options.allowProjection!==!1?e.projection:ED(e.parent)}function LY({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var a,i;e&&wY(e);function o(u,d){let h;const f={...v.useContext(V_),...u,layoutId:DY(u)},{isStatic:p}=f,g=CY(u),y=n(u,p);if(!p&&U_){RY();const S=OY(f);h=S.MeasureLayout,g.visualElement=AY(s,y,f,t,S.ProjectionNode)}return l.jsxs(L1.Provider,{value:g,children:[h&&g.visualElement?l.jsx(h,{visualElement:g.visualElement,...f}):null,r(s,u,EY(y,g.visualElement,d),y,p,g.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(i=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&i!==void 0?i:""})`}`;const c=v.forwardRef(o);return c[kY]=s,c}function DY({layoutId:e}){const t=v.useContext(B_).id;return t&&e!==void 0?t+"-"+e:e}function RY(e,t){v.useContext(_D).strict}function OY(e){const{drag:t,layout:r}=Ah;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const PD=e=>t=>typeof t=="string"&&t.startsWith(e),rN=PD("--"),IY=PD("var(--"),nN=e=>IY(e)?MY.test(e.split("/*")[0].trim()):!1,MY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,om={};function FY(e){for(const t in e)om[t]=e[t],rN(t)&&(om[t].isCSSVariable=!0)}const Jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cu=new Set(Jh);function AD(e,{layout:t,layoutId:r}){return Cu.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!om[e]||e==="opacity")}const rs=e=>!!(e&&e.getVelocity),TD=(e,t)=>t&&typeof e=="number"?t.transform(e):e,qo=(e,t,r)=>r>t?t:r<e?e:r,Zh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lm={...Zh,transform:e=>qo(0,1,e)},Vy={...Zh,default:1},sg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),bl=sg("deg"),eo=sg("%"),bt=sg("px"),BY=sg("vh"),$Y=sg("vw"),gk={...eo,parse:e=>eo.parse(e)/100,transform:e=>eo.transform(e*100)},UY={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt},VY={rotate:bl,rotateX:bl,rotateY:bl,rotateZ:bl,scale:Vy,scaleX:Vy,scaleY:Vy,scaleZ:Vy,skew:bl,skewX:bl,skewY:bl,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:lm,originX:gk,originY:gk,originZ:bt},yk={...Zh,transform:Math.round},sN={...UY,...VY,zIndex:yk,size:bt,fillOpacity:lm,strokeOpacity:lm,numOctaves:yk},zY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qY=Jh.length;function WY(e,t,r){let n="",s=!0;for(let a=0;a<qY;a++){const i=Jh[a],o=e[i];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(i.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=TD(o,sN[i]);if(!c){s=!1;const d=zY[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function aN(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,o=!1;for(const c in t){const u=t[c];if(Cu.has(c)){i=!0;continue}else if(rN(c)){s[c]=u;continue}else{const d=TD(u,sN[c]);c.startsWith("origin")?(o=!0,a[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=WY(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const iN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LD(e,t,r){for(const n in t)!rs(t[n])&&!AD(n,r)&&(e[n]=t[n])}function HY({transformTemplate:e},t){return v.useMemo(()=>{const r=iN();return aN(r,t,e),Object.assign({},r.vars,r.style)},[t])}function GY(e,t){const r=e.style||{},n={};return LD(n,r,e),Object.assign(n,HY(e,t)),n}function YY(e,t){const r={},n=GY(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const KY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oN(e){return typeof e!="string"||e.includes("-")?!1:!!(KY.indexOf(e)>-1||/[A-Z]/u.test(e))}const XY={offset:"stroke-dashoffset",array:"stroke-dasharray"},JY={offset:"strokeDashoffset",array:"strokeDasharray"};function ZY(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?XY:JY;e[a.offset]=bt.transform(-n);const i=bt.transform(t),o=bt.transform(r);e[a.array]=`${i} ${o}`}function vk(e,t,r){return typeof e=="string"?e:bt.transform(t+r*e)}function QY(e,t,r){const n=vk(t,e.x,e.width),s=vk(r,e.y,e.height);return`${n} ${s}`}function lN(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(aN(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:g}=e;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(s!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=QY(g,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&ZY(f,i,o,c,!1)}const DD=()=>({...iN(),attrs:{}}),cN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function eK(e,t,r,n){const s=v.useMemo(()=>{const a=DD();return lN(a,t,cN(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};LD(a,e.style,e),s.style={...a,...s.style}}return s}function tK(e=!1){return(r,n,s,{latestValues:a},i)=>{const c=(oN(r)?eK:YY)(n,a,i,r),u=_Y(n,typeof r=="string",e),d=r!==v.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=v.useMemo(()=>rs(h)?h.get():h,[h]);return v.createElement(r,{...d,children:f})}}function xk(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function uN(e,t,r,n){if(typeof t=="function"){const[s,a]=xk(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=xk(n);t=t(r!==void 0?r:e.custom,s,a)}return t}const d5=e=>Array.isArray(e),rK=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),nK=e=>d5(e)?e[e.length-1]||0:e;function yv(e){const t=rs(e)?e.get():e;return rK(t)?t.toValue():t}function sK({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,a){const i={latestValues:aK(n,s,a,e),renderState:t()};return r&&(i.onMount=o=>r({props:n,current:o,...i}),i.onUpdate=o=>r(o)),i}const RD=e=>(t,r)=>{const n=v.useContext(L1),s=v.useContext(T1),a=()=>sK(e,t,n,s);return r?a():$_(a)};function aK(e,t,r,n){const s={},a=n(e,{});for(const f in a)s[f]=yv(a[f]);let{initial:i,animate:o}=e;const c=R1(e),u=jD(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const h=d?o:i;if(h&&typeof h!="boolean"&&!D1(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=uN(e,f[p]);if(g){const{transitionEnd:y,transition:S,...b}=g;for(const x in b){let N=b[x];if(Array.isArray(N)){const C=d?N.length-1:0;N=N[C]}N!==null&&(s[x]=N)}for(const x in y)s[x]=y[x]}}}return s}function dN(e,t,r){var n;const{style:s}=e,a={};for(const i in s)(rs(s[i])||t.style&&rs(t.style[i])||AD(i,e)||((n=r==null?void 0:r.getValue(i))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[i]=s[i]);return a}const iK={useVisualState:RD({scrapeMotionValuesFromProps:dN,createRenderState:iN})};function OD(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function ID(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const MD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FD(e,t,r,n){ID(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(MD.has(s)?s:tN(s),t.attrs[s])}function BD(e,t,r){const n=dN(e,t,r);for(const s in e)if(rs(e[s])||rs(t[s])){const a=Jh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}const wk=["x","y","width","height","cx","cy","r"],oK={useVisualState:RD({scrapeMotionValuesFromProps:BD,createRenderState:DD,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let a=!!e.drag;if(!a){for(const o in s)if(Cu.has(o)){a=!0;break}}if(!a)return;let i=!t;if(t)for(let o=0;o<wk.length;o++){const c=wk[o];e[c]!==t[c]&&(i=!0)}i&&Er.read(()=>{OD(r,n),Er.render(()=>{lN(n,s,cN(r.tagName),e.transformTemplate),FD(r,n)})})}})};function lK(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...oN(n)?oK:iK,preloadedFeatures:e,useRender:tK(s),createVisualElement:t,Component:n};return LY(i)}}function cm(e,t,r){const n=e.getProps();return uN(n,t,r!==void 0?r:n.custom,e)}const $D=new Set(["width","height","top","left","right","bottom",...Jh]);function cK(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,am(r))}function uK(e,t){const r=cm(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const i in a){const o=nK(a[i]);cK(e,i,o)}}function dK(e){return!!(rs(e)&&e.add)}function h5(e,t){const r=e.getValue("willChange");if(dK(r))return r.add(t)}function UD(e){return e.props[CD]}const VD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,hK=1e-7,fK=12;function pK(e,t,r,n,s){let a,i,o=0;do i=t+(r-t)/2,a=VD(i,n,s)-e,a>0?r=i:t=i;while(Math.abs(a)>hK&&++o<fK);return i}function ag(e,t,r,n){if(e===t&&r===n)return la;const s=a=>pK(a,0,1,e,r);return a=>a===0||a===1?a:VD(s(a),t,n)}const zD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qD=e=>t=>1-e(1-t),WD=ag(.33,1.53,.69,.99),hN=qD(WD),HD=zD(hN),GD=e=>(e*=2)<1?.5*hN(e):.5*(2-Math.pow(2,-10*(e-1))),fN=e=>1-Math.sin(Math.acos(e)),YD=qD(fN),KD=zD(fN),XD=e=>/^0[^.\s]+$/u.test(e);function mK(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XD(e):!0}const Np=e=>Math.round(e*1e5)/1e5,pN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gK(e){return e==null}const yK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mN=(e,t)=>r=>!!(typeof r=="string"&&yK.test(r)&&r.startsWith(e)||t&&!gK(r)&&Object.prototype.hasOwnProperty.call(r,t)),JD=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,i,o]=n.match(pN);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},vK=e=>qo(0,255,e),$w={...Zh,transform:e=>Math.round(vK(e))},Jc={test:mN("rgb","red"),parse:JD("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+$w.transform(e)+", "+$w.transform(t)+", "+$w.transform(r)+", "+Np(lm.transform(n))+")"};function xK(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const f5={test:mN("#"),parse:xK,transform:Jc.transform},Od={test:mN("hsl","hue"),parse:JD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+eo.transform(Np(t))+", "+eo.transform(Np(r))+", "+Np(lm.transform(n))+")"},Qn={test:e=>Jc.test(e)||f5.test(e)||Od.test(e),parse:e=>Jc.test(e)?Jc.parse(e):Od.test(e)?Od.parse(e):f5.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jc.transform(e):Od.transform(e)},wK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bK(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(pN))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(wK))===null||r===void 0?void 0:r.length)||0)>0}const ZD="number",QD="color",SK="var",_K="var(",bk="${}",NK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function um(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(NK,c=>(Qn.test(c)?(n.color.push(a),s.push(QD),r.push(Qn.parse(c))):c.startsWith(_K)?(n.var.push(a),s.push(SK),r.push(c)):(n.number.push(a),s.push(ZD),r.push(parseFloat(c))),++a,bk)).split(bk);return{values:r,split:o,indexes:n,types:s}}function e6(e){return um(e).values}function t6(e){const{split:t,types:r}=um(e),n=t.length;return s=>{let a="";for(let i=0;i<n;i++)if(a+=t[i],s[i]!==void 0){const o=r[i];o===ZD?a+=Np(s[i]):o===QD?a+=Qn.transform(s[i]):a+=s[i]}return a}}const jK=e=>typeof e=="number"?0:e;function CK(e){const t=e6(e);return t6(e)(t.map(jK))}const sc={test:bK,parse:e6,createTransformer:t6,getAnimatableNone:CK},kK=new Set(["brightness","contrast","saturate","opacity"]);function EK(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(pN)||[];if(!n)return e;const s=r.replace(n,"");let a=kK.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const PK=/\b([a-z-]*)\(.*?\)/gu,p5={...sc,getAnimatableNone:e=>{const t=e.match(PK);return t?t.map(EK).join(" "):e}},AK={...sN,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:p5,WebkitFilter:p5},r6=e=>AK[e];function n6(e,t){let r=r6(e);return r!==p5&&(r=sc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const TK=new Set(["auto","none","0"]);function LK(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!TK.has(a)&&um(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=n6(r,s)}const Zc=e=>e*180/Math.PI,m5=e=>{const t=Zc(Math.atan2(e[1],e[0]));return g5(t)},DK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:m5,rotateZ:m5,skewX:e=>Zc(Math.atan(e[1])),skewY:e=>Zc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},g5=e=>(e=e%360,e<0&&(e+=360),e),Sk=m5,_k=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Nk=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),RK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_k,scaleY:Nk,scale:e=>(_k(e)+Nk(e))/2,rotateX:e=>g5(Zc(Math.atan2(e[6],e[5]))),rotateY:e=>g5(Zc(Math.atan2(-e[2],e[0]))),rotateZ:Sk,rotate:Sk,skewX:e=>Zc(Math.atan(e[4])),skewY:e=>Zc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jk(e){return e.includes("scale")?1:0}function y5(e,t){if(!e||e==="none")return jk(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=RK,s=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=DK,s=o}if(!s)return jk(t);const a=n[t],i=s[1].split(",").map(IK);return typeof a=="function"?a(i):i[a]}const OK=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return y5(r,t)};function IK(e){return parseFloat(e.trim())}const Ck=e=>e===Zh||e===bt,MK=new Set(["x","y","z"]),FK=Jh.filter(e=>!MK.has(e));function BK(e){const t=[];return FK.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Th={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>y5(t,"x"),y:(e,{transform:t})=>y5(t,"y")};Th.translateX=Th.x;Th.translateY=Th.y;const iu=new Set;let v5=!1,x5=!1;function s6(){if(x5){const e=Array.from(iu).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=BK(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,i])=>{var o;(o=n.getValue(a))===null||o===void 0||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}x5=!1,v5=!1,iu.forEach(e=>e.complete()),iu.clear()}function a6(){iu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(x5=!0)})}function $K(){a6(),s6()}class gN{constructor(t,r,n,s,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(iu.add(this),v5||(v5=!0,Er.read(a6),Er.resolveKeyframes(s6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),iu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,iu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const i6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),UK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VK(e){const t=UK.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function o6(e,t,r=1){const[n,s]=VK(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return i6(i)?parseFloat(i):i}return nN(s)?o6(s,t,r+1):s}const l6=e=>t=>t.test(e),zK={test:e=>e==="auto",parse:e=>e},c6=[Zh,bt,eo,bl,$Y,BY,zK],kk=e=>c6.find(l6(e));class u6 extends gN{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),nN(u))){const d=o6(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$D.has(n)||t.length!==2)return;const[s,a]=t,i=kk(s),o=kk(a);if(i!==o)if(Ck(i)&&Ck(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)mK(t[s])&&n.push(s);n.length&&LK(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Th[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=Th[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Ek=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(sc.test(e)||e==="0")&&!e.startsWith("url("));function qK(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function WK(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=Ek(s,t),o=Ek(a,t);return!i||!o?!1:qK(e)||(r==="spring"||K_(r))&&n}const HK=e=>e!==null;function O1(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(HK),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const GK=40;class d6{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qi.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:i,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$K(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Qi.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:i,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!WK(t,n,s,a))if(i)this.options.duration=0;else{c&&c(O1(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ur=(e,t,r)=>e+(t-e)*r;function Uw(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function YK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,i=0;if(!t)s=a=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;s=Uw(c,o,e+1/3),a=Uw(c,o,e),i=Uw(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}function d0(e,t){return r=>r>0?t:e}const Vw=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},KK=[f5,Jc,Od],XK=e=>KK.find(t=>t.test(e));function Pk(e){const t=XK(e);if(!t)return!1;let r=t.parse(e);return t===Od&&(r=YK(r)),r}const Ak=(e,t)=>{const r=Pk(e),n=Pk(t);if(!r||!n)return d0(e,t);const s={...r};return a=>(s.red=Vw(r.red,n.red,a),s.green=Vw(r.green,n.green,a),s.blue=Vw(r.blue,n.blue,a),s.alpha=Ur(r.alpha,n.alpha,a),Jc.transform(s))},JK=(e,t)=>r=>t(e(r)),ig=(...e)=>e.reduce(JK),w5=new Set(["none","hidden"]);function ZK(e,t){return w5.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function QK(e,t){return r=>Ur(e,t,r)}function yN(e){return typeof e=="number"?QK:typeof e=="string"?nN(e)?d0:Qn.test(e)?Ak:rX:Array.isArray(e)?h6:typeof e=="object"?Qn.test(e)?Ak:eX:d0}function h6(e,t){const r=[...e],n=r.length,s=e.map((a,i)=>yN(a)(a,t[i]));return a=>{for(let i=0;i<n;i++)r[i]=s[i](a);return r}}function eX(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=yN(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function tX(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],c=(r=e.values[o])!==null&&r!==void 0?r:0;n[a]=c,s[i]++}return n}const rX=(e,t)=>{const r=sc.createTransformer(t),n=um(e),s=um(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?w5.has(e)&&!s.values.length||w5.has(t)&&!n.values.length?ZK(e,t):ig(h6(tX(n,s),s.values),r):d0(e,t)};function f6(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ur(e,t,r):yN(e)(e,t)}const nX=5;function p6(e,t,r){const n=Math.max(t-nX,0);return pD(r-e(n),t-n)}const Yr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zw=.001;function sX({duration:e=Yr.duration,bounce:t=Yr.bounce,velocity:r=Yr.velocity,mass:n=Yr.mass}){let s,a,i=1-t;i=qo(Yr.minDamping,Yr.maxDamping,i),e=qo(Yr.minDuration,Yr.maxDuration,Io(e)),i<1?(s=u=>{const d=u*i,h=d*e,f=d-r,p=b5(u,i),g=Math.exp(-h);return zw-f/p*g},a=u=>{const h=u*i*e,f=h*r+r,p=Math.pow(i,2)*Math.pow(u,2)*e,g=Math.exp(-h),y=b5(Math.pow(u,2),i);return(-s(u)+zw>0?-1:1)*((f-p)*g)/y}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-zw+d*h},a=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,c=iX(s,a,o);if(e=Oo(e),isNaN(c))return{stiffness:Yr.stiffness,damping:Yr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const aX=12;function iX(e,t,r){let n=r;for(let s=1;s<aX;s++)n=n-e(n)/t(n);return n}function b5(e,t){return e*Math.sqrt(1-t*t)}const oX=["duration","bounce"],lX=["stiffness","damping","mass"];function Tk(e,t){return t.some(r=>e[r]!==void 0)}function cX(e){let t={velocity:Yr.velocity,stiffness:Yr.stiffness,damping:Yr.damping,mass:Yr.mass,isResolvedFromDuration:!1,...e};if(!Tk(e,lX)&&Tk(e,oX))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*qo(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Yr.mass,stiffness:s,damping:a}}else{const r=sX(e);t={...t,...r,mass:Yr.mass},t.isResolvedFromDuration=!0}return t}function m6(e=Yr.visualDuration,t=Yr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=cX({...r,velocity:-Io(r.velocity||0)}),g=f||0,y=u/(2*Math.sqrt(c*d)),S=i-a,b=Io(Math.sqrt(c/d)),x=Math.abs(S)<5;n||(n=x?Yr.restSpeed.granular:Yr.restSpeed.default),s||(s=x?Yr.restDelta.granular:Yr.restDelta.default);let N;if(y<1){const E=b5(b,y);N=F=>{const P=Math.exp(-y*b*F);return i-P*((g+y*b*S)/E*Math.sin(E*F)+S*Math.cos(E*F))}}else if(y===1)N=E=>i-Math.exp(-b*E)*(S+(g+b*S)*E);else{const E=b*Math.sqrt(y*y-1);N=F=>{const P=Math.exp(-y*b*F),A=Math.min(E*F,300);return i-P*((g+y*b*S)*Math.sinh(A)+E*S*Math.cosh(A))/E}}const C={calculatedDuration:p&&h||null,next:E=>{const F=N(E);if(p)o.done=E>=h;else{let P=0;y<1&&(P=E===0?Oo(g):p6(N,E,F));const A=Math.abs(P)<=n,K=Math.abs(i-F)<=s;o.done=A&&K}return o.value=o.done?i:F,o},toString:()=>{const E=Math.min(mD(C),c5),F=gD(P=>C.next(E*P).value,E,30);return E+"ms "+F}};return C}function Lk({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=A=>o!==void 0&&A<o||c!==void 0&&A>c,g=A=>o===void 0?c:c===void 0||Math.abs(o-A)<Math.abs(c-A)?o:c;let y=r*t;const S=h+y,b=i===void 0?S:i(S);b!==S&&(y=b-h);const x=A=>-y*Math.exp(-A/n),N=A=>b+x(A),C=A=>{const K=x(A),Q=N(A);f.done=Math.abs(K)<=u,f.value=f.done?b:Q};let E,F;const P=A=>{p(f.value)&&(E=A,F=m6({keyframes:[f.value,g(f.value)],velocity:p6(N,A,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:A=>{let K=!1;return!F&&E===void 0&&(K=!0,C(A),P(A)),E!==void 0&&A>=E?F.next(A-E):(!K&&C(A),f)}}}const uX=ag(.42,0,1,1),dX=ag(0,0,.58,1),g6=ag(.42,0,.58,1),hX=e=>Array.isArray(e)&&typeof e[0]!="number",Dk={linear:la,easeIn:uX,easeInOut:g6,easeOut:dX,circIn:fN,circInOut:KD,circOut:YD,backIn:hN,backInOut:HD,backOut:WD,anticipate:GD},Rk=e=>{if(X_(e)){l5(e.length===4);const[t,r,n,s]=e;return ag(t,r,n,s)}else if(typeof e=="string")return l5(Dk[e]!==void 0),Dk[e];return e};function fX(e,t,r){const n=[],s=r||f6,a=e.length-1;for(let i=0;i<a;i++){let o=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||la:t;o=ig(c,o)}n.push(o)}return n}function pX(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(l5(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=fX(t,n,s),c=o.length,u=d=>{if(i&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Ph(e[h],e[h+1],d);return o[h](f)};return r?d=>u(qo(e[0],e[a-1],d)):u}function mX(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ph(0,t,n);e.push(Ur(r,1,s))}}function gX(e){const t=[0];return mX(t,e.length-1),t}function yX(e,t){return e.map(r=>r*t)}function vX(e,t){return e.map(()=>t||g6).splice(0,e.length-1)}function h0({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=hX(n)?n.map(Rk):Rk(n),a={done:!1,value:t[0]},i=yX(r&&r.length===t.length?r:gX(t),e),o=pX(i,t,{ease:Array.isArray(s)?s:vX(t,s)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const xX=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Er.update(t,!0),stop:()=>nc(t),now:()=>Bn.isProcessing?Bn.timestamp:Qi.now()}},wX={decay:Lk,inertia:Lk,tween:h0,keyframes:h0,spring:m6},bX=e=>e/100;class vN extends d6{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:a}=this.options,i=(s==null?void 0:s.KeyframeResolver)||gN,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new i(a,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=this.options,o=K_(r)?r:wX[r]||h0;let c,u;o!==h0&&typeof t[0]!="number"&&(c=ig(bX,f6(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});a==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=mD(d));const{calculatedDuration:h}=d,f=h+s,p=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:i,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let N=this.currentTime,C=a;if(p){const A=Math.min(this.currentTime,d)/h;let K=Math.floor(A),Q=A%1;!Q&&A>=1&&(Q=1),Q===1&&K--,K=Math.min(K,p+1),!!(K%2)&&(g==="reverse"?(Q=1-Q,y&&(Q-=y/h)):g==="mirror"&&(C=i)),N=qo(0,1,Q)*h}const E=x?{done:!1,value:c[0]}:C.next(N);o&&(E.value=o(E.value));let{done:F}=E;!x&&u!==null&&(F=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return P&&s!==void 0&&(E.value=O1(c,this.options,s)),S&&S(E.value),P&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Io(t.calculatedDuration):0}get time(){return Io(this.currentTime)}set time(t){t=Oo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Io(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=xX,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const SX=new Set(["opacity","clipPath","filter","transform"]);function _X(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:o="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=vD(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}const NX=H_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),f0=10,jX=2e4;function CX(e){return K_(e.type)||e.type==="spring"||!yD(e.ease)}function kX(e,t){const r=new vN({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let a=0;for(;!n.done&&a<jX;)n=r.sample(a),s.push(n.value),a+=f0;return{times:void 0,keyframes:s,duration:a-f0,ease:"linear"}}const y6={anticipate:GD,backInOut:HD,circInOut:KD};function EX(e){return e in y6}class Ok extends d6{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new u6(a,(i,o)=>this.onKeyframesResolved(i,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:a,type:i,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&c0()&&EX(a)&&(a=y6[a]),CX(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:g,...y}=this.options,S=kX(t,y);t=S.keyframes,t.length===1&&(t[1]=t[0]),n=S.duration,s=S.times,a=S.ease,i="keyframes"}const d=_X(o.owner.current,c,t,{...this.options,duration:n,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(ok(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(O1(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:i,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Io(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Io(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Oo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return la;const{animation:n}=r;ok(n,t)}return la}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:a,ease:i,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,g=new vN({...p,keyframes:n,duration:s,type:a,ease:i,times:o,isGenerator:!0}),y=Oo(this.time);u.setWithVelocity(g.sample(y-f0).value,g.sample(y).value,f0)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:a,damping:i,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return NX()&&n&&SX.has(n)&&!c&&!u&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}}const PX={type:"spring",stiffness:500,damping:25,restSpeed:10},AX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TX={type:"keyframes",duration:.8},LX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DX=(e,{keyframes:t})=>t.length>2?TX:Cu.has(e)?e.startsWith("scale")?AX(t[1]):PX:LX;function RX({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const xN=(e,t,r,n={},s,a)=>i=>{const o=Y_(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Oo(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:s};RX(o)||(d={...d,...DX(e,d)}),d.duration&&(d.duration=Oo(d.duration)),d.repeatDelay&&(d.repeatDelay=Oo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),d.allowFlatten=!o.type&&!o.ease,h&&!a&&t.get()!==void 0){const f=O1(d.keyframes,o);if(f!==void 0)return Er.update(()=>{d.onUpdate(f),d.onComplete()}),new sY([])}return!a&&Ok.supports(d)?new Ok(d):new vN(d)};function OX({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function v6(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var a;let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),p=c[h];if(p===void 0||d&&OX(d,h))continue;const g={delay:r,...Y_(i||{},h)};let y=!1;if(window.MotionHandoffAnimation){const b=UD(e);if(b){const x=window.MotionHandoffAnimation(b,h,Er);x!==null&&(g.startTime=x,y=!0)}}h5(e,h),f.start(xN(h,f,p,e.shouldReduceMotion&&$D.has(h)?{type:!1}:g,e,y));const S=f.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{Er.update(()=>{o&&uK(e,o)})}),u}function S5(e,t,r={}){var n;const s=cm(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(v6(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return IX(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function IX(e,t,r=0,n=0,s=1,a){const i=[],o=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(MX).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(S5(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function MX(e,t){return e.sortNodePosition(t)}function FX(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>S5(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=S5(e,t,r);else{const s=typeof t=="function"?cm(e,t,r.custom):t;n=Promise.all(v6(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function x6(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const BX=eN.length;function w6(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?w6(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<BX;r++){const n=eN[r],s=e.props[n];(im(s)||s===!1)&&(t[n]=s)}return t}const $X=[...Q_].reverse(),UX=Q_.length;function VX(e){return t=>Promise.all(t.map(({animation:r,options:n})=>FX(e,r,n)))}function zX(e){let t=VX(e),r=Ik(),n=!0;const s=c=>(u,d)=>{var h;const f=cm(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...y}=f;u={...u,...y,...g}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=w6(e.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let S=0;S<UX;S++){const b=$X[S],x=r[b],N=u[b]!==void 0?u[b]:d[b],C=im(N),E=b===c?x.isActive:null;E===!1&&(g=S);let F=N===d[b]&&N!==u[b]&&C;if(F&&n&&e.manuallyAnimateOnMount&&(F=!1),x.protectedKeys={...p},!x.isActive&&E===null||!N&&!x.prevProp||D1(N)||typeof N=="boolean")continue;const P=qX(x.prevProp,N);let A=P||b===c&&x.isActive&&!F&&C||S>g&&C,K=!1;const Q=Array.isArray(N)?N:[N];let I=Q.reduce(s(b),{});E===!1&&(I={});const{prevResolvedValues:D={}}=x,L={...D,...I},B=V=>{A=!0,f.has(V)&&(K=!0,f.delete(V)),x.needsAnimating[V]=!0;const M=e.getValue(V);M&&(M.liveStyle=!1)};for(const V in L){const M=I[V],Y=D[V];if(p.hasOwnProperty(V))continue;let ie=!1;d5(M)&&d5(Y)?ie=!x6(M,Y):ie=M!==Y,ie?M!=null?B(V):f.add(V):M!==void 0&&f.has(V)?B(V):x.protectedKeys[V]=!0}x.prevProp=N,x.prevResolvedValues=I,x.isActive&&(p={...p,...I}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(F&&P)||K)&&h.push(...Q.map(V=>({animation:V,options:{type:b}})))}if(f.size){const S={};if(typeof u.initial!="boolean"){const b=cm(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(S.transition=b.transition)}f.forEach(b=>{const x=e.getBaseTarget(b),N=e.getValue(b);N&&(N.liveStyle=!0),S[b]=x??null}),h.push({animation:S})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const h=i(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:i,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=Ik(),n=!0}}}function qX(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!x6(t,e):!1}function Oc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ik(){return{animate:Oc(!0),whileInView:Oc(),whileHover:Oc(),whileTap:Oc(),whileDrag:Oc(),whileFocus:Oc(),exit:Oc()}}class yc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class WX extends yc{constructor(t){super(t),t.animationState||(t.animationState=zX(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();D1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let HX=0;class GX extends yc{constructor(){super(...arguments),this.id=HX++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const YX={animation:{Feature:WX},exit:{Feature:GX}};function dm(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function og(e){return{point:{x:e.pageX,y:e.pageY}}}const KX=e=>t=>Z_(t)&&e(t,og(t));function jp(e,t,r,n){return dm(e,t,KX(r),n)}function b6({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function XX({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function JX(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const S6=1e-4,ZX=1-S6,QX=1+S6,_6=.01,eJ=0-_6,tJ=0+_6;function gs(e){return e.max-e.min}function rJ(e,t,r){return Math.abs(e-t)<=r}function Mk(e,t,r,n=.5){e.origin=n,e.originPoint=Ur(t.min,t.max,e.origin),e.scale=gs(r)/gs(t),e.translate=Ur(r.min,r.max,e.origin)-e.originPoint,(e.scale>=ZX&&e.scale<=QX||isNaN(e.scale))&&(e.scale=1),(e.translate>=eJ&&e.translate<=tJ||isNaN(e.translate))&&(e.translate=0)}function Cp(e,t,r,n){Mk(e.x,t.x,r.x,n?n.originX:void 0),Mk(e.y,t.y,r.y,n?n.originY:void 0)}function Fk(e,t,r){e.min=r.min+t.min,e.max=e.min+gs(t)}function nJ(e,t,r){Fk(e.x,t.x,r.x),Fk(e.y,t.y,r.y)}function Bk(e,t,r){e.min=t.min-r.min,e.max=e.min+gs(t)}function kp(e,t,r){Bk(e.x,t.x,r.x),Bk(e.y,t.y,r.y)}const $k=()=>({translate:0,scale:1,origin:0,originPoint:0}),Id=()=>({x:$k(),y:$k()}),Uk=()=>({min:0,max:0}),rn=()=>({x:Uk(),y:Uk()});function Ca(e){return[e("x"),e("y")]}function qw(e){return e===void 0||e===1}function _5({scale:e,scaleX:t,scaleY:r}){return!qw(e)||!qw(t)||!qw(r)}function $c(e){return _5(e)||N6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function N6(e){return Vk(e.x)||Vk(e.y)}function Vk(e){return e&&e!=="0%"}function p0(e,t,r){const n=e-r,s=t*n;return r+s}function zk(e,t,r,n,s){return s!==void 0&&(e=p0(e,s,n)),p0(e,r,n)+t}function N5(e,t=0,r=1,n,s){e.min=zk(e.min,t,r,n,s),e.max=zk(e.max,t,r,n,s)}function j6(e,{x:t,y:r}){N5(e.x,t.translate,t.scale,t.originPoint),N5(e.y,r.translate,r.scale,r.originPoint)}const qk=.999999999999,Wk=1.0000000000001;function sJ(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,i;for(let o=0;o<s;o++){a=r[o],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,j6(e,i)),n&&$c(a.latestValues)&&Fd(e,a.latestValues))}t.x<Wk&&t.x>qk&&(t.x=1),t.y<Wk&&t.y>qk&&(t.y=1)}function Md(e,t){e.min=e.min+t,e.max=e.max+t}function Hk(e,t,r,n,s=.5){const a=Ur(e.min,e.max,s);N5(e,t,r,a,n)}function Fd(e,t){Hk(e.x,t.x,t.scaleX,t.scale,t.originX),Hk(e.y,t.y,t.scaleY,t.scale,t.originY)}function C6(e,t){return b6(JX(e.getBoundingClientRect(),t))}function aJ(e,t,r){const n=C6(e,r),{scroll:s}=t;return s&&(Md(n.x,s.offset.x),Md(n.y,s.offset.y)),n}const k6=({current:e})=>e?e.ownerDocument.defaultView:null,Gk=(e,t)=>Math.abs(e-t);function iJ(e,t){const r=Gk(e.x,t.x),n=Gk(e.y,t.y);return Math.sqrt(r**2+n**2)}class E6{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Hw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=iJ(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:y}=Bn;this.history.push({...g,timestamp:y});const{onStart:S,onMove:b}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Ww(f,this.transformPagePoint),Er.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Hw(h.type==="pointercancel"?this.lastMoveEventInfo:Ww(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,S),g&&g(h,S)},!Z_(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const i=og(t),o=Ww(i,this.transformPagePoint),{point:c}=o,{timestamp:u}=Bn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Hw(o,this.history)),this.removeListeners=ig(jp(this.contextWindow,"pointermove",this.handlePointerMove),jp(this.contextWindow,"pointerup",this.handlePointerUp),jp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nc(this.updatePoint)}}function Ww(e,t){return t?{point:t(e.point)}:e}function Yk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hw({point:e},t){return{point:e,delta:Yk(e,P6(t)),offset:Yk(e,oJ(t)),velocity:lJ(t,.1)}}function oJ(e){return e[0]}function P6(e){return e[e.length-1]}function lJ(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=P6(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Oo(t)));)r--;if(!n)return{x:0,y:0};const a=Io(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function cJ(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ur(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ur(r,e,n.max):Math.min(e,r)),e}function Kk(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function uJ(e,{top:t,left:r,bottom:n,right:s}){return{x:Kk(e.x,r,s),y:Kk(e.y,t,n)}}function Xk(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function dJ(e,t){return{x:Xk(e.x,t.x),y:Xk(e.y,t.y)}}function hJ(e,t){let r=.5;const n=gs(e),s=gs(t);return s>n?r=Ph(t.min,t.max-n,e.min):n>s&&(r=Ph(e.min,e.max-s,t.min)),qo(0,1,r)}function fJ(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const j5=.35;function pJ(e=j5){return e===!1?e=0:e===!0&&(e=j5),{x:Jk(e,"left","right"),y:Jk(e,"top","bottom")}}function Jk(e,t,r){return{min:Zk(e,t),max:Zk(e,r)}}function Zk(e,t){return typeof e=="number"?e:e[t]||0}const mJ=new WeakMap;class gJ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(og(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uY(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ca(S=>{let b=this.getAxisMotionValue(S).get()||0;if(eo.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const N=x.layout.layoutBox[S];N&&(b=gs(N)*(parseFloat(b)/100))}}this.originPoint[S]=b}),g&&Er.postRender(()=>g(d,h)),h5(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:S}=h;if(p&&this.currentDirection===null){this.currentDirection=yJ(S),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),y&&y(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Ca(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new E6(t,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:k6(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Er.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!zy(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=cJ(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&Rd(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=uJ(s.layoutBox,r):this.constraints=!1,this.elastic=pJ(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ca(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=fJ(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Rd(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=aJ(n,s.root,this.visualElement.getTransformPagePoint());let i=dJ(s.layout.layoutBox,a);if(r){const o=r(XX(i));this.hasMutatedConstraints=!!o,o&&(i=b6(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Ca(d=>{if(!zy(d,r,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return h5(this.visualElement,t),n.start(xN(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ca(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ca(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ca(r=>{const{drag:n}=this.getProps();if(!zy(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:o}=s.layout.layoutBox[r];a.set(t[r]-Ur(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Rd(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ca(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const c=o.get();s[i]=hJ({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ca(i=>{if(!zy(i,t,null))return;const o=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];o.set(Ur(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;mJ.set(this.visualElement,this);const t=this.visualElement.current,r=jp(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Rd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Er.read(n);const i=dm(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ca(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=j5,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:o}}}function zy(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function yJ(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vJ extends yc{constructor(t){super(t),this.removeGroupControls=la,this.removeListeners=la,this.controls=new gJ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||la}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qk=e=>(t,r)=>{e&&Er.postRender(()=>e(t,r))};class xJ extends yc{constructor(){super(...arguments),this.removePointerDownListener=la}onPointerDown(t){this.session=new E6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qk(t),onStart:Qk(r),onMove:n,onEnd:(a,i)=>{delete this.session,s&&Er.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=jp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const r=eE(e,t.target.x),n=eE(e,t.target.y);return`${r}% ${n}%`}},wJ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=sc.parse(e);if(s.length>5)return n;const a=sc.createTransformer(e),i=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=o,s[1+i]/=c;const u=Ur(o,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}};class bJ extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;FY(SJ),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),vv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,i=n.projection;return i&&(i.isPresent=a,s||t.layoutDependency!==r||r===void 0||t.isPresent!==a?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||Er.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),J_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function A6(e){const[t,r]=fD(),n=v.useContext(B_);return l.jsx(bJ,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(kD),isPresent:t,safeToRemove:r})}const SJ={borderRadius:{...qf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qf,borderTopRightRadius:qf,borderBottomLeftRadius:qf,borderBottomRightRadius:qf,boxShadow:wJ};function _J(e,t,r){const n=rs(e)?e:am(e);return n.start(xN("",n,t,r)),n.animation}function NJ(e){return e instanceof SVGElement&&e.tagName!=="svg"}const jJ=(e,t)=>e.depth-t.depth;class CJ{constructor(){this.children=[],this.isDirty=!1}add(t){q_(this.children,t),this.isDirty=!0}remove(t){W_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(jJ),this.isDirty=!1,this.children.forEach(t)}}function kJ(e,t){const r=Qi.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(nc(n),e(a-t))};return Er.read(n,!0),()=>nc(n)}const T6=["TopLeft","TopRight","BottomLeft","BottomRight"],EJ=T6.length,tE=e=>typeof e=="string"?parseFloat(e):e,rE=e=>typeof e=="number"||bt.test(e);function PJ(e,t,r,n,s,a){s?(e.opacity=Ur(0,r.opacity!==void 0?r.opacity:1,AJ(n)),e.opacityExit=Ur(t.opacity!==void 0?t.opacity:1,0,TJ(n))):a&&(e.opacity=Ur(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let i=0;i<EJ;i++){const o=`border${T6[i]}Radius`;let c=nE(t,o),u=nE(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||rE(c)===rE(u)?(e[o]=Math.max(Ur(tE(c),tE(u),n),0),(eo.test(u)||eo.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Ur(t.rotate||0,r.rotate||0,n))}function nE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const AJ=L6(0,.5,YD),TJ=L6(.5,.95,la);function L6(e,t,r){return n=>n<e?0:n>t?1:r(Ph(e,t,n))}function sE(e,t){e.min=t.min,e.max=t.max}function _a(e,t){sE(e.x,t.x),sE(e.y,t.y)}function aE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iE(e,t,r,n,s){return e-=t,e=p0(e,1/r,n),s!==void 0&&(e=p0(e,1/s,n)),e}function LJ(e,t=0,r=1,n=.5,s,a=e,i=e){if(eo.test(t)&&(t=parseFloat(t),t=Ur(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=Ur(a.min,a.max,n);e===a&&(o-=t),e.min=iE(e.min,t,r,o,s),e.max=iE(e.max,t,r,o,s)}function oE(e,t,[r,n,s],a,i){LJ(e,t[r],t[n],t[s],t.scale,a,i)}const DJ=["x","scaleX","originX"],RJ=["y","scaleY","originY"];function lE(e,t,r,n){oE(e.x,t,DJ,r?r.x:void 0,n?n.x:void 0),oE(e.y,t,RJ,r?r.y:void 0,n?n.y:void 0)}function cE(e){return e.translate===0&&e.scale===1}function D6(e){return cE(e.x)&&cE(e.y)}function uE(e,t){return e.min===t.min&&e.max===t.max}function OJ(e,t){return uE(e.x,t.x)&&uE(e.y,t.y)}function dE(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function R6(e,t){return dE(e.x,t.x)&&dE(e.y,t.y)}function hE(e){return gs(e.x)/gs(e.y)}function fE(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class IJ{constructor(){this.members=[]}add(t){q_(this.members,t),t.scheduleRender()}remove(t){if(W_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MJ(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const Gw=["","X","Y","Z"],FJ={visibility:"hidden"},pE=1e3;let BJ=0;function Yw(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function O6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=UD(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Er,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&O6(n)}function I6({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},o=t==null?void 0:t()){this.id=BJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VJ),this.nodes.forEach(GJ),this.nodes.forEach(YJ),this.nodes.forEach(zJ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new CJ)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new G_),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=NJ(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=kJ(f,250),vv.hasAnimatedSinceResize&&(vv.hasAnimatedSinceResize=!1,this.nodes.forEach(gE))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||QJ,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=d.getProps(),x=!this.targetLayout||!R6(this.targetLayout,g),N=!f&&p;if(this.options.layoutRoot||this.resumeFrom||N||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,N);const C={...Y_(y,"layout"),onPlay:S,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KJ),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mE);return}this.isUpdating||this.nodes.forEach(WJ),this.isUpdating=!1,this.nodes.forEach(HJ),this.nodes.forEach($J),this.nodes.forEach(UJ),this.clearAllSnapshots();const o=Qi.now();Bn.delta=qo(0,1e3/60,o-Bn.timestamp),Bn.timestamp=o,Bn.isProcessing=!0,Fw.update.process(Bn),Fw.preRender.process(Bn),Fw.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,J_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qJ),this.sharedNodes.forEach(XJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Er.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Er.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gs(this.snapshot.measuredBox.x)&&!gs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!D6(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(o||$c(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),eZ(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return rn();const c=o.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(tZ))){const{scroll:d}=this.root;d&&(Md(c.x,d.offset.x),Md(c.y,d.offset.y))}return c}removeElementScroll(i){var o;const c=rn();if(_a(c,i),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&_a(c,i),Md(c.x,h.offset.x),Md(c.y,h.offset.y))}return c}applyTransform(i,o=!1){const c=rn();_a(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Fd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$c(d.latestValues)&&Fd(c,d.latestValues)}return $c(this.latestValues)&&Fd(c,this.latestValues),c}removeTransform(i){const o=rn();_a(o,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!$c(u.latestValues))continue;_5(u.latestValues)&&u.updateSnapshot();const d=rn(),h=u.measurePageBox();_a(d,h),lE(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return $c(this.latestValues)&&lE(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),kp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),j6(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),kp(this.relativeTargetOrigin,this.target,p.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_5(this.parent.latestValues)||N6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;_a(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;sJ(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=rn());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aE(this.prevProjectionDelta.x,this.projectionDelta.x),aE(this.prevProjectionDelta.y,this.projectionDelta.y)),Cp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!fE(this.projectionDelta.x,this.prevProjectionDelta.x)||!fE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Id(),this.projectionDelta=Id(),this.projectionDeltaWithTransform=Id()}setAnimationOrigin(i,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Id();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=rn(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,S=this.getStack(),b=!S||S.members.length<=1,x=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(ZJ));this.animationProgress=0;let N;this.mixTargetDelta=C=>{const E=C/1e3;yE(h.x,i.x,E),yE(h.y,i.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JJ(this.relativeTarget,this.relativeTargetOrigin,f,E),N&&OJ(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=rn()),_a(N,this.relativeTarget)),y&&(this.animationValues=d,PJ(d,u,this.latestValues,E,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Er.update(()=>{vv.hasAnimatedSinceResize=!0,this.currentAnimation=_J(0,pE,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=i;if(!(!o||!c||!u)){if(this!==i&&this.layout&&u&&M6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rn();const h=gs(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const f=gs(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}_a(o,c),Fd(o,d),Cp(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new IJ),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&Yw("z",i,u,this.animationValues);for(let d=0;d<Gw.length;d++)Yw(`rotate${Gw[d]}`,i,u,this.animationValues),Yw(`skew${Gw[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return FJ;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=yv(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=yv(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!$c(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=MJ(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in om){if(f[y]===void 0)continue;const{correct:S,applyTo:b,isCSSVariable:x}=om[y],N=u.transform==="none"?f[y]:S(f[y],h);if(b){const C=b.length;for(let E=0;E<C;E++)u[b[E]]=N}else x?this.options.visualElement.renderState.vars[y]=N:u[y]=N}return this.options.layoutId&&(u.pointerEvents=h===this?yv(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(mE),this.root.sharedNodes.clear()}}}function $J(e){e.updateLayout()}function UJ(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,i=r.source!==e.layout.source;a==="size"?Ca(h=>{const f=i?r.measuredBox[h]:r.layoutBox[h],p=gs(f);f.min=n[h].min,f.max=f.min+p}):M6(a,r.layoutBox,n)&&Ca(h=>{const f=i?r.measuredBox[h]:r.layoutBox[h],p=gs(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const o=Id();Cp(o,n,r.layoutBox);const c=Id();i?Cp(c,e.applyTransform(s,!0),r.measuredBox):Cp(c,n,r.layoutBox);const u=!D6(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=rn();kp(g,r.layoutBox,f.layoutBox);const y=rn();kp(y,n,p.layoutBox),R6(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function VJ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zJ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qJ(e){e.clearSnapshot()}function mE(e){e.clearMeasurements()}function WJ(e){e.isLayoutDirty=!1}function HJ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function GJ(e){e.resolveTargetDelta()}function YJ(e){e.calcProjection()}function KJ(e){e.resetSkewAndRotation()}function XJ(e){e.removeLeadSnapshot()}function yE(e,t,r){e.translate=Ur(t.translate,0,r),e.scale=Ur(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function vE(e,t,r,n){e.min=Ur(t.min,r.min,n),e.max=Ur(t.max,r.max,n)}function JJ(e,t,r,n){vE(e.x,t.x,r.x,n),vE(e.y,t.y,r.y,n)}function ZJ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QJ={duration:.45,ease:[.4,0,.1,1]},xE=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),wE=xE("applewebkit/")&&!xE("chrome/")?Math.round:la;function bE(e){e.min=wE(e.min),e.max=wE(e.max)}function eZ(e){bE(e.x),bE(e.y)}function M6(e,t,r){return e==="position"||e==="preserve-aspect"&&!rJ(hE(t),hE(r),.2)}function tZ(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const rZ=I6({attachResizeListener:(e,t)=>dm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kw={current:void 0},F6=I6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kw.current){const e=new rZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Kw.current=e}return Kw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nZ={pan:{Feature:xJ},drag:{Feature:vJ,ProjectionNode:F6,MeasureLayout:A6}};function SE(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Er.postRender(()=>a(t,og(t)))}class sZ extends yc{mount(){const{current:t}=this.node;t&&(this.unmount=hY(t,(r,n)=>(SE(this.node,n,"Start"),s=>SE(this.node,s,"End"))))}unmount(){}}class aZ extends yc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ig(dm(this.node.current,"focus",()=>this.onFocus()),dm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _E(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Er.postRender(()=>a(t,og(t)))}class iZ extends yc{mount(){const{current:t}=this.node;t&&(this.unmount=gY(t,(r,n)=>(_E(this.node,n,"Start"),(s,{success:a})=>_E(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const C5=new WeakMap,Xw=new WeakMap,oZ=e=>{const t=C5.get(e.target);t&&t(e)},lZ=e=>{e.forEach(oZ)};function cZ({root:e,...t}){const r=e||document;Xw.has(r)||Xw.set(r,{});const n=Xw.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(lZ,{root:e,...t})),n[s]}function uZ(e,t,r){const n=cZ(t);return C5.set(e,r),n.observe(e),()=>{C5.delete(e),n.unobserve(e)}}const dZ={some:0,all:1};class hZ extends yc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:dZ[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return uZ(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(fZ(t,r))&&this.startObserver()}unmount(){}}function fZ({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const pZ={inView:{Feature:hZ},tap:{Feature:iZ},focus:{Feature:aZ},hover:{Feature:sZ}},mZ={layout:{ProjectionNode:F6,MeasureLayout:A6}},k5={current:null},B6={current:!1};function gZ(){if(B6.current=!0,!!U_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>k5.current=e.matches;e.addListener(t),t()}else k5.current=!1}const yZ=[...c6,Qn,sc],vZ=e=>yZ.find(l6(e)),xZ=new WeakMap;function wZ(e,t,r){for(const n in t){const s=t[n],a=r[n];if(rs(s))e.addValue(n,s);else if(rs(a))e.addValue(n,am(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,am(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const NE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bZ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Qi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Er.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=i;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=R1(r),this.isVariantNode=jD(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];c[p]!==void 0&&rs(g)&&g.set(c[p],!1)}}mount(t){this.current=t,xZ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),B6.current||gZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:k5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nc(this.notifyUpdate),nc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Cu.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Er.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ah){const r=Ah[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<NE.length;n++){const s=NE[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=wZ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=am(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(i6(s)||XD(s))?s=parseFloat(s):!vZ(s)&&sc.test(r)&&(s=n6(t,r)),this.setBaseTarget(t,rs(s)?s.get():s)),rs(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const i=uN(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);i&&(s=i[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!rs(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new G_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class $6 extends bZ{constructor(){super(...arguments),this.KeyframeResolver=u6}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rs(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function SZ(e){return window.getComputedStyle(e)}class _Z extends $6{constructor(){super(...arguments),this.type="html",this.renderInstance=ID}readValueFromInstance(t,r){if(Cu.has(r))return OK(t,r);{const n=SZ(t),s=(rN(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return C6(t,r)}build(t,r,n){aN(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return dN(t,r,n)}}class NZ extends $6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&OD(this.current,this.renderState)}}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Cu.has(r)){const n=r6(r);return n&&n.default||0}return r=MD.has(r)?r:tN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return BD(t,r,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&Er.postRender(this.updateDimensions)}build(t,r,n){lN(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){FD(t,r,n,s)}mount(t){this.isSVGTag=cN(t.tagName),super.mount(t)}}const jZ=(e,t)=>oN(e)?new NZ(t):new _Z(t,{allowProjection:e!==v.Fragment}),CZ=lK({...YX,...pZ,...nZ,...mZ},jZ),zs=NY(CZ),kZ=({message:e="Loading application...",timeout:t=15e3})=>{const[r,n]=v.useState(0),[s,a]=v.useState(!1),[i,o]=v.useState("");return v.useEffect(()=>{const c=setInterval(()=>{n(u=>{const d=Math.max(1,10-Math.floor(u/10));return Math.min(99,u+d)})},300);return()=>clearInterval(c)},[]),v.useEffect(()=>{const c=setInterval(()=>{o(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(c)},[]),v.useEffect(()=>{const c=setTimeout(()=>{a(!0),n(100)},t);return()=>clearTimeout(c)},[t]),l.jsx(zs.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 flex flex-col items-center justify-center bg-background z-50",children:l.jsxs("div",{className:"w-full max-w-md px-4 flex flex-col items-center",children:[l.jsx(To,{className:"h-12 w-12 text-primary animate-spin mb-4"}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mb-4 overflow-hidden",children:l.jsx(zs.div,{className:"bg-primary h-2.5 rounded-full",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.3}})}),l.jsxs("p",{className:"text-center text-muted-foreground mb-2",children:[e,i]}),s&&l.jsxs("div",{className:"mt-4 text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"This is taking longer than expected. You can:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside",children:[l.jsx("li",{children:"Check your internet connection"}),l.jsx("li",{children:"Refresh the page"}),l.jsx("li",{children:"Try again later"})]})]})]})})},hm=tg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 sm:h-9",lg:"h-10 rounded-md px-6 sm:h-11 sm:px-8",icon:"h-9 w-9 sm:h-10 sm:w-10"},hasIcon:{true:"",false:""}},compoundVariants:[{hasIcon:!0,size:"default",className:"gap-2"},{hasIcon:!0,size:"sm",className:"gap-1.5"},{hasIcon:!0,size:"lg",className:"gap-2.5"}],defaultVariants:{variant:"default",size:"default",hasIcon:!1}}),ge=v.forwardRef(({className:e,variant:t,size:r,hasIcon:n,asChild:s=!1,...a},i)=>{const o=v.useRef(null),[c,u]=v.useState(!1);v.useEffect(()=>{if(o.current){const h=o.current.querySelector("svg")!==null;u(h)}},[a.children]);const d=s?no:"button";return l.jsx(d,{className:Ve(hm({variant:t,size:r,hasIcon:n!==void 0?n:c,className:e})),ref:h=>{typeof i=="function"?i(h):i&&(i.current=h),o.current=h},...a})});ge.displayName="Button";const Kt=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Kt.displayName="Card";const er=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ve("flex flex-col space-y-1.5 p-6",e),...t}));er.displayName="CardHeader";const ar=v.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:Ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));ar.displayName="CardTitle";const Jr=v.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:Ve("text-sm text-muted-foreground",e),...t}));Jr.displayName="CardDescription";const Yt=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ve("p-6 pt-0",e),...t}));Yt.displayName="CardContent";const Wo=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ve("flex items-center p-6 pt-0",e),...t}));Wo.displayName="CardFooter";const U6={async checkConnection(){try{const{data:e,error:t}=await He.auth.getSession();if(t)return console.error("Session error:",t),{success:!1,message:`Session error: ${t.message}`};if(!e.session)return console.warn("No active session found"),{success:!1,message:"No active session found. Please log in again."};const r=e.session.expires_at,n=Math.floor(Date.now()/1e3);if(r&&r<n){console.warn("Session expired, attempting to refresh");const{data:a,error:i}=await He.auth.refreshSession();if(i)return console.error("Failed to refresh session:",i),{success:!1,message:`Session expired and refresh failed: ${i.message}`};if(!a.session)return console.error("Session refresh did not return a new session"),{success:!1,message:"Session expired and could not be refreshed. Please log in again."};console.log("Session refreshed successfully")}const{error:s}=await He.from("profiles").select("id").limit(1);return s?(console.error("Test query error:",s),s.code==="PGRST301"||s.message.includes("permission denied")?(console.warn("Permission error detected, might be an RLS issue"),{success:!1,message:"Database permission error. This might be due to Row Level Security settings."}):{success:!1,message:`Database connection error: ${s.message}`}):{success:!0,message:"Supabase connection is valid"}}catch(e){return console.error("Unexpected error checking Supabase connection:",e),{success:!1,message:`Unexpected error: ${e instanceof Error?e.message:String(e)}`}}},async fixConnectionIssues(){try{const e=await this.checkConnection();if(e.success)return e;const{data:t,error:r}=await He.auth.refreshSession();if(r){console.error("Failed to refresh session:",r);const{data:a,error:i}=await He.auth.getUser();if(i||!a.user)return console.error("Failed to get user:",i),{success:!1,message:"Authentication issues detected. Please log out and log in again."}}const{data:n}=await He.auth.getSession();return n.session?await this.checkConnection():{success:!1,message:"Could not establish a valid session. Please log out and log in again."}}catch(e){return console.error("Error fixing Supabase connection:",e),{success:!1,message:`Error fixing connection: ${e instanceof Error?e.message:String(e)}`}}},getErrorMessage(e){if(!e)return"Unknown error";const t=e.message||e.error_description||String(e);return t.includes("JWT expired")?"Your session has expired. Please log in again.":t.includes("permission denied")?"You do not have permission to perform this action.":t.includes("does not exist")?"The requested resource does not exist.":t.includes("duplicate key")?"This record already exists.":t.includes("network error")?"Network error. Please check your internet connection.":t}};window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&(e.reason.error_description||e.reason.message&&e.reason.message.includes("supabase"))&&console.error("Supabase error detected:",U6.getErrorMessage(e.reason))});class EZ extends v.Component{constructor(r){super(r);hy(this,"handleTryAgain",()=>{this.setState({hasError:!1,error:null,errorInfo:null,fixResult:null})});hy(this,"handleFixIssues",async()=>{this.setState({isFixing:!0});try{const r=await U6.fixConnectionIssues();this.setState({isFixing:!1,fixResult:r.message}),r.success&&setTimeout(()=>{this.handleTryAgain()},1500)}catch(r){console.error("Error fixing issues:",r),this.setState({isFixing:!1,fixResult:`Failed to fix issues: ${r instanceof Error?r.message:String(r)}`})}});this.state={hasError:!1,error:null,errorInfo:null,isFixing:!1,fixResult:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null,isFixing:!1,fixResult:null}}componentDidCatch(r,n){console.error("Error caught by ErrorBoundary:",r,n),this.setState({error:r,errorInfo:n}),(r.message.includes("supabase")||r.message.includes("auth")||r.message.includes("database"))&&console.log("Supabase-related error detected")}render(){const{hasError:r,error:n,errorInfo:s,isFixing:a,fixResult:i}=this.state,{children:o,fallback:c}=this.props;return r?c||l.jsx("div",{className:"flex items-center justify-center min-h-[300px] p-4",children:l.jsxs(Kt,{className:"w-full max-w-md",children:[l.jsx(er,{className:"bg-red-50 dark:bg-red-900/20",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fL,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),l.jsx(ar,{className:"text-red-600 dark:text-red-400",children:"Something went wrong"})]})}),l.jsx(Yt,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Error details:"}),l.jsx("div",{className:"bg-muted p-2 rounded-md overflow-auto max-h-[200px]",children:l.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:n==null?void 0:n.toString()})}),s&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Component stack:"}),l.jsx("div",{className:"bg-muted p-2 rounded-md overflow-auto max-h-[200px]",children:l.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:s.componentStack})})]}),i&&l.jsx("div",{className:`mt-2 p-2 rounded-md ${i.includes("success")?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-yellow-50 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400"}`,children:l.jsx("p",{className:"text-xs",children:i})})]})}),l.jsxs(Wo,{className:"flex justify-between gap-2",children:[l.jsx(ge,{variant:"outline",onClick:this.handleTryAgain,disabled:a,children:"Try again"}),l.jsx(ge,{onClick:this.handleFixIssues,disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"mr-2 h-4 w-4 animate-spin"}),"Fixing..."]}):"Fix Issues"})]})]})}):o}}class PZ extends v.Component{constructor(r){super(r);hy(this,"handleRefresh",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Error caught by SimpleErrorBoundary:",r,n)}render(){const{hasError:r,error:n}=this.state,{children:s}=this.props;return r?l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:l.jsxs("div",{className:"w-full max-w-md p-6 bg-white rounded-lg shadow-lg",children:[l.jsx("h1",{className:"text-xl font-bold text-center mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"We encountered an error while loading the application. This might be due to recent changes or database issues."}),l.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md mb-4 text-sm overflow-auto max-h-[200px]",children:l.jsx("pre",{className:"whitespace-pre-wrap",children:n==null?void 0:n.toString()})}),l.jsx(ge,{onClick:this.handleRefresh,className:"w-full",children:"Refresh Page"}),l.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[l.jsx("p",{children:"If the issue persists, please try:"}),l.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[l.jsx("li",{children:"Clearing your browser cache"}),l.jsx("li",{children:"Checking your internet connection"}),l.jsx("li",{children:"Logging out and logging back in"})]})]})]})}):s}}const E5=(e,t)=>t.some(r=>e instanceof r);let jE,CE;function AZ(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TZ(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P5=new WeakMap,Jw=new WeakMap,I1=new WeakMap;function LZ(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{r(ou(e.result)),s()},i=()=>{n(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",i)});return I1.set(t,e),t}function DZ(e){if(P5.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{r(),s()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});P5.set(e,t)}let A5={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return P5.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ou(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function V6(e){A5=e(A5)}function RZ(e){return TZ().includes(e)?function(...t){return e.apply(T5(this),t),ou(this.request)}:function(...t){return ou(e.apply(T5(this),t))}}function OZ(e){return typeof e=="function"?RZ(e):(e instanceof IDBTransaction&&DZ(e),E5(e,AZ())?new Proxy(e,A5):e)}function ou(e){if(e instanceof IDBRequest)return LZ(e);if(Jw.has(e))return Jw.get(e);const t=OZ(e);return t!==e&&(Jw.set(e,t),I1.set(t,e)),t}const T5=e=>I1.get(e);function M1(e,t,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const i=indexedDB.open(e,t),o=ou(i);return n&&i.addEventListener("upgradeneeded",c=>{n(ou(i.result),c.oldVersion,c.newVersion,ou(i.transaction),c)}),r&&i.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const IZ=["get","getKey","getAll","getAllKeys","count"],MZ=["put","add","delete","clear"],Zw=new Map;function kE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zw.get(t))return Zw.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=MZ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||IZ.includes(r)))return;const a=async function(i,...o){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),s&&c.done]))[0]};return Zw.set(t,a),a}V6(e=>({...e,get:(t,r,n)=>kE(t,r)||e.get(t,r,n),has:(t,r)=>!!kE(t,r)||e.has(t,r)}));const FZ=["continue","continuePrimaryKey","advance"],EE={},L5=new WeakMap,z6=new WeakMap,BZ={get(e,t){if(!FZ.includes(t))return e[t];let r=EE[t];return r||(r=EE[t]=function(...n){L5.set(this,z6.get(this)[t](...n))}),r}};async function*$Z(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,BZ);for(z6.set(r,t),I1.set(r,T5(t));t;)yield r,t=await(L5.get(r)||t.continue()),L5.delete(r)}function PE(e,t){return t===Symbol.asyncIterator&&E5(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&E5(e,[IDBIndex,IDBObjectStore])}V6(e=>({...e,get(t,r,n){return PE(t,r)?$Z:e.get(t,r,n)},has(t,r){return PE(t,r)||e.has(t,r)}}));const Mn=[];for(let e=0;e<256;++e)Mn.push((e+256).toString(16).slice(1));function UZ(e,t=0){return(Mn[e[t+0]]+Mn[e[t+1]]+Mn[e[t+2]]+Mn[e[t+3]]+"-"+Mn[e[t+4]]+Mn[e[t+5]]+"-"+Mn[e[t+6]]+Mn[e[t+7]]+"-"+Mn[e[t+8]]+Mn[e[t+9]]+"-"+Mn[e[t+10]]+Mn[e[t+11]]+Mn[e[t+12]]+Mn[e[t+13]]+Mn[e[t+14]]+Mn[e[t+15]]).toLowerCase()}let Qw;const VZ=new Uint8Array(16);function zZ(){if(!Qw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qw=crypto.getRandomValues.bind(crypto)}return Qw(VZ)}const qZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),AE={randomUUID:qZ};function ku(e,t,r){var s;if(AE.randomUUID&&!t&&!e)return AE.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??zZ();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,UZ(n)}const WZ="business-sales-db",HZ=1,Xo=async()=>M1(WZ,HZ,{upgrade(e){e.objectStoreNames.contains("users")||e.createObjectStore("users",{keyPath:"id"}).createIndex("by-email","email"),e.objectStoreNames.contains("transactions")||e.createObjectStore("transactions",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("purchases")||e.createObjectStore("purchases",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("transportation")||e.createObjectStore("transportation",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("sales")||e.createObjectStore("sales",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("payments")||e.createObjectStore("payments",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("transaction_notes")||e.createObjectStore("transaction_notes",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("attachments")||e.createObjectStore("attachments",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("daily_logs")||e.createObjectStore("daily_logs",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("buyers")||e.createObjectStore("buyers",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("sellers")||e.createObjectStore("sellers",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("sync_status")||e.createObjectStore("sync_status",{keyPath:"table"})}}),Xa=async(e,t)=>{console.log(`DB-SERVICE: Adding item to ${e} store:`,t);try{const r=await Xo(),n=r.transaction(e,"readwrite");return await n.objectStore(e).add(t),await n.done,r.close(),console.log(`DB-SERVICE: Successfully added item to ${e} store`),t}catch(r){throw console.error(`DB-SERVICE: Error adding item to ${e} store:`,r),r}},Na=async(e,t)=>{const r=await Xo(),a=await r.transaction(e,"readonly").objectStore(e).get(t);return r.close(),a||null},GZ=async e=>{const t=await Xo(),s=await t.transaction(e,"readonly").objectStore(e).getAll();return t.close(),s},Ja=async(e,t)=>{const r=await Xo(),n=r.transaction(e,"readwrite");return await n.objectStore(e).put(t),await n.done,r.close(),t},pn=async(e,t)=>{const r=await Xo(),n=r.transaction(e,"readwrite");await n.objectStore(e).delete(t),await n.done,r.close()},Cr=async(e,t,r)=>{console.log(`DB-SERVICE: Getting items from ${e} store by index ${t} with value ${r}`);try{const n=await Xo(),o=await n.transaction(e,"readonly").objectStore(e).index(t).getAll(r);return n.close(),console.log(`DB-SERVICE: Found ${o.length} items in ${e} store`),o}catch(n){return console.error(`DB-SERVICE: Error getting items from ${e} store by index:`,n),[]}},YZ=async e=>{const t=await Xo(),r=t.transaction("sync_status","readwrite");await r.objectStore("sync_status").put({table:e,lastSyncTime:Date.now()}),await r.done,t.close()},KZ=async e=>{const t=await Xo(),s=await t.transaction("sync_status","readonly").objectStore("sync_status").get(e);return t.close(),s?s.lastSyncTime:null},Mi=()=>ku(),XZ=async e=>{try{console.log("Starting local duplicate transaction cleanup for user:",e);const t=await Cr("transactions","by-user-id",e);console.log(`Retrieved ${t.length} transactions from local database`);const r=new Map;t.forEach(s=>{var o;const a=s.created_at?new Date(s.created_at).toDateString():"unknown",i=`${s.name}-${a}`;r.has(i)||r.set(i,[]),(o=r.get(i))==null||o.push(s)});let n=0;for(const[s,a]of r.entries())if(a.length>1){console.log(`Found ${a.length} duplicate transactions for key: ${s}`),a.sort((o,c)=>o.id.localeCompare(c.id));const i=a[0];console.log(`Keeping transaction ${i.id}`);for(let o=1;o<a.length;o++){const c=a[o];console.log(`Deleting duplicate transaction ${c.id}`);try{await pn("transactions",c.id),n++}catch(u){console.error(`Error deleting duplicate transaction ${c.id}:`,u)}}}return console.log(`Local transaction cleanup complete. Removed ${n} duplicates`),n}catch(t){return console.error("Error cleaning up local duplicate transactions:",t),0}},JZ=async e=>{try{console.log("Starting local duplicate daily log cleanup for user:",e);const t=await Cr("daily_logs","by-user-id",e);console.log(`Retrieved ${t.length} daily logs from local database`);const r=new Map;t.forEach(s=>{var o;const a=s.date?new Date(s.date).toDateString():"unknown",i=`${s.recipient_name}-${s.amount}-${a}-${s.direction}-${s.payment_type}`;r.has(i)||r.set(i,[]),(o=r.get(i))==null||o.push(s)});let n=0;for(const[s,a]of r.entries())if(a.length>1){console.log(`Found ${a.length} duplicate daily logs for key: ${s}`),a.sort((o,c)=>o.id.localeCompare(c.id));const i=a[0];console.log(`Keeping daily log ${i.id}`);for(let o=1;o<a.length;o++){const c=a[o];console.log(`Deleting duplicate daily log ${c.id}`);try{await pn("daily_logs",c.id),n++}catch(u){console.error(`Error deleting duplicate daily log ${c.id}:`,u)}}}return console.log(`Local daily log cleanup complete. Removed ${n} duplicates`),n}catch(t){return console.error("Error cleaning up local duplicate daily logs:",t),0}},Te={getUser:async e=>{try{return await Na("users",e)}catch(t){return console.error("Error getting user:",t),null}},getUserByEmail:async e=>{try{const t=await Xo(),a=await t.transaction("users","readonly").objectStore("users").index("by-email").getAll(e);return t.close(),a.length>0?a[0]:null}catch(t){return console.error("Error getting user by email:",t),null}},addUser:async e=>{try{return await Xa("users",e)}catch(t){throw console.error("Error adding user:",t),t}},updateUser:async e=>{try{return await Ja("users",e)}catch(t){throw console.error("Error updating user:",t),t}},getTransaction:async e=>{try{return await Na("transactions",e)}catch(t){return console.error("Error getting transaction:",t),null}},getAllTransactions:async e=>{try{return e?await Cr("transactions","by-user-id",e):await GZ("transactions")}catch(t){return console.error("Error getting all transactions:",t),[]}},addTransaction:async e=>{try{const t={...e,id:Mi()};return await Xa("transactions",t)}catch(t){throw console.error("Error adding transaction:",t),t}},updateTransaction:async e=>{try{return await Ja("transactions",e)}catch(t){throw console.error("Error updating transaction:",t),t}},deleteTransaction:async e=>{try{const t=await Cr("purchases","by-transaction-id",e),r=await Cr("transportation","by-transaction-id",e),n=await Cr("sales","by-transaction-id",e),s=await Cr("payments","by-transaction-id",e),a=await Cr("transaction_notes","by-transaction-id",e),i=await Cr("attachments","by-transaction-id",e);for(const o of t)await pn("purchases",o.id);for(const o of r)await pn("transportation",o.id);for(const o of n)await pn("sales",o.id);for(const o of s)await pn("payments",o.id);for(const o of a)await pn("transaction_notes",o.id);for(const o of i)await pn("attachments",o.id);await pn("transactions",e)}catch(t){throw console.error("Error deleting transaction:",t),t}},getCompleteTransaction:async e=>{try{const t=await Na("transactions",e);if(!t)return null;const r=await Cr("purchases","by-transaction-id",e),n=await Cr("transportation","by-transaction-id",e),s=await Cr("sales","by-transaction-id",e),a=await Cr("payments","by-transaction-id",e),i=await Cr("transaction_notes","by-transaction-id",e),o=await Cr("attachments","by-transaction-id",e);return{transaction:t,purchases:r,transportation:n.length>0?n[0]:void 0,sales:s,payments:a,notes:i,attachments:o}}catch(t){return console.error("Error getting complete transaction:",t),null}},getPurchase:async e=>{try{return await Na("purchases",e)}catch(t){return console.error("Error getting purchase:",t),null}},getPurchasesByTransaction:async e=>{try{return await Cr("purchases","by-transaction-id",e)}catch(t){return console.error("Error getting purchases by transaction:",t),[]}},addPurchase:async e=>{try{const t={...e,id:Mi()};return await Xa("purchases",t)}catch(t){throw console.error("Error adding purchase:",t),t}},updatePurchase:async e=>{try{return await Ja("purchases",e)}catch(t){throw console.error("Error updating purchase:",t),t}},deletePurchase:async e=>{try{await pn("purchases",e)}catch(t){throw console.error("Error deleting purchase:",t),t}},getTransportation:async e=>{try{return await Na("transportation",e)}catch(t){return console.error("Error getting transportation:",t),null}},getTransportationByTransaction:async e=>{try{const t=await Cr("transportation","by-transaction-id",e);return t.length>0?t[0]:null}catch(t){return console.error("Error getting transportation by transaction:",t),null}},addTransportation:async e=>{try{const t={...e,id:Mi()};return await Xa("transportation",t)}catch(t){throw console.error("Error adding transportation:",t),t}},updateTransportation:async e=>{try{return await Ja("transportation",e)}catch(t){throw console.error("Error updating transportation:",t),t}},deleteTransportation:async e=>{try{await pn("transportation",e)}catch(t){throw console.error("Error deleting transportation:",t),t}},getSale:async e=>{try{return await Na("sales",e)}catch(t){return console.error("Error getting sale:",t),null}},getSalesByTransaction:async e=>{try{return await Cr("sales","by-transaction-id",e)}catch(t){return console.error("Error getting sales by transaction:",t),[]}},addSale:async e=>{try{const t={...e,id:Mi()};return await Xa("sales",t)}catch(t){throw console.error("Error adding sale:",t),t}},updateSale:async e=>{try{return await Ja("sales",e)}catch(t){throw console.error("Error updating sale:",t),t}},deleteSale:async e=>{try{await pn("sales",e)}catch(t){throw console.error("Error deleting sale:",t),t}},getPayment:async e=>{try{return await Na("payments",e)}catch(t){return console.error("Error getting payment:",t),null}},getPaymentsByTransaction:async e=>{try{return await Cr("payments","by-transaction-id",e)}catch(t){return console.error("Error getting payments by transaction:",t),[]}},addPayment:async e=>{try{const t={...e,id:Mi()};return await Xa("payments",t)}catch(t){throw console.error("Error adding payment:",t),t}},updatePayment:async e=>{try{return await Ja("payments",e)}catch(t){throw console.error("Error updating payment:",t),t}},deletePayment:async e=>{try{await pn("payments",e)}catch(t){throw console.error("Error deleting payment:",t),t}},getTransactionNote:async e=>{try{return await Na("transaction_notes",e)}catch(t){return console.error("Error getting transaction note:",t),null}},getNotesByTransaction:async e=>{try{return await Cr("transaction_notes","by-transaction-id",e)}catch(t){return console.error("Error getting notes by transaction:",t),[]}},addTransactionNote:async e=>{try{const t={...e,id:Mi(),created_at:new Date().toISOString()};return await Xa("transaction_notes",t)}catch(t){throw console.error("Error adding transaction note:",t),t}},updateTransactionNote:async e=>{try{return await Ja("transaction_notes",e)}catch(t){throw console.error("Error updating transaction note:",t),t}},deleteTransactionNote:async e=>{try{await pn("transaction_notes",e)}catch(t){throw console.error("Error deleting transaction note:",t),t}},getAttachment:async e=>{try{return await Na("attachments",e)}catch(t){return console.error("Error getting attachment:",t),null}},getAttachmentsByTransaction:async e=>{try{return await Cr("attachments","by-transaction-id",e)}catch(t){return console.error("Error getting attachments by transaction:",t),[]}},addAttachment:async e=>{try{const t={...e,id:Mi(),created_at:new Date().toISOString()};return await Xa("attachments",t)}catch(t){throw console.error("Error adding attachment:",t),t}},updateAttachment:async e=>{try{return await Ja("attachments",e)}catch(t){throw console.error("Error updating attachment:",t),t}},deleteAttachment:async e=>{try{await pn("attachments",e)}catch(t){throw console.error("Error deleting attachment:",t),t}},getDailyLog:async e=>{try{return await Na("daily_logs",e)}catch(t){return console.error("Error getting daily log:",t),null}},getDailyLogsByUser:async e=>{try{return await Cr("daily_logs","by-user-id",e)}catch(t){return console.error("Error getting daily logs by user:",t),[]}},addDailyLog:async e=>{try{const t={...e,id:Mi(),created_at:new Date().toISOString()};return await Xa("daily_logs",t)}catch(t){throw console.error("Error adding daily log:",t),t}},updateDailyLog:async e=>{try{return await Ja("daily_logs",e)}catch(t){throw console.error("Error updating daily log:",t),t}},deleteDailyLog:async e=>{try{await pn("daily_logs",e)}catch(t){throw console.error("Error deleting daily log:",t),t}},getBuyer:async e=>{try{return await Na("buyers",e)}catch(t){return console.error("Error getting buyer:",t),null}},getBuyersByUser:async e=>{try{console.log("DB-SERVICE: Getting buyers for user:",e);const t=await Cr("buyers","by-user-id",e);return console.log("DB-SERVICE: Found buyers:",t.length),t}catch(t){return console.error("DB-SERVICE: Error getting buyers by user:",t),[]}},addBuyer:async e=>{try{console.log("DB-SERVICE: Adding buyer:",e);const t={...e,id:Mi()};console.log("DB-SERVICE: Generated buyer with ID:",t.id);const r=await Xa("buyers",t);return console.log("DB-SERVICE: Successfully added buyer:",r),r}catch(t){throw console.error("DB-SERVICE: Error adding buyer:",t),t}},updateBuyer:async e=>{try{return await Ja("buyers",e)}catch(t){throw console.error("Error updating buyer:",t),t}},deleteBuyer:async e=>{try{await pn("buyers",e)}catch(t){throw console.error("Error deleting buyer:",t),t}},getSeller:async e=>{try{return await Na("sellers",e)}catch(t){return console.error("Error getting seller:",t),null}},getSellersByUser:async e=>{try{return await Cr("sellers","by-user-id",e)}catch(t){return console.error("Error getting sellers by user:",t),[]}},addSeller:async e=>{try{const t={...e,id:Mi()};return await Xa("sellers",t)}catch(t){throw console.error("Error adding seller:",t),t}},updateSeller:async e=>{try{return await Ja("sellers",e)}catch(t){throw console.error("Error updating seller:",t),t}},deleteSeller:async e=>{try{await pn("sellers",e)}catch(t){throw console.error("Error deleting seller:",t),t}},cleanupDuplicateBuyers:async e=>{try{console.log("Starting cleanup of duplicate buyers for user:",e);const t=await Cr("buyers","by-user-id",e);console.log(`Retrieved ${t.length} buyers from local database`);const r=new Map;t.forEach(o=>{r.set(o.id,o)});const n=[],s=new Set,a=[];Array.from(r.values()).forEach(o=>{const c=o.name.toLowerCase().trim(),u=(o.email||"").toLowerCase().trim(),d=(o.phone||"").toLowerCase().trim(),h=`${c}-${u}-${d}`;s.has(h)?(console.log(`Found duplicate buyer: ${o.name} (${o.id})`),a.push(o)):(s.add(h),n.push(o))});let i=0;for(const o of a)try{console.log(`Deleting duplicate buyer: ${o.name} (${o.id})`),await pn("buyers",o.id),i++}catch(c){console.error(`Error deleting duplicate buyer ${o.id}:`,c)}return console.log(`Removed ${i} duplicate buyers`),i}catch(t){return console.error("Error cleaning up duplicate buyers:",t),0}},cleanupDuplicateSellers:async e=>{try{console.log("Starting cleanup of duplicate sellers for user:",e);const t=await Cr("sellers","by-user-id",e);console.log(`Retrieved ${t.length} sellers from local database`);const r=new Map;t.forEach(o=>{r.set(o.id,o)});const n=[],s=new Set,a=[];Array.from(r.values()).forEach(o=>{const c=o.name.toLowerCase().trim(),u=(o.email||"").toLowerCase().trim(),d=(o.phone||"").toLowerCase().trim(),h=`${c}-${u}-${d}`;s.has(h)?(console.log(`Found duplicate seller: ${o.name} (${o.id})`),a.push(o)):(s.add(h),n.push(o))});let i=0;for(const o of a)try{console.log(`Deleting duplicate seller: ${o.name} (${o.id})`),await pn("sellers",o.id),i++}catch(c){console.error(`Error deleting duplicate seller ${o.id}:`,c)}return console.log(`Removed ${i} duplicate sellers`),i}catch(t){return console.error("Error cleaning up duplicate sellers:",t),0}},updateSyncStatus:YZ,getSyncStatus:KZ,cleanupDuplicateTransactions:async e=>{try{return await XZ(e)}catch(t){return console.error("Error cleaning up duplicate transactions:",t),0}},cleanupDuplicateDailyLogs:async e=>{try{return await JZ(e)}catch(t){return console.error("Error cleaning up duplicate daily logs:",t),0}}},ZZ=Object.freeze(Object.defineProperty({__proto__:null,dbService:Te},Symbol.toStringTag,{value:"Module"})),Ye={getCurrentUser:async()=>{try{const{data:{user:e}}=await He.auth.getUser();if(!e)return null;const{data:t,error:r}=await He.from("users").select("*").eq("id",e.id).single();return r?(console.error("Error fetching user:",r),null):t}catch(e){return console.error("Error getting current user:",e),null}},createUserProfile:async e=>{try{const{data:t,error:r}=await He.from("users").insert(e).select().single();return r?(console.error("Error creating user profile:",r),null):t}catch(t){return console.error("Error creating user profile:",t),null}},updateUserProfile:async e=>{try{const{data:t,error:r}=await He.from("users").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating user profile:",r),null):t}catch(t){return console.error("Error updating user profile:",t),null}},getTransactions:async e=>{try{const{data:t,error:r}=await He.from("transactions").select("*").eq("user_id",e);return r?(console.error("Error fetching transactions:",r),[]):t}catch(t){return console.error("Error getting transactions:",t),[]}},getTransaction:async e=>{try{const{data:t,error:r}=await He.from("transactions").select("*").eq("id",e).single();return r?(console.error("Error fetching transaction:",r),null):t}catch(t){return console.error("Error getting transaction:",t),null}},createTransaction:async e=>{try{const{data:t,error:r}=await He.from("transactions").insert(e).select().single();return r?(console.error("Error creating transaction:",r),null):t}catch(t){return console.error("Error creating transaction:",t),null}},updateTransaction:async e=>{try{const{data:t,error:r}=await He.from("transactions").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating transaction:",r),null):t}catch(t){return console.error("Error updating transaction:",t),null}},deleteTransaction:async e=>{try{const{error:t}=await He.from("transactions").delete().eq("id",e);return t?(console.error("Error deleting transaction:",t),!1):!0}catch(t){return console.error("Error deleting transaction:",t),!1}},getPurchases:async e=>{try{const{data:t,error:r}=await He.from("purchases").select("*").eq("transaction_id",e);return r?(console.error("Error fetching purchases:",r),[]):t}catch(t){return console.error("Error getting purchases:",t),[]}},createPurchase:async e=>{try{const{data:t,error:r}=await He.from("purchases").insert(e).select().single();return r?(console.error("Error creating purchase:",r),null):t}catch(t){return console.error("Error creating purchase:",t),null}},updatePurchase:async e=>{try{const{data:t,error:r}=await He.from("purchases").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating purchase:",r),null):t}catch(t){return console.error("Error updating purchase:",t),null}},deletePurchase:async e=>{try{const{error:t}=await He.from("purchases").delete().eq("id",e);return t?(console.error("Error deleting purchase:",t),!1):!0}catch(t){return console.error("Error deleting purchase:",t),!1}},getTransportation:async e=>{try{const{data:t,error:r}=await He.from("transportation").select("*").eq("transaction_id",e).single();return r&&r.code!=="PGRST116"?(console.error("Error fetching transportation:",r),null):t}catch(t){return console.error("Error getting transportation:",t),null}},createTransportation:async e=>{try{console.log("Creating transportation in Supabase:",e);const t=await Ye.getTransportation(e.transaction_id);if(t)return console.log("Transportation already exists, updating instead:",t),await Ye.updateTransportation({...t,...e,id:t.id});const r={...e};r.departure_date===""&&(r.departure_date=null),r.expected_arrival_date===""&&(r.expected_arrival_date=null),r.departure_time===""&&(r.departure_time=null),r.expected_arrival_time===""&&(r.expected_arrival_time=null),console.log("No existing transportation found, creating new record with cleaned data:",r);const{data:n,error:s}=await He.from("transportation").insert(r).select().single();if(s){if(console.error("Error creating transportation:",s),console.error("Error details:",JSON.stringify(s,null,2)),console.error("Transportation data:",JSON.stringify(r,null,2)),s.code==="23505"){console.log("Duplicate key error, trying to update instead");const a=await Ye.getTransportation(e.transaction_id);if(a)return await Ye.updateTransportation({...a,...r,id:a.id})}return null}return console.log("Transportation created successfully:",n),n}catch(t){return console.error("Error creating transportation:",t),null}},updateTransportation:async e=>{try{console.log("Updating transportation in Supabase:",e);const t={...e};t.departure_date===""&&(t.departure_date=null),t.expected_arrival_date===""&&(t.expected_arrival_date=null),t.departure_time===""&&(t.departure_time=null),t.expected_arrival_time===""&&(t.expected_arrival_time=null),console.log("Updating with cleaned data:",t);const{data:r,error:n}=await He.from("transportation").update(t).eq("id",t.id).select().single();return n?(console.error("Error updating transportation:",n),console.error("Error details:",JSON.stringify(n,null,2)),console.error("Transportation data:",JSON.stringify(t,null,2)),null):(console.log("Transportation updated successfully:",r),r)}catch(t){return console.error("Error updating transportation:",t),null}},deleteTransportation:async e=>{try{const{error:t}=await He.from("transportation").delete().eq("id",e);return t?(console.error("Error deleting transportation:",t),!1):!0}catch(t){return console.error("Error deleting transportation:",t),!1}},getSales:async e=>{try{const{data:t,error:r}=await He.from("sales").select("*").eq("transaction_id",e);return r?(console.error("Error fetching sales:",r),[]):t}catch(t){return console.error("Error getting sales:",t),[]}},createSale:async e=>{try{const{data:t,error:r}=await He.from("sales").insert(e).select().single();return r?(console.error("Error creating sale:",r),null):t}catch(t){return console.error("Error creating sale:",t),null}},updateSale:async e=>{try{const{data:t,error:r}=await He.from("sales").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating sale:",r),null):t}catch(t){return console.error("Error updating sale:",t),null}},deleteSale:async e=>{try{const{error:t}=await He.from("sales").delete().eq("id",e);return t?(console.error("Error deleting sale:",t),!1):!0}catch(t){return console.error("Error deleting sale:",t),!1}},getPayments:async e=>{try{const{data:t,error:r}=await He.from("payments").select("*").eq("transaction_id",e);return r?(console.error("Error fetching payments:",r),[]):t}catch(t){return console.error("Error getting payments:",t),[]}},createPayment:async e=>{try{const{data:t,error:r}=await He.from("payments").insert(e).select().single();return r?(console.error("Error creating payment:",r),null):t}catch(t){return console.error("Error creating payment:",t),null}},updatePayment:async e=>{try{const{data:t,error:r}=await He.from("payments").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating payment:",r),null):t}catch(t){return console.error("Error updating payment:",t),null}},deletePayment:async e=>{try{const{error:t}=await He.from("payments").delete().eq("id",e);return t?(console.error("Error deleting payment:",t),!1):!0}catch(t){return console.error("Error deleting payment:",t),!1}},getNotes:async e=>{try{const{data:t,error:r}=await He.from("transaction_notes").select("*").eq("transaction_id",e);return r?(console.error("Error fetching notes:",r),[]):t}catch(t){return console.error("Error getting notes:",t),[]}},createNote:async e=>{try{const{data:t,error:r}=await He.from("transaction_notes").insert(e).select().single();return r?(console.error("Error creating note:",r),null):t}catch(t){return console.error("Error creating note:",t),null}},updateNote:async e=>{try{const{data:t,error:r}=await He.from("transaction_notes").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating note:",r),null):t}catch(t){return console.error("Error updating note:",t),null}},deleteNote:async e=>{try{const{error:t}=await He.from("transaction_notes").delete().eq("id",e);return t?(console.error("Error deleting note:",t),!1):!0}catch(t){return console.error("Error deleting note:",t),!1}},getAttachments:async e=>{try{const{data:t,error:r}=await He.from("attachments").select("*").eq("transaction_id",e);return r?(console.error("Error fetching attachments:",r),[]):t}catch(t){return console.error("Error getting attachments:",t),[]}},createAttachment:async e=>{try{const{data:t,error:r}=await He.from("attachments").insert(e).select().single();return r?(console.error("Error creating attachment:",r),null):t}catch(t){return console.error("Error creating attachment:",t),null}},updateAttachment:async e=>{try{const{data:t,error:r}=await He.from("attachments").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating attachment:",r),null):t}catch(t){return console.error("Error updating attachment:",t),null}},deleteAttachment:async e=>{try{const{error:t}=await He.from("attachments").delete().eq("id",e);return t?(console.error("Error deleting attachment:",t),!1):!0}catch(t){return console.error("Error deleting attachment:",t),!1}},checkStorageBucket:async e=>await Hi.checkBucketExists(e),uploadAttachmentFile:async(e,t,r)=>{try{if(!Hi.isStorageAvailable())return console.error("Supabase storage is not available"),URL.createObjectURL(t);await Hi.ensureBucketExists("attachments",!0);const n=`${e}/${r}`,s=He.storage.from("attachments");if(!s)return console.error("Failed to get storage client for 'attachments' bucket"),URL.createObjectURL(t);console.log(`Uploading file to path: ${n}`);const{data:a,error:i}=await s.upload(n,t,{cacheControl:"3600",upsert:!0});if(i)return console.error("Error uploading file:",i),URL.createObjectURL(t);if(!a||!a.path)return console.error("Upload succeeded but no data or path returned"),URL.createObjectURL(t);console.log(`File uploaded successfully to: ${a.path}`);try{const{data:o}=s.getPublicUrl(a.path);return!o||!o.publicUrl?(console.error("Failed to get public URL"),URL.createObjectURL(t)):(console.log(`Got public URL: ${o.publicUrl}`),o.publicUrl)}catch(o){return console.error("Error getting public URL:",o),URL.createObjectURL(t)}}catch(n){return console.error("Error uploading attachment file:",n),URL.createObjectURL(t)}},getDailyLogs:async e=>{try{console.log(`Fetching daily logs for user ${e}`);const{data:t,error:r}=await He.from("daily_logs").select("*").eq("user_id",e);return r?(console.error("Error fetching daily logs:",r),console.error("Error details:",JSON.stringify(r,null,2)),[]):(console.log(`Successfully fetched ${(t==null?void 0:t.length)||0} daily logs`),t)}catch(t){return console.error("Error getting daily logs:",t),[]}},createDailyLog:async e=>{try{console.log("Creating daily log in Supabase:",e);const{error:t}=await He.from("daily_logs").select("id").limit(1);if(t)return console.error("Error checking daily_logs table:",t),console.error("The daily_logs table might not exist in Supabase"),null;const{data:r,error:n}=await He.from("daily_logs").insert(e).select().single();return n?(console.error("Error creating daily log:",n),console.error("Error details:",JSON.stringify(n,null,2)),console.error("Log data:",JSON.stringify(e,null,2)),null):(console.log("Daily log created successfully:",r),r)}catch(t){return console.error("Error creating daily log:",t),null}},updateDailyLog:async e=>{try{console.log("Updating daily log in Supabase:",e);const{data:t,error:r}=await He.from("daily_logs").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating daily log:",r),console.error("Error details:",JSON.stringify(r,null,2)),console.error("Log data:",JSON.stringify(e,null,2)),null):(console.log("Daily log updated successfully:",t),t)}catch(t){return console.error("Error updating daily log:",t),null}},deleteDailyLog:async e=>{try{console.log(`Deleting daily log with ID ${e} from Supabase`);const{error:t}=await He.from("daily_logs").delete().eq("id",e);return t?(console.error("Error deleting daily log:",t),console.error("Error details:",JSON.stringify(t,null,2)),!1):(console.log("Daily log deleted successfully"),!0)}catch(t){return console.error("Error deleting daily log:",t),!1}},getBuyers:async e=>{try{console.log(`Fetching buyers for user ${e}`);const{error:t}=await He.from("buyers").select("id").limit(1);if(t)return console.error("Error checking buyers table:",t),console.error("The buyers table might not exist in Supabase"),[];const{data:r,error:n}=await He.from("buyers").select("*").eq("user_id",e);return n?(console.error("Error fetching buyers:",n),console.error("Error details:",JSON.stringify(n,null,2)),[]):(console.log(`Successfully fetched ${(r==null?void 0:r.length)||0} buyers`),r)}catch(t){return console.error("Error getting buyers:",t),[]}},createBuyer:async e=>{try{if(console.log("SUPABASE-SERVICE: Creating buyer in Supabase:",e),console.log("SUPABASE-SERVICE: Buyer ID:",e.id),console.log("SUPABASE-SERVICE: User ID:",e.user_id),!e.user_id)return console.error("Cannot create buyer: Missing user_id"),null;const{data:t,error:r}=await He.from("buyers").select("*").eq("id",e.id).maybeSingle();if(r)return r.message.includes("does not exist")?(console.error("The buyers table does not exist in Supabase!"),console.error("Please run the SQL migration script to create the table"),null):(console.error("Error checking if buyer exists:",r),null);if(t)return console.log("Buyer already exists, updating instead:",t),await Ye.updateBuyer(e);const{date:n,...s}=e,a={...s,created_at:e.created_at||new Date().toISOString()};console.log("Inserting buyer into Supabase (without date):",a);const{data:i,error:o}=await He.from("buyers").insert(a).select().single();if(o){console.error("Error creating buyer:",o),console.error("Error details:",JSON.stringify(o,null,2)),console.error("Buyer data:",JSON.stringify(a,null,2));try{console.log("Trying fallback method with RPC call...");const{data:c,error:u}=await He.rpc("insert_buyer",{buyer_id:a.id,buyer_user_id:a.user_id,buyer_name:a.name,buyer_email:a.email||null,buyer_phone:a.phone||null});return u?(console.error("RPC fallback also failed:",u),null):(console.log("RPC call successful:",c),a)}catch(c){return console.error("Error in RPC fallback:",c),null}}return console.log("Buyer created successfully:",i),i}catch(t){return console.error("Error creating buyer:",t),null}},updateBuyer:async e=>{try{if(console.log("Updating buyer in Supabase:",e),!e.id||!e.user_id)return console.error("Cannot update buyer: Missing id or user_id"),null;const{date:t,...r}=e;console.log("Sending buyer data to Supabase (without date):",r);const{data:n,error:s}=await He.from("buyers").select("id").eq("id",e.id).maybeSingle();if(s&&console.error("Error checking if buyer exists:",s),!n){console.log("Buyer does not exist in Supabase, inserting instead of updating");const{data:o,error:c}=await He.from("buyers").insert({...r,created_at:new Date().toISOString()}).select();return c?(console.error("Error inserting buyer:",c),console.error("Error details:",JSON.stringify(c,null,2)),console.error("Buyer data:",JSON.stringify(r,null,2)),null):(console.log("Buyer inserted successfully:",o),(o==null?void 0:o[0])||null)}const{data:a,error:i}=await He.from("buyers").update(r).eq("id",e.id).select();return i?(console.error("Error updating buyer:",i),console.error("Error details:",JSON.stringify(i,null,2)),console.error("Buyer data:",JSON.stringify(r,null,2)),null):(console.log("Buyer updated successfully:",a),(a==null?void 0:a[0])||null)}catch(t){return console.error("Error updating buyer:",t),null}},deleteBuyer:async e=>{try{console.log(`Deleting buyer with ID ${e} from Supabase`);const{error:t}=await He.from("buyers").delete().eq("id",e);return t?(console.error("Error deleting buyer:",t),console.error("Error details:",JSON.stringify(t,null,2)),!1):(console.log("Buyer deleted successfully"),!0)}catch(t){return console.error("Error deleting buyer:",t),!1}},getSellers:async e=>{try{console.log(`Fetching sellers for user ${e}`);const{error:t}=await He.from("sellers").select("id").limit(1);if(t)return console.error("Error checking sellers table:",t),console.error("The sellers table might not exist in Supabase"),[];const{data:r,error:n}=await He.from("sellers").select("*").eq("user_id",e);return n?(console.error("Error fetching sellers:",n),console.error("Error details:",JSON.stringify(n,null,2)),[]):(console.log(`Successfully fetched ${(r==null?void 0:r.length)||0} sellers`),r)}catch(t){return console.error("Error getting sellers:",t),[]}},createSeller:async e=>{try{if(console.log("Creating seller in Supabase:",e),!e.user_id)return console.error("Cannot create seller: Missing user_id"),null;const{data:t,error:r}=await He.from("sellers").select("*").eq("id",e.id).maybeSingle();if(r)return r.message.includes("does not exist")?(console.error("The sellers table does not exist in Supabase!"),console.error("Please run the SQL migration script to create the table"),null):(console.error("Error checking if seller exists:",r),null);if(t)return console.log("Seller already exists, updating instead:",t),await Ye.updateSeller(e);const{date:n,...s}=e,a={...s,created_at:e.created_at||new Date().toISOString()};console.log("Inserting seller into Supabase (without date):",a);const{data:i,error:o}=await He.from("sellers").insert(a).select().single();if(o){console.error("Error creating seller:",o),console.error("Error details:",JSON.stringify(o,null,2)),console.error("Seller data:",JSON.stringify(a,null,2));try{console.log("Trying fallback method with RPC call...");const{data:c,error:u}=await He.rpc("insert_seller",{seller_id:a.id,seller_user_id:a.user_id,seller_name:a.name,seller_email:a.email||null,seller_phone:a.phone||null});return u?(console.error("RPC fallback also failed:",u),null):(console.log("RPC call successful:",c),a)}catch(c){return console.error("Error in RPC fallback:",c),null}}return console.log("Seller created successfully:",i),i}catch(t){return console.error("Error creating seller:",t),null}},updateSeller:async e=>{try{if(console.log("Updating seller in Supabase:",e),!e.id||!e.user_id)return console.error("Cannot update seller: Missing id or user_id"),null;const{date:t,...r}=e;console.log("Sending seller data to Supabase (without date):",r);const{data:n,error:s}=await He.from("sellers").select("id").eq("id",e.id).maybeSingle();if(s&&console.error("Error checking if seller exists:",s),!n){console.log("Seller does not exist in Supabase, inserting instead of updating");const{data:o,error:c}=await He.from("sellers").insert({...r,created_at:new Date().toISOString()}).select();return c?(console.error("Error inserting seller:",c),console.error("Error details:",JSON.stringify(c,null,2)),console.error("Seller data:",JSON.stringify(r,null,2)),null):(console.log("Seller inserted successfully:",o),(o==null?void 0:o[0])||null)}const{data:a,error:i}=await He.from("sellers").update(r).eq("id",e.id).select();return i?(console.error("Error updating seller:",i),console.error("Error details:",JSON.stringify(i,null,2)),console.error("Seller data:",JSON.stringify(r,null,2)),null):(console.log("Seller updated successfully:",a),(a==null?void 0:a[0])||null)}catch(t){return console.error("Error updating seller:",t),null}},deleteSeller:async e=>{try{console.log(`Deleting seller with ID ${e} from Supabase`);const{error:t}=await He.from("sellers").delete().eq("id",e);return t?(console.error("Error deleting seller:",t),console.error("Error details:",JSON.stringify(t,null,2)),!1):(console.log("Seller deleted successfully"),!0)}catch(t){return console.error("Error deleting seller:",t),!1}},getCompleteTransaction:async e=>{try{const t=await Ye.getTransaction(e);if(!t)return null;const r=await Ye.getPurchases(e),n=await Ye.getTransportation(e),s=await Ye.getSales(e),a=await Ye.getPayments(e),i=await Ye.getNotes(e),o=await Ye.getAttachments(e);return{transaction:t,purchases:r,transportation:n,sales:s,payments:a,notes:i,attachments:o}}catch(t){return console.error("Error getting complete transaction:",t),null}}},us=()=>navigator.onLine,vt={getSyncStatus:async()=>{try{const e=["transactions","purchases","transportation","sales","payments","transaction_notes","attachments","daily_logs","buyers","sellers"],t=await Promise.all(e.map(async s=>{const a=await Te.getSyncStatus(s);return{table:s,lastSyncTime:a}})),r=t.every(s=>s.lastSyncTime!==null);return{lastSyncTime:t.reduce((s,a)=>a.lastSyncTime===null?null:s===null?a.lastSyncTime:Math.min(s,a.lastSyncTime),null),isAllSynced:r}}catch(e){return console.error("Error getting sync status:",e),{lastSyncTime:null,isAllSynced:!1}}},syncUserData:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;const t=await Ye.getCurrentUser();return t&&(await Te.getUser(e)?await Te.updateUser(t):await Te.addUser(t)),!0}catch(t){return console.error("Error syncing user data:",t),!1}},syncTransactions:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;console.log("Starting transaction sync for user:",e);const t=await Ye.getTransactions(e);console.log(`Retrieved ${t.length} transactions from Supabase`);const r=await Te.getAllTransactions(e);console.log(`Retrieved ${r.length} transactions from local database`);const n=new Map;r.forEach(o=>{n.set(o.id,o)});const s=new Map;t.forEach(o=>{s.set(o.id,o)});const a=new Map;r.forEach(o=>{var d;const c=o.created_at?new Date(o.created_at).toDateString():"unknown",u=`${o.name}-${c}`;a.has(u)||a.set(u,[]),(d=a.get(u))==null||d.push(o)});const i=new Map;t.forEach(o=>{var d;const c=o.created_at?new Date(o.created_at).toDateString():"unknown",u=`${o.name}-${c}`;i.has(u)||i.set(u,[]),(d=i.get(u))==null||d.push(o)}),console.log("Syncing transactions from Supabase to local...");for(const o of t)if(n.get(o.id))console.log(`Updating local transaction ${o.id} with Supabase data`),await Te.updateTransaction(o);else{const u=o.created_at?new Date(o.created_at).toDateString():"unknown",d=`${o.name}-${u}`,h=a.get(d)||[];if(h.length>0){console.log(`Found potential duplicate for Supabase transaction ${o.id} (${o.name}) in local database`);const f=h[0];console.log(`Using local transaction ${f.id} as canonical version`);continue}console.log(`Adding Supabase transaction ${o.id} to local database`),await Te.addTransaction(o)}console.log("Syncing transactions from local to Supabase...");for(const o of r)if(!s.get(o.id)){const u=o.created_at?new Date(o.created_at).toDateString():"unknown",d=`${o.name}-${u}`,h=i.get(d)||[];if(h.length>0){console.log(`Found potential duplicate for local transaction ${o.id} (${o.name}) in Supabase`);const f=h[0];console.log(`Using Supabase transaction ${f.id} as canonical version`);continue}console.log(`Adding local transaction ${o.id} to Supabase`),await Ye.createTransaction(o)}return await Te.updateSyncStatus("transactions"),console.log("Transaction sync status updated"),!0}catch(t){return console.error("Error syncing transactions:",t),!1}},syncPurchases:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;const t=await Ye.getPurchases(e),r=await Te.getPurchasesByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Te.updatePurchase(a):await Te.addPurchase(a);for(const a of r)s.get(a.id)||await Ye.createPurchase(a);return await Te.updateSyncStatus("purchases"),!0}catch(t){return console.error("Error syncing purchases:",t),!1}},syncTransportation:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;console.log(`Syncing transportation for transaction ${e}`);const t=await Ye.getTransportation(e);console.log("Supabase transportation:",t);const r=await Te.getTransportationByTransaction(e);if(console.log("Local transportation:",r),t&&r){console.log("Both Supabase and local have transportation, comparing data..."),console.log("Updating Supabase with local transportation data");const n=await Ye.updateTransportation({...t,...r,id:t.id});console.log("Result of updating transportation in Supabase:",n),n&&(await Te.updateTransportation(n),console.log("Local transportation updated with merged data"))}else if(t&&!r)console.log("Only Supabase has transportation, adding to local"),await Te.addTransportation(t),console.log("Added Supabase transportation to local database");else if(!t&&r){console.log("Only local has transportation, adding to Supabase");const n=await Ye.createTransportation(r);console.log("Result of adding transportation to Supabase:",n),n&&(await Te.updateTransportation(n),console.log("Updated local transportation with Supabase data"))}else console.log("Neither Supabase nor local have transportation for this transaction");return await Te.updateSyncStatus("transportation"),console.log("Transportation sync status updated"),!0}catch(t){return console.error("Error syncing transportation:",t),!1}},syncSales:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;const t=await Ye.getSales(e),r=await Te.getSalesByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Te.updateSale(a):await Te.addSale(a);for(const a of r)s.get(a.id)||await Ye.createSale(a);return await Te.updateSyncStatus("sales"),!0}catch(t){return console.error("Error syncing sales:",t),!1}},syncPayments:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;const t=await Ye.getPayments(e),r=await Te.getPaymentsByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Te.updatePayment(a):await Te.addPayment(a);for(const a of r)s.get(a.id)||await Ye.createPayment(a);return await Te.updateSyncStatus("payments"),!0}catch(t){return console.error("Error syncing payments:",t),!1}},syncNotes:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;const t=await Ye.getNotes(e),r=await Te.getNotesByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Te.updateTransactionNote(a):await Te.addTransactionNote({id:a.id,transaction_id:a.transaction_id,note:a.note});for(const a of r)s.get(a.id)||await Ye.createNote({id:a.id,transaction_id:a.transaction_id,note:a.note});return await Te.updateSyncStatus("transaction_notes"),!0}catch(t){return console.error("Error syncing notes:",t),!1}},syncAttachments:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;console.log(`Syncing attachments for transaction ${e}`);let t=[];try{t=await Ye.getAttachments(e),console.log(`Retrieved ${t.length} attachments from Supabase`)}catch(a){console.error("Error fetching attachments from Supabase:",a)}let r=[];try{r=await Te.getAttachmentsByTransaction(e),console.log(`Retrieved ${r.length} attachments from local DB`)}catch(a){console.error("Error fetching attachments from local DB:",a)}const n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)try{n.get(a.id)?(console.log(`Updating local attachment ${a.id} with Supabase data`),await Te.updateAttachment(a)):(console.log(`Adding Supabase attachment ${a.id} to local DB`),await Te.addAttachment({id:a.id,transaction_id:a.transaction_id,name:a.name,file_type:a.file_type,uri:a.uri}))}catch(i){console.error(`Error syncing Supabase attachment ${a.id} to local:`,i)}for(const a of r)try{s.get(a.id)||(console.log(`Adding local attachment ${a.id} to Supabase`),await Ye.createAttachment({id:a.id,transaction_id:a.transaction_id,name:a.name,file_type:a.file_type,uri:a.uri}))}catch(i){console.error(`Error syncing local attachment ${a.id} to Supabase:`,i)}try{await Te.updateSyncStatus("attachments"),console.log("Attachment sync status updated")}catch(a){console.error("Error updating attachment sync status:",a)}return console.log("Attachment synchronization completed"),!0}catch(t){return console.error("Error syncing attachments:",t),!1}},syncDailyLogs:async e=>{try{if(!us())return console.log("Offline, skipping daily logs sync"),!1;console.log(`Starting daily logs sync for user ${e}`);const t=await Ye.getDailyLogs(e);console.log(`Retrieved ${t.length} daily logs from Supabase`);const r=await Te.getDailyLogsByUser(e);console.log(`Retrieved ${r.length} daily logs from local database`);const n=new Map;r.forEach(o=>{n.set(o.id,o)});const s=new Map;t.forEach(o=>{s.set(o.id,o)});const a=new Map;r.forEach(o=>{var d;const c=o.date?new Date(o.date).toDateString():"unknown",u=`${o.recipient_name}-${o.amount}-${c}-${o.direction}-${o.payment_type}`;a.has(u)||a.set(u,[]),(d=a.get(u))==null||d.push(o)});const i=new Map;t.forEach(o=>{var d;const c=o.date?new Date(o.date).toDateString():"unknown",u=`${o.recipient_name}-${o.amount}-${c}-${o.direction}-${o.payment_type}`;i.has(u)||i.set(u,[]),(d=i.get(u))==null||d.push(o)}),console.log("Syncing logs from Supabase to local...");for(const o of t)if(n.get(o.id)){console.log(`Updating local log ${o.id} with Supabase data`);try{await Te.updateDailyLog(o),console.log(`Successfully updated log ${o.id} in local database`)}catch(u){console.error(`Error updating log ${o.id} in local database:`,u)}}else{const u=o.date?new Date(o.date).toDateString():"unknown",d=`${o.recipient_name}-${o.amount}-${u}-${o.direction}-${o.payment_type}`,h=a.get(d)||[];if(h.length>0){console.log(`Found potential duplicate for Supabase log ${o.id} in local database`);const f=h[0];console.log(`Using local log ${f.id} as canonical version`);continue}console.log(`Adding Supabase log ${o.id} to local database`);try{await Te.addDailyLog({id:o.id,user_id:o.user_id,direction:o.direction,payment_type:o.payment_type,date:o.date,recipient_name:o.recipient_name,amount:o.amount,is_third_party:o.is_third_party,third_party_name:o.third_party_name,notes:o.notes,attachment_url:o.attachment_url}),console.log(`Successfully added log ${o.id} to local database`)}catch(f){console.error(`Error adding log ${o.id} to local database:`,f)}}console.log("Syncing logs from local to Supabase...");for(const o of r)if(!s.get(o.id)){const u=o.date?new Date(o.date).toDateString():"unknown",d=`${o.recipient_name}-${o.amount}-${u}-${o.direction}-${o.payment_type}`,h=i.get(d)||[];if(h.length>0){console.log(`Found potential duplicate for local log ${o.id} in Supabase`);const f=h[0];console.log(`Using Supabase log ${f.id} as canonical version`);continue}console.log(`Adding local log ${o.id} to Supabase`);try{await Ye.createDailyLog({id:o.id,user_id:o.user_id,direction:o.direction,payment_type:o.payment_type,date:o.date,recipient_name:o.recipient_name,amount:o.amount,is_third_party:o.is_third_party,third_party_name:o.third_party_name,notes:o.notes,attachment_url:o.attachment_url})?console.log(`Successfully added log ${o.id} to Supabase`):console.error(`Failed to add log ${o.id} to Supabase, result was null`)}catch(f){console.error(`Error adding log ${o.id} to Supabase:`,f)}}return await Te.updateSyncStatus("daily_logs"),console.log("Daily logs sync status updated"),!0}catch(t){return console.error("Error syncing daily logs:",t),!1}},syncBuyers:async e=>{try{if(console.log("SYNC-SERVICE: syncBuyers called for user:",e),!us())return console.log("SYNC-SERVICE: Offline, skipping buyers sync"),!1;console.log(`SYNC-SERVICE: Starting buyers sync for user ${e}`);const t=await Ye.getBuyers(e);console.log(`Retrieved ${t.length} buyers from Supabase`);const r=await Te.getBuyersByUser(e);console.log(`Retrieved ${r.length} buyers from local database`);const n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)}),console.log("Syncing buyers from Supabase to local...");for(const a of t)if(n.get(a.id)){console.log(`Updating local buyer ${a.id} with Supabase data`);try{await Te.updateBuyer(a),console.log(`Successfully updated buyer ${a.id} in local database`)}catch(o){console.error(`Error updating buyer ${a.id} in local database:`,o)}}else{console.log(`Adding Supabase buyer ${a.id} to local database`);try{await Te.addBuyer(a),console.log(`Successfully added buyer ${a.id} to local database`)}catch(o){console.error(`Error adding buyer ${a.id} to local database:`,o)}}console.log("Syncing buyers from local to Supabase...");for(const a of r)if(!s.get(a.id)){const o=t.filter(c=>c.name.toLowerCase()===a.name.toLowerCase()&&(c.phone===a.phone||!c.phone&&!a.phone)&&(c.email===a.email||!c.email&&!a.email));if(o.length>0){console.log(`Found potential duplicate for buyer ${a.id} in Supabase:`,o[0]);const c={...a,syncedAt:new Date().toISOString()};await Te.updateBuyer(c),console.log(`Updated local buyer ${a.id} with synced status`);continue}console.log(`Adding local buyer ${a.id} to Supabase`);try{await Ye.createBuyer(a)?console.log(`Successfully added buyer ${a.id} to Supabase`):console.error(`Failed to add buyer ${a.id} to Supabase, result was null`)}catch(c){console.error(`Error adding buyer ${a.id} to Supabase:`,c)}}return await Te.updateSyncStatus("buyers"),console.log("Buyers sync status updated"),!0}catch(t){return console.error("Error syncing buyers:",t),!1}},syncSellers:async e=>{try{if(!us())return console.log("Offline, skipping sellers sync"),!1;console.log(`Starting sellers sync for user ${e}`);const t=await Ye.getSellers(e);console.log(`Retrieved ${t.length} sellers from Supabase`);const r=await Te.getSellersByUser(e);console.log(`Retrieved ${r.length} sellers from local database`);const n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)}),console.log("Syncing sellers from Supabase to local...");for(const a of t)if(n.get(a.id)){console.log(`Updating local seller ${a.id} with Supabase data`);try{await Te.updateSeller(a),console.log(`Successfully updated seller ${a.id} in local database`)}catch(o){console.error(`Error updating seller ${a.id} in local database:`,o)}}else{console.log(`Adding Supabase seller ${a.id} to local database`);try{await Te.addSeller(a),console.log(`Successfully added seller ${a.id} to local database`)}catch(o){console.error(`Error adding seller ${a.id} to local database:`,o)}}console.log("Syncing sellers from local to Supabase...");for(const a of r)if(!s.get(a.id)){const o=t.filter(c=>c.name.toLowerCase()===a.name.toLowerCase()&&(c.phone===a.phone||!c.phone&&!a.phone)&&(c.email===a.email||!c.email&&!a.email));if(o.length>0){console.log(`Found potential duplicate for seller ${a.id} in Supabase:`,o[0]);const c={...a,syncedAt:new Date().toISOString()};await Te.updateSeller(c),console.log(`Updated local seller ${a.id} with synced status`);continue}console.log(`Adding local seller ${a.id} to Supabase`);try{await Ye.createSeller(a)?console.log(`Successfully added seller ${a.id} to Supabase`):console.error(`Failed to add seller ${a.id} to Supabase, result was null`)}catch(c){console.error(`Error adding seller ${a.id} to Supabase:`,c)}}return await Te.updateSyncStatus("sellers"),console.log("Sellers sync status updated"),!0}catch(t){return console.error("Error syncing sellers:",t),!1}},forceSyncContacts:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;console.log("Force syncing contacts..."),console.log("Force syncing buyers...");const t=await Te.getBuyersByUser(e);console.log(`Found ${t.length} local buyers to sync`);try{console.log("Checking if buyers table exists...");const{error:c}=await He.from("buyers").select("id").limit(1);c&&c.message.includes("does not exist")?(console.log("Buyers table does not exist in Supabase"),console.log("Please create the buyers table in Supabase using the SQL editor"),console.log(`
            CREATE TABLE IF NOT EXISTS public.buyers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.buyers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own buyers"
              ON public.buyers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.buyers TO authenticated;
          `)):console.log("Buyers table exists in Supabase")}catch(c){console.error("Error checking buyers table:",c)}let r=0,n=0;for(const c of t)try{console.log(`Processing buyer ${c.id} (${c.name})`),console.log(`Trying direct upsert for buyer ${c.id}...`);const{data:u,error:d}=await He.from("buyers").select("id").eq("id",c.id).maybeSingle();let h=null;if(d)console.error(`Error checking if buyer ${c.id} exists:`,d),h=d;else if(u){const{error:f}=await He.from("buyers").update({name:c.name,email:c.email,phone:c.phone}).eq("id",c.id);f?(console.error(`Error updating buyer ${c.id}:`,f),h=f):(console.log(`Successfully updated buyer ${c.id} directly`),r++)}else{const{error:f}=await He.from("buyers").insert({id:c.id,user_id:e,name:c.name,email:c.email,phone:c.phone,created_at:c.created_at||new Date().toISOString()});f?(console.error(`Error inserting buyer ${c.id}:`,f),h=f):(console.log(`Successfully inserted buyer ${c.id} directly`),r++)}if(h){console.error(`Error upserting buyer ${c.id} via SQL:`,h);try{await Ye.createBuyer(c)?(console.log(`Successfully synced buyer ${c.id} via API`),r++):(console.error(`Failed to sync buyer ${c.id} via API`),n++)}catch(f){console.error(`Error syncing buyer ${c.id} via API:`,f),n++}}else console.log(`Successfully upserted buyer ${c.id} via SQL`),r++}catch(u){console.error(`Error syncing buyer ${c.id} to Supabase:`,u),n++}console.log(`Buyer sync summary: ${r} succeeded, ${n} failed`),console.log("Force syncing sellers...");const s=await Te.getSellersByUser(e);console.log(`Found ${s.length} local sellers to sync`);try{console.log("Checking if sellers table exists...");const{error:c}=await He.from("sellers").select("id").limit(1);c&&c.message.includes("does not exist")?(console.log("Sellers table does not exist in Supabase"),console.log("Please create the sellers table in Supabase using the SQL editor"),console.log(`
            CREATE TABLE IF NOT EXISTS public.sellers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.sellers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own sellers"
              ON public.sellers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.sellers TO authenticated;
          `)):console.log("Sellers table exists in Supabase")}catch(c){console.error("Error checking sellers table:",c)}let a=0,i=0;for(const c of s)try{console.log(`Processing seller ${c.id} (${c.name})`),console.log(`Trying direct insert for seller ${c.id}...`);const{data:u,error:d}=await He.from("sellers").select("id").eq("id",c.id).maybeSingle();let h=null;if(d)console.error(`Error checking if seller ${c.id} exists:`,d),h=d;else if(u){const{error:f}=await He.from("sellers").update({name:c.name,email:c.email,phone:c.phone}).eq("id",c.id);f?(console.error(`Error updating seller ${c.id}:`,f),h=f):(console.log(`Successfully updated seller ${c.id} directly`),a++)}else{const{error:f}=await He.from("sellers").insert({id:c.id,user_id:e,name:c.name,email:c.email,phone:c.phone,created_at:c.created_at||new Date().toISOString()});f?(console.error(`Error inserting seller ${c.id}:`,f),h=f):(console.log(`Successfully inserted seller ${c.id} directly`),a++)}if(h){console.error(`Error upserting seller ${c.id} via SQL:`,h);try{await Ye.createSeller(c)?(console.log(`Successfully synced seller ${c.id} via API`),a++):(console.error(`Failed to sync seller ${c.id} via API`),i++)}catch(f){console.error(`Error syncing seller ${c.id} via API:`,f),i++}}else console.log(`Successfully upserted seller ${c.id} via SQL`),a++}catch(u){console.error(`Error syncing seller ${c.id} to Supabase:`,u),i++}console.log(`Seller sync summary: ${a} succeeded, ${i} failed`),console.log("Force syncing daily logs...");const o=await Te.getDailyLogsByUser(e);console.log(`Found ${o.length} local daily logs to sync`);for(const c of o)try{console.log(`Processing daily log ${c.id}`),(await Ye.getDailyLogs(e)).some(h=>h.id===c.id)?(console.log(`Daily log ${c.id} exists in Supabase, updating...`),await Ye.updateDailyLog(c)?console.log(`Successfully updated daily log ${c.id} in Supabase`):console.error(`Failed to update daily log ${c.id} in Supabase`)):(console.log(`Daily log ${c.id} does not exist in Supabase, creating...`),await Ye.createDailyLog(c)?console.log(`Successfully created daily log ${c.id} in Supabase`):console.error(`Failed to create daily log ${c.id} in Supabase`))}catch(u){console.error(`Error syncing daily log ${c.id} to Supabase:`,u)}return!0}catch(t){return console.error("Error force syncing contacts and logs:",t),!1}},cleanupDuplicateTransactions:async e=>{try{console.log("Starting duplicate data cleanup for user:",e),console.log("Cleaning up local transaction duplicates...");const t=await Te.cleanupDuplicateTransactions(e);console.log(`Removed ${t} local duplicate transactions`),console.log("Cleaning up local daily log duplicates...");const r=await Te.cleanupDuplicateDailyLogs(e);if(console.log(`Removed ${r} local duplicate daily logs`),!us())return console.log("Offline, skipping Supabase cleanup"),t>0||r>0;console.log("Cleaning up Supabase duplicates...");const n=await Ye.getTransactions(e);console.log(`Retrieved ${n.length} transactions from Supabase`);const s=new Map;n.forEach(h=>{var g;const f=h.created_at?new Date(h.created_at).toDateString():"unknown",p=`${h.name}-${f}`;s.has(p)||s.set(p,[]),(g=s.get(p))==null||g.push(h)});let a=0,i=0;for(const[h,f]of s.entries())if(f.length>1){console.log(`Found ${f.length} duplicate transactions for key: ${h}`),a+=f.length-1,f.sort((g,y)=>g.id.localeCompare(y.id));const p=f[0];console.log(`Keeping transaction ${p.id}`);for(let g=1;g<f.length;g++){const y=f[g];console.log(`Deleting duplicate transaction ${y.id}`);try{await Ye.deleteTransaction(y.id),i++}catch(S){console.error(`Error deleting duplicate transaction ${y.id}:`,S)}}}console.log(`Supabase transaction cleanup complete. Found ${a} duplicates, removed ${i}`),console.log("Cleaning up duplicate daily logs in Supabase...");const o=await Ye.getDailyLogs(e);console.log(`Retrieved ${o.length} daily logs from Supabase`);const c=new Map;o.forEach(h=>{var g;const f=h.date?new Date(h.date).toDateString():"unknown",p=`${h.recipient_name}-${h.amount}-${f}-${h.direction}-${h.payment_type}`;c.has(p)||c.set(p,[]),(g=c.get(p))==null||g.push(h)});let u=0,d=0;for(const[h,f]of c.entries())if(f.length>1){console.log(`Found ${f.length} duplicate daily logs for key: ${h}`),u+=f.length-1,f.sort((g,y)=>g.id.localeCompare(y.id));const p=f[0];console.log(`Keeping daily log ${p.id}`);for(let g=1;g<f.length;g++){const y=f[g];console.log(`Deleting duplicate daily log ${y.id}`);try{await Ye.deleteDailyLog(y.id),d++}catch(S){console.error(`Error deleting duplicate daily log ${y.id}:`,S)}}}return console.log(`Supabase daily log cleanup complete. Found ${u} duplicates, removed ${d}`),t>0||r>0||i>0||d>0}catch(t){return console.error("Error cleaning up duplicate transactions:",t),!1}},syncAll:async e=>{try{if(!us())return console.log("Offline, skipping sync"),!1;await vt.cleanupDuplicateTransactions(e),await vt.syncUserData(e),await vt.syncTransactions(e);const t=await Te.getAllTransactions(e);for(const r of t)await vt.syncPurchases(r.id),await vt.syncTransportation(r.id),await vt.syncSales(r.id),await vt.syncPayments(r.id),await vt.syncNotes(r.id),await vt.syncAttachments(r.id);return await vt.syncDailyLogs(e),await vt.syncBuyers(e),await vt.syncSellers(e),!0}catch(t){return console.error("Error syncing all data:",t),!1}},syncCompleteTransaction:async e=>{try{return us()?await Te.getTransaction(e)?(await vt.syncPurchases(e),await vt.syncTransportation(e),await vt.syncSales(e),await vt.syncPayments(e),await vt.syncNotes(e),await vt.syncAttachments(e),!0):(console.error("Transaction not found:",e),!1):(console.log("Offline, skipping sync"),!1)}catch(t){return console.error("Error syncing complete transaction:",t),!1}}},TE=Object.freeze(Object.defineProperty({__proto__:null,syncService:vt},Symbol.toStringTag,{value:"Module"})),QZ=async e=>{try{console.log("Starting data migration...");const r=await(await M1("transactly-db",1)).getAll("transactions");console.log(`Found ${r.length} transactions to migrate`);for(const n of r)await eQ(n,e);return console.log("Data migration completed successfully"),!0}catch(t){return console.error("Error migrating data:",t),!1}},eQ=async(e,t)=>{try{console.log(`Migrating transaction: ${e.id}`);const r={id:e.id,user_id:t,name:e.name,status:e.status,created_at:e.updatedAt||new Date().toISOString()};if(await Te.updateTransaction(r),e.loadBuy&&await tQ(e.id,e.loadBuy),e.suppliers&&e.suppliers.length>0)for(const n of e.suppliers)await rQ(e.id,n);if(e.transportation&&await nQ(e.id,e.transportation),e.loadSold&&await sQ(e.id,e.loadSold),e.buyers&&e.buyers.length>0)for(const n of e.buyers)await aQ(e.id,n);if(e.payments&&e.payments.length>0)for(const n of e.payments)await iQ(e.id,n);if(e.notes&&e.notes.length>0)for(const n of e.notes)await oQ(e.id,n);if(e.attachments&&e.attachments.length>0)for(const n of e.attachments)await lQ(e.id,n);console.log(`Transaction ${e.id} migrated successfully`)}catch(r){throw console.error(`Error migrating transaction ${e.id}:`,r),r}},tQ=async(e,t)=>{try{const r={id:ku(),transaction_id:e,supplier_name:t.supplierName,contact_number:t.supplierContact,goods_name:t.goodsName,quantity:t.quantity,rate:t.purchaseRate,total_cost:t.totalCost,amount_paid:t.amountPaid,balance_due:t.balance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Te.addPurchase(r)}catch(r){throw console.error(`Error migrating purchase for transaction ${e}:`,r),r}},rQ=async(e,t)=>{try{const r={id:ku(),transaction_id:e,supplier_name:t.name,contact_number:t.contact,goods_name:t.goodsName,quantity:t.quantity,rate:t.purchaseRate,total_cost:t.totalCost,amount_paid:t.amountPaid,balance_due:t.balance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Te.addPurchase(r)}catch(r){throw console.error(`Error migrating supplier for transaction ${e}:`,r),r}},nQ=async(e,t)=>{try{const r={id:ku(),transaction_id:e,vehicle_type:t.vehicleType,number_plate:t.vehicleNumber,empty_weight:t.emptyWeight,loaded_weight:t.loadedWeight,origin:t.origin,distance:0,departure_date:t.departureDate,departure_time:t.departureTime,expected_arrival_date:t.arrivalDate,expected_arrival_time:t.arrivalTime,transportation_charges:t.charges,notes:t.notes};await Te.addTransportation(r)}catch(r){throw console.error(`Error migrating transportation for transaction ${e}:`,r),r}},sQ=async(e,t)=>{try{const r={id:ku(),transaction_id:e,buyer_name:t.buyerName,contact_number:t.buyerContact,quantity:t.quantitySold,rate:t.saleRate,total_amount:t.totalSaleAmount,amount_received:t.amountReceived,balance_due:t.pendingBalance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Te.addSale(r)}catch(r){throw console.error(`Error migrating sale for transaction ${e}:`,r),r}},aQ=async(e,t)=>{try{const r={id:ku(),transaction_id:e,buyer_name:t.name,contact_number:t.contact,quantity:t.quantitySold,rate:t.saleRate,total_amount:t.totalSaleAmount,amount_received:t.amountReceived,balance_due:t.pendingBalance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Te.addSale(r)}catch(r){throw console.error(`Error migrating buyer for transaction ${e}:`,r),r}},iQ=async(e,t)=>{try{const r={id:t.id,transaction_id:e,amount:t.amount,payment_mode:t.mode,counterparty:t.counterparty,direction:t.isIncoming?"incoming":"outgoing",payment_date:t.date,notes:t.notes,installment_number:t.installmentNumber,total_installments:t.totalInstallments};await Te.addPayment(r)}catch(r){throw console.error(`Error migrating payment for transaction ${e}:`,r),r}},oQ=async(e,t)=>{try{const r={id:t.id,transaction_id:e,note:t.content,created_at:t.date};await Te.addTransactionNote(r)}catch(r){throw console.error(`Error migrating note for transaction ${e}:`,r),r}},lQ=async(e,t)=>{try{const r={id:t.id,transaction_id:e,name:t.name,file_type:t.type,uri:t.uri,created_at:t.date};await Te.addAttachment(r)}catch(r){throw console.error(`Error migrating attachment for transaction ${e}:`,r),r}},cQ=async()=>{try{return(await M1("transactly-db",1,{upgrade(t){}})).close(),!0}catch{return!1}},e2=async(e,t=!1)=>{try{console.log("Initializing database..."),await cQ()&&(console.log("Old database found, migrating data..."),await QZ(e),console.log("Data migration completed")),navigator.onLine?t?(console.log("Online, performing minimal sync with Supabase..."),await vt.syncUserData(e),setTimeout(()=>{console.log("Performing full background sync..."),vt.syncAll(e).then(()=>console.log("Background sync completed")).catch(n=>console.error("Background sync error:",n))},5e3),console.log("Minimal sync completed")):(console.log("Online, syncing with Supabase..."),await vt.syncAll(e),console.log("Full sync completed")):console.log("Offline, skipping sync"),console.log("Database initialization completed")}catch(r){throw console.error("Error initializing database:",r),r}},t2=async(e,t,r,n,s)=>{try{await Te.getUser(e)||(console.log("User not found in local database, creating..."),await Te.addUser({id:e,full_name:r||t.split("@")[0],email:t,phone:n||"",business_name:s||""}),navigator.onLine&&(console.log("Online, creating user in Supabase..."),await Ye.getCurrentUser()||await Ye.createUserProfile({id:e,full_name:r||t.split("@")[0],email:t,phone:n||"",business_name:s||""})))}catch(a){throw console.error("Error ensuring user profile:",a),a}},q6=v.createContext(void 0),W6=({children:e})=>{const[t,r]=v.useState(null),[n,s]=v.useState(null),[a,i]=v.useState(!0),{toast:o}=nr();v.useEffect(()=>{(async()=>{try{const{data:{subscription:x}}=He.auth.onAuthStateChange(async(F,P)=>{s(P),r((P==null?void 0:P.user)||null)}),N=setTimeout(()=>{console.log("Auth initialization timed out after 10 seconds"),i(!1)},1e4),{data:{session:C},error:E}=await He.auth.getSession();if(E)console.error("Error retrieving session:",E);else if(s(C),r((C==null?void 0:C.user)||null),C!=null&&C.user)try{const F=C.user.user_metadata||{};await t2(C.user.id,C.user.email||"",F.full_name,F.phone,F.business_name),await e2(C.user.id,!0)}catch(F){console.error("Error initializing database:",F)}return clearTimeout(N),()=>{x.unsubscribe(),clearTimeout(N)}}catch(x){console.error("Auth initialization error:",x)}finally{i(!1)}})()},[]);const c=async(b,x)=>{try{i(!0);const{data:N,error:C}=await He.auth.signInWithPassword({email:b,password:x});if(C)throw C;if(N.user)try{const E=N.user.user_metadata||{};await t2(N.user.id,N.user.email||"",E.full_name,E.phone,E.business_name),await e2(N.user.id,!0)}catch(E){console.error("Error initializing database:",E)}o({title:"Welcome back!",description:"You have successfully signed in."})}catch(N){throw console.error("Sign in error:",N),o({title:"Sign in failed",description:N.message||"Could not sign in. Please try again.",variant:"destructive"}),N}finally{i(!1)}},u=async(b,x,N,C)=>{try{i(!0);const E={email:b,password:x,options:{data:{full_name:N||"",phone:C||""}}},{data:F,error:P}=await He.auth.signUp(E);if(P)throw P;if(F.user)try{await t2(F.user.id,b,N,C),await e2(F.user.id,!0)}catch(A){console.error("Error initializing database:",A)}o({title:"Account created",description:"Please check your email to confirm your account."})}catch(E){throw console.error("Sign up error:",E),o({title:"Sign up failed",description:E.message||"Could not create account. Please try again.",variant:"destructive"}),E}finally{i(!1)}},d=async()=>{try{i(!0),await He.auth.signOut(),o({title:"Signed out",description:"You have been successfully signed out."})}catch(b){throw console.error("Sign out error:",b),o({title:"Sign out failed",description:b.message||"Could not sign out. Please try again.",variant:"destructive"}),b}finally{i(!1)}},h=async b=>{try{i(!0);const x=window.location.origin,{error:N}=await He.auth.resetPasswordForEmail(b,{redirectTo:`${x}/reset-password`});if(N)throw N;o({title:"Password reset email sent",description:"Check your inbox for a password reset link."})}catch(x){throw console.error("Password reset error:",x),o({title:"Password reset failed",description:x.message||"Could not send reset email. Please try again.",variant:"destructive"}),x}finally{i(!1)}},f=async b=>{try{i(!0);const{error:x}=await He.auth.updateUser({password:b});if(x)throw x;o({title:"Password updated",description:"Your password has been successfully updated."})}catch(x){throw console.error("Password update error:",x),o({title:"Password update failed",description:x.message||"Could not update password. Please try again.",variant:"destructive"}),x}finally{i(!1)}},p=async b=>{try{i(!0);const x={},N={};if(b.name&&(N.full_name=b.name),b.phone&&(N.phone=b.phone),b.business_name&&(N.business_name=b.business_name),Object.keys(N).length>0){const C=(t==null?void 0:t.user_metadata)||{};x.data={...C,...N}}if(b.email&&(x.email=b.email),Object.keys(x).length>0){const{error:C}=await He.auth.updateUser(x);if(C)throw C;o({title:"Profile updated",description:"Your profile has been successfully updated."})}}catch(x){throw console.error("Profile update error:",x),o({title:"Profile update failed",description:x.message||"Could not update profile. Please try again.",variant:"destructive"}),x}finally{i(!1)}},g=async b=>{try{return i(!0),setTimeout(()=>{o({title:"OTP Sent",description:"A verification code has been sent to your phone."})},1e3),Promise.resolve()}catch(x){throw console.error("Phone sign in error:",x),o({title:"Sign in failed",description:x.message||"Could not send verification code. Please try again.",variant:"destructive"}),x}finally{i(!1)}},y=async(b,x)=>{try{if(i(!0),x.length===6){const N=`${b.replace(/\D/g,"")}@example.com`;return await c(N,"phone-auth-password"),Promise.resolve()}else throw new Error("Invalid verification code")}catch(N){throw console.error("OTP verification error:",N),o({title:"Verification failed",description:N.message||"Could not verify code. Please try again.",variant:"destructive"}),N}finally{i(!1)}},S=async b=>{try{return i(!0),setTimeout(()=>{o({title:"OTP Resent",description:"A new verification code has been sent to your phone."})},1e3),Promise.resolve()}catch(x){throw console.error("Resend OTP error:",x),o({title:"Failed to resend code",description:x.message||"Could not resend verification code. Please try again.",variant:"destructive"}),x}finally{i(!1)}};return l.jsx(q6.Provider,{value:{user:t,session:n,isLoading:a,signIn:c,signUp:u,signOut:d,resetPassword:h,updatePassword:f,updateProfile:p,signInWithPhone:g,verifyOTP:y,resendOTP:S},children:e})},Pr=()=>{const e=v.useContext(q6);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},uQ=()=>{const{user:e,signOut:t}=Pr(),[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState([]),c=y=>{o(S=>[...S,y]),console.log(y)},u=async()=>{n(!0),c("Starting to fix application issues...");try{c("Clearing localStorage..."),localStorage.clear(),c("Clearing sessionStorage..."),sessionStorage.clear(),c("Clearing IndexedDB..."),await d(),c("Clearing service worker caches..."),await h(),c("Unregistering service workers..."),await f(),c("All issues fixed successfully!"),a(!0)}catch(y){c(`Error fixing issues: ${y instanceof Error?y.message:String(y)}`)}finally{n(!1)}},d=async()=>new Promise((y,S)=>{try{const b=["app-db","buyers-db","sellers-db","transactions-db","daily-logs-db"];let x=0,N=!1;b.forEach(C=>{try{const E=indexedDB.deleteDatabase(C);E.onsuccess=function(){c(`Database ${C} deleted successfully`),x++,x===b.length&&!N&&y()},E.onerror=function(F){c(`Error deleting database ${C}`),N=!0,S(new Error(`Error deleting database ${C}`))}}catch(E){c(`Error attempting to delete database ${C}`),N=!0,S(E)}}),b.length===0&&y()}catch(b){S(b)}}),h=async()=>{if("caches"in window)try{const y=await caches.keys();await Promise.all(y.map(S=>(c(`Deleting cache ${S}`),caches.delete(S))))}catch(y){c(`Error clearing caches: ${y instanceof Error?y.message:String(y)}`)}},f=async()=>{if("serviceWorker"in navigator)try{const y=await navigator.serviceWorker.getRegistrations();await Promise.all(y.map(S=>(c("Unregistering service worker"),S.unregister())))}catch(y){c(`Error unregistering service workers: ${y instanceof Error?y.message:String(y)}`)}},p=()=>{window.location.href="/"},g=async()=>{try{await t(),window.location.href="/auth"}catch(y){c(`Error signing out: ${y instanceof Error?y.message:String(y)}`)}};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:l.jsxs(Kt,{className:"w-full max-w-md",children:[l.jsx(er,{className:"bg-yellow-50 border-b border-yellow-100",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fL,{className:"h-6 w-6 text-yellow-500"}),l.jsx(ar,{children:"Safe Mode"})]})}),l.jsxs(Yt,{className:"pt-6",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"The application is running in safe mode due to an error. This mode provides limited functionality to help recover from issues."}),e?l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Logged in as: ",e.email]}):l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Not logged in"}),l.jsxs("div",{className:"space-y-4",children:[s?l.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-md flex items-center gap-2",children:[l.jsx(e0,{className:"h-5 w-5"}),l.jsx("span",{children:"Issues fixed successfully!"})]}):l.jsx(ge,{className:"w-full",onClick:u,disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(To,{className:"mr-2 h-4 w-4 animate-spin"}),"Fixing Issues..."]}):l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"mr-2 h-4 w-4"}),"Fix Application Issues"]})}),l.jsxs(ge,{variant:"outline",className:"w-full",onClick:p,children:[l.jsx(_z,{className:"mr-2 h-4 w-4"}),"Return to Application"]}),l.jsx(ge,{variant:"ghost",className:"w-full",onClick:g,children:"Sign Out"})]}),i.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:"Logs:"}),l.jsx("div",{className:"bg-gray-100 p-2 rounded-md max-h-40 overflow-y-auto text-xs font-mono",children:i.map((y,S)=>l.jsx("div",{className:"py-1",children:y},S))})]})]})]})})},dQ=()=>{const[e,t]=v.useState(null),[r,n]=v.useState([]),[s,a]=v.useState(!1),[i,o]=v.useState(null),c=g=>{console.log(g),n(y=>[...y,g])};v.useEffect(()=>{new URLSearchParams(window.location.search).get("fallback")},[]);const u=()=>{try{localStorage.clear(),c("Local storage cleared successfully")}catch(g){const y=g instanceof Error?g.message:String(g);c(`Error clearing local storage: ${y}`)}},d=async()=>{try{c("Attempting to clear IndexedDB...");const g=await window.indexedDB.databases();if(g.length===0){c("No IndexedDB databases found");return}let y=0,S=0;for(const b of g)try{await new Promise((x,N)=>{const C=window.indexedDB.deleteDatabase(b.name||"");C.onsuccess=()=>x(),C.onerror=()=>N(new Error(`Failed to delete database ${b.name}`))}),c(`Deleted database: ${b.name}`),y++}catch(x){const N=x instanceof Error?x.message:String(x);c(`Error deleting database ${b.name}: ${N}`),S++}c(`IndexedDB cleanup: ${y} databases deleted, ${S} failed`)}catch(g){const y=g instanceof Error?g.message:String(g);c(`Error clearing IndexedDB: ${y}`)}},h=async()=>{if(!i){c("Not authenticated, cannot fix tables");return}a(!0);try{c("Fixing buyers and sellers tables..."),c("Checking buyers table...");try{const{error:g}=await He.from("buyers").select("id").limit(1);if(g&&g.message.includes("does not exist")){c("Buyers table does not exist, creating it...");const y=`
            CREATE TABLE IF NOT EXISTS public.buyers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.buyers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own buyers"
              ON public.buyers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.buyers TO authenticated;
          `,{error:S}=await He.rpc("execute_sql",{sql_query:y});c(S?`Error creating buyers table: ${S.message}`:"Successfully created buyers table")}else if(g)c(`Error checking buyers table: ${g.message}`);else{c("Buyers table exists, checking for created_at column...");const y=`
            DO $$
            BEGIN
              BEGIN
                ALTER TABLE public.buyers ADD COLUMN created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL;
              EXCEPTION
                WHEN duplicate_column THEN
                  -- Column already exists, do nothing
                WHEN others THEN
                  RAISE;
              END;
            END
            $$;
          `,{error:S}=await He.rpc("execute_sql",{sql_query:y});c(S?`Error adding created_at column to buyers table: ${S.message}`:"Successfully ensured created_at column exists in buyers table")}}catch(g){const y=g instanceof Error?g.message:String(g);c(`Unexpected error checking buyers table: ${y}`)}c("Checking sellers table...");try{const{error:g}=await He.from("sellers").select("id").limit(1);if(g&&g.message.includes("does not exist")){c("Sellers table does not exist, creating it...");const y=`
            CREATE TABLE IF NOT EXISTS public.sellers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.sellers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own sellers"
              ON public.sellers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.sellers TO authenticated;
          `,{error:S}=await He.rpc("execute_sql",{sql_query:y});c(S?`Error creating sellers table: ${S.message}`:"Successfully created sellers table")}else if(g)c(`Error checking sellers table: ${g.message}`);else{c("Sellers table exists, checking for created_at column...");const y=`
            DO $$
            BEGIN
              BEGIN
                ALTER TABLE public.sellers ADD COLUMN created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL;
              EXCEPTION
                WHEN duplicate_column THEN
                  -- Column already exists, do nothing
                WHEN others THEN
                  RAISE;
              END;
            END
            $$;
          `,{error:S}=await He.rpc("execute_sql",{sql_query:y});c(S?`Error adding created_at column to sellers table: ${S.message}`:"Successfully ensured created_at column exists in sellers table")}}catch(g){const y=g instanceof Error?g.message:String(g);c(`Unexpected error checking sellers table: ${y}`)}c("Table fixes completed")}catch(g){const y=g instanceof Error?g.message:String(g);c(`Error fixing tables: ${y}`)}finally{a(!1)}};return new URLSearchParams(window.location.search).get("fallback")==="true"?l.jsx("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif',maxWidth:"800px",margin:"0 auto",padding:"20px"},children:l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[l.jsx("h1",{style:{marginTop:0},children:"Application Recovery"}),e&&l.jsxs("div",{style:{backgroundColor:"#fee2e2",color:"#ef4444",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:[l.jsx("strong",{children:"Error:"})," ",e]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h2",{children:"1. Authentication Status"}),i?l.jsxs("p",{style:{color:"#10b981"},children:["✅ Authenticated as ",i.email]}):l.jsx("p",{style:{color:"#ef4444"},children:"❌ Not authenticated"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h2",{children:"2. Recovery Actions"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"10px"},children:[l.jsx("button",{onClick:u,style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer"},children:"Clear Local Storage"}),l.jsx("button",{onClick:d,style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer"},children:"Clear IndexedDB"}),l.jsx("button",{onClick:h,disabled:s||!i,style:{backgroundColor:i?"#10b981":"#d1d5db",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:i?"pointer":"not-allowed"},children:s?"Fixing Tables...":"Fix Database Tables"})]})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h2",{children:"3. Return to Application"}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("a",{href:"/",style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",display:"inline-block"},children:"Return to App"}),l.jsx("a",{href:"/login",style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",display:"inline-block"},children:"Go to Login"})]})]}),l.jsxs("div",{children:[l.jsx("h2",{children:"4. Logs"}),l.jsx("div",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",maxHeight:"300px",overflowY:"auto",fontFamily:"monospace",fontSize:"14px",whiteSpace:"pre-wrap"},children:r.map((g,y)=>l.jsx("div",{children:g},y))})]})]})}):null},Lr=()=>navigator.onLine,Zr={getAllTransactions:async e=>{try{const t=await Te.getAllTransactions(e);if(Lr())try{return console.log("Syncing transactions with Supabase..."),await vt.syncTransactions(e)?(console.log("Sync successful, fetching updated transactions"),await Te.getAllTransactions(e)):(console.log("Sync was not successful, using local transactions"),t)}catch(r){return console.error("Error syncing transactions:",r),t}return t}catch(t){return console.error("Error getting all transactions:",t),[]}},getTransaction:async e=>{try{const t=await Te.getTransaction(e);if(Lr()&&t)try{return await vt.syncCompleteTransaction(e),await Te.getTransaction(e)}catch(r){return console.error("Error syncing transaction:",r),t}return t}catch(t){return console.error("Error getting transaction:",t),null}},getCompleteTransaction:async e=>{try{const t=await Te.getCompleteTransaction(e);if(Lr()&&t)try{return await vt.syncCompleteTransaction(e),await Te.getCompleteTransaction(e)}catch(r){return console.error("Error syncing complete transaction:",r),t}return t}catch(t){return console.error("Error getting complete transaction:",t),null}},createTransaction:async(e,t)=>{try{console.log(`Creating new transaction for user ${e} with name: ${t}`);const r={user_id:e,name:t,status:"pending",created_at:new Date().toISOString()},s=(await Te.getAllTransactions(e)).find(i=>i.name===t&&new Date(i.created_at||"").toDateString()===new Date().toDateString());if(s)return console.log(`Found duplicate transaction with name ${t}, returning existing transaction`),s;const a=await Te.addTransaction(r);if(console.log(`Created new transaction with ID: ${a.id}`),Lr())try{console.log(`Syncing new transaction ${a.id} to Supabase`),await Ye.createTransaction(a),console.log(`Successfully synced transaction ${a.id} to Supabase`)}catch(i){console.error("Error syncing new transaction to Supabase:",i)}return a}catch(r){return console.error("Error creating transaction:",r),null}},updateTransaction:async e=>{try{const t=await Te.updateTransaction(e);if(Lr())try{await Ye.updateTransaction(e)}catch(r){console.error("Error syncing updated transaction to Supabase:",r)}return t}catch(t){return console.error("Error updating transaction:",t),null}},deleteTransaction:async e=>{try{if(await Te.deleteTransaction(e),Lr())try{await Ye.deleteTransaction(e)}catch(t){console.error("Error syncing deleted transaction to Supabase:",t)}return!0}catch(t){return console.error("Error deleting transaction:",t),!1}},addPurchase:async e=>{try{const t=await Te.addPurchase(e);if(Lr())try{await Ye.createPurchase(t)}catch(r){console.error("Error syncing new purchase to Supabase:",r)}return t}catch(t){return console.error("Error adding purchase:",t),null}},updatePurchase:async e=>{try{const t=await Te.updatePurchase(e);if(Lr())try{await Ye.updatePurchase(e)}catch(r){console.error("Error syncing updated purchase to Supabase:",r)}return t}catch(t){return console.error("Error updating purchase:",t),null}},deletePurchase:async e=>{try{if(await Te.deletePurchase(e),Lr())try{await Ye.deletePurchase(e)}catch(t){console.error("Error syncing deleted purchase to Supabase:",t)}return!0}catch(t){return console.error("Error deleting purchase:",t),!1}},saveTransportation:async e=>{try{let t;console.log("Saving transportation:",e);const r={...e};if("id"in r){if(console.log("Updating existing transportation with ID:",r.id),t=await Te.updateTransportation(r),console.log("Transportation updated in local database:",t),Lr())try{console.log("Syncing updated transportation to Supabase...");const n=await Ye.updateTransportation(r);console.log("Supabase update result:",n),await vt.syncTransportation(r.transaction_id)}catch(n){console.error("Error syncing updated transportation to Supabase:",n)}}else{console.log("Adding new transportation for transaction:",r.transaction_id);const n={...r,id:ku()};if(t=await Te.addTransportation(n),console.log("Transportation added to local database:",t),Lr())try{console.log("Syncing new transportation to Supabase...");const s=await Ye.createTransportation(n);console.log("Supabase create result:",s),s?(await Te.updateTransportation(s),console.log("Updated local transportation with Supabase data"),t=s):await vt.syncTransportation(r.transaction_id)}catch(s){console.error("Error syncing new transportation to Supabase:",s)}}return t}catch(t){return console.error("Error saving transportation:",t),null}},deleteTransportation:async e=>{try{if(await Te.deleteTransportation(e),Lr())try{await Ye.deleteTransportation(e)}catch(t){console.error("Error syncing deleted transportation to Supabase:",t)}return!0}catch(t){return console.error("Error deleting transportation:",t),!1}},addSale:async e=>{try{const t=await Te.addSale(e);if(Lr())try{await Ye.createSale(t)}catch(r){console.error("Error syncing new sale to Supabase:",r)}return t}catch(t){return console.error("Error adding sale:",t),null}},updateSale:async e=>{try{const t=await Te.updateSale(e);if(Lr())try{await Ye.updateSale(e)}catch(r){console.error("Error syncing updated sale to Supabase:",r)}return t}catch(t){return console.error("Error updating sale:",t),null}},deleteSale:async e=>{try{if(await Te.deleteSale(e),Lr())try{await Ye.deleteSale(e)}catch(t){console.error("Error syncing deleted sale to Supabase:",t)}return!0}catch(t){return console.error("Error deleting sale:",t),!1}},addPayment:async e=>{try{const t=await Te.addPayment(e);if(Lr())try{await Ye.createPayment(t)}catch(r){console.error("Error syncing new payment to Supabase:",r)}return t}catch(t){return console.error("Error adding payment:",t),null}},updatePayment:async e=>{try{const t=await Te.updatePayment(e);if(Lr())try{await Ye.updatePayment(e)}catch(r){console.error("Error syncing updated payment to Supabase:",r)}return t}catch(t){return console.error("Error updating payment:",t),null}},deletePayment:async e=>{try{if(await Te.deletePayment(e),Lr())try{await Ye.deletePayment(e)}catch(t){console.error("Error syncing deleted payment to Supabase:",t)}return!0}catch(t){return console.error("Error deleting payment:",t),!1}},addNote:async(e,t)=>{try{const r={transaction_id:e,note:t},n=await Te.addTransactionNote(r);if(Lr())try{await Ye.createNote(n)}catch(s){console.error("Error syncing new note to Supabase:",s)}return n}catch(r){return console.error("Error adding note:",r),null}},updateNote:async e=>{try{const t=await Te.updateTransactionNote(e);if(Lr())try{await Ye.updateNote(e)}catch(r){console.error("Error syncing updated note to Supabase:",r)}return t}catch(t){return console.error("Error updating note:",t),null}},deleteNote:async e=>{try{if(await Te.deleteTransactionNote(e),Lr())try{await Ye.deleteNote(e)}catch(t){console.error("Error syncing deleted note to Supabase:",t)}return!0}catch(t){return console.error("Error deleting note:",t),!1}},addAttachment:async(e,t,r,n,s)=>{try{console.log(`Adding attachment for transaction ${e}, user ${t}`);let a=URL.createObjectURL(r),i=!1;if(Lr())try{console.log(`Uploading file to Supabase storage: ${n}`);const u=await Ye.uploadAttachmentFile(t,r,`${Date.now()}_${n}`);u?(console.log(`File uploaded successfully, got URL: ${u}`),a=u,i=!0):console.warn("Upload returned null URL, using local URL as fallback")}catch(u){console.error("Error uploading attachment to Supabase storage:",u),console.log("Using local URL as fallback")}else console.log("Offline, using local URL for attachment");const o={transaction_id:e,name:n,file_type:s,uri:a};console.log("Saving attachment to local database:",o);const c=await Te.addAttachment(o);if(console.log("Attachment saved to local database:",c),Lr())try{console.log("Syncing attachment metadata to Supabase"),await Ye.createAttachment(c),console.log("Attachment metadata synced to Supabase"),i||(console.log("Attempting to sync attachment specifically"),await vt.syncAttachments(e))}catch(u){console.error("Error syncing new attachment to Supabase:",u)}return c}catch(a){return console.error("Error adding attachment:",a),null}},deleteAttachment:async e=>{try{const t=await Te.getAttachment(e);if(await Te.deleteAttachment(e),Lr())try{await Ye.deleteAttachment(e)}catch(r){console.error("Error syncing deleted attachment to Supabase:",r)}return!0}catch(t){return console.error("Error deleting attachment:",t),!1}},syncTransaction:async e=>{try{return Lr()?await vt.syncCompleteTransaction(e):(console.log("Offline, skipping sync"),!1)}catch(t){return console.error("Error syncing transaction:",t),!1}},getSyncStatus:async()=>{try{return(await vt.getSyncStatus()).isAllSynced}catch(e){return console.error("Error getting sync status:",e),!1}}},hQ=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(""),[c,u]=v.useState(null),{toast:d}=nr(),{user:h}=Pr(),f=async()=>{try{if(!(h!=null&&h.id))return;a(!0),console.log("Loading transactions for user:",h.id);const g=await Zr.getAllTransactions(h.id);console.log(`Loaded ${g.length} transactions:`,g.map(S=>({id:S.id,name:S.name})));const y=p(g);y.length!==g.length&&console.log(`Removed ${g.length-y.length} duplicate transactions`),t(y),n(y)}catch(g){console.error("Failed to load transactions:",g),d({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{a(!1)}},p=g=>{const y=new Set;return g.filter(S=>y.has(S.id)?!1:(y.add(S.id),!0))};return v.useEffect(()=>{let g=e;if(c&&(g=g.filter(y=>y.status===c)),i.trim()){const y=i.toLowerCase();y==="pending"||y==="pending transaction"?g=g.filter(S=>S.status==="pending"):y==="completed"||y==="success"||y==="successful"||y==="successful transaction"?g=g.filter(S=>S.status==="completed"):y==="cancelled"||y==="canceled"||y==="cancelled transaction"?g=g.filter(S=>S.status==="cancelled"):g=g.filter(S=>{var b;return((b=S.name)==null?void 0:b.toLowerCase().includes(y))||S.id.toLowerCase().includes(y)})}n(g)},[i,c,e]),v.useEffect(()=>{h&&f()},[h]),{transactions:e,filteredTransactions:r,loading:s,searchQuery:i,setSearchQuery:o,statusFilter:c,setStatusFilter:u,loadTransactions:f}};var wN="Avatar",[fQ,jde]=pa(wN),[pQ,H6]=fQ(wN),G6=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=v.useState("idle");return l.jsx(pQ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:l.jsx(mt.span,{...n,ref:t})})});G6.displayName=wN;var Y6="AvatarImage",K6=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=H6(Y6,r),o=mQ(n,a.referrerPolicy),c=Vn(u=>{s(u),i.onImageLoadingStatusChange(u)});return Dn(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(mt.img,{...a,ref:t,src:n}):null});K6.displayName=Y6;var X6="AvatarFallback",J6=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=H6(X6,r),[i,o]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?l.jsx(mt.span,{...s,ref:t}):null});J6.displayName=X6;function mQ(e,t){const[r,n]=v.useState("idle");return Dn(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=o=>()=>{s&&n(o)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Z6=G6,Q6=K6,eR=J6;const fm=v.forwardRef(({className:e,...t},r)=>l.jsx(Z6,{ref:r,className:Ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));fm.displayName=Z6.displayName;const m0=v.forwardRef(({className:e,...t},r)=>l.jsx(Q6,{ref:r,className:Ve("aspect-square h-full w-full",e),...t}));m0.displayName=Q6.displayName;const pm=v.forwardRef(({className:e,...t},r)=>l.jsx(eR,{ref:r,className:Ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pm.displayName=eR.displayName;var gQ=v.createContext(void 0);function Qh(e){const t=v.useContext(gQ);return e||t||"ltr"}var r2=0;function F1(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??LE()),document.body.insertAdjacentElement("beforeend",e[1]??LE()),r2++,()=>{r2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),r2--}},[])}function LE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var n2="focusScope.autoFocusOnMount",s2="focusScope.autoFocusOnUnmount",DE={bubbles:!1,cancelable:!0},yQ="FocusScope",lg=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[o,c]=v.useState(null),u=Vn(s),d=Vn(a),h=v.useRef(null),f=qt(t,y=>c(y)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let y=function(N){if(p.paused||!o)return;const C=N.target;o.contains(C)?h.current=C:Sl(h.current,{select:!0})},S=function(N){if(p.paused||!o)return;const C=N.relatedTarget;C!==null&&(o.contains(C)||Sl(h.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const E of N)E.removedNodes.length>0&&Sl(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const x=new MutationObserver(b);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),x.disconnect()}}},[n,o,p.paused]),v.useEffect(()=>{if(o){OE.add(p);const y=document.activeElement;if(!o.contains(y)){const b=new CustomEvent(n2,DE);o.addEventListener(n2,u),o.dispatchEvent(b),b.defaultPrevented||(vQ(_Q(tR(o)),{select:!0}),document.activeElement===y&&Sl(o))}return()=>{o.removeEventListener(n2,u),setTimeout(()=>{const b=new CustomEvent(s2,DE);o.addEventListener(s2,d),o.dispatchEvent(b),b.defaultPrevented||Sl(y??document.body,{select:!0}),o.removeEventListener(s2,d),OE.remove(p)},0)}}},[o,u,d,p]);const g=v.useCallback(y=>{if(!r&&!n||p.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(S&&b){const x=y.currentTarget,[N,C]=xQ(x);N&&C?!y.shiftKey&&b===C?(y.preventDefault(),r&&Sl(N,{select:!0})):y.shiftKey&&b===N&&(y.preventDefault(),r&&Sl(C,{select:!0})):b===x&&y.preventDefault()}},[r,n,p.paused]);return l.jsx(mt.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});lg.displayName=yQ;function vQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Sl(n,{select:t}),document.activeElement!==r)return}function xQ(e){const t=tR(e),r=RE(t,e),n=RE(t.reverse(),e);return[r,n]}function tR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function RE(e,t){for(const r of e)if(!wQ(r,{upTo:t}))return r}function wQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function bQ(e){return e instanceof HTMLInputElement&&"select"in e}function Sl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&bQ(e)&&t&&e.select()}}var OE=SQ();function SQ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=IE(e,t),e.unshift(t)},remove(t){var r;e=IE(e,t),(r=e[0])==null||r.resume()}}}function IE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _Q(e){return e.filter(t=>t.tagName!=="A")}function NQ(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,jQ(s,...t)]}function jQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var a2="rovingFocusGroup.onEntryFocus",CQ={bubbles:!1,cancelable:!0},B1="RovingFocusGroup",[D5,rR,kQ]=p1(B1),[EQ,vc]=NQ(B1,[kQ]),[PQ,AQ]=EQ(B1),nR=v.forwardRef((e,t)=>l.jsx(D5.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(D5.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(TQ,{...e,ref:t})})}));nR.displayName=B1;var TQ=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),p=qt(t,f),g=Qh(a),[y=null,S]=Vs({prop:i,defaultProp:o,onChange:c}),[b,x]=v.useState(!1),N=Vn(u),C=rR(r),E=v.useRef(!1),[F,P]=v.useState(0);return v.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(a2,N),()=>A.removeEventListener(a2,N)},[N]),l.jsx(PQ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(A=>S(A),[S]),onItemShiftTab:v.useCallback(()=>x(!0),[]),onFocusableItemAdd:v.useCallback(()=>P(A=>A+1),[]),onFocusableItemRemove:v.useCallback(()=>P(A=>A-1),[]),children:l.jsx(mt.div,{tabIndex:b||F===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Xe(e.onMouseDown,()=>{E.current=!0}),onFocus:Xe(e.onFocus,A=>{const K=!E.current;if(A.target===A.currentTarget&&K&&!b){const Q=new CustomEvent(a2,CQ);if(A.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const I=C().filter(ee=>ee.focusable),D=I.find(ee=>ee.active),L=I.find(ee=>ee.id===y),q=[D,L,...I].filter(Boolean).map(ee=>ee.ref.current);iR(q,d)}}E.current=!1}),onBlur:Xe(e.onBlur,()=>x(!1))})})}),sR="RovingFocusGroupItem",aR=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,o=Ra(),c=a||o,u=AQ(sR,r),d=u.currentTabStopId===c,h=rR(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return v.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),l.jsx(D5.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(mt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Xe(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Xe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Xe(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=RQ(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const x=b.indexOf(g.currentTarget);b=u.loop?OQ(b,x+1):b.slice(x+1)}setTimeout(()=>iR(b))}})})})});aR.displayName=sR;var LQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RQ(e,t,r){const n=DQ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LQ[n]}function iR(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function OQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $1=nR,U1=aR,IQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ud=new WeakMap,qy=new WeakMap,Wy={},i2=0,oR=function(e){return e&&(e.host||oR(e.parentNode))},MQ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=oR(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},FQ=function(e,t,r,n){var s=MQ(t,Array.isArray(e)?e:[e]);Wy[r]||(Wy[r]=new WeakMap);var a=Wy[r],i=[],o=new Set,c=new Set(s),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",y=(ud.get(f)||0)+1,S=(a.get(f)||0)+1;ud.set(f,y),a.set(f,S),i.push(f),y===1&&g&&qy.set(f,!0),S===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(t),o.clear(),i2++,function(){i.forEach(function(h){var f=ud.get(h)-1,p=a.get(h)-1;ud.set(h,f),a.set(h,p),f||(qy.has(h)||h.removeAttribute(n),qy.delete(h)),p||h.removeAttribute(r)}),i2--,i2||(ud=new WeakMap,ud=new WeakMap,qy=new WeakMap,Wy={})}},V1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=IQ(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),FQ(n,s,r,"aria-hidden")):function(){return null}},Gi=function(){return Gi=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Gi.apply(this,arguments)};function lR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function BQ(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var xv="right-scroll-bar-position",wv="width-before-scroll-bar",$Q="with-scroll-bars-hidden",UQ="--removed-body-scroll-bar-size";function o2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function VQ(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var zQ=typeof window<"u"?v.useLayoutEffect:v.useEffect,ME=new WeakMap;function qQ(e,t){var r=VQ(null,function(n){return e.forEach(function(s){return o2(s,n)})});return zQ(function(){var n=ME.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(o){a.has(o)||o2(o,null)}),a.forEach(function(o){s.has(o)||o2(o,i)})}ME.set(r,e)},[e]),r}function WQ(e){return e}function HQ(e,t){t===void 0&&(t=WQ);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function GQ(e){e===void 0&&(e={});var t=HQ(null);return t.options=Gi({async:!0,ssr:!1},e),t}var cR=function(e){var t=e.sideCar,r=lR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Gi({},r))};cR.isSideCarExport=!0;function YQ(e,t){return e.useMedium(t),cR}var uR=GQ(),l2=function(){},z1=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:l2,onWheelCapture:l2,onTouchMoveCapture:l2}),s=n[0],a=n[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,y=e.allowPinchZoom,S=e.as,b=S===void 0?"div":S,x=e.gapMode,N=lR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=qQ([r,t]),F=Gi(Gi({},N),s);return v.createElement(v.Fragment,null,d&&v.createElement(C,{sideCar:uR,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:x}),i?v.cloneElement(v.Children.only(o),Gi(Gi({},F),{ref:E})):v.createElement(b,Gi({},F,{className:c,ref:E}),o))});z1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z1.classNames={fullWidth:wv,zeroRight:xv};var KQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=KQ();return t&&e.setAttribute("nonce",t),e}function JQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ZQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var QQ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=XQ())&&(JQ(t,r),ZQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eee=function(){var e=QQ();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},dR=function(){var e=eee(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},tee={left:0,top:0,right:0,gap:0},c2=function(e){return parseInt(e||"",10)||0},ree=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[c2(r),c2(n),c2(s)]},nee=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return tee;var t=ree(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},see=dR(),Xd="data-scroll-locked",aee=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat($Q,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Xd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xv,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(wv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(xv," .").concat(xv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wv," .").concat(wv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xd,`] {
    `).concat(UQ,": ").concat(o,`px;
  }
`)},FE=function(){var e=parseInt(document.body.getAttribute(Xd)||"0",10);return isFinite(e)?e:0},iee=function(){v.useEffect(function(){return document.body.setAttribute(Xd,(FE()+1).toString()),function(){var e=FE()-1;e<=0?document.body.removeAttribute(Xd):document.body.setAttribute(Xd,e.toString())}},[])},oee=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;iee();var a=v.useMemo(function(){return nee(s)},[s]);return v.createElement(see,{styles:aee(a,!t,s,r?"":"!important")})},R5=!1;if(typeof window<"u")try{var Hy=Object.defineProperty({},"passive",{get:function(){return R5=!0,!0}});window.addEventListener("test",Hy,Hy),window.removeEventListener("test",Hy,Hy)}catch{R5=!1}var dd=R5?{passive:!1}:!1,lee=function(e){return e.tagName==="TEXTAREA"},hR=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!lee(e)&&r[t]==="visible")},cee=function(e){return hR(e,"overflowY")},uee=function(e){return hR(e,"overflowX")},BE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=fR(e,n);if(s){var a=pR(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},dee=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},hee=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},fR=function(e,t){return e==="v"?cee(t):uee(t)},pR=function(e,t){return e==="v"?dee(t):hee(t)},fee=function(e,t){return e==="h"&&t==="rtl"?-1:1},pee=function(e,t,r,n,s){var a=fee(e,window.getComputedStyle(t).direction),i=a*n,o=r.target,c=t.contains(o),u=!1,d=i>0,h=0,f=0;do{var p=pR(e,o),g=p[0],y=p[1],S=p[2],b=y-S-a*g;(g||b)&&fR(e,o)&&(h+=b,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Gy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$E=function(e){return[e.deltaX,e.deltaY]},UE=function(e){return e&&"current"in e?e.current:e},mee=function(e,t){return e[0]===t[0]&&e[1]===t[1]},gee=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yee=0,hd=[];function vee(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(yee++)[0],a=v.useState(dR)[0],i=v.useRef(e);v.useEffect(function(){i.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=BQ([e.lockRef.current],(e.shards||[]).map(UE),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=v.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var b=Gy(y),x=r.current,N="deltaX"in y?y.deltaX:x[0]-b[0],C="deltaY"in y?y.deltaY:x[1]-b[1],E,F=y.target,P=Math.abs(N)>Math.abs(C)?"h":"v";if("touches"in y&&P==="h"&&F.type==="range")return!1;var A=BE(P,F);if(!A)return!0;if(A?E=P:(E=P==="v"?"h":"v",A=BE(P,F)),!A)return!1;if(!n.current&&"changedTouches"in y&&(N||C)&&(n.current=E),!E)return!0;var K=n.current||E;return pee(K,S,y,K==="h"?N:C,!0)},[]),c=v.useCallback(function(y){var S=y;if(!(!hd.length||hd[hd.length-1]!==a)){var b="deltaY"in S?$E(S):Gy(S),x=t.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&mee(E.delta,b)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var N=(i.current.shards||[]).map(UE).filter(Boolean).filter(function(E){return E.contains(S.target)}),C=N.length>0?o(S,N[0]):!i.current.noIsolation;C&&S.cancelable&&S.preventDefault()}}},[]),u=v.useCallback(function(y,S,b,x){var N={name:y,delta:S,target:b,should:x,shadowParent:xee(b)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(C){return C!==N})},1)},[]),d=v.useCallback(function(y){r.current=Gy(y),n.current=void 0},[]),h=v.useCallback(function(y){u(y.type,$E(y),y.target,o(y,e.lockRef.current))},[]),f=v.useCallback(function(y){u(y.type,Gy(y),y.target,o(y,e.lockRef.current))},[]);v.useEffect(function(){return hd.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,dd),document.addEventListener("touchmove",c,dd),document.addEventListener("touchstart",d,dd),function(){hd=hd.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,dd),document.removeEventListener("touchmove",c,dd),document.removeEventListener("touchstart",d,dd)}},[]);var p=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(a,{styles:gee(s)}):null,p?v.createElement(oee,{gapMode:e.gapMode}):null)}function xee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wee=YQ(uR,vee);var cg=v.forwardRef(function(e,t){return v.createElement(z1,Gi({},e,{ref:t,sideCar:wee}))});cg.classNames=z1.classNames;var O5=["Enter"," "],bee=["ArrowDown","PageUp","Home"],mR=["ArrowUp","PageDown","End"],See=[...bee,...mR],_ee={ltr:[...O5,"ArrowRight"],rtl:[...O5,"ArrowLeft"]},Nee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ug="Menu",[mm,jee,Cee]=p1(ug),[Eu,gR]=pa(ug,[Cee,mc,vc]),q1=mc(),yR=vc(),[kee,Pu]=Eu(ug),[Eee,dg]=Eu(ug),vR=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,o=q1(t),[c,u]=v.useState(null),d=v.useRef(!1),h=Vn(a),f=Qh(s);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(b1,{...o,children:l.jsx(kee,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(Eee,{scope:t,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:i,children:n})})})};vR.displayName=ug;var Pee="MenuAnchor",bN=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=q1(r);return l.jsx(ng,{...s,...n,ref:t})});bN.displayName=Pee;var SN="MenuPortal",[Aee,xR]=Eu(SN,{forceMount:void 0}),wR=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Pu(SN,t);return l.jsx(Aee,{scope:t,forceMount:r,children:l.jsx(Ws,{present:r||a.open,children:l.jsx(qh,{asChild:!0,container:s,children:n})})})};wR.displayName=SN;var Oa="MenuContent",[Tee,_N]=Eu(Oa),bR=v.forwardRef((e,t)=>{const r=xR(Oa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Pu(Oa,e.__scopeMenu),i=dg(Oa,e.__scopeMenu);return l.jsx(mm.Provider,{scope:e.__scopeMenu,children:l.jsx(Ws,{present:n||a.open,children:l.jsx(mm.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(Lee,{...s,ref:t}):l.jsx(Dee,{...s,ref:t})})})})}),Lee=v.forwardRef((e,t)=>{const r=Pu(Oa,e.__scopeMenu),n=v.useRef(null),s=qt(t,n);return v.useEffect(()=>{const a=n.current;if(a)return V1(a)},[]),l.jsx(NN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Xe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Dee=v.forwardRef((e,t)=>{const r=Pu(Oa,e.__scopeMenu);return l.jsx(NN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),NN=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...y}=e,S=Pu(Oa,r),b=dg(Oa,r),x=q1(r),N=yR(r),C=jee(r),[E,F]=v.useState(null),P=v.useRef(null),A=qt(t,P,S.onContentChange),K=v.useRef(0),Q=v.useRef(""),I=v.useRef(0),D=v.useRef(null),L=v.useRef("right"),B=v.useRef(0),q=g?cg:v.Fragment,ee=g?{as:no,allowPinchZoom:!0}:void 0,V=Y=>{var se,le;const ie=Q.current+Y,me=C().filter(ue=>!ue.disabled),T=document.activeElement,G=(se=me.find(ue=>ue.ref.current===T))==null?void 0:se.textValue,Z=me.map(ue=>ue.textValue),ae=Wee(Z,ie,G),W=(le=me.find(ue=>ue.textValue===ae))==null?void 0:le.ref.current;(function ue(xe){Q.current=xe,window.clearTimeout(K.current),xe!==""&&(K.current=window.setTimeout(()=>ue(""),1e3))})(ie),W&&setTimeout(()=>W.focus())};v.useEffect(()=>()=>window.clearTimeout(K.current),[]),F1();const M=v.useCallback(Y=>{var me,T;return L.current===((me=D.current)==null?void 0:me.side)&&Gee(Y,(T=D.current)==null?void 0:T.area)},[]);return l.jsx(Tee,{scope:r,searchRef:Q,onItemEnter:v.useCallback(Y=>{M(Y)&&Y.preventDefault()},[M]),onItemLeave:v.useCallback(Y=>{var ie;M(Y)||((ie=P.current)==null||ie.focus(),F(null))},[M]),onTriggerLeave:v.useCallback(Y=>{M(Y)&&Y.preventDefault()},[M]),pointerGraceTimerRef:I,onPointerGraceIntentChange:v.useCallback(Y=>{D.current=Y},[]),children:l.jsx(q,{...ee,children:l.jsx(lg,{asChild:!0,trapped:s,onMountAutoFocus:Xe(a,Y=>{var ie;Y.preventDefault(),(ie=P.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(ju,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:l.jsx($1,{asChild:!0,...N,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:F,onEntryFocus:Xe(c,Y=>{b.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(S1,{role:"menu","aria-orientation":"vertical","data-state":MR(S.open),"data-radix-menu-content":"",dir:b.dir,...x,...y,ref:A,style:{outline:"none",...y.style},onKeyDown:Xe(y.onKeyDown,Y=>{const me=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,T=Y.ctrlKey||Y.altKey||Y.metaKey,G=Y.key.length===1;me&&(Y.key==="Tab"&&Y.preventDefault(),!T&&G&&V(Y.key));const Z=P.current;if(Y.target!==Z||!See.includes(Y.key))return;Y.preventDefault();const W=C().filter(se=>!se.disabled).map(se=>se.ref.current);mR.includes(Y.key)&&W.reverse(),zee(W)}),onBlur:Xe(e.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(K.current),Q.current="")}),onPointerMove:Xe(e.onPointerMove,gm(Y=>{const ie=Y.target,me=B.current!==Y.clientX;if(Y.currentTarget.contains(ie)&&me){const T=Y.clientX>B.current?"right":"left";L.current=T,B.current=Y.clientX}}))})})})})})})});bR.displayName=Oa;var Ree="MenuGroup",jN=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(mt.div,{role:"group",...n,ref:t})});jN.displayName=Ree;var Oee="MenuLabel",SR=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(mt.div,{...n,ref:t})});SR.displayName=Oee;var g0="MenuItem",VE="menu.itemSelect",W1=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=v.useRef(null),i=dg(g0,e.__scopeMenu),o=_N(g0,e.__scopeMenu),c=qt(t,a),u=v.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(VE,{bubbles:!0,cancelable:!0});h.addEventListener(VE,p=>n==null?void 0:n(p),{once:!0}),f_(h,f),f.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(_R,{...s,ref:c,disabled:r,onClick:Xe(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:Xe(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Xe(e.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||O5.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});W1.displayName=g0;var _R=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=_N(g0,r),o=yR(r),c=v.useRef(null),u=qt(t,c),[d,h]=v.useState(!1),[f,p]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),l.jsx(mm.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:l.jsx(U1,{asChild:!0,...o,focusable:!n,children:l.jsx(mt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Xe(e.onPointerMove,gm(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Xe(e.onPointerLeave,gm(g=>i.onItemLeave(g))),onFocus:Xe(e.onFocus,()=>h(!0)),onBlur:Xe(e.onBlur,()=>h(!1))})})})}),Iee="MenuCheckboxItem",NR=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(PR,{scope:e.__scopeMenu,checked:r,children:l.jsx(W1,{role:"menuitemcheckbox","aria-checked":y0(r)?"mixed":r,...s,ref:t,"data-state":kN(r),onSelect:Xe(s.onSelect,()=>n==null?void 0:n(y0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});NR.displayName=Iee;var jR="MenuRadioGroup",[Mee,Fee]=Eu(jR,{value:void 0,onValueChange:()=>{}}),CR=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Vn(n);return l.jsx(Mee,{scope:e.__scopeMenu,value:r,onValueChange:a,children:l.jsx(jN,{...s,ref:t})})});CR.displayName=jR;var kR="MenuRadioItem",ER=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=Fee(kR,e.__scopeMenu),a=r===s.value;return l.jsx(PR,{scope:e.__scopeMenu,checked:a,children:l.jsx(W1,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":kN(a),onSelect:Xe(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});ER.displayName=kR;var CN="MenuItemIndicator",[PR,Bee]=Eu(CN,{checked:!1}),AR=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=Bee(CN,r);return l.jsx(Ws,{present:n||y0(a.checked)||a.checked===!0,children:l.jsx(mt.span,{...s,ref:t,"data-state":kN(a.checked)})})});AR.displayName=CN;var $ee="MenuSeparator",TR=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});TR.displayName=$ee;var Uee="MenuArrow",LR=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=q1(r);return l.jsx(_1,{...s,...n,ref:t})});LR.displayName=Uee;var Vee="MenuSub",[Cde,DR]=Eu(Vee),ip="MenuSubTrigger",RR=v.forwardRef((e,t)=>{const r=Pu(ip,e.__scopeMenu),n=dg(ip,e.__scopeMenu),s=DR(ip,e.__scopeMenu),a=_N(ip,e.__scopeMenu),i=v.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),c(null)}},[o,c]),l.jsx(bN,{asChild:!0,...u,children:l.jsx(_R,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":MR(r.open),...e,ref:f1(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Xe(e.onPointerMove,gm(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Xe(e.onPointerLeave,gm(h=>{var p,g;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const y=(g=r.content)==null?void 0:g.dataset.side,S=y==="right",b=S?-5:5,x=f[S?"left":"right"],N=f[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x,y:f.top},{x:N,y:f.top},{x:N,y:f.bottom},{x,y:f.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Xe(e.onKeyDown,h=>{var p;const f=a.searchRef.current!=="";e.disabled||f&&h.key===" "||_ee[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});RR.displayName=ip;var OR="MenuSubContent",IR=v.forwardRef((e,t)=>{const r=xR(Oa,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Pu(Oa,e.__scopeMenu),i=dg(Oa,e.__scopeMenu),o=DR(OR,e.__scopeMenu),c=v.useRef(null),u=qt(t,c);return l.jsx(mm.Provider,{scope:e.__scopeMenu,children:l.jsx(Ws,{present:n||a.open,children:l.jsx(mm.Slot,{scope:e.__scopeMenu,children:l.jsx(NN,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Xe(e.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Xe(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Xe(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=Nee[i.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});IR.displayName=OR;function MR(e){return e?"open":"closed"}function y0(e){return e==="indeterminate"}function kN(e){return y0(e)?"indeterminate":e?"checked":"unchecked"}function zee(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function qee(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Wee(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=qee(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Hee(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const o=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function Gee(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Hee(r,t)}function gm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Yee=vR,Kee=bN,Xee=wR,Jee=bR,Zee=jN,Qee=SR,ete=W1,tte=NR,rte=CR,nte=ER,ste=AR,ate=TR,ite=LR,ote=RR,lte=IR,EN="DropdownMenu",[cte,kde]=pa(EN,[gR]),_s=gR(),[ute,FR]=cte(EN),BR=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=_s(t),u=v.useRef(null),[d=!1,h]=Vs({prop:s,defaultProp:a,onChange:i});return l.jsx(ute,{scope:t,triggerId:Ra(),triggerRef:u,contentId:Ra(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:o,children:l.jsx(Yee,{...c,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};BR.displayName=EN;var $R="DropdownMenuTrigger",UR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=FR($R,r),i=_s(r);return l.jsx(Kee,{asChild:!0,...i,children:l.jsx(mt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:f1(t,a.triggerRef),onPointerDown:Xe(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:Xe(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});UR.displayName=$R;var dte="DropdownMenuPortal",VR=e=>{const{__scopeDropdownMenu:t,...r}=e,n=_s(t);return l.jsx(Xee,{...n,...r})};VR.displayName=dte;var zR="DropdownMenuContent",qR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=FR(zR,r),a=_s(r),i=v.useRef(!1);return l.jsx(Jee,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Xe(e.onCloseAutoFocus,o=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,o.preventDefault()}),onInteractOutside:Xe(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qR.displayName=zR;var hte="DropdownMenuGroup",fte=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(Zee,{...s,...n,ref:t})});fte.displayName=hte;var pte="DropdownMenuLabel",WR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(Qee,{...s,...n,ref:t})});WR.displayName=pte;var mte="DropdownMenuItem",HR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(ete,{...s,...n,ref:t})});HR.displayName=mte;var gte="DropdownMenuCheckboxItem",GR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(tte,{...s,...n,ref:t})});GR.displayName=gte;var yte="DropdownMenuRadioGroup",vte=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(rte,{...s,...n,ref:t})});vte.displayName=yte;var xte="DropdownMenuRadioItem",YR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(nte,{...s,...n,ref:t})});YR.displayName=xte;var wte="DropdownMenuItemIndicator",KR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(ste,{...s,...n,ref:t})});KR.displayName=wte;var bte="DropdownMenuSeparator",XR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(ate,{...s,...n,ref:t})});XR.displayName=bte;var Ste="DropdownMenuArrow",_te=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(ite,{...s,...n,ref:t})});_te.displayName=Ste;var Nte="DropdownMenuSubTrigger",JR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(ote,{...s,...n,ref:t})});JR.displayName=Nte;var jte="DropdownMenuSubContent",ZR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=_s(r);return l.jsx(lte,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZR.displayName=jte;var Cte=BR,kte=UR,Ete=VR,QR=qR,eO=WR,tO=HR,rO=GR,nO=YR,sO=KR,aO=XR,iO=JR,oO=ZR;const ym=Cte,vm=kte,Pte=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(iO,{ref:s,className:Ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(uL,{className:"ml-auto h-4 w-4"})]}));Pte.displayName=iO.displayName;const Ate=v.forwardRef(({className:e,...t},r)=>l.jsx(oO,{ref:r,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ate.displayName=oO.displayName;const Lh=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Ete,{children:l.jsx(QR,{ref:n,sideOffset:t,className:Ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Lh.displayName=QR.displayName;const ci=v.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(tO,{ref:n,className:Ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));ci.displayName=tO.displayName;const Tte=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(rO,{ref:s,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(sO,{children:l.jsx(y_,{className:"h-4 w-4"})})}),t]}));Tte.displayName=rO.displayName;const Lte=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(nO,{ref:n,className:Ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(sO,{children:l.jsx(dL,{className:"h-2 w-2 fill-current"})})}),t]}));Lte.displayName=nO.displayName;const I5=v.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(eO,{ref:n,className:Ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));I5.displayName=eO.displayName;const Jd=v.forwardRef(({className:e,...t},r)=>l.jsx(aO,{ref:r,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));Jd.displayName=aO.displayName;const lO=({children:e,variant:t="default",size:r="md",className:n,...s})=>{const a={default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground"},i={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"};return l.jsx("button",{className:Ve("inline-flex items-center justify-center rounded-full text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","disabled:opacity-50 disabled:pointer-events-none",a[t],i[r],n),...s,children:e})},xm=()=>{const[e,t]=v.useState(()=>{const n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;return n||(s?"dark":"light")});v.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{t(n=>n==="light"?"dark":"light")};return l.jsx(lO,{variant:"ghost",size:"md",onClick:r,"aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,className:"relative",children:l.jsxs("div",{className:"relative w-5 h-5",children:[l.jsxs(zs.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute inset-0 w-full h-full",initial:{opacity:e==="dark"?0:1,rotate:e==="dark"?-45:0},animate:{opacity:e==="dark"?0:1,rotate:e==="dark"?-45:0},transition:{duration:.3},children:[l.jsx("circle",{cx:"12",cy:"12",r:"5"}),l.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),l.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),l.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),l.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),l.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),l.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),l.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),l.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),l.jsx(zs.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute inset-0 w-full h-full",initial:{opacity:e==="light"?0:1,rotate:e==="light"?45:0},animate:{opacity:e==="light"?0:1,rotate:e==="light"?45:0},transition:{duration:.3},children:l.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})]})})},cO=({className:e=""})=>{const[t,r]=v.useState(navigator.onLine),[n,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(null),{user:u}=Pr(),{toast:d}=nr();v.useEffect(()=>{const p=()=>r(!0),g=()=>r(!1);return window.addEventListener("online",p),window.addEventListener("offline",g),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",g)}},[]),v.useEffect(()=>{const p=async()=>{try{const y=await vt.getSyncStatus();s(y.isAllSynced);const S=localStorage.getItem("lastSyncTime");S&&c(new Date(S))}catch(y){console.error("Error checking sync status:",y),s(!1)}};p();const g=setInterval(p,3e4);return()=>clearInterval(g)},[]),v.useEffect(()=>{(async()=>{if(t&&(u!=null&&u.id)&&!n)try{i(!0),console.log("Automatically syncing all data after coming online...");const g=await vt.syncAll(u.id);await vt.syncBuyers(u.id),await vt.syncSellers(u.id),s(!0);const y=new Date;c(y),localStorage.setItem("lastSyncTime",y.toISOString()),console.log("Automatic sync completed")}catch(g){console.error("Error syncing data:",g)}finally{i(!1)}})()},[t,u,n]);const h=async()=>{if(!(!t||!(u!=null&&u.id)||a))try{i(!0),console.log("Manually syncing all data...");const p=await vt.syncAll(u.id);await vt.syncBuyers(u.id),await vt.syncSellers(u.id),s(!0);const g=new Date;c(g),localStorage.setItem("lastSyncTime",g.toISOString()),d({title:"Sync Complete",description:"All data has been synchronized with the cloud"}),console.log("Manual sync completed")}catch(p){console.error("Error syncing data:",p),d({title:"Sync Failed",description:"There was an error syncing your data",variant:"destructive"})}finally{i(!1)}},f=async()=>{if(!(!t||!(u!=null&&u.id)||a))try{if(i(!0),d({title:"Cleaning up duplicates",description:"This may take a moment..."}),await vt.cleanupDuplicateTransactions(u.id)){d({title:"Cleanup Complete",description:"Duplicate transactions have been removed"}),await vt.syncTransactions(u.id),s(!0);const g=new Date;c(g),localStorage.setItem("lastSyncTime",g.toISOString())}else d({title:"Cleanup Failed",description:"Failed to clean up duplicate transactions",variant:"destructive"})}catch(p){console.error("Error cleaning up duplicates:",p),d({title:"Cleanup Failed",description:"There was an error cleaning up duplicate transactions",variant:"destructive"})}finally{i(!1)}};return l.jsx("div",{className:`flex items-center gap-2 ${e}`,children:t?l.jsxs(ym,{children:[l.jsx(r5,{children:l.jsxs(z4,{children:[l.jsx(q4,{asChild:!0,children:l.jsx(vm,{asChild:!0,children:a?l.jsxs(ge,{variant:"ghost",size:"sm",className:"h-8 px-2 text-yellow-500",disabled:!0,children:[l.jsx(mi,{className:"h-4 w-4 mr-1 animate-spin"}),l.jsx("span",{className:"text-xs",children:"Syncing..."})]}):n?l.jsxs(ge,{variant:"ghost",size:"sm",className:"h-8 px-2 text-green-500",children:[l.jsx(e0,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"text-xs",children:"Synced"})]}):l.jsxs(ge,{variant:"ghost",size:"sm",className:"h-8 px-2 text-blue-500",children:[l.jsx(mi,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"text-xs",children:"Sync Now"})]})})}),l.jsx(n5,{children:l.jsxs("div",{className:"text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Sync Status:"})," ",t?a?"Syncing...":n?"Synced":"Not synced":"Offline"]}),o&&l.jsxs("p",{children:[l.jsx("strong",{children:"Last Synced:"})," ",o.toLocaleString()]}),l.jsx("p",{className:"text-xs mt-1",children:"Click for sync options"})]})})]})}),l.jsxs(Lh,{align:"end",children:[l.jsxs(ci,{onClick:h,disabled:a,children:[l.jsx(mi,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Sync All Data"})]}),l.jsxs(ci,{onClick:f,disabled:a,children:[l.jsx(as,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:"Clean Up Duplicates"})]})]})]}):l.jsx(r5,{children:l.jsxs(z4,{children:[l.jsx(q4,{asChild:!0,children:l.jsxs(ge,{variant:"ghost",size:"sm",className:"h-8 px-2 text-gray-500",disabled:!0,children:[l.jsx(Uz,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"text-xs",children:"Offline"})]})}),l.jsx(n5,{children:l.jsxs("div",{className:"text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Sync Status:"})," Offline"]}),o&&l.jsxs("p",{children:[l.jsx("strong",{children:"Last Synced:"})," ",o.toLocaleString()]}),l.jsx("p",{className:"text-xs mt-1",children:"Connect to internet to sync"})]})})]})})})},Dte=({onExport:e,businessName:t})=>{const r=Ss(),{toast:n}=nr(),{user:s,signOut:a}=Pr(),[i,o]=v.useState(!1),c=()=>{var f;return s&&(((f=s.user_metadata)==null?void 0:f.full_name)||s.email)||"User"},u=()=>{var p;return s?(((p=s.user_metadata)==null?void 0:p.full_name)||s.email||"").charAt(0).toUpperCase():"U"},d=()=>{var f;return((f=s==null?void 0:s.user_metadata)==null?void 0:f.avatar_url)||""},h=async()=>{try{await a(),n({title:"Logged Out",description:"You have been logged out successfully."}),r("/auth")}catch{n({title:"Error",description:"Failed to log out. Please try again.",variant:"destructive"})}};return l.jsx("header",{className:"glass border-b sticky top-0 z-10",children:l.jsxs("div",{className:"container mx-auto px-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("h1",{className:"text-2xl font-bold",children:t})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs(ym,{children:[l.jsx(vm,{asChild:!0,children:l.jsxs(ge,{variant:"outline",size:"sm",children:[l.jsx(x_,{className:"h-4 w-4 mr-2"}),"Export",l.jsx(v_,{className:"h-4 w-4 ml-2"})]})}),l.jsxs(Lh,{align:"end",children:[l.jsx(I5,{children:"Export Options"}),l.jsx(Jd,{}),l.jsxs(ci,{onClick:()=>e("csv"),children:[l.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),l.jsxs(ci,{onClick:()=>e("json"),children:[l.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Export as JSON"]})]})]}),l.jsx(cO,{className:"mr-2"}),l.jsx(xm,{}),l.jsx("div",{className:"mx-1"}),l.jsxs(ym,{children:[l.jsx(vm,{asChild:!0,children:l.jsx(ge,{variant:"ghost",size:"sm",className:"relative h-8 w-8 rounded-full",children:l.jsxs(fm,{className:"h-8 w-8",children:[l.jsx(m0,{src:d(),alt:c()}),l.jsx(pm,{children:u()})]})})}),l.jsxs(Lh,{align:"end",children:[l.jsx(I5,{children:c()}),l.jsx(Jd,{}),l.jsxs(ci,{onClick:()=>r("/profile"),children:[l.jsx(Gb,{className:"h-4 w-4 mr-2"}),"Profile"]}),l.jsxs(ci,{onClick:()=>r("/settings"),children:[l.jsx(A4,{className:"h-4 w-4 mr-2"}),"Settings"]}),l.jsx(Jd,{}),l.jsxs(ci,{onClick:h,children:[l.jsx(Hb,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>o(!i),children:i?l.jsx(y1,{className:"h-6 w-6"}):l.jsx(Ez,{className:"h-6 w-6"})})})]}),i&&l.jsxs("div",{className:"md:hidden mt-4 pb-2 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs(fm,{className:"h-8 w-8 mr-2",children:[l.jsx(m0,{src:d(),alt:c()}),l.jsx(pm,{children:u()})]}),l.jsx("span",{className:"text-sm font-medium",children:c()})]}),l.jsx(xm,{})]}),l.jsxs("div",{className:"space-y-1 pt-2",children:[l.jsxs(ge,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>r("/profile"),children:[l.jsx(Gb,{className:"h-4 w-4 mr-2"}),"Profile"]}),l.jsxs(ge,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>r("/settings"),children:[l.jsx(A4,{className:"h-4 w-4 mr-2"}),"Settings"]}),l.jsxs(ge,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{o(!1),e("csv")},children:[l.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),l.jsxs(ge,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{o(!1),e("json")},children:[l.jsx(Dd,{className:"h-4 w-4 mr-2"}),"Export as JSON"]}),l.jsxs(ge,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-500 hover:text-red-600 hover:bg-red-50",onClick:h,children:[l.jsx(Hb,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]})})},Ie=v.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ie.displayName="Input";const Rte=({searchQuery:e,setSearchQuery:t})=>l.jsx("div",{className:"w-full md:w-80",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ie,{type:"text",placeholder:"Search transactions...",value:e,onChange:r=>t(r.target.value),className:"pr-8"}),l.jsxs("svg",{className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})]})});var PN="Dialog",[uO,dO]=pa(PN),[Ote,Ni]=uO(PN),hO=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,o=v.useRef(null),c=v.useRef(null),[u=!1,d]=Vs({prop:n,defaultProp:s,onChange:a});return l.jsx(Ote,{scope:t,triggerRef:o,contentRef:c,contentId:Ra(),titleId:Ra(),descriptionId:Ra(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:i,children:r})};hO.displayName=PN;var fO="DialogTrigger",pO=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(fO,r),a=qt(t,s.triggerRef);return l.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":LN(s.open),...n,ref:a,onClick:Xe(e.onClick,s.onOpenToggle)})});pO.displayName=fO;var AN="DialogPortal",[Ite,mO]=uO(AN,{forceMount:void 0}),gO=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Ni(AN,t);return l.jsx(Ite,{scope:t,forceMount:r,children:v.Children.map(n,i=>l.jsx(Ws,{present:r||a.open,children:l.jsx(qh,{asChild:!0,container:s,children:i})}))})};gO.displayName=AN;var v0="DialogOverlay",yO=v.forwardRef((e,t)=>{const r=mO(v0,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ni(v0,e.__scopeDialog);return a.modal?l.jsx(Ws,{present:n||a.open,children:l.jsx(Mte,{...s,ref:t})}):null});yO.displayName=v0;var Mte=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(v0,r);return l.jsx(cg,{as:no,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(mt.div,{"data-state":LN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),gu="DialogContent",vO=v.forwardRef((e,t)=>{const r=mO(gu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ni(gu,e.__scopeDialog);return l.jsx(Ws,{present:n||a.open,children:a.modal?l.jsx(Fte,{...s,ref:t}):l.jsx(Bte,{...s,ref:t})})});vO.displayName=gu;var Fte=v.forwardRef((e,t)=>{const r=Ni(gu,e.__scopeDialog),n=v.useRef(null),s=qt(t,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return V1(a)},[]),l.jsx(xO,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&a.preventDefault()}),onFocusOutside:Xe(e.onFocusOutside,a=>a.preventDefault())})}),Bte=v.forwardRef((e,t)=>{const r=Ni(gu,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return l.jsx(xO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),xO=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,o=Ni(gu,r),c=v.useRef(null),u=qt(t,c);return F1(),l.jsxs(l.Fragment,{children:[l.jsx(lg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(ju,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":LN(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Ute,{titleId:o.titleId}),l.jsx(zte,{contentRef:c,descriptionId:o.descriptionId})]})]})}),TN="DialogTitle",wO=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(TN,r);return l.jsx(mt.h2,{id:s.titleId,...n,ref:t})});wO.displayName=TN;var bO="DialogDescription",SO=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(bO,r);return l.jsx(mt.p,{id:s.descriptionId,...n,ref:t})});SO.displayName=bO;var _O="DialogClose",NO=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ni(_O,r);return l.jsx(mt.button,{type:"button",...n,ref:t,onClick:Xe(e.onClick,()=>s.onOpenChange(!1))})});NO.displayName=_O;function LN(e){return e?"open":"closed"}var jO="DialogTitleWarning",[$te,CO]=jV(jO,{contentName:gu,titleName:TN,docsSlug:"dialog"}),Ute=({titleId:e})=>{const t=CO(jO),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Vte="DialogDescriptionWarning",zte=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CO(Vte).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},kO=hO,EO=pO,PO=gO,DN=yO,RN=vO,ON=wO,IN=SO,H1=NO;const Qt=kO,Mo=EO,qte=PO,Wte=H1,AO=v.forwardRef(({className:e,...t},r)=>l.jsx(DN,{ref:r,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));AO.displayName=DN.displayName;const ir=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(qte,{children:[l.jsx(AO,{}),l.jsxs(RN,{ref:n,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(H1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(y1,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ir.displayName=RN.displayName;const ur=({className:e,...t})=>l.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ur.displayName="DialogHeader";const mr=({className:e,...t})=>l.jsx("div",{className:Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mr.displayName="DialogFooter";const dr=v.forwardRef(({className:e,...t},r)=>l.jsx(ON,{ref:r,className:Ve("text-lg font-semibold leading-none tracking-tight",e),...t}));dr.displayName=ON.displayName;const Cl=v.forwardRef(({className:e,...t},r)=>l.jsx(IN,{ref:r,className:Ve("text-sm text-muted-foreground",e),...t}));Cl.displayName=IN.displayName;var Hte="Label",TO=v.forwardRef((e,t)=>l.jsx(mt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));TO.displayName=Hte;var LO=TO;const Gte=tg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=v.forwardRef(({className:e,...t},r)=>l.jsx(LO,{ref:r,className:Ve(Gte(),e),...t}));je.displayName=LO.displayName;const DO=({onTransactionCreated:e})=>{const[t,r]=v.useState(""),{toast:n}=nr(),s=Ss(),{user:a}=Pr(),i=async()=>{try{if(!(a!=null&&a.id))throw new Error("User not authenticated");const o=t.trim()||`Transaction ${new Date().toLocaleDateString()}`;console.log(`Attempting to create transaction with name: ${o}`);const c=await Zr.createTransaction(a.id,o);if(!c)throw new Error("Failed to create transaction");console.log(`Transaction created/retrieved with ID: ${c.id}`),r(""),n({title:"Success",description:"Transaction created successfully"}),e&&(console.log("Calling onTransactionCreated callback to refresh transaction list"),e()),console.log(`Navigating to transaction details: /transaction/${c.id}`),s(`/transaction/${c.id}`)}catch(o){console.error("Failed to create transaction:",o),n({title:"Error",description:"Failed to create transaction",variant:"destructive"})}};return l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Create New Transaction"})}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"transactionName",children:"Transaction Name"}),l.jsx(Ie,{id:"transactionName",placeholder:"Enter a name for this transaction",value:t,onChange:o=>r(o.target.value)})]})}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>e(),children:"Cancel"}),l.jsx(ge,{onClick:i,children:"Create"})]})]})},Yte=({hasSearchQuery:e,onCreateTransaction:t})=>l.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:e?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Results Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"No transactions match your search criteria"}),l.jsxs(ge,{onClick:t,className:"inline-flex items-center justify-center px-4 py-2 rounded-md",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Transaction"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),l.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Transactions Yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first transaction to get started"})]})}),Kte=()=>l.jsx(zs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-pulse-subtle",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),l.jsx("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),l.jsx("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),l.jsx("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),l.jsx("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),l.jsx("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),l.jsx("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]})})}),RO=v.createContext(void 0),Xte=()=>{try{return localStorage.getItem("currency")||"USD"}catch(e){return console.error("Failed to read currency from localStorage:",e),"USD"}},OO=({children:e})=>{const[t,r]=v.useState(Xte);v.useEffect(()=>{try{localStorage.setItem("currency",t)}catch(a){console.error("Failed to save currency to localStorage:",a)}},[t]);const n=a=>{r(a)},s=v.useCallback(a=>{if(isNaN(a))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(a)}catch(i){return console.error(`Failed to format currency ${t}:`,i),`${t} ${a.toFixed(2)}`}},[t]);return l.jsx(RO.Provider,{value:{currency:t,setCurrency:n,formatCurrency:s},children:e})},MN=()=>{const e=v.useContext(RO);if(e===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return e},Jte=({status:e})=>{const r={completed:{bg:"bg-success/10",text:"text-success",label:"Completed"},pending:{bg:"bg-amber-500/10",text:"text-amber-500",label:"Pending"},cancelled:{bg:"bg-destructive/10",text:"text-destructive",label:"Cancelled"}}[e];return l.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded-full ${r.bg} ${r.text}`,children:r.label})},Zte=({transaction:e,index:t})=>{var c,u;const r=Ss(),{formatCurrency:n}=MN(),s=new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),a=()=>{r(`/transaction/${e.id}`)},i=e.loadBuy&&!e.loadSold,o=!e.loadBuy&&e.loadSold;return l.jsxs(zs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:t*.03},whileHover:{y:-2,transition:{duration:.2}},className:"bg-card/50 border border-border/30 shadow-sm rounded-lg p-2 cursor-pointer hover:bg-muted/10 transition-colors",onClick:a,children:[l.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-medium",children:s}),l.jsx(Jte,{status:e.status})]}),l.jsx("h3",{className:"text-xs font-medium truncate mb-0.5",children:e.name||`Transaction ${e.id.slice(0,5)}`}),l.jsxs("div",{className:"flex items-center gap-1 mt-1 mb-0.5 text-[10px] text-muted-foreground",children:[i&&l.jsx(qb,{className:"h-3 w-3 flex-shrink-0 text-red-500"}),o&&l.jsx(zb,{className:"h-3 w-3 flex-shrink-0 text-green-500"}),l.jsx("span",{className:"truncate",children:e.loadBuy?`From: ${e.loadBuy.supplierName||"N/A"}`:e.loadSold?`To: ${e.loadSold.buyerName||"N/A"}`:"No supplier/buyer info"})]}),l.jsxs("div",{className:"flex justify-between items-center mt-1 pt-0.5 border-t border-border/20",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground truncate max-w-[60%]",children:((c=e.loadBuy)==null?void 0:c.goodsName)||((u=e.loadSold)==null?void 0:u.buyerName)||""}),l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:"text-xs font-medium",children:n(e.totalAmount)})})]})]})},Qte=({onTransactionCreated:e})=>{const[t,r]=Pe.useState(!1);return l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx("div",{className:"bg-muted/30 p-8 rounded-full mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"No transactions yet"}),l.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:"Create your first transaction to start tracking your business deals efficiently."}),l.jsxs(Qt,{open:t,onOpenChange:r,children:[l.jsx(Mo,{asChild:!0,children:l.jsxs(ge,{className:"gap-2",children:[l.jsx(vz,{className:"h-4 w-4"}),"Create Your First Transaction"]})}),l.jsx(DO,{onTransactionCreated:()=>{e(),r(!1)}})]})]})},ere=({transactions:e,loading:t,onRefresh:r,onCreateTransaction:n})=>t?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx(To,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length===0?l.jsx(Qte,{onTransactionCreated:r}):l.jsx(zs.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map((s,a)=>l.jsx(Zte,{transaction:s,index:a},s.id))});function gr(e){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(e)}var ts=Uint8Array,sa=Uint16Array,FN=Int32Array,G1=new ts([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Y1=new ts([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M5=new ts([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IO=function(e,t){for(var r=new sa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new FN(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},MO=IO(G1,2),FO=MO.b,F5=MO.r;FO[28]=258,F5[258]=28;var BO=IO(Y1,0),tre=BO.b,zE=BO.r,B5=new sa(32768);for(var Rr=0;Rr<32768;++Rr){var ml=(Rr&43690)>>1|(Rr&21845)<<1;ml=(ml&52428)>>2|(ml&13107)<<2,ml=(ml&61680)>>4|(ml&3855)<<4,B5[Rr]=((ml&65280)>>8|(ml&255)<<8)>>1}var to=function(e,t,r){for(var n=e.length,s=0,a=new sa(t);s<n;++s)e[s]&&++a[e[s]-1];var i=new sa(t);for(s=1;s<t;++s)i[s]=i[s-1]+a[s-1]<<1;var o;if(r){o=new sa(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=i[e[s]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)o[B5[h]>>c]=u}else for(o=new sa(n),s=0;s<n;++s)e[s]&&(o[s]=B5[i[e[s]-1]++]>>15-e[s]);return o},ac=new ts(288);for(var Rr=0;Rr<144;++Rr)ac[Rr]=8;for(var Rr=144;Rr<256;++Rr)ac[Rr]=9;for(var Rr=256;Rr<280;++Rr)ac[Rr]=7;for(var Rr=280;Rr<288;++Rr)ac[Rr]=8;var wm=new ts(32);for(var Rr=0;Rr<32;++Rr)wm[Rr]=5;var rre=to(ac,9,0),nre=to(ac,9,1),sre=to(wm,5,0),are=to(wm,5,1),u2=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Za=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},d2=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},BN=function(e){return(e+7)/8|0},$O=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ts(e.subarray(t,r))},ire=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],si=function(e,t,r){var n=new Error(t||ire[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,si),!r)throw n;return n},ore=function(e,t,r,n){var s=e.length,a=0;if(!s||t.f&&!t.l)return r||new ts(0);var i=!r,o=i||t.i!=2,c=t.i;i&&(r=new ts(s*3));var u=function(Ee){var Se=r.length;if(Ee>Se){var ke=new ts(Math.max(Se*2,Ee));ke.set(r),r=ke}},d=t.f||0,h=t.p||0,f=t.b||0,p=t.l,g=t.d,y=t.m,S=t.n,b=s*8;do{if(!p){d=Za(e,h,1);var x=Za(e,h+1,3);if(h+=3,x)if(x==1)p=nre,g=are,y=9,S=5;else if(x==2){var F=Za(e,h,31)+257,P=Za(e,h+10,15)+4,A=F+Za(e,h+5,31)+1;h+=14;for(var K=new ts(A),Q=new ts(19),I=0;I<P;++I)Q[M5[I]]=Za(e,h+I*3,7);h+=P*3;for(var D=u2(Q),L=(1<<D)-1,B=to(Q,D,1),I=0;I<A;){var q=B[Za(e,h,L)];h+=q&15;var N=q>>4;if(N<16)K[I++]=N;else{var ee=0,V=0;for(N==16?(V=3+Za(e,h,3),h+=2,ee=K[I-1]):N==17?(V=3+Za(e,h,7),h+=3):N==18&&(V=11+Za(e,h,127),h+=7);V--;)K[I++]=ee}}var M=K.subarray(0,F),Y=K.subarray(F);y=u2(M),S=u2(Y),p=to(M,y,1),g=to(Y,S,1)}else si(1);else{var N=BN(h)+4,C=e[N-4]|e[N-3]<<8,E=N+C;if(E>s){c&&si(0);break}o&&u(f+C),r.set(e.subarray(N,E),f),t.b=f+=C,t.p=h=E*8,t.f=d;continue}if(h>b){c&&si(0);break}}o&&u(f+131072);for(var ie=(1<<y)-1,me=(1<<S)-1,T=h;;T=h){var ee=p[d2(e,h)&ie],G=ee>>4;if(h+=ee&15,h>b){c&&si(0);break}if(ee||si(2),G<256)r[f++]=G;else if(G==256){T=h,p=null;break}else{var Z=G-254;if(G>264){var I=G-257,ae=G1[I];Z=Za(e,h,(1<<ae)-1)+FO[I],h+=ae}var W=g[d2(e,h)&me],se=W>>4;W||si(3),h+=W&15;var Y=tre[se];if(se>3){var ae=Y1[se];Y+=d2(e,h)&(1<<ae)-1,h+=ae}if(h>b){c&&si(0);break}o&&u(f+131072);var le=f+Z;if(f<Y){var ue=a-Y,xe=Math.min(Y,le);for(ue+f<0&&si(3);f<xe;++f)r[f]=n[ue+f]}for(;f<le;++f)r[f]=r[f-Y]}}t.l=p,t.p=T,t.b=f,t.f=d,p&&(d=1,t.m=y,t.d=g,t.n=S)}while(!d);return f!=r.length&&i?$O(r,0,f):r.subarray(0,f)},bo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Wf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},h2=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:VO,l:0};if(s==1){var i=new ts(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(E,F){return E.f-F.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=s-1;)o=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var f=a[0].s,n=1;n<s;++n)a[n].s>f&&(f=a[n].s);var p=new sa(f+1),g=$5(r[d-1],p,0);if(g>t){var n=0,y=0,S=g-t,b=1<<S;for(a.sort(function(F,P){return p[P.s]-p[F.s]||F.f-P.f});n<s;++n){var x=a[n].s;if(p[x]>t)y+=b-(1<<g-p[x]),p[x]=t;else break}for(y>>=S;y>0;){var N=a[n].s;p[N]<t?y-=1<<t-p[N]++-1:++n}for(;n>=0&&y;--n){var C=a[n].s;p[C]==t&&(--p[C],++y)}g=t}return{t:new ts(p),l:g}},$5=function(e,t,r){return e.s==-1?Math.max($5(e.l,t,r+1),$5(e.r,t,r+1)):t[e.s]=r},qE=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new sa(++t),n=0,s=e[0],a=1,i=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==s&&o!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[o]}return{c:r.subarray(0,n),n:t}},Hf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},UO=function(e,t,r){var n=r.length,s=BN(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<n;++a)e[s+a+4]=r[a];return(s+4+n)*8},WE=function(e,t,r,n,s,a,i,o,c,u,d){bo(t,d++,r),++s[256];for(var h=h2(s,15),f=h.t,p=h.l,g=h2(a,15),y=g.t,S=g.l,b=qE(f),x=b.c,N=b.n,C=qE(y),E=C.c,F=C.n,P=new sa(19),A=0;A<x.length;++A)++P[x[A]&31];for(var A=0;A<E.length;++A)++P[E[A]&31];for(var K=h2(P,7),Q=K.t,I=K.l,D=19;D>4&&!Q[M5[D-1]];--D);var L=u+5<<3,B=Hf(s,ac)+Hf(a,wm)+i,q=Hf(s,f)+Hf(a,y)+i+14+3*D+Hf(P,Q)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&L<=B&&L<=q)return UO(t,d,e.subarray(c,c+u));var ee,V,M,Y;if(bo(t,d,1+(q<B)),d+=2,q<B){ee=to(f,p,0),V=f,M=to(y,S,0),Y=y;var ie=to(Q,I,0);bo(t,d,N-257),bo(t,d+5,F-1),bo(t,d+10,D-4),d+=14;for(var A=0;A<D;++A)bo(t,d+3*A,Q[M5[A]]);d+=3*D;for(var me=[x,E],T=0;T<2;++T)for(var G=me[T],A=0;A<G.length;++A){var Z=G[A]&31;bo(t,d,ie[Z]),d+=Q[Z],Z>15&&(bo(t,d,G[A]>>5&127),d+=G[A]>>12)}}else ee=rre,V=ac,M=sre,Y=wm;for(var A=0;A<o;++A){var ae=n[A];if(ae>255){var Z=ae>>18&31;Wf(t,d,ee[Z+257]),d+=V[Z+257],Z>7&&(bo(t,d,ae>>23&31),d+=G1[Z]);var W=ae&31;Wf(t,d,M[W]),d+=Y[W],W>3&&(Wf(t,d,ae>>5&8191),d+=Y1[W])}else Wf(t,d,ee[ae]),d+=V[ae]}return Wf(t,d,ee[256]),d+V[256]},lre=new FN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VO=new ts(0),cre=function(e,t,r,n,s,a){var i=a.z||e.length,o=new ts(n+i+5*(1+Math.ceil(i/7e3))+s),c=o.subarray(n,o.length-s),u=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var h=lre[t-1],f=h>>13,p=h&8191,g=(1<<r)-1,y=a.p||new sa(32768),S=a.h||new sa(g+1),b=Math.ceil(r/3),x=2*b,N=function(Je){return(e[Je]^e[Je+1]<<b^e[Je+2]<<x)&g},C=new FN(25e3),E=new sa(288),F=new sa(32),P=0,A=0,K=a.i||0,Q=0,I=a.w||0,D=0;K+2<i;++K){var L=N(K),B=K&32767,q=S[L];if(y[B]=q,S[L]=B,I<=K){var ee=i-K;if((P>7e3||Q>24576)&&(ee>423||!u)){d=WE(e,c,0,C,E,F,A,Q,D,K-D,d),Q=P=A=0,D=K;for(var V=0;V<286;++V)E[V]=0;for(var V=0;V<30;++V)F[V]=0}var M=2,Y=0,ie=p,me=B-q&32767;if(ee>2&&L==N(K-me))for(var T=Math.min(f,ee)-1,G=Math.min(32767,K),Z=Math.min(258,ee);me<=G&&--ie&&B!=q;){if(e[K+M]==e[K+M-me]){for(var ae=0;ae<Z&&e[K+ae]==e[K+ae-me];++ae);if(ae>M){if(M=ae,Y=me,ae>T)break;for(var W=Math.min(me,ae-2),se=0,V=0;V<W;++V){var le=K-me+V&32767,ue=y[le],xe=le-ue&32767;xe>se&&(se=xe,q=le)}}}B=q,q=y[B],me+=B-q&32767}if(Y){C[Q++]=268435456|F5[M]<<18|zE[Y];var Ee=F5[M]&31,Se=zE[Y]&31;A+=G1[Ee]+Y1[Se],++E[257+Ee],++F[Se],I=K+M,++P}else C[Q++]=e[K],++E[e[K]]}}for(K=Math.max(K,I);K<i;++K)C[Q++]=e[K],++E[e[K]];d=WE(e,c,u,C,E,F,A,Q,D,K-D,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=S,a.p=y,a.i=K,a.w=I)}else{for(var K=a.w||0;K<i+u;K+=65535){var ke=K+65535;ke>=i&&(c[d/8|0]=u,ke=i),d=UO(c,d+1,e.subarray(K,ke))}a.i=i}return $O(o,0,n+BN(d)+s)},zO=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=r.length|0,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=n+=r[i];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},ure=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),i=new ts(a.length+e.length);i.set(a),i.set(e,a.length),e=i,s.w=a.length}return cre(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},qO=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},dre=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=zO();s.p(t.dictionary),qO(e,2,s.d())}},hre=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&si(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&si(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function U5(e,t){t||(t={});var r=zO();r.p(e);var n=ure(e,t,t.dictionary?6:2,4);return dre(n,t),qO(n,n.length-4,r.d()),n}function fre(e,t){return ore(e.subarray(hre(e,t),-4),{i:2},t,t)}var pre=typeof TextDecoder<"u"&&new TextDecoder,mre=0;try{pre.decode(VO,{stream:!0}),mre=1}catch{}var Nt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function f2(){Nt.console&&typeof Nt.console.log=="function"&&Nt.console.log.apply(Nt.console,arguments)}var br={log:f2,warn:function(e){Nt.console&&(typeof Nt.console.warn=="function"?Nt.console.warn.apply(Nt.console,arguments):f2.call(null,arguments))},error:function(e){Nt.console&&(typeof Nt.console.error=="function"?Nt.console.error.apply(Nt.console,arguments):f2(e))}};function p2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Uc(n.response,t,r)},n.onerror=function(){br.error("could not download file")},n.send()}function HE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Yy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ep,V5,Uc=Nt.saveAs||((typeof window>"u"?"undefined":gr(window))!=="object"||window!==Nt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Nt.URL||Nt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?HE(s.href)?p2(e,t,r):Yy(s,s.target="_blank"):Yy(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Yy(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(HE(e))p2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Yy(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:gr(a)!=="object"&&(br.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return p2(e,t,r);var s=e.type==="application/octet-stream",a=/constructor/i.test(Nt.HTMLElement)||Nt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&(typeof FileReader>"u"?"undefined":gr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=Nt.URL||Nt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function WO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,i=s.exec(e);i&&(t=a(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function m2(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=Yn(r,n,s,a,t[0],7,-680876936),a=Yn(a,r,n,s,t[1],12,-389564586),s=Yn(s,a,r,n,t[2],17,606105819),n=Yn(n,s,a,r,t[3],22,-1044525330),r=Yn(r,n,s,a,t[4],7,-176418897),a=Yn(a,r,n,s,t[5],12,1200080426),s=Yn(s,a,r,n,t[6],17,-1473231341),n=Yn(n,s,a,r,t[7],22,-45705983),r=Yn(r,n,s,a,t[8],7,1770035416),a=Yn(a,r,n,s,t[9],12,-1958414417),s=Yn(s,a,r,n,t[10],17,-42063),n=Yn(n,s,a,r,t[11],22,-1990404162),r=Yn(r,n,s,a,t[12],7,1804603682),a=Yn(a,r,n,s,t[13],12,-40341101),s=Yn(s,a,r,n,t[14],17,-1502002290),r=Kn(r,n=Yn(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Kn(a,r,n,s,t[6],9,-1069501632),s=Kn(s,a,r,n,t[11],14,643717713),n=Kn(n,s,a,r,t[0],20,-373897302),r=Kn(r,n,s,a,t[5],5,-701558691),a=Kn(a,r,n,s,t[10],9,38016083),s=Kn(s,a,r,n,t[15],14,-660478335),n=Kn(n,s,a,r,t[4],20,-405537848),r=Kn(r,n,s,a,t[9],5,568446438),a=Kn(a,r,n,s,t[14],9,-1019803690),s=Kn(s,a,r,n,t[3],14,-187363961),n=Kn(n,s,a,r,t[8],20,1163531501),r=Kn(r,n,s,a,t[13],5,-1444681467),a=Kn(a,r,n,s,t[2],9,-51403784),s=Kn(s,a,r,n,t[7],14,1735328473),r=Xn(r,n=Kn(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Xn(a,r,n,s,t[8],11,-2022574463),s=Xn(s,a,r,n,t[11],16,1839030562),n=Xn(n,s,a,r,t[14],23,-35309556),r=Xn(r,n,s,a,t[1],4,-1530992060),a=Xn(a,r,n,s,t[4],11,1272893353),s=Xn(s,a,r,n,t[7],16,-155497632),n=Xn(n,s,a,r,t[10],23,-1094730640),r=Xn(r,n,s,a,t[13],4,681279174),a=Xn(a,r,n,s,t[0],11,-358537222),s=Xn(s,a,r,n,t[3],16,-722521979),n=Xn(n,s,a,r,t[6],23,76029189),r=Xn(r,n,s,a,t[9],4,-640364487),a=Xn(a,r,n,s,t[12],11,-421815835),s=Xn(s,a,r,n,t[15],16,530742520),r=Jn(r,n=Xn(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Jn(a,r,n,s,t[7],10,1126891415),s=Jn(s,a,r,n,t[14],15,-1416354905),n=Jn(n,s,a,r,t[5],21,-57434055),r=Jn(r,n,s,a,t[12],6,1700485571),a=Jn(a,r,n,s,t[3],10,-1894986606),s=Jn(s,a,r,n,t[10],15,-1051523),n=Jn(n,s,a,r,t[1],21,-2054922799),r=Jn(r,n,s,a,t[8],6,1873313359),a=Jn(a,r,n,s,t[15],10,-30611744),s=Jn(s,a,r,n,t[6],15,-1560198380),n=Jn(n,s,a,r,t[13],21,1309151649),r=Jn(r,n,s,a,t[4],6,-145523070),a=Jn(a,r,n,s,t[11],10,-1120210379),s=Jn(s,a,r,n,t[2],15,718787259),n=Jn(n,s,a,r,t[9],21,-343485551),e[0]=$l(r,e[0]),e[1]=$l(n,e[1]),e[2]=$l(s,e[2]),e[3]=$l(a,e[3])}function K1(e,t,r,n,s,a){return t=$l($l(t,e),$l(n,a)),$l(t<<s|t>>>32-s,r)}function Yn(e,t,r,n,s,a,i){return K1(t&r|~t&n,e,t,s,a,i)}function Kn(e,t,r,n,s,a,i){return K1(t&n|r&~n,e,t,s,a,i)}function Xn(e,t,r,n,s,a,i){return K1(t^r^n,e,t,s,a,i)}function Jn(e,t,r,n,s,a,i){return K1(r^(t|~n),e,t,s,a,i)}function HO(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)m2(n,gre(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(m2(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,m2(n,s),n}function gre(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ep=Nt.atob.bind(Nt),V5=Nt.btoa.bind(Nt);var GE="0123456789abcdef".split("");function yre(e){for(var t="",r=0;r<4;r++)t+=GE[e>>8*r+4&15]+GE[e>>8*r&15];return t}function vre(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function z5(e){return HO(e).map(vre).join("")}var xre=function(e){for(var t=0;t<e.length;t++)e[t]=yre(e[t]);return e.join("")}(HO("hello"))!="5d41402abc4b2a76b9719d911017c592";function $l(e,t){if(xre){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q5(e,t){var r,n,s,a;if(e!==r){for(var i=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+i.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=e,n=o}else o=n;var h=t.length,f=0,p=0,g="";for(c=0;c<h;c++)p=(p+(d=o[f=(f+1)%256]))%256,o[f]=o[p],o[p]=d,i=o[(o[f]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(c)^i);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var YE={print:4,modify:8,copy:16,"annot-forms":32};function vd(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(o){if(YE.perm!==void 0)throw new Error("Invalid permission: "+o);s+=YE[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=z5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=q5(this.encryptionKey,this.padding)}function xd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function KE(e){if(gr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!s],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var i=t[r][a];try{i[0].apply(e,n)}catch(o){Nt.console&&br.error("jsPDF PubSub Error",o.message,o)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function x0(e){if(!(this instanceof x0))return new x0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function GO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Gc(e,t,r,n,s){if(!(this instanceof Gc))return new Gc(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,GO.call(this,n,s)}function Bd(e,t,r,n,s){if(!(this instanceof Bd))return new Bd(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,GO.call(this,n,s)}function _t(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,c=16,u="S",d=null;gr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(a===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=KE;var g="1.3",y=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(_){g=_};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var b=p.__private__.getPageFormat=function(_){return S[_]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},N=x.COMPAT;function C(){this.saveGraphicsState(),re(new wt(Ge,0,0,-Ge,0,el()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",N=x.ADVANCED}function E(){this.restoreGraphicsState(),u="S",N=x.COMPAT}var F=p.__private__.combineFontStyleAndFontWeight=function(_,O){if(_=="bold"&&O=="normal"||_=="bold"&&O==400||_=="normal"&&O=="italic"||_=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(_=O==400||O==="normal"?_==="italic"?"italic":"normal":O!=700&&O!=="bold"||_!=="normal"?(O==700?"bold":O)+""+_:"bold"),_};p.advancedAPI=function(_){var O=N===x.COMPAT;return O&&C.call(this),typeof _!="function"||(_(this),O&&E.call(this)),this},p.compatAPI=function(_){var O=N===x.ADVANCED;return O&&E.call(this),typeof _!="function"||(_(this),O&&C.call(this)),this},p.isAdvancedAPI=function(){return N===x.ADVANCED};var P,A=function(_){if(N!==x.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=p.roundToPrecision=p.__private__.roundToPrecision=function(_,O){var ne=t||O;if(isNaN(_)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ne).replace(/0+$/,"")};P=p.hpf=p.__private__.hpf=typeof c=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,c)}:c==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,16)};var Q=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return K(_,2)},I=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return K(_,3)},D=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return N===x.COMPAT?_*Ge:N===x.ADVANCED?_:void 0},L=function(_){return N===x.COMPAT?el()-_:N===x.ADVANCED?_:void 0},B=function(_){return D(L(_))};p.__private__.setPrecision=p.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var q,ee="00000000000000000000000000000000",V=p.__private__.getFileId=function(){return ee},M=p.__private__.setFileId=function(_){return ee=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(zn=new vd(d.userPermissions,d.userPassword,d.ownerPassword,ee)),ee};p.setFileId=function(_){return M(_),this},p.getFileId=function(){return V()};var Y=p.__private__.convertDateToPDFDate=function(_){var O=_.getTimezoneOffset(),ne=O<0?"+":"-",ce=Math.floor(Math.abs(O/60)),ye=Math.abs(O%60),Le=[ne,Z(ce),"'",Z(ye),"'"].join("");return["D:",_.getFullYear(),Z(_.getMonth()+1),Z(_.getDate()),Z(_.getHours()),Z(_.getMinutes()),Z(_.getSeconds()),Le].join("")},ie=p.__private__.convertPDFDateToDate=function(_){var O=parseInt(_.substr(2,4),10),ne=parseInt(_.substr(6,2),10)-1,ce=parseInt(_.substr(8,2),10),ye=parseInt(_.substr(10,2),10),Le=parseInt(_.substr(12,2),10),Ue=parseInt(_.substr(14,2),10);return new Date(O,ne,ce,ye,Le,Ue,0)},me=p.__private__.setCreationDate=function(_){var O;if(_===void 0&&(_=new Date),_ instanceof Date)O=Y(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=_}return q=O},T=p.__private__.getCreationDate=function(_){var O=q;return _==="jsDate"&&(O=ie(q)),O};p.setCreationDate=function(_){return me(_),this},p.getCreationDate=function(_){return T(_)};var G,Z=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ae=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},W=0,se=[],le=[],ue=0,xe=[],Ee=[],Se=!1,ke=le,Je=function(){W=0,ue=0,le=[],se=[],xe=[],co=un(),Ua=un()};p.__private__.setCustomOutputDestination=function(_){Se=!0,ke=_};var Ce=function(_){Se||(ke=_)};p.__private__.resetCustomOutputDestination=function(){Se=!1,ke=le};var re=p.__private__.out=function(_){return _=_.toString(),ue+=_.length+1,ke.push(_),ke},Ke=p.__private__.write=function(_){return re(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},X=p.__private__.getArrayBuffer=function(_){for(var O=_.length,ne=new ArrayBuffer(O),ce=new Uint8Array(ne);O--;)ce[O]=_.charCodeAt(O);return ne},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return te};var oe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return oe=N===x.ADVANCED?_/Ge:_,this};var Ne,ve=p.__private__.getFontSize=p.getFontSize=function(){return N===x.COMPAT?oe:oe*Ge},_e=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return _e=_,this},p.__private__.getR2L=p.getR2L=function(){return _e};var Be,ze=p.__private__.setZoomMode=function(_){var O=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Ne=_;else if(isNaN(_)){if(O.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Ne=_}else Ne=parseInt(_,10)};p.__private__.getZoomMode=function(){return Ne};var ot,ut=p.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Be=_};p.__private__.getPageMode=function(){return Be};var Ot=p.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');ot=_};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(_,O,ne){return ze(_),Ot(O),ut(ne),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(Object.keys(ft).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[_]},p.__private__.getDocumentProperties=function(){return ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var O in ft)ft.hasOwnProperty(O)&&_[O]&&(ft[O]=_[O]);return this},p.__private__.setDocumentProperty=function(_,O){if(Object.keys(ft).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[_]=O};var Ct,Ge,De,st,Tt,kt={},lt={},gn=[],Ze={},Bt={},pt={},Sr={},Ir=null,xr=0,At=[],or=new KE(p),Sc=e.hotfixes||[],Rn={},ki={},Ei=[],wt=function _(O,ne,ce,ye,Le,Ue){if(!(this instanceof _))return new _(O,ne,ce,ye,Le,Ue);isNaN(O)&&(O=1),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=0),isNaN(ye)&&(ye=1),isNaN(Le)&&(Le=0),isNaN(Ue)&&(Ue=0),this._matrix=[O,ne,ce,ye,Le,Ue]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(_)},wt.prototype.multiply=function(_){var O=_.sx*this.sx+_.shy*this.shx,ne=_.sx*this.shy+_.shy*this.sy,ce=_.shx*this.sx+_.sy*this.shx,ye=_.shx*this.shy+_.sy*this.sy,Le=_.tx*this.sx+_.ty*this.shx+this.tx,Ue=_.tx*this.shy+_.ty*this.sy+this.ty;return new wt(O,ne,ce,ye,Le,Ue)},wt.prototype.decompose=function(){var _=this.sx,O=this.shy,ne=this.shx,ce=this.sy,ye=this.tx,Le=this.ty,Ue=Math.sqrt(_*_+O*O),nt=(_/=Ue)*ne+(O/=Ue)*ce;ne-=_*nt,ce-=O*nt;var yt=Math.sqrt(ne*ne+ce*ce);return nt/=yt,_*(ce/=yt)<O*(ne/=yt)&&(_=-_,O=-O,nt=-nt,Ue=-Ue),{scale:new wt(Ue,0,0,yt,0,0),translate:new wt(1,0,0,1,ye,Le),rotate:new wt(_,O,-O,_,0,0),skew:new wt(1,0,nt,1,0,0)}},wt.prototype.toString=function(_){return this.join(" ")},wt.prototype.inversed=function(){var _=this.sx,O=this.shy,ne=this.shx,ce=this.sy,ye=this.tx,Le=this.ty,Ue=1/(_*ce-O*ne),nt=ce*Ue,yt=-O*Ue,It=-ne*Ue,Dt=_*Ue;return new wt(nt,yt,It,Dt,-nt*ye-It*Le,-yt*ye-Dt*Le)},wt.prototype.applyToPoint=function(_){var O=_.x*this.sx+_.y*this.shx+this.tx,ne=_.x*this.shy+_.y*this.sy+this.ty;return new qu(O,ne)},wt.prototype.applyToRectangle=function(_){var O=this.applyToPoint(_),ne=this.applyToPoint(new qu(_.x+_.w,_.y+_.h));return new ff(O.x,O.y,ne.x-O.x,ne.y-O.y)},wt.prototype.clone=function(){var _=this.sx,O=this.shy,ne=this.shx,ce=this.sy,ye=this.tx,Le=this.ty;return new wt(_,O,ne,ce,ye,Le)},p.Matrix=wt;var $a=p.matrixMult=function(_,O){return O.multiply(_)},Pi=new wt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Pi;var Ns=function(_,O){if(!Bt[_]){var ne=(O instanceof Gc?"Sh":"P")+(Object.keys(Ze).length+1).toString(10);O.id=ne,Bt[_]=ne,Ze[ne]=O,or.publish("addPattern",O)}};p.ShadingPattern=Gc,p.TilingPattern=Bd,p.addShadingPattern=function(_,O){return A("addShadingPattern()"),Ns(_,O),this},p.beginTilingPattern=function(_){A("beginTilingPattern()"),$g(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,O){A("endTilingPattern()"),O.stream=Ee[G].join(`
`),Ns(_,O),or.publish("endTilingPattern",O),Ei.pop().restore()};var yn=p.__private__.newObject=function(){var _=un();return Gs(_,!0),_},un=p.__private__.newObjectDeferred=function(){return W++,se[W]=function(){return ue},W},Gs=function(_,O){return O=typeof O=="boolean"&&O,se[_]=ue,O&&re(_+" 0 obj"),_},Tu=p.__private__.newAdditionalObject=function(){var _={objId:un(),content:""};return xe.push(_),_},co=un(),Ua=un(),Va=p.__private__.decodeColorString=function(_){var O=_.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length===5&&(O[4]==="k"||O[4]==="K")&&(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var ne=parseFloat(O[0]);O=[ne,ne,ne,"r"]}for(var ce="#",ye=0;ye<3;ye++)ce+=("0"+Math.floor(255*parseFloat(O[ye])).toString(16)).slice(-2);return ce},za=p.__private__.encodeColorString=function(_){var O;typeof _=="string"&&(_={ch1:_});var ne=_.ch1,ce=_.ch2,ye=_.ch3,Le=_.ch4,Ue=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var nt=new WO(ne);if(nt.ok)ne=nt.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var yt=parseInt(ne.substr(1),16);ne=yt>>16&255,ce=yt>>8&255,ye=255&yt}if(ce===void 0||Le===void 0&&ne===ce&&ce===ye)if(typeof ne=="string")O=ne+" "+Ue[0];else switch(_.precision){case 2:O=Q(ne/255)+" "+Ue[0];break;case 3:default:O=I(ne/255)+" "+Ue[0]}else if(Le===void 0||gr(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return O=["1.","1.","1.",Ue[1]].join(" ");if(typeof ne=="string")O=[ne,ce,ye,Ue[1]].join(" ");else switch(_.precision){case 2:O=[Q(ne/255),Q(ce/255),Q(ye/255),Ue[1]].join(" ");break;default:case 3:O=[I(ne/255),I(ce/255),I(ye/255),Ue[1]].join(" ")}}else if(typeof ne=="string")O=[ne,ce,ye,Le,Ue[2]].join(" ");else switch(_.precision){case 2:O=[Q(ne),Q(ce),Q(ye),Q(Le),Ue[2]].join(" ");break;case 3:default:O=[I(ne),I(ce),I(ye),I(Le),Ue[2]].join(" ")}return O},Ai=p.__private__.getFilters=function(){return i},ma=p.__private__.putStream=function(_){var O=(_=_||{}).data||"",ne=_.filters||Ai(),ce=_.alreadyAppliedFilters||[],ye=_.addLength1||!1,Le=O.length,Ue=_.objectId,nt=function(qn){return qn};if(d!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(nt=zn.encryptor(Ue,0));var yt={};ne===!0&&(ne=["FlateEncode"]);var It=_.additionalKeyValues||[],Dt=(yt=_t.API.processDataByFilters!==void 0?_t.API.processDataByFilters(O,ne):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(yt.data.length!==0&&(It.push({key:"Length",value:yt.data.length}),ye===!0&&It.push({key:"Length1",value:Le})),Dt.length!=0)if(Dt.split("/").length-1==1)It.push({key:"Filter",value:Dt});else{It.push({key:"Filter",value:"["+Dt+"]"});for(var Xt=0;Xt<It.length;Xt+=1)if(It[Xt].key==="DecodeParms"){for(var Fr=[],qr=0;qr<yt.reverseChain.split("/").length-1;qr+=1)Fr.push("null");Fr.push(It[Xt].value),It[Xt].value="["+Fr.join(" ")+"]"}}re("<<");for(var dn=0;dn<It.length;dn++)re("/"+It[dn].key+" "+It[dn].value);re(">>"),yt.data.length!==0&&(re("stream"),re(nt(yt.data)),re("endstream"))},Ti=p.__private__.putPage=function(_){var O=_.number,ne=_.data,ce=_.objId,ye=_.contentsObjId;Gs(ce,!0),re("<</Type /Page"),re("/Parent "+_.rootDictionaryObjId+" 0 R"),re("/Resources "+_.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(P(_.mediaBox.bottomLeftX))+" "+parseFloat(P(_.mediaBox.bottomLeftY))+" "+P(_.mediaBox.topRightX)+" "+P(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&re("/CropBox ["+P(_.cropBox.bottomLeftX)+" "+P(_.cropBox.bottomLeftY)+" "+P(_.cropBox.topRightX)+" "+P(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&re("/BleedBox ["+P(_.bleedBox.bottomLeftX)+" "+P(_.bleedBox.bottomLeftY)+" "+P(_.bleedBox.topRightX)+" "+P(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&re("/TrimBox ["+P(_.trimBox.bottomLeftX)+" "+P(_.trimBox.bottomLeftY)+" "+P(_.trimBox.topRightX)+" "+P(_.trimBox.topRightY)+"]"),_.artBox!==null&&re("/ArtBox ["+P(_.artBox.bottomLeftX)+" "+P(_.artBox.bottomLeftY)+" "+P(_.artBox.topRightX)+" "+P(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&re("/UserUnit "+_.userUnit),or.publish("putPage",{objId:ce,pageContext:At[O],pageNumber:O,page:ne}),re("/Contents "+ye+" 0 R"),re(">>"),re("endobj");var Le=ne.join(`
`);return N===x.ADVANCED&&(Le+=`
Q`),Gs(ye,!0),ma({data:Le,filters:Ai(),objectId:ye}),re("endobj"),ce},_c=p.__private__.putPages=function(){var _,O,ne=[];for(_=1;_<=xr;_++)At[_].objId=un(),At[_].contentsObjId=un();for(_=1;_<=xr;_++)ne.push(Ti({number:_,data:Ee[_],objId:At[_].objId,contentsObjId:At[_].contentsObjId,mediaBox:At[_].mediaBox,cropBox:At[_].cropBox,bleedBox:At[_].bleedBox,trimBox:At[_].trimBox,artBox:At[_].artBox,userUnit:At[_].userUnit,rootDictionaryObjId:co,resourceDictionaryObjId:Ua}));Gs(co,!0),re("<</Type /Pages");var ce="/Kids [";for(O=0;O<xr;O++)ce+=ne[O]+" 0 R ";re(ce+"]"),re("/Count "+xr),re(">>"),re("endobj"),or.publish("postPutPages")},Lu=function(_){or.publish("putFont",{font:_,out:re,newObject:yn,putStream:ma}),_.isAlreadyPutted!==!0&&(_.objectNumber=yn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+xd(_.postScriptName)),re("/Subtype /Type1"),typeof _.encoding=="string"&&re("/Encoding /"+_.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Du=function(){for(var _ in kt)kt.hasOwnProperty(_)&&(h===!1||h===!0&&f.hasOwnProperty(_))&&Lu(kt[_])},Ru=function(_){_.objectNumber=yn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[P(_.x),P(_.y),P(_.x+_.width),P(_.y+_.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ne=_.pages[1].join(`
`);ma({data:ne,additionalKeyValues:O,objectId:_.objectNumber}),re("endobj")},Ou=function(){for(var _ in Rn)Rn.hasOwnProperty(_)&&Ru(Rn[_])},Sg=function(_,O){var ne,ce=[],ye=1/(O-1);for(ne=0;ne<1;ne+=ye)ce.push(ne);if(ce.push(1),_[0].offset!=0){var Le={offset:0,color:_[0].color};_.unshift(Le)}if(_[_.length-1].offset!=1){var Ue={offset:1,color:_[_.length-1].color};_.push(Ue)}for(var nt="",yt=0,It=0;It<ce.length;It++){for(ne=ce[It];ne>_[yt+1].offset;)yt++;var Dt=_[yt].offset,Xt=(ne-Dt)/(_[yt+1].offset-Dt),Fr=_[yt].color,qr=_[yt+1].color;nt+=ae(Math.round((1-Xt)*Fr[0]+Xt*qr[0]).toString(16))+ae(Math.round((1-Xt)*Fr[1]+Xt*qr[1]).toString(16))+ae(Math.round((1-Xt)*Fr[2]+Xt*qr[2]).toString(16))}return nt.trim()},lx=function(_,O){O||(O=21);var ne=yn(),ce=Sg(_.colors,O),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+O+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ma({data:ce,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),re("endobj"),_.objectNumber=yn(),re("<< /ShadingType "+_.type),re("/ColorSpace /DeviceRGB");var Le="/Coords ["+P(parseFloat(_.coords[0]))+" "+P(parseFloat(_.coords[1]))+" ";_.type===2?Le+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3])):Le+=P(parseFloat(_.coords[2]))+" "+P(parseFloat(_.coords[3]))+" "+P(parseFloat(_.coords[4]))+" "+P(parseFloat(_.coords[5])),re(Le+="]"),_.matrix&&re("/Matrix ["+_.matrix.toString()+"]"),re("/Function "+ne+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},cx=function(_,O){var ne=un(),ce=yn();O.push({resourcesOid:ne,objectOid:ce}),_.objectNumber=ce;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+_.boundingBox.map(P).join(" ")+"]"}),ye.push({key:"XStep",value:P(_.xStep)}),ye.push({key:"YStep",value:P(_.yStep)}),ye.push({key:"Resources",value:ne+" 0 R"}),_.matrix&&ye.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ma({data:_.stream,additionalKeyValues:ye,objectId:_.objectNumber}),re("endobj")},Iu=function(_){var O;for(O in Ze)Ze.hasOwnProperty(O)&&(Ze[O]instanceof Gc?lx(Ze[O]):Ze[O]instanceof Bd&&cx(Ze[O],_))},_g=function(_){for(var O in _.objectNumber=yn(),re("<<"),_)switch(O){case"opacity":re("/ca "+Q(_[O]));break;case"stroke-opacity":re("/CA "+Q(_[O]))}re(">>"),re("endobj")},ux=function(){var _;for(_ in pt)pt.hasOwnProperty(_)&&_g(pt[_])},rf=function(){for(var _ in re("/XObject <<"),Rn)Rn.hasOwnProperty(_)&&Rn[_].objectNumber>=0&&re("/"+_+" "+Rn[_].objectNumber+" 0 R");or.publish("putXobjectDict"),re(">>")},dx=function(){zn.oid=yn(),re("<<"),re("/Filter /Standard"),re("/V "+zn.v),re("/R "+zn.r),re("/U <"+zn.toHexString(zn.U)+">"),re("/O <"+zn.toHexString(zn.O)+">"),re("/P "+zn.P),re(">>"),re("endobj")},Ng=function(){for(var _ in re("/Font <<"),kt)kt.hasOwnProperty(_)&&(h===!1||h===!0&&f.hasOwnProperty(_))&&re("/"+_+" "+kt[_].objectNumber+" 0 R");re(">>")},hx=function(){if(Object.keys(Ze).length>0){for(var _ in re("/Shading <<"),Ze)Ze.hasOwnProperty(_)&&Ze[_]instanceof Gc&&Ze[_].objectNumber>=0&&re("/"+_+" "+Ze[_].objectNumber+" 0 R");or.publish("putShadingPatternDict"),re(">>")}},Mu=function(_){if(Object.keys(Ze).length>0){for(var O in re("/Pattern <<"),Ze)Ze.hasOwnProperty(O)&&Ze[O]instanceof p.TilingPattern&&Ze[O].objectNumber>=0&&Ze[O].objectNumber<_&&re("/"+O+" "+Ze[O].objectNumber+" 0 R");or.publish("putTilingPatternDict"),re(">>")}},fx=function(){if(Object.keys(pt).length>0){var _;for(_ in re("/ExtGState <<"),pt)pt.hasOwnProperty(_)&&pt[_].objectNumber>=0&&re("/"+_+" "+pt[_].objectNumber+" 0 R");or.publish("putGStateDict"),re(">>")}},Qr=function(_){Gs(_.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ng(),hx(),Mu(_.objectOid),fx(),rf(),re(">>"),re("endobj")},jg=function(){var _=[];Du(),ux(),Ou(),Iu(_),or.publish("putResources"),_.forEach(Qr),Qr({resourcesOid:Ua,objectOid:Number.MAX_SAFE_INTEGER}),or.publish("postPutResources")},Cg=function(){or.publish("putAdditionalObjects");for(var _=0;_<xe.length;_++){var O=xe[_];Gs(O.objId,!0),re(O.content),re("endobj")}or.publish("postPutAdditionalObjects")},kg=function(_){lt[_.fontName]=lt[_.fontName]||{},lt[_.fontName][_.fontStyle]=_.id},nf=function(_,O,ne,ce,ye){var Le={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:_,fontName:O,fontStyle:ne,encoding:ce,isStandardFont:ye||!1,metadata:{}};return or.publish("addFont",{font:Le,instance:this}),kt[Le.id]=Le,kg(Le),Le.id},px=function(_){for(var O=0,ne=te.length;O<ne;O++){var ce=nf.call(this,_[O][0],_[O][1],_[O][2],te[O][3],!0);h===!1&&(f[ce]=!0);var ye=_[O][0].split("-");kg({id:ce,fontName:ye[0],fontStyle:ye[1]||""})}or.publish("addFonts",{fonts:kt,dictionary:lt})},qa=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(ce){var O=ce.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var ne="Error in function "+O.split(`
`)[0].split("<")[0]+": "+ce.message;if(!Nt.console)throw new Error(ne);Nt.console.error(ne,ce),Nt.alert&&alert(ne)}},_.foo.bar=_,_.foo},Fu=function(_,O){var ne,ce,ye,Le,Ue,nt,yt,It,Dt;if(ye=(O=O||{}).sourceEncoding||"Unicode",Ue=O.outputEncoding,(O.autoencode||Ue)&&kt[Ct].metadata&&kt[Ct].metadata[ye]&&kt[Ct].metadata[ye].encoding&&(Le=kt[Ct].metadata[ye].encoding,!Ue&&kt[Ct].encoding&&(Ue=kt[Ct].encoding),!Ue&&Le.codePages&&(Ue=Le.codePages[0]),typeof Ue=="string"&&(Ue=Le[Ue]),Ue)){for(yt=!1,nt=[],ne=0,ce=_.length;ne<ce;ne++)(It=Ue[_.charCodeAt(ne)])?nt.push(String.fromCharCode(It)):nt.push(_[ne]),nt[ne].charCodeAt(0)>>8&&(yt=!0);_=nt.join("")}for(ne=_.length;yt===void 0&&ne!==0;)_.charCodeAt(ne-1)>>8&&(yt=!0),ne--;if(!yt)return _;for(nt=O.noBOM?[]:[254,255],ne=0,ce=_.length;ne<ce;ne++){if((Dt=(It=_.charCodeAt(ne))>>8)>>8)throw new Error("Character at position "+ne+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nt.push(Dt),nt.push(It-(Dt<<8))}return String.fromCharCode.apply(void 0,nt)},js=p.__private__.pdfEscape=p.pdfEscape=function(_,O){return Fu(_,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sf=p.__private__.beginPage=function(_){Ee[++xr]=[],At[xr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Pg(xr),Ce(Ee[G])},Eg=function(_,O){var ne,ce,ye;switch(r=O||r,typeof _=="string"&&(ne=b(_.toLowerCase()),Array.isArray(ne)&&(ce=ne[0],ye=ne[1])),Array.isArray(_)&&(ce=_[0]*Ge,ye=_[1]*Ge),isNaN(ce)&&(ce=s[0],ye=s[1]),(ce>14400||ye>14400)&&(br.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ye=Math.min(14400,ye)),s=[ce,ye],r.substr(0,1)){case"l":ye>ce&&(s=[ye,ce]);break;case"p":ce>ye&&(s=[ye,ce])}sf(s),Og(cf),re(Wa),df!==0&&re(df+" J"),hf!==0&&re(hf+" j"),or.publish("addPage",{pageNumber:xr})},mx=function(_){_>0&&_<=xr&&(Ee.splice(_,1),At.splice(_,1),xr--,G>xr&&(G=xr),this.setPage(G))},Pg=function(_){_>0&&_<=xr&&(G=_)},gx=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ee.length-1},Ag=function(_,O,ne){var ce,ye=void 0;return ne=ne||{},_=_!==void 0?_:kt[Ct].fontName,O=O!==void 0?O:kt[Ct].fontStyle,ce=_.toLowerCase(),lt[ce]!==void 0&&lt[ce][O]!==void 0?ye=lt[ce][O]:lt[_]!==void 0&&lt[_][O]!==void 0?ye=lt[_][O]:ne.disableWarning===!1&&br.warn("Unable to look up font label for font '"+_+"', '"+O+"'. Refer to getFontList() for available fonts."),ye||ne.noFallback||(ye=lt.times[O])==null&&(ye=lt.times.normal),ye},yx=p.__private__.putInfo=function(){var _=yn(),O=function(ce){return ce};for(var ne in d!==null&&(O=zn.encryptor(_,0)),re("<<"),re("/Producer ("+js(O("jsPDF "+_t.version))+")"),ft)ft.hasOwnProperty(ne)&&ft[ne]&&re("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+js(O(ft[ne]))+")");re("/CreationDate ("+js(O(q))+")"),re(">>"),re("endobj")},af=p.__private__.putCatalog=function(_){var O=(_=_||{}).rootDictionaryObjId||co;switch(yn(),re("<<"),re("/Type /Catalog"),re("/Pages "+O+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Ne;ne.substr(ne.length-1)==="%"&&(Ne=parseInt(Ne)/100),typeof Ne=="number"&&re("/OpenAction [3 0 R /XYZ null null "+Q(Ne)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Be&&re("/PageMode /"+Be),or.publish("putCatalog"),re(">>"),re("endobj")},vx=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(W+1)),re("/Root "+W+" 0 R"),re("/Info "+(W-1)+" 0 R"),d!==null&&re("/Encrypt "+zn.oid+" 0 R"),re("/ID [ <"+ee+"> <"+ee+"> ]"),re(">>")},xx=p.__private__.putHeader=function(){re("%PDF-"+g),re("%ºß¬à")},wx=p.__private__.putXRef=function(){var _="0000000000";re("xref"),re("0 "+(W+1)),re("0000000000 65535 f ");for(var O=1;O<=W;O++)typeof se[O]=="function"?re((_+se[O]()).slice(-10)+" 00000 n "):se[O]!==void 0?re((_+se[O]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},uo=p.__private__.buildDocument=function(){Je(),Ce(le),or.publish("buildDocument"),xx(),_c(),Cg(),jg(),d!==null&&dx(),yx(),af();var _=ue;return wx(),vx(),re("startxref"),re(""+_),re("%%EOF"),Ce(Ee[G]),le.join(`
`)},Bu=p.__private__.getBlob=function(_){return new Blob([X(_)],{type:"application/pdf"})},$u=p.output=p.__private__.output=qa(function(_,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",_){case void 0:return uo();case"save":p.save(O.filename);break;case"arraybuffer":return X(uo());case"blob":return Bu(uo());case"bloburi":case"bloburl":if(Nt.URL!==void 0&&typeof Nt.URL.createObjectURL=="function")return Nt.URL&&Nt.URL.createObjectURL(Bu(uo()))||void 0;br.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ce=uo();try{ne=V5(ce)}catch{ne=V5(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+O.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(ye=O.pdfObjectUrl,Le="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",nt=Nt.open();return nt!==null&&nt.document.write(Ue),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',It=Nt.open();if(It!==null){It.document.write(yt);var Dt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=O.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Fr=Nt.open();if(Fr!==null&&(Fr.document.write(Xt),Fr.document.title=O.filename),Fr||typeof safari>"u")return Fr;break;case"datauri":case"dataurl":return Nt.document.location.href=this.output("datauristring",O);default:return null}}),Tg=function(_){return Array.isArray(Sc)===!0&&Sc.indexOf(_)>-1};switch(n){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Tg("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ge=n}var zn=null;me(),M();var bx=function(_){return d!==null?zn.encryptor(_,0):function(O){return O}},Lg=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[_].objId,pageNumber:_,pageContext:At[_]}},Lt=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in At)if(At[O].objId===_)break;return Lg(O)},Sx=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:At[G].objId,pageNumber:G,pageContext:At[G]}};p.addPage=function(){return Eg.apply(this,arguments),this},p.setPage=function(){return Pg.apply(this,arguments),Ce.call(this,Ee[G]),this},p.insertPage=function(_){return this.addPage(),this.movePage(G,_),this},p.movePage=function(_,O){var ne,ce;if(_>O){ne=Ee[_],ce=At[_];for(var ye=_;ye>O;ye--)Ee[ye]=Ee[ye-1],At[ye]=At[ye-1];Ee[O]=ne,At[O]=ce,this.setPage(O)}else if(_<O){ne=Ee[_],ce=At[_];for(var Le=_;Le<O;Le++)Ee[Le]=Ee[Le+1],At[Le]=At[Le+1];Ee[O]=ne,At[O]=ce,this.setPage(O)}return this},p.deletePage=function(){return mx.apply(this,arguments),this},p.__private__.text=p.text=function(_,O,ne,ce,ye){var Le,Ue,nt,yt,It,Dt,Xt,Fr,qr,dn=(ce=ce||{}).scope||this;if(typeof _=="number"&&typeof O=="number"&&(typeof ne=="string"||Array.isArray(ne))){var qn=ne;ne=O,O=_,_=qn}if(arguments[3]instanceof wt?(A("The transform parameter of text() with a Matrix value"),qr=ye):(nt=arguments[4],yt=arguments[5],gr(Xt=arguments[3])==="object"&&Xt!==null||(typeof nt=="string"&&(yt=nt,nt=null),typeof Xt=="string"&&(yt=Xt,Xt=null),typeof Xt=="number"&&(nt=Xt,Xt=null),ce={flags:Xt,angle:nt,align:yt})),isNaN(O)||isNaN(ne)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return dn;var Nn="",Ha=!1,Ys=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:jc,Ri=dn.internal.scaleFactor;function Ug(_r){return _r=_r.split("	").join(Array(ce.TabLen||9).join(" ")),js(_r,Xt)}function yf(_r){for(var Nr,tn=_r.concat(),vn=[],go=tn.length;go--;)typeof(Nr=tn.shift())=="string"?vn.push(Nr):Array.isArray(_r)&&(Nr.length===1||Nr[1]===void 0&&Nr[2]===void 0)?vn.push(Nr[0]):vn.push([Nr[0],Nr[1],Nr[2]]);return vn}function vf(_r,Nr){var tn;if(typeof _r=="string")tn=Nr(_r)[0];else if(Array.isArray(_r)){for(var vn,go,Cf=_r.concat(),td=[],Hg=Cf.length;Hg--;)typeof(vn=Cf.shift())=="string"?td.push(Nr(vn)[0]):Array.isArray(vn)&&typeof vn[0]=="string"&&(go=Nr(vn[0],vn[1],vn[2]),td.push([go[0],go[1],go[2]]));tn=td}return tn}var Hu=!1,xf=!0;if(typeof _=="string")Hu=!0;else if(Array.isArray(_)){var wf=_.concat();Ue=[];for(var Gu,On=wf.length;On--;)(typeof(Gu=wf.shift())!="string"||Array.isArray(Gu)&&typeof Gu[0]!="string")&&(xf=!1);Hu=xf}if(Hu===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Yu=oe/dn.internal.scaleFactor,Ku=Yu*(Ys-1);switch(ce.baseline){case"bottom":ne-=Ku;break;case"top":ne+=Yu-Ku;break;case"hanging":ne+=Yu-2*Ku;break;case"middle":ne+=Yu/2-Ku}if((Dt=ce.maxWidth||0)>0&&(typeof _=="string"?_=dn.splitTextToSize(_,Dt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(_r,Nr){return _r.concat(dn.splitTextToSize(Nr,Dt))},[]))),Le={text:_,x:O,y:ne,options:ce,mutex:{pdfEscape:js,activeFontKey:Ct,fonts:kt,activeFontSize:oe}},or.publish("preProcessText",Le),_=Le.text,nt=(ce=Le.options).angle,!(qr instanceof wt)&&nt&&typeof nt=="number"){nt*=Math.PI/180,ce.rotationDirection===0&&(nt=-nt),N===x.ADVANCED&&(nt=-nt);var Xu=Math.cos(nt),bf=Math.sin(nt);qr=new wt(Xu,bf,-bf,Xu,0,0)}else nt&&nt instanceof wt&&(qr=nt);N!==x.ADVANCED||qr||(qr=Pi),(It=ce.charSpace||zu)!==void 0&&(Nn+=P(D(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fr=ce.horizontalScale)!==void 0&&(Nn+=P(100*Fr)+` Tz
`),ce.lang;var Cs=-1,Lx=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Sf=dn.internal.getCurrentPageInfo().pageContext;switch(Lx){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var Vg=Sf.usedRenderingMode!==void 0?Sf.usedRenderingMode:-1;Cs!==-1?Nn+=Cs+` Tr
`:Vg!==-1&&(Nn+=`0 Tr
`),Cs!==-1&&(Sf.usedRenderingMode=Cs),yt=ce.align||"left";var ga,Ju=oe*Ys,zg=dn.internal.pageSize.getWidth(),qg=kt[Ct];It=ce.charSpace||zu,Dt=ce.maxWidth||0,Xt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var tl=[],Ec=function(_r){return dn.getStringUnitWidth(_r,{font:qg,charSpace:It,fontSize:oe,doKerning:!1})*oe/Ri};if(Object.prototype.toString.call(_)==="[object Array]"){var ks;Ue=yf(_),yt!=="left"&&(ga=Ue.map(Ec));var os,rl=0;if(yt==="right"){O-=ga[0],_=[],On=Ue.length;for(var fo=0;fo<On;fo++)fo===0?(os=Di(O),ks=ho(ne)):(os=D(rl-ga[fo]),ks=-Ju),_.push([Ue[fo],os,ks]),rl=ga[fo]}else if(yt==="center"){O-=ga[0]/2,_=[],On=Ue.length;for(var po=0;po<On;po++)po===0?(os=Di(O),ks=ho(ne)):(os=D((rl-ga[po])/2),ks=-Ju),_.push([Ue[po],os,ks]),rl=ga[po]}else if(yt==="left"){_=[],On=Ue.length;for(var Zu=0;Zu<On;Zu++)_.push(Ue[Zu])}else if(yt==="justify"&&qg.encoding==="Identity-H"){_=[],On=Ue.length,Dt=Dt!==0?Dt:zg;for(var mo=0,en=0;en<On;en++)if(ks=en===0?ho(ne):-Ju,os=en===0?Di(O):mo,en<On-1){var _f=D((Dt-ga[en])/(Ue[en].split(" ").length-1)),ls=Ue[en].split(" ");_.push([ls[0]+" ",os,ks]),mo=0;for(var ya=1;ya<ls.length;ya++){var Qu=(Ec(ls[ya-1]+" "+ls[ya])-Ec(ls[ya]))*Ri+_f;ya==ls.length-1?_.push([ls[ya],Qu,0]):_.push([ls[ya]+" ",Qu,0]),mo-=Qu}}else _.push([Ue[en],os,ks]);_.push(["",mo,0])}else{if(yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],On=Ue.length,Dt=Dt!==0?Dt:zg,en=0;en<On;en++)ks=en===0?ho(ne):-Ju,os=en===0?Di(O):0,en<On-1?tl.push(P(D((Dt-ga[en])/(Ue[en].split(" ").length-1)))):tl.push(0),_.push([Ue[en],os,ks])}}var Wg=typeof ce.R2L=="boolean"?ce.R2L:_e;Wg===!0&&(_=vf(_,function(_r,Nr,tn){return[_r.split("").reverse().join(""),Nr,tn]})),Le={text:_,x:O,y:ne,options:ce,mutex:{pdfEscape:js,activeFontKey:Ct,fonts:kt,activeFontSize:oe}},or.publish("postProcessText",Le),_=Le.text,Ha=Le.mutex.isHex||!1;var Nf=kt[Ct].encoding;Nf!=="WinAnsiEncoding"&&Nf!=="StandardEncoding"||(_=vf(_,function(_r,Nr,tn){return[Ug(_r),Nr,tn]})),Ue=yf(_),_=[];for(var Pc,Ac,nl,Tc=0,ed=1,Lc=Array.isArray(Ue[0])?ed:Tc,sl="",jf=function(_r,Nr,tn){var vn="";return tn instanceof wt?(tn=typeof ce.angle=="number"?$a(tn,new wt(1,0,0,1,_r,Nr)):$a(new wt(1,0,0,1,_r,Nr),tn),N===x.ADVANCED&&(tn=$a(new wt(1,0,0,-1,0,0),tn)),vn=tn.join(" ")+` Tm
`):vn=P(_r)+" "+P(Nr)+` Td
`,vn},va=0;va<Ue.length;va++){switch(sl="",Lc){case ed:nl=(Ha?"<":"(")+Ue[va][0]+(Ha?">":")"),Pc=parseFloat(Ue[va][1]),Ac=parseFloat(Ue[va][2]);break;case Tc:nl=(Ha?"<":"(")+Ue[va]+(Ha?">":")"),Pc=Di(O),Ac=ho(ne)}tl!==void 0&&tl[va]!==void 0&&(sl=tl[va]+` Tw
`),va===0?_.push(sl+jf(Pc,Ac,qr)+nl):Lc===Tc?_.push(sl+nl):Lc===ed&&_.push(sl+jf(Pc,Ac,qr)+nl)}_=Lc===Tc?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var xa=`BT
/`;return xa+=Ct+" "+oe+` Tf
`,xa+=P(oe*Ys)+` TL
`,xa+=Cc+`
`,xa+=Nn,xa+=_,re(xa+="ET"),f[Ct]=!0,dn};var _x=p.__private__.clip=p.clip=function(_){return re(_==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return _x("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Li=p.__private__.isValidStyle=function(_){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(O=!0),O};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return Li(_)&&(u=_),this};var Dg=p.__private__.getStyle=p.getStyle=function(_){var O=u;switch(_){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=_}return O},Rg=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(_){return Uu("f",_),this},p.fillEvenOdd=function(_){return Uu("f*",_),this},p.fillStroke=function(_){return Uu("B",_),this},p.fillStrokeEvenOdd=function(_){return Uu("B*",_),this};var Uu=function(_,O){gr(O)==="object"?jx(O,_):re(_)},of=function(_){_===null||N===x.ADVANCED&&_===void 0||(_=Dg(_),re(_))};function Nx(_,O,ne,ce,ye){var Le=new Bd(O||this.boundingBox,ne||this.xStep,ce||this.yStep,this.gState,ye||this.matrix);Le.stream=this.stream;var Ue=_+"$$"+this.cloneIndex+++"$$";return Ns(Ue,Le),Le}var jx=function(_,O){var ne=Bt[_.key],ce=Ze[ne];if(ce instanceof Gc)re("q"),re(Cx(O)),ce.gState&&p.setGState(ce.gState),re(_.matrix.toString()+" cm"),re("/"+ne+" sh"),re("Q");else if(ce instanceof Bd){var ye=new wt(1,0,0,-1,0,el());_.matrix&&(ye=ye.multiply(_.matrix||Pi),ne=Nx.call(ce,_.key,_.boundingBox,_.xStep,_.yStep,ye).id),re("q"),re("/Pattern cs"),re("/"+ne+" scn"),ce.gState&&p.setGState(ce.gState),re(O),re("Q")}},Cx=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},lf=p.moveTo=function(_,O){return re(P(D(_))+" "+P(B(O))+" m"),this},Nc=p.lineTo=function(_,O){return re(P(D(_))+" "+P(B(O))+" l"),this},Zo=p.curveTo=function(_,O,ne,ce,ye,Le){return re([P(D(_)),P(B(O)),P(D(ne)),P(B(ce)),P(D(ye)),P(B(Le)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,O,ne,ce,ye){if(isNaN(_)||isNaN(O)||isNaN(ne)||isNaN(ce)||!Li(ye))throw new Error("Invalid arguments passed to jsPDF.line");return N===x.COMPAT?this.lines([[ne-_,ce-O]],_,O,[1,1],ye||"S"):this.lines([[ne-_,ce-O]],_,O,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,O,ne,ce,ye,Le){var Ue,nt,yt,It,Dt,Xt,Fr,qr,dn,qn,Nn,Ha;if(typeof _=="number"&&(Ha=ne,ne=O,O=_,_=Ha),ce=ce||[1,1],Le=Le||!1,isNaN(O)||isNaN(ne)||!Array.isArray(_)||!Array.isArray(ce)||!Li(ye)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(lf(O,ne),Ue=ce[0],nt=ce[1],It=_.length,qn=O,Nn=ne,yt=0;yt<It;yt++)(Dt=_[yt]).length===2?(qn=Dt[0]*Ue+qn,Nn=Dt[1]*nt+Nn,Nc(qn,Nn)):(Xt=Dt[0]*Ue+qn,Fr=Dt[1]*nt+Nn,qr=Dt[2]*Ue+qn,dn=Dt[3]*nt+Nn,qn=Dt[4]*Ue+qn,Nn=Dt[5]*nt+Nn,Zo(Xt,Fr,qr,dn,qn,Nn));return Le&&Rg(),of(ye),this},p.path=function(_){for(var O=0;O<_.length;O++){var ne=_[O],ce=ne.c;switch(ne.op){case"m":lf(ce[0],ce[1]);break;case"l":Nc(ce[0],ce[1]);break;case"c":Zo.apply(this,ce);break;case"h":Rg()}}return this},p.__private__.rect=p.rect=function(_,O,ne,ce,ye){if(isNaN(_)||isNaN(O)||isNaN(ne)||isNaN(ce)||!Li(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return N===x.COMPAT&&(ce=-ce),re([P(D(_)),P(B(O)),P(D(ne)),P(D(ce)),"re"].join(" ")),of(ye),this},p.__private__.triangle=p.triangle=function(_,O,ne,ce,ye,Le,Ue){if(isNaN(_)||isNaN(O)||isNaN(ne)||isNaN(ce)||isNaN(ye)||isNaN(Le)||!Li(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-_,ce-O],[ye-ne,Le-ce],[_-ye,O-Le]],_,O,[1,1],Ue,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,O,ne,ce,ye,Le,Ue){if(isNaN(_)||isNaN(O)||isNaN(ne)||isNaN(ce)||isNaN(ye)||isNaN(Le)||!Li(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ne),Le=Math.min(Le,.5*ce),this.lines([[ne-2*ye,0],[ye*nt,0,ye,Le-Le*nt,ye,Le],[0,ce-2*Le],[0,Le*nt,-ye*nt,Le,-ye,Le],[2*ye-ne,0],[-ye*nt,0,-ye,-Le*nt,-ye,-Le],[0,2*Le-ce],[0,-Le*nt,ye*nt,-Le,ye,-Le]],_+ye,O,[1,1],Ue,!0),this},p.__private__.ellipse=p.ellipse=function(_,O,ne,ce,ye){if(isNaN(_)||isNaN(O)||isNaN(ne)||isNaN(ce)||!Li(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*ne,Ue=4/3*(Math.SQRT2-1)*ce;return lf(_+ne,O),Zo(_+ne,O-Ue,_+Le,O-ce,_,O-ce),Zo(_-Le,O-ce,_-ne,O-Ue,_-ne,O),Zo(_-ne,O+Ue,_-Le,O+ce,_,O+ce),Zo(_+Le,O+ce,_+ne,O+Ue,_+ne,O),of(ye),this},p.__private__.circle=p.circle=function(_,O,ne,ce){if(isNaN(_)||isNaN(O)||isNaN(ne)||!Li(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,O,ne,ne,ce)},p.setFont=function(_,O,ne){return ne&&(O=F(O,ne)),Ct=Ag(_,O,{disableWarning:!1}),this};var kx=p.__private__.getFont=p.getFont=function(){return kt[Ag.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,O,ne={};for(_ in lt)if(lt.hasOwnProperty(_))for(O in ne[_]=[],lt[_])lt[_].hasOwnProperty(O)&&ne[_].push(O);return ne},p.addFont=function(_,O,ne,ce,ye){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(ne=F(ne,ce)),ye=ye||"Identity-H",nf.call(this,_,O,ne,ye)};var jc,cf=e.lineWidth||.200025,Vu=p.__private__.getLineWidth=p.getLineWidth=function(){return cf},Og=p.__private__.setLineWidth=p.setLineWidth=function(_){return cf=_,re(P(D(_))+" w"),this};p.__private__.setLineDash=_t.API.setLineDash=_t.API.setLineDashPattern=function(_,O){if(_=_||[],O=O||0,isNaN(O)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ne){return P(D(ne))}).join(" "),O=P(D(O)),re("["+_+"] "+O+" d"),this};var Ig=p.__private__.getLineHeight=p.getLineHeight=function(){return oe*jc};p.__private__.getLineHeight=p.getLineHeight=function(){return oe*jc};var Mg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(jc=_),this},Fg=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return jc};Mg(e.lineHeight);var Di=p.__private__.getHorizontalCoordinate=function(_){return D(_)},ho=p.__private__.getVerticalCoordinate=function(_){return N===x.ADVANCED?_:At[G].mediaBox.topRightY-At[G].mediaBox.bottomLeftY-D(_)},Ex=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return P(Di(_))},Qo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return P(ho(_))},Wa=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Va(Wa)},p.__private__.setStrokeColor=p.setDrawColor=function(_,O,ne,ce){return Wa=za({ch1:_,ch2:O,ch3:ne,ch4:ce,pdfColorType:"draw",precision:2}),re(Wa),this};var uf=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Va(uf)},p.__private__.setFillColor=p.setFillColor=function(_,O,ne,ce){return uf=za({ch1:_,ch2:O,ch3:ne,ch4:ce,pdfColorType:"fill",precision:2}),re(uf),this};var Cc=e.textColor||"0 g",Px=p.__private__.getTextColor=p.getTextColor=function(){return Va(Cc)};p.__private__.setTextColor=p.setTextColor=function(_,O,ne,ce){return Cc=za({ch1:_,ch2:O,ch3:ne,ch4:ce,pdfColorType:"text",precision:3}),this};var zu=e.charSpace,Ax=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(zu||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zu=_,this};var df=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var O=p.CapJoinStyles[_];if(O===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return df=O,re(O+" J"),this};var hf=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var O=p.CapJoinStyles[_];if(O===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hf=O,re(O+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(P(D(_))+" M"),this},p.GState=x0,p.setGState=function(_){(_=typeof _=="string"?pt[Sr[_]]:Bg(null,_)).equals(Ir)||(re("/"+_.id+" gs"),Ir=_)};var Bg=function(_,O){if(!_||!Sr[_]){var ne=!1;for(var ce in pt)if(pt.hasOwnProperty(ce)&&pt[ce].equals(O)){ne=!0;break}if(ne)O=pt[ce];else{var ye="GS"+(Object.keys(pt).length+1).toString(10);pt[ye]=O,O.id=ye}return _&&(Sr[_]=O.id),or.publish("addGState",O),O}};p.addGState=function(_,O){return Bg(_,O),this},p.saveGraphicsState=function(){return re("q"),gn.push({key:Ct,size:oe,color:Cc}),this},p.restoreGraphicsState=function(){re("Q");var _=gn.pop();return Ct=_.key,oe=_.size,Cc=_.color,Ir=null,this},p.setCurrentTransformationMatrix=function(_){return re(_.toString()+" cm"),this},p.comment=function(_){return re("#"+_),this};var qu=function(_,O){var ne=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(Le){isNaN(Le)||(ne=parseFloat(Le))}});var ce=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Le){isNaN(Le)||(ce=parseFloat(Le))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(Le){ye=Le.toString()}}),this},ff=function(_,O,ne,ce){qu.call(this,_,O),this.type="rect";var ye=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Ue){isNaN(Ue)||(ye=parseFloat(Ue))}});var Le=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(Ue){isNaN(Ue)||(Le=parseFloat(Ue))}}),this},pf=function(){this.page=xr,this.currentPage=G,this.pages=Ee.slice(0),this.pagesContext=At.slice(0),this.x=De,this.y=st,this.matrix=Tt,this.width=kc(G),this.height=el(G),this.outputDestination=ke,this.id="",this.objectNumber=-1};pf.prototype.restore=function(){xr=this.page,G=this.currentPage,At=this.pagesContext,Ee=this.pages,De=this.x,st=this.y,Tt=this.matrix,mf(G,this.width),gf(G,this.height),ke=this.outputDestination};var $g=function(_,O,ne,ce,ye){Ei.push(new pf),xr=G=0,Ee=[],De=_,st=O,Tt=ye,sf([ne,ce])},Tx=function(_){if(ki[_])Ei.pop().restore();else{var O=new pf,ne="Xo"+(Object.keys(Rn).length+1).toString(10);O.id=ne,ki[_]=ne,Rn[ne]=O,or.publish("addFormObject",O),Ei.pop().restore()}};for(var Wu in p.beginFormObject=function(_,O,ne,ce,ye){return $g(_,O,ne,ce,ye),this},p.endFormObject=function(_){return Tx(_),this},p.doFormObject=function(_,O){var ne=Rn[ki[_]];return re("q"),re(O.toString()+" cm"),re("/"+ne.id+" Do"),re("Q"),this},p.getFormObject=function(_){var O=Rn[ki[_]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},p.save=function(_,O){return _=_||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Uc(Bu(uo()),_),typeof Uc.unload=="function"&&Nt.setTimeout&&setTimeout(Uc.unload,911),this):new Promise(function(ne,ce){try{var ye=Uc(Bu(uo()),_);typeof Uc.unload=="function"&&Nt.setTimeout&&setTimeout(Uc.unload,911),ne(ye)}catch(Le){ce(Le.message)}})},_t.API)_t.API.hasOwnProperty(Wu)&&(Wu==="events"&&_t.API.events.length?function(_,O){var ne,ce,ye;for(ye=O.length-1;ye!==-1;ye--)ne=O[ye][0],ce=O[ye][1],_.subscribe.apply(_,[ne].concat(typeof ce=="function"?[ce]:ce))}(or,_t.API.events):p[Wu]=_t.API[Wu]);var kc=p.getPageWidth=function(_){return(At[_=_||G].mediaBox.topRightX-At[_].mediaBox.bottomLeftX)/Ge},mf=p.setPageWidth=function(_,O){At[_].mediaBox.topRightX=O*Ge+At[_].mediaBox.bottomLeftX},el=p.getPageHeight=function(_){return(At[_=_||G].mediaBox.topRightY-At[_].mediaBox.bottomLeftY)/Ge},gf=p.setPageHeight=function(_,O){At[_].mediaBox.topRightY=O*Ge+At[_].mediaBox.bottomLeftY};return p.internal={pdfEscape:js,getStyle:Dg,getFont:kx,getFontSize:ve,getCharSpace:Ax,getTextColor:Px,getLineHeight:Ig,getLineHeightFactor:Fg,getLineWidth:Vu,write:Ke,getHorizontalCoordinate:Di,getVerticalCoordinate:ho,getCoordinateString:Ex,getVerticalCoordinateString:Qo,collections:{},newObject:yn,newAdditionalObject:Tu,newObjectDeferred:un,newObjectDeferredBegin:Gs,getFilters:Ai,putStream:ma,events:or,scaleFactor:Ge,pageSize:{getWidth:function(){return kc(G)},setWidth:function(_){mf(G,_)},getHeight:function(){return el(G)},setHeight:function(_){gf(G,_)}},encryptionOptions:d,encryption:zn,getEncryptor:bx,output:$u,getNumberOfPages:gx,pages:Ee,out:re,f2:Q,f3:I,getPageInfo:Lg,getPageInfoByObjId:Lt,getCurrentPageInfo:Sx,getPDFVersion:y,Point:qu,Rectangle:ff,Matrix:wt,hasHotfix:Tg},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return kc(G)},set:function(_){mf(G,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return el(G)},set:function(_){gf(G,_)},enumerable:!0,configurable:!0}),px.call(p,te),Ct="F1",Eg(s,r),or.publish("initialized"),p}vd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},vd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},vd.prototype.processOwnerPassword=function(e,t){return q5(z5(t).substr(0,5),e)},vd.prototype.encryptor=function(e,t){var r=z5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return q5(r,n)}},x0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||gr(e)!==gr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},_t.API={events:[]},_t.version="3.0.1";var Gr=_t.API,$N=1,Au=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rt=function(e){return e.toFixed(2)},gl=function(e){return e.toFixed(5)};Gr.__acroform__={};var Hs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},XE=function(e){return e*$N},Bi=function(e){var t=new KO,r=dt.internal.getHeight(e)||0,n=dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Rt(n)),Number(Rt(r))],t},wre=Gr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},bre=Gr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Sre=Gr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},sn=Gr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Sre(e,t-1)},an=Gr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wre(e,t-1)},on=Gr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bre(e,t-1)},_re=Gr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],i=e[2],o=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(a+o)||0,c.upperRight_X=r(s+i)||0,c.upperRight_Y=n(a)||0,[Number(Rt(c.lowerLeft_X)),Number(Rt(c.lowerLeft_Y)),Number(Rt(c.upperRight_X)),Number(Rt(c.upperRight_Y))]},Nre=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=W5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Rt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Bi(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},W5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(I){return I.split(`
`)}):s.map(function(I){return[I]});var a=r,i=dt.internal.getHeight(e)||0;i=i<0?-i:i;var o=dt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(I,D,L){if(I+1<s.length){var B=D+" "+s[I+1][0];return Ky(B,e,L).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,h=Ky("3",e,a).height,f=e.multiline?i-a:(i-h)/2,p=f+=2,g=0,y=0,S=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ky(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var b="",x=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var C=!1;if(s[N].length!==1&&S!==s[N].length-1){if((h+2)*(x+2)+2>i)continue e;b+=s[N][S],C=!0,y=N,N--}else{b=(b+=s[N][S]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var E=parseInt(N),F=c(E,b,a),P=N>=s.length-1;if(F&&!P){b+=" ",S=0;continue}if(F||P){if(P)y=E;else if(e.multiline&&(h+2)*(x+2)+2>i)continue e}else{if(!e.multiline||(h+2)*(x+2)+2>i)continue e;y=E}}for(var A="",K=g;K<=y;K++){var Q=s[K];if(e.multiline){if(K===y){A+=Q[S]+" ",S=(S+1)%Q.length;continue}if(K===g){A+=Q[Q.length-1]+" ";continue}}A+=Q[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,d=Ky(A,e,a).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=Rt(u)+" "+Rt(p)+` Td
`,t+="("+Au(A)+`) Tj
`,t+=-Rt(u)+` 0 Td
`,p=-(a+2),d=0,g=C?y:y+1,x++,b=""}break}return n.text=t,n.fontSize=a,n},Ky=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},jre={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Cre=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},kre=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),gr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},Ere=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ji.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(jre)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$N=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new XO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&Cre(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var a=!n;for(var i in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],c=[],u=o.Rect;if(o.Rect&&(o.Rect=_re(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=dt.createDefaultAppearanceStream(o),gr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Nre(o);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var p=o.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var g=p[i];typeof g=="function"&&(g=g.call(s,o)),h+="/"+i+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(s,o)),h+="/"+i+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}a&&kre(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},YO=Gr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),gr(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Au(n(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},g2=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Au(n(e))+")"},Yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yi.prototype.toString=function(){return this.objId+" 0 R"},Yi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Yi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:YO(s,this.objId,this.scope)}):s instanceof Yi?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var KO=function(){Yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Hs(KO,Yi);var XO=function(){Yi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Au(r(e))+")"}},set:function(r){e=r}})};Hs(XO,Yi);var ji=function e(){Yi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sn(t,3)},set:function(b){b?this.F=an(t,3):this.F=on(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof w0)return;a="FieldObject"+e.FieldNum++}var b=function(x){return x};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Au(b(a))+")"},set:function(b){a=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(b){a=b}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(b){i=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/$N:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof w0||this instanceof lu))return g2(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Pn?f:g2(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof Pn?b:b.substr(0,1)==="("?fd(b.substr(1,b.length-2)):fd(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pn?fd(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof Pn?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Pn?p:g2(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof Pn?b:b.substr(0,1)==="("?fd(b.substr(1,b.length-2)):fd(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pn?fd(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Pn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(b){b=!!b,y=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(b){g=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,1)},set:function(b){b?this.Ff=an(this.Ff,1):this.Ff=on(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,2)},set:function(b){b?this.Ff=an(this.Ff,2):this.Ff=on(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,3)},set:function(b){b?this.Ff=an(this.Ff,3):this.Ff=on(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');S=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(S){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};Hs(ji,Yi);var Zd=function(){ji.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return YO(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(a,i,o){o||(o=1);for(var c,u=[];c=i.exec(a);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,18)},set:function(r){r?this.Ff=an(this.Ff,18):this.Ff=on(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=an(this.Ff,19):this.Ff=on(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,20)},set:function(r){r?(this.Ff=an(this.Ff,20),t.sort()):this.Ff=on(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,22)},set:function(r){r?this.Ff=an(this.Ff,22):this.Ff=on(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(r){r?this.Ff=an(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,27)},set:function(r){r?this.Ff=an(this.Ff,27):this.Ff=on(this.Ff,27)}}),this.hasAppearanceStream=!1};Hs(Zd,ji);var Qd=function(){Zd.call(this),this.fontName="helvetica",this.combo=!1};Hs(Qd,Zd);var eh=function(){Qd.call(this),this.combo=!0};Hs(eh,Qd);var bv=function(){eh.call(this),this.edit=!0};Hs(bv,eh);var Pn=function(){ji.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,15)},set:function(r){r?this.Ff=an(this.Ff,15):this.Ff=on(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,16)},set:function(r){r?this.Ff=an(this.Ff,16):this.Ff=on(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,17)},set:function(r){r?this.Ff=an(this.Ff,17):this.Ff=on(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(r){r?this.Ff=an(this.Ff,26):this.Ff=on(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Au(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){gr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Hs(Pn,ji);var Sv=function(){Pn.call(this),this.pushButton=!0};Hs(Sv,Pn);var th=function(){Pn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Hs(th,Pn);var w0=function(){var e,t;ji.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,i=[];for(a in i.push("<<"),n)i.push("/"+a+" ("+Au(s(n[a]))+")");return i.push(">>"),i.join(`
`)},set:function(s){gr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hs(w0,ji),th.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},th.prototype.createOption=function(e){var t=new w0;return t.Parent=this,t.optionName=e,this.Kids.push(t),Pre.call(this.scope,t),t};var _v=function(){Pn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Hs(_v,Pn);var lu=function(){ji.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,13)},set:function(t){t?this.Ff=an(this.Ff,13):this.Ff=on(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,21)},set:function(t){t?this.Ff=an(this.Ff,21):this.Ff=on(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(t){t?this.Ff=an(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,24)},set:function(t){t?this.Ff=an(this.Ff,24):this.Ff=on(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,25)},set:function(t){t?this.Ff=an(this.Ff,25):this.Ff=on(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(t){t?this.Ff=an(this.Ff,26):this.Ff=on(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hs(lu,ji);var Nv=function(){lu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,14)},set:function(e){e?this.Ff=an(this.Ff,14):this.Ff=on(this.Ff,14)}}),this.password=!0};Hs(Nv,lu);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=W5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Rt(dt.internal.getWidth(e))+" "+Rt(dt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Rt(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=dt.internal.getHeight(e),i=dt.internal.getWidth(e),o=W5(e,e.caption);return s.push("1 g"),s.push("0 0 "+Rt(i)+" "+Rt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Rt(i-1)+" "+Rt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Rt(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(dt.internal.getWidth(e))+" "+Rt(dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Circle.YesNormal,t.D[e]=dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=dt.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+gl(dt.internal.getWidth(e)/2)+" "+gl(dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*dt.internal.Bezier_C).toFixed(5)),i=Number((n*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gl(dt.internal.getWidth(e)/2)+" "+gl(dt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+gl(dt.internal.getWidth(e)/2)+" "+gl(dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+gl(dt.internal.getWidth(e)/2)+" "+gl(dt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Cross.YesNormal,t.D[e]=dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=dt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Rt(dt.internal.getWidth(e)-2)+" "+Rt(dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Rt(n.x1.x)+" "+Rt(n.x1.y)+" m"),r.push(Rt(n.x2.x)+" "+Rt(n.x2.y)+" l"),r.push(Rt(n.x4.x)+" "+Rt(n.x4.y)+" m"),r.push(Rt(n.x3.x)+" "+Rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=dt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Rt(dt.internal.getWidth(e))+" "+Rt(dt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Rt(dt.internal.getWidth(e)-2)+" "+Rt(dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Rt(r.x1.x)+" "+Rt(r.x1.y)+" m"),n.push(Rt(r.x2.x)+" "+Rt(r.x2.y)+" l"),n.push(Rt(r.x4.x)+" "+Rt(r.x4.y)+" m"),n.push(Rt(r.x3.x)+" "+Rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rt(dt.internal.getWidth(e))+" "+Rt(dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dt.internal.getWidth(e),r=dt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},dt.internal.getWidth=function(e){var t=0;return gr(e)==="object"&&(t=XE(e.Rect[2])),t},dt.internal.getHeight=function(e){var t=0;return gr(e)==="object"&&(t=XE(e.Rect[3])),t};var Pre=Gr.addField=function(e){if(Ere(this,e),!(e instanceof ji))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Gr.AcroFormChoiceField=Zd,Gr.AcroFormListBox=Qd,Gr.AcroFormComboBox=eh,Gr.AcroFormEditBox=bv,Gr.AcroFormButton=Pn,Gr.AcroFormPushButton=Sv,Gr.AcroFormRadioButton=th,Gr.AcroFormCheckBox=_v,Gr.AcroFormTextField=lu,Gr.AcroFormPasswordField=Nv,Gr.AcroFormAppearance=dt,Gr.AcroForm={ChoiceField:Zd,ListBox:Qd,ComboBox:eh,EditBox:bv,Button:Pn,PushButton:Sv,RadioButton:th,CheckBox:_v,TextField:lu,PasswordField:Nv,Appearance:dt},_t.AcroForm={ChoiceField:Zd,ListBox:Qd,ComboBox:eh,EditBox:bv,Button:Pn,PushButton:Sv,RadioButton:th,CheckBox:_v,TextField:lu,PasswordField:Nv,Appearance:dt};function JO(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(I,D){var L,B,q,ee,V,M=t;if((D=D||t)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(F(I))for(V in r)for(q=r[V],L=0;L<q.length;L+=1){for(ee=!0,B=0;B<q[L].length;B+=1)if(q[L][B]!==void 0&&q[L][B]!==I[B]){ee=!1;break}if(ee===!0){M=V;break}}else for(V in r)for(q=r[V],L=0;L<q.length;L+=1){for(ee=!0,B=0;B<q[L].length;B+=1)if(q[L][B]!==void 0&&q[L][B]!==I.charCodeAt(B)){ee=!1;break}if(ee===!0){M=V;break}}return M===t&&D!==t&&(M=D),M},s=function I(D){for(var L=this.internal.write,B=this.internal.putStream,q=(0,this.internal.getFilters)();q.indexOf("FlateEncode")!==-1;)q.splice(q.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:D.width}),ee.push({key:"Height",value:D.height}),D.colorSpace===S.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===S.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var V="",M=0,Y=D.transparency.length;M<Y;M++)V+=D.transparency[M]+" "+D.transparency[M]+" ";ee.push({key:"Mask",value:"["+V+"]"})}D.sMask!==void 0&&ee.push({key:"SMask",value:D.objectId+1+" 0 R"});var ie=D.filter!==void 0?["/"+D.filter]:void 0;if(B({data:D.data,additionalKeyValues:ee,alreadyAppliedFilters:ie,objectId:D.objectId}),L("endobj"),"sMask"in D&&D.sMask!==void 0){var me="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,T={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:me,data:D.sMask};"filter"in D&&(T.filter=D.filter),I.call(this,T)}if(D.colorSpace===S.INDEXED){var G=this.internal.newObject();B({data:A(new Uint8Array(D.palette)),objectId:G}),L("endobj")}},a=function(){var I=this.internal.collections.addImage_images;for(var D in I)s.call(this,I[D])},i=function(){var I,D=this.internal.collections.addImage_images,L=this.internal.write;for(var B in D)L("/I"+(I=D[B]).index,I.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var I=this.internal.collections.addImage_images;return o.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(I){return typeof e["process"+I.toUpperCase()]=="function"},h=function(I){return gr(I)==="object"&&I.nodeType===1},f=function(I,D){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var L=""+I.getAttribute("src");if(L.indexOf("data:image/")===0)return Ep(unescape(L).split("base64,").pop());var B=e.loadFile(L,!0);if(B!==void 0)return B}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var q;switch(D){case"PNG":q="image/png";break;case"WEBP":q="image/webp";break;case"JPEG":case"JPG":default:q="image/jpeg"}return Ep(I.toDataURL(q,1).split("base64,").pop())}},p=function(I){var D=this.internal.collections.addImage_images;if(D){for(var L in D)if(I===D[L].alias)return D[L]}},g=function(I,D,L){return I||D||(I=-96,D=-96),I<0&&(I=-1*L.width*72/I/this.internal.scaleFactor),D<0&&(D=-1*L.height*72/D/this.internal.scaleFactor),I===0&&(I=D*L.width/L.height),D===0&&(D=I*L.height/L.width),[I,D]},y=function(I,D,L,B,q,ee){var V=g.call(this,L,B,q),M=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ie=c.call(this);if(L=V[0],B=V[1],ie[q.index]=q,ee){ee*=Math.PI/180;var me=Math.cos(ee),T=Math.sin(ee),G=function(ae){return ae.toFixed(4)},Z=[G(me),G(T),G(-1*T),G(me),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,M(I),Y(D+B),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([M(L),"0","0",M(B),"0","0","cm"].join(" "))):this.internal.write([M(L),"0","0",M(B),M(I),Y(D+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+q.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(I){var D,L,B=0;if(typeof I=="string")for(L=I.length,D=0;D<L;D++)B=(B<<5)-B+I.charCodeAt(D),B|=0;else if(F(I))for(L=I.byteLength/2,D=0;D<L;D++)B=(B<<5)-B+I[D],B|=0;return B},N=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var D=!0;return I.length===0&&(D=!1),I.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(D=!1),D},C=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var D=I.indexOf(",");return D<0?null:I.substring(0,D).trim().endsWith("base64")?I.substring(D+1):null},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(I){return E()&&I instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(I){return E()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(I){for(var D=I.length,L=new Uint8Array(D),B=0;B<D;B++)L[B]=I.charCodeAt(B);return L},A=e.__addimage__.arrayBufferToBinaryString=function(I){for(var D="",L=F(I)?I:new Uint8Array(I),B=0;B<L.length;B+=8192)D+=String.fromCharCode.apply(null,L.subarray(B,B+8192));return D};e.addImage=function(){var I,D,L,B,q,ee,V,M,Y;if(typeof arguments[1]=="number"?(D=t,L=arguments[1],B=arguments[2],q=arguments[3],ee=arguments[4],V=arguments[5],M=arguments[6],Y=arguments[7]):(D=arguments[1],L=arguments[2],B=arguments[3],q=arguments[4],ee=arguments[5],V=arguments[6],M=arguments[7],Y=arguments[8]),gr(I=arguments[0])==="object"&&!h(I)&&"imageData"in I){var ie=I;I=ie.imageData,D=ie.format||D||t,L=ie.x||L||0,B=ie.y||B||0,q=ie.w||ie.width||q,ee=ie.h||ie.height||ee,V=ie.alias||V,M=ie.compression||M,Y=ie.rotation||ie.angle||Y}var me=this.internal.getFilters();if(M===void 0&&me.indexOf("FlateEncode")!==-1&&(M="SLOW"),isNaN(L)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var T=K.call(this,I,D,V,M);return y.call(this,L,B,q,ee,T,Y),this};var K=function(I,D,L,B){var q,ee,V;if(typeof I=="string"&&n(I)===t){I=unescape(I);var M=Q(I,!1);(M!==""||(M=e.loadFile(I,!0))!==void 0)&&(I=M)}if(h(I)&&(I=f(I,D)),D=n(I,D),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((V=L)==null||V.length===0)&&(L=function(Y){return typeof Y=="string"||F(Y)?x(Y):F(Y.data)?x(Y.data):null}(I)),(q=p.call(this,L))||(E()&&(I instanceof Uint8Array||D==="RGBA"||(ee=I,I=P(I))),q=this["process"+D.toUpperCase()](I,u.call(this),L,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:b.NONE}(B),ee)),!q)throw new Error("An unknown error occurred whilst processing the image.");return q},Q=e.__addimage__.convertBase64ToBinaryString=function(I,D){D=typeof D!="boolean"||D;var L,B="";if(typeof I=="string"){var q;L=(q=C(I))!==null&&q!==void 0?q:I;try{B=Ep(L)}catch(ee){if(D)throw N(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(I){var D,L,B="";if(h(I)&&(I=f(I)),typeof I=="string"&&n(I)===t&&((B=Q(I,!1))===""&&(B=e.loadFile(I)||""),I=B),L=n(I),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!E()||I instanceof Uint8Array||(I=P(I)),!(D=this["process"+L.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=L,D}})(_t.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};_t.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,a,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){n=u[f];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(y.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(b(x))+") >>",y.content=a;var N=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(y.objId,"0 R",S.objId,"0 R");break;case"freetext":s="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,a,i){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+a)},options:i,type:"link"})},e.textWithLink=function(r,n,s,a){var i,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;i=Math.ceil(u*d)}else o=c,i=u;return this.text(r,n,s,a),s+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,s-u,o,i,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(_t.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return i(y)&&s.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var S=0,b=r,x="",N=0;for(S=0;S<y.length;S+=1)b[y.charCodeAt(S)]!==void 0?(N++,typeof(b=b[y.charCodeAt(S)])=="number"&&(x+=String.fromCharCode(b),b=r,N=0),S===y.length-1&&(b=r,x+=y.charAt(S-(N-1)),S-=N-1,N=0)):(b=r,x+=y.charAt(S-N),S-=N,N=0);return x};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(y,S,b){return i(y)?a(y)===!1?-1:!u(y)||!i(S)&&!i(b)||!i(b)&&o(S)||o(y)&&!i(S)||o(y)&&c(S)||o(y)&&o(S)?0:d(y)&&i(S)&&!o(S)&&i(b)&&u(b)?3:o(y)||!i(b)?1:2:-1},p=function(y){var S=0,b=0,x=0,N="",C="",E="",F=(y=y||"").split("\\s+"),P=[];for(S=0;S<F.length;S+=1){for(P.push(""),b=0;b<F[S].length;b+=1)N=F[S][b],C=F[S][b-1],E=F[S][b+1],i(N)?(x=f(N,C,E),P[S]+=x!==-1?String.fromCharCode(t[N.charCodeAt(0)][x]):N):P[S]+=N;P[S]=h(P[S])}return P.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var y,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(S)){var x=0;for(b=[],x=0;x<S.length;x+=1)Array.isArray(S[x])?b.push([p(S[x][0]),S[x][1],S[x][2]]):b.push([p(S[x])]);y=b}else y=p(S);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",g])}(_t.API),_t.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(_t.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,y=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,C){return N.concat(S.splitTextToSize(C,b))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)p<(y=this.getStringUnitWidth(c[x],{font:h})*d)&&(p=y);return p!==0&&(g=c.length),{w:p/=f,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,f){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,g,y,S,b=[],x=[],N=[],C={},E={},F=[],P=[],A=(f=f||{}).autoSize||!1,K=f.printHeaders!==!1,Q=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,I=f.margins||Object.assign({width:this.getPageWidth()},t),D=typeof f.padding=="number"?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",B=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=B,this.setFontSize(Q),h==null)x=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(h)&&gr(h[0])==="object")for(b=h.map(function(ie){return ie.name}),x=h.map(function(ie){return ie.prompt||ie.name||""}),N=h.map(function(ie){return ie.align||"left"}),p=0;p<h.length;p+=1)E[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(x=b=h,N=b.map(function(){return"left"}));if(A||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<b.length;p+=1){for(C[S=b[p]]=d.map(function(ie){return ie[S]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[S],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)F.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[S]=Math.max.apply(null,F)+D+D,F=[]}if(K){var q={};for(p=0;p<b.length;p+=1)q[b[p]]={},q[b[p]].text=x[p],q[b[p]].align=N[p];var ee=o.call(this,q,E);P=b.map(function(ie){return new a(c,u,E[ie],ee,q[ie].text,void 0,q[ie].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var V=h.reduce(function(ie,me){return ie[me.name]=me.align,ie},{});for(p=0;p<d.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:d[p]},this);var M=o.call(this,d[p],E);for(y=0;y<b.length;y+=1){var Y=d[p][b[y]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:y,data:Y},this),i.call(this,new a(c,u,E[b[y]],M,Y,p+2,V[b[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+d+d},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(_t.API);var ZO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H5=JO(QO),eI=[100,200,300,400,500,600,700,800,900],Are=JO(eI);function G5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return ZO[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof H5[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function JE(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Tre={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ZE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QE(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Lre(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},Tre,r.genericFontFamilies||{}),a=null,i=null,o=0;o<t.length;++o)if(s[(a=G5(t[o])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){i=e[a.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+QE(a)+"' and default family '"+n+"'.");if(i=function(c,u){if(u[c])return u[c];var d=H5[c],h=d<=H5.normal?-1:1,f=JE(u,QO,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(a.stretch,i),i=function(c,u){if(u[c])return u[c];for(var d=ZO[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(a.style,i),!(i=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Are[c],h=JE(u,eI,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+QE(a)+"'.");return i}function eP(e){return e.trimLeft()}function Dre(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Rre(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Xy,tP,rP,y2=["times"];(function(e){var t,r,n,s,a,i,o,c,u,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new i,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new i,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=T;Object.defineProperty(this,"pdf",{get:function(){return G}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Ce){Z=!!Ce}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Ce){ae=!!Ce}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(Ce){isNaN(Ce)||(W=Ce)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(Ce){isNaN(Ce)||(se=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var re;typeof Ce=="number"?re=[Ce,Ce,Ce,Ce]:((re=new Array(4))[0]=Ce[0],re[1]=Ce.length>=2?Ce[1]:re[0],re[2]=Ce.length>=3?Ce[2]:re[0],re[3]=Ce.length>=4?Ce[3]:re[1]),u.margin=re}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(Ce){le=Ce}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Ce){ue=Ce}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Ce){xe=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof d&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Ce){Ee=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var re;re=f(Ce),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var re=f(Ce);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Se=null;function ke(Ce,re){if(Se===null){var Ke=function(X){var te=[];return Object.keys(X).forEach(function(oe){X[oe].forEach(function(Ne){var ve=null;switch(Ne){case"bold":ve={family:oe,weight:"bold"};break;case"italic":ve={family:oe,style:"italic"};break;case"bolditalic":ve={family:oe,weight:"bold",style:"italic"};break;case"":case"normal":ve={family:oe}}ve!==null&&(ve.ref={name:oe,style:Ne},te.push(ve))})}),te}(Ce.getFontList());Se=function(X){for(var te={},oe=0;oe<X.length;++oe){var Ne=G5(X[oe]),ve=Ne.family,_e=Ne.stretch,Be=Ne.style,ze=Ne.weight;te[ve]=te[ve]||{},te[ve][_e]=te[ve][_e]||{},te[ve][_e][Be]=te[ve][_e][Be]||{},te[ve][_e][Be][ze]=Ne}return te}(Ke.concat(re))}return Se}var Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(Ce){Se=null,Je=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var re;if(this.ctx.font=Ce,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var Ke=re[1];re[2];var X=re[3],te=re[4];re[5];var oe=re[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(te)[2];te=Math.floor(Ne==="px"?parseFloat(te)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(te)*this.pdf.getFontSize():parseFloat(te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(te);var ve=function(ft){var Ct,Ge,De=[],st=ft.trim();if(st==="")return y2;if(st in ZE)return[ZE[st]];for(;st!=="";){switch(Ge=null,Ct=(st=eP(st)).charAt(0)){case'"':case"'":Ge=Dre(st.substring(1),Ct);break;default:Ge=Rre(st)}if(Ge===null||(De.push(Ge[0]),(st=eP(Ge[1]))!==""&&st.charAt(0)!==","))return y2;st=st.replace(/^,/,"")}return De}(oe);if(this.fontFaces){var _e=Lre(ke(this.pdf,this.fontFaces),ve.map(function(ft){return{family:ft,stretch:"normal",weight:X,style:Ke}}));this.pdf.setFont(_e.ref.name,_e.ref.style)}else{var Be="";(X==="bold"||parseInt(X,10)>=700||Ke==="bold")&&(Be="bold"),Ke==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var ze="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<ve.length;ut++){if(this.pdf.internal.getFont(ve[ut],Be,{noFallback:!0,disableWarning:!0})!==void 0){ze=ve[ut];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(ve[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=ve[ut],Be="bold";else if(this.pdf.internal.getFont(ve[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=ve[ut],Be="normal";break}}if(ze===""){for(var Ot=0;Ot<ve.length;Ot++)if(ot[ve[Ot]]){ze=ot[ve[Ot]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};h.prototype.setLineDash=function(T){this.lineDash=T},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){C.call(this,"fill",!1)},h.prototype.stroke=function(){C.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(T,G){if(isNaN(T)||isNaN(G))throw br.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new i(T,G));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new i(T,G)},h.prototype.closePath=function(){var T=new i(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&gr(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){T=new i(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(T.x,T.y)},h.prototype.lineTo=function(T,G){if(isNaN(T)||isNaN(G))throw br.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new i(T,G));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new i(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},h.prototype.quadraticCurveTo=function(T,G,Z,ae){if(isNaN(Z)||isNaN(ae)||isNaN(T)||isNaN(G))throw br.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new i(Z,ae)),se=this.ctx.transform.applyToPoint(new i(T,G));this.path.push({type:"qct",x1:se.x,y1:se.y,x:W.x,y:W.y}),this.ctx.lastPoint=new i(W.x,W.y)},h.prototype.bezierCurveTo=function(T,G,Z,ae,W,se){if(isNaN(W)||isNaN(se)||isNaN(T)||isNaN(G)||isNaN(Z)||isNaN(ae))throw br.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new i(W,se)),ue=this.ctx.transform.applyToPoint(new i(T,G)),xe=this.ctx.transform.applyToPoint(new i(Z,ae));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:xe.x,y2:xe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new i(le.x,le.y)},h.prototype.arc=function(T,G,Z,ae,W,se){if(isNaN(T)||isNaN(G)||isNaN(Z)||isNaN(ae)||isNaN(W))throw br.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new i(T,G));T=le.x,G=le.y;var ue=this.ctx.transform.applyToPoint(new i(0,Z)),xe=this.ctx.transform.applyToPoint(new i(0,0));Z=Math.sqrt(Math.pow(ue.x-xe.x,2)+Math.pow(ue.y-xe.y,2))}Math.abs(W-ae)>=2*Math.PI&&(ae=0,W=2*Math.PI),this.path.push({type:"arc",x:T,y:G,radius:Z,startAngle:ae,endAngle:W,counterclockwise:se})},h.prototype.arcTo=function(T,G,Z,ae,W){throw new Error("arcTo not implemented.")},h.prototype.rect=function(T,G,Z,ae){if(isNaN(T)||isNaN(G)||isNaN(Z)||isNaN(ae))throw br.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,G),this.lineTo(T+Z,G),this.lineTo(T+Z,G+ae),this.lineTo(T,G+ae),this.lineTo(T,G),this.lineTo(T+Z,G),this.lineTo(T,G)},h.prototype.fillRect=function(T,G,Z,ae){if(isNaN(T)||isNaN(G)||isNaN(Z)||isNaN(ae))throw br.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,G,Z,ae),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},h.prototype.strokeRect=function(T,G,Z,ae){if(isNaN(T)||isNaN(G)||isNaN(Z)||isNaN(ae))throw br.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(T,G,Z,ae),this.stroke())},h.prototype.clearRect=function(T,G,Z,ae){if(isNaN(T)||isNaN(G)||isNaN(Z)||isNaN(ae))throw br.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,G,Z,ae))},h.prototype.save=function(T){T=typeof T!="boolean"||T;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},h.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(G),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(T){var G,Z,ae,W;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))G=0,Z=0,ae=0,W=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(se!==null)G=parseInt(se[1]),Z=parseInt(se[2]),ae=parseInt(se[3]),W=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)G=parseInt(se[1]),Z=parseInt(se[2]),ae=parseInt(se[3]),W=parseFloat(se[4]);else{if(W=1,typeof T=="string"&&T.charAt(0)!=="#"){var le=new WO(T);T=le.ok?le.toHex():"#000000"}T.length===4?(G=T.substring(1,2),G+=G,Z=T.substring(2,3),Z+=Z,ae=T.substring(3,4),ae+=ae):(G=T.substring(1,3),Z=T.substring(3,5),ae=T.substring(5,7)),G=parseInt(G,16),Z=parseInt(Z,16),ae=parseInt(ae,16)}}return{r:G,g:Z,b:ae,a:W,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(T,G,Z,ae){if(isNaN(G)||isNaN(Z)||typeof T!="string")throw br.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!p.call(this)){var W=M(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;D.call(this,{text:T,x:G,y:Z,scale:se,angle:W,align:this.textAlign,maxWidth:ae})}},h.prototype.strokeText=function(T,G,Z,ae){if(isNaN(G)||isNaN(Z)||typeof T!="string")throw br.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ae=isNaN(ae)?void 0:ae;var W=M(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;D.call(this,{text:T,x:G,y:Z,scale:se,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:ae})}},h.prototype.measureText=function(T){if(typeof T!="string")throw br.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,Z=this.pdf.internal.scaleFactor,ae=G.internal.getFontSize(),W=G.getStringUnitWidth(T)*ae/G.internal.scaleFactor,se=function(le){var ue=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new se({width:W*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(T,G){if(isNaN(T)||isNaN(G))throw br.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(T,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(T){if(isNaN(T))throw br.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.translate=function(T,G){if(isNaN(T)||isNaN(G))throw br.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,T,G);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(T,G,Z,ae,W,se){if(isNaN(T)||isNaN(G)||isNaN(Z)||isNaN(ae)||isNaN(W)||isNaN(se))throw br.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new c(T,G,Z,ae,W,se);this.ctx.transform=this.ctx.transform.multiply(le)},h.prototype.setTransform=function(T,G,Z,ae,W,se){T=isNaN(T)?1:T,G=isNaN(G)?0:G,Z=isNaN(Z)?0:Z,ae=isNaN(ae)?1:ae,W=isNaN(W)?0:W,se=isNaN(se)?0:se,this.ctx.transform=new c(T,G,Z,ae,W,se)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(T,G,Z,ae,W,se,le,ue,xe){var Ee=this.pdf.getImageProperties(T),Se=1,ke=1,Je=1,Ce=1;ae!==void 0&&ue!==void 0&&(Je=ue/ae,Ce=xe/W,Se=Ee.width/ae*ue/ae,ke=Ee.height/W*xe/W),se===void 0&&(se=G,le=Z,G=0,Z=0),ae!==void 0&&ue===void 0&&(ue=ae,xe=W),ae===void 0&&ue===void 0&&(ue=Ee.width,xe=Ee.height);for(var re,Ke=this.ctx.transform.decompose(),X=M(Ke.rotate.shx),te=new c,oe=(te=(te=(te=te.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new o(se-G*Je,le-Z*Ce,ae*Se,W*ke)),Ne=S.call(this,oe),ve=[],_e=0;_e<Ne.length;_e+=1)ve.indexOf(Ne[_e])===-1&&ve.push(Ne[_e]);if(N(ve),this.autoPaging)for(var Be=ve[0],ze=ve[ve.length-1],ot=Be;ot<ze+1;ot++){this.pdf.setPage(ot);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=ot===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=ot===1?0:ft+(ot-2)*Ct;if(this.ctx.clip_path.length!==0){var De=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(re,this.posX+this.margin[3],-Ge+Ot+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=De}var st=JSON.parse(JSON.stringify(oe));st=x([st],this.posX+this.margin[3],-Ge+Ot+this.ctx.prevPageLastElemOffset)[0];var Tt=(ot>Be||ot<ze)&&y.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Ct,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",st.x,st.y,st.w,st.h,null,null,X),Tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",oe.x,oe.y,oe.w,oe.h,null,null,X)};var S=function(T,G,Z){var ae=[];G=G||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ae.push(Math.floor((T.y+W)/Z)+1);break;case"arc":ae.push(Math.floor((T.y+W-T.radius)/Z)+1),ae.push(Math.floor((T.y+W+T.radius)/Z)+1);break;case"qct":var se=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ae.push(Math.floor((se.y+W)/Z)+1),ae.push(Math.floor((se.y+se.h+W)/Z)+1);break;case"bct":var le=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ae.push(Math.floor((le.y+W)/Z)+1),ae.push(Math.floor((le.y+le.h+W)/Z)+1);break;case"rect":ae.push(Math.floor((T.y+W)/Z)+1),ae.push(Math.floor((T.y+T.h+W)/Z)+1)}for(var ue=0;ue<ae.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ue];)b.call(this);return ae},b=function(){var T=this.fillStyle,G=this.strokeStyle,Z=this.font,ae=this.lineCap,W=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=G,this.font=Z,this.lineCap=ae,this.lineWidth=W,this.lineJoin=se},x=function(T,G,Z){for(var ae=0;ae<T.length;ae++)switch(T[ae].type){case"bct":T[ae].x2+=G,T[ae].y2+=Z;case"qct":T[ae].x1+=G,T[ae].y1+=Z;case"mt":case"lt":case"arc":default:T[ae].x+=G,T[ae].y+=Z}return T},N=function(T){return T.sort(function(G,Z){return G-Z})},C=function(T,G){for(var Z,ae,W=this.fillStyle,se=this.strokeStyle,le=this.lineCap,ue=this.lineWidth,xe=Math.abs(ue*this.ctx.transform.scaleX),Ee=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Je=[],Ce=0;Ce<ke.length;Ce++)if(ke[Ce].x!==void 0)for(var re=S.call(this,ke[Ce]),Ke=0;Ke<re.length;Ke+=1)Je.indexOf(re[Ke])===-1&&Je.push(re[Ke]);for(var X=0;X<Je.length;X++)for(;this.pdf.internal.getNumberOfPages()<Je[X];)b.call(this);if(N(Je),this.autoPaging)for(var te=Je[0],oe=Je[Je.length-1],Ne=te;Ne<oe+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=W,this.strokeStyle=se,this.lineCap=le,this.lineWidth=xe,this.lineJoin=Ee;var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=Ne===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ne===1?0:Be+(Ne-2)*ze;if(this.ctx.clip_path.length!==0){var ut=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Z,this.posX+this.margin[3],-ot+_e+this.ctx.prevPageLastElemOffset),E.call(this,T,!0),this.path=ut}if(ae=JSON.parse(JSON.stringify(Se)),this.path=x(ae,this.posX+this.margin[3],-ot+_e+this.ctx.prevPageLastElemOffset),G===!1||Ne===0){var Ot=(Ne>te||Ne<oe)&&y.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,ze,null).clip().discardPath()),E.call(this,T,G),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=xe,E.call(this,T,G),this.lineWidth=ue;this.path=Se},E=function(T,G){if((T!=="stroke"||G||!g.call(this))&&(T==="stroke"||G||!p.call(this))){for(var Z,ae,W=[],se=this.path,le=0;le<se.length;le++){var ue=se[le];switch(ue.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:ue,deltas:[],abs:[]});break;case"lt":var xe=W.length;if(se[le-1]&&!isNaN(se[le-1].x)&&(Z=[ue.x-se[le-1].x,ue.y-se[le-1].y],xe>0)){for(;xe>=0;xe--)if(W[xe-1].close!==!0&&W[xe-1].begin!==!0){W[xe-1].deltas.push(Z),W[xe-1].abs.push(ue);break}}break;case"bct":Z=[ue.x1-se[le-1].x,ue.y1-se[le-1].y,ue.x2-se[le-1].x,ue.y2-se[le-1].y,ue.x-se[le-1].x,ue.y-se[le-1].y],W[W.length-1].deltas.push(Z);break;case"qct":var Ee=se[le-1].x+2/3*(ue.x1-se[le-1].x),Se=se[le-1].y+2/3*(ue.y1-se[le-1].y),ke=ue.x+2/3*(ue.x1-ue.x),Je=ue.y+2/3*(ue.y1-ue.y),Ce=ue.x,re=ue.y;Z=[Ee-se[le-1].x,Se-se[le-1].y,ke-se[le-1].x,Je-se[le-1].y,Ce-se[le-1].x,re-se[le-1].y],W[W.length-1].deltas.push(Z);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(ue)}}ae=G?null:T==="stroke"?"stroke":"fill";for(var Ke=!1,X=0;X<W.length;X++)if(W[X].arc)for(var te=W[X].abs,oe=0;oe<te.length;oe++){var Ne=te[oe];Ne.type==="arc"?A.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,G,!Ke):L.call(this,Ne.x,Ne.y),Ke=!0}else if(W[X].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(W[X].begin!==!0){var ve=W[X].start.x,_e=W[X].start.y;B.call(this,W[X].deltas,ve,_e),Ke=!0}ae&&K.call(this,ae),G&&Q.call(this)}},F=function(T){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-Z;case"top":return T+G-Z;case"hanging":return T+G-2*Z;case"middle":return T+G/2-Z;case"ideographic":return T;case"alphabetic":default:return T}},P=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(G,Z){this.colorStops.push([G,Z])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(T,G,Z,ae,W,se,le,ue,xe){for(var Ee=ee.call(this,Z,ae,W,se),Se=0;Se<Ee.length;Se++){var ke=Ee[Se];Se===0&&(xe?I.call(this,ke.x1+T,ke.y1+G):L.call(this,ke.x1+T,ke.y1+G)),q.call(this,T,G,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ue?Q.call(this):K.call(this,le)},K=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(T,G){this.pdf.internal.out(r(T)+" "+n(G)+" m")},D=function(T){var G;switch(T.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var Z=this.pdf.getTextDimensions(T.text),ae=F.call(this,T.y),W=P.call(this,ae)-Z.h,se=this.ctx.transform.applyToPoint(new i(T.x,ae)),le=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var xe,Ee,Se,ke=this.ctx.transform.applyToRectangle(new o(T.x,ae,Z.w,Z.h)),Je=ue.applyToRectangle(new o(T.x,W,Z.w,Z.h)),Ce=S.call(this,Je),re=[],Ke=0;Ke<Ce.length;Ke+=1)re.indexOf(Ce[Ke])===-1&&re.push(Ce[Ke]);if(N(re),this.autoPaging)for(var X=re[0],te=re[re.length-1],oe=X;oe<te+1;oe++){this.pdf.setPage(oe);var Ne=oe===1?this.posY+this.margin[0]:this.margin[0],ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_e=this.pdf.internal.pageSize.height-this.margin[2],Be=_e-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],ot=ze-this.margin[3],ut=oe===1?0:ve+(oe-2)*Be;if(this.ctx.clip_path.length!==0){var Ot=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(xe,this.posX+this.margin[3],-1*ut+Ne),E.call(this,"fill",!0),this.path=Ot}var ft=x([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-ut+Ne+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*T.scale),Se=this.lineWidth,this.lineWidth=Se*T.scale);var Ct=this.autoPaging!=="text";if(Ct||ft.y+ft.h<=_e){if(Ct||ft.y>=Ne&&ft.x<=ze){var Ge=Ct?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||ze-ft.x)[0],De=x([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ut+Ne+this.ctx.prevPageLastElemOffset)[0],st=Ct&&(oe>X||oe<te)&&y.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Be,null).clip().discardPath()),this.pdf.text(Ge,De.x,De.y,{angle:T.angle,align:G,renderingMode:T.renderingMode}),st&&this.pdf.restoreGraphicsState()}}else ft.y<_e&&(this.ctx.prevPageLastElemOffset+=_e-ft.y);T.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Se)}else T.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*T.scale),Se=this.lineWidth,this.lineWidth=Se*T.scale),this.pdf.text(T.text,se.x+this.posX,se.y+this.posY,{angle:T.angle,align:G,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Se)},L=function(T,G,Z,ae){Z=Z||0,ae=ae||0,this.pdf.internal.out(r(T+Z)+" "+n(G+ae)+" l")},B=function(T,G,Z){return this.pdf.lines(T,G,Z,null,null)},q=function(T,G,Z,ae,W,se,le,ue){this.pdf.internal.out([t(s(Z+T)),t(a(ae+G)),t(s(W+T)),t(a(se+G)),t(s(le+T)),t(a(ue+G)),"c"].join(" "))},ee=function(T,G,Z,ae){for(var W=2*Math.PI,se=Math.PI/2;G>Z;)G-=W;var le=Math.abs(Z-G);le<W&&ae&&(le=W-le);for(var ue=[],xe=ae?-1:1,Ee=G;le>1e-5;){var Se=Ee+xe*Math.min(le,se);ue.push(V.call(this,T,Ee,Se)),le-=Math.abs(Se-Ee),Ee=Se}return ue},V=function(T,G,Z){var ae=(Z-G)/2,W=T*Math.cos(ae),se=T*Math.sin(ae),le=W,ue=-se,xe=le*le+ue*ue,Ee=xe+le*W+ue*se,Se=4/3*(Math.sqrt(2*xe*Ee)-Ee)/(le*se-ue*W),ke=le-Se*ue,Je=ue+Se*le,Ce=ke,re=-Je,Ke=ae+G,X=Math.cos(Ke),te=Math.sin(Ke);return{x1:T*Math.cos(G),y1:T*Math.sin(G),x2:ke*X-Je*te,y2:ke*te+Je*X,x3:Ce*X-re*te,y3:Ce*te+re*X,x4:T*Math.cos(Z),y4:T*Math.sin(Z)}},M=function(T){return 180*T/Math.PI},Y=function(T,G,Z,ae,W,se){var le=T+.5*(Z-T),ue=G+.5*(ae-G),xe=W+.5*(Z-W),Ee=se+.5*(ae-se),Se=Math.min(T,W,le,xe),ke=Math.max(T,W,le,xe),Je=Math.min(G,se,ue,Ee),Ce=Math.max(G,se,ue,Ee);return new o(Se,Je,ke-Se,Ce-Je)},ie=function(T,G,Z,ae,W,se,le,ue){var xe,Ee,Se,ke,Je,Ce,re,Ke,X,te,oe,Ne,ve,_e,Be=Z-T,ze=ae-G,ot=W-Z,ut=se-ae,Ot=le-W,ft=ue-se;for(Ee=0;Ee<41;Ee++)X=(re=(Se=T+(xe=Ee/40)*Be)+xe*((Je=Z+xe*ot)-Se))+xe*(Je+xe*(W+xe*Ot-Je)-re),te=(Ke=(ke=G+xe*ze)+xe*((Ce=ae+xe*ut)-ke))+xe*(Ce+xe*(se+xe*ft-Ce)-Ke),Ee==0?(oe=X,Ne=te,ve=X,_e=te):(oe=Math.min(oe,X),Ne=Math.min(Ne,te),ve=Math.max(ve,X),_e=Math.max(_e,te));return new o(Math.round(oe),Math.round(Ne),Math.round(ve-oe),Math.round(_e-Ne))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,G,Z=(T=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:G}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(_t.API),function(e){var t=function(a){var i,o,c,u,d,h,f,p,g,y;for(o=[],c=0,u=(a+=i="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(y=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,o.push(h+33,f+33,p+33,g+33,y+33)):o.push(122);return function(S,b){for(var x=b;x>0;x--)S.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(a){var i,o,c,u,d,h=String,f="length",p=255,g="charCodeAt",y="slice",S="replace";for(a[y](-2),a=a[y](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],u=0,d=(a+=i="uuuuu"[y](a[f]%5||5))[f];d>u;u+=5)o=52200625*(a[g](u)-33)+614125*(a[g](u+1)-33)+7225*(a[g](u+2)-33)+85*(a[g](u+3)-33)+(a[g](u+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(b,x){for(var N=x;N>0;N--)b.pop()}(c,i[f]),h.fromCharCode.apply(h,c)},n=function(a){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),i.test(a)===!1)return"";for(var o="",c=0;c<a.length;c+=2)o+=String.fromCharCode("0x"+(a[c]+a[c+1]));return o},s=function(a){for(var i=new Uint8Array(a.length),o=a.length;o--;)i[o]=a.charCodeAt(o);return a=(i=U5(i)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,i){var o=0,c=a||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(_t.API),function(e){e.loadFile=function(t,r,n){return function(s,a,i){a=a!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(c,u,d){var h=new XMLHttpRequest,f=0,p=function(g){var y=g.length,S=[],b=String.fromCharCode;for(f=0;f<y;f+=1)S.push(b(255&g.charCodeAt(f)));return S.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(s,a,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(_t.API),function(e){function t(){return(Nt.html2canvas?Promise.resolve(Nt.html2canvas):vs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(Nt.DOMPurify?Promise.resolve(Nt.DOMPurify):vs(()=>import("./purify.es-D-QPbZEk.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=gr(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(i,o){var c=document.createElement(i);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},a=function i(o){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(i,o){return i.__proto__=o||a.prototype,i},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},a.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],g=p.src.find(function(y){return y.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(i,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},a.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},a.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},a.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(i,o){return this.then(function(){var c=i in a.template.prop?this.prop[i]:this.opt[i];return o?o(c):c})},a.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},a.prototype.setPageSize=function(i){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(i=i||_t.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},a.prototype.setProgress=function(i,o,c,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(i,o,c,u){return this.setProgress(i?this.progress.val+i:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(i,o){var c=this;return this.thenCore(i,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(i,o,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=c.call(u,i,o);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},a.prototype.thenList=function(i){var o=this;return i.forEach(function(c){o=o.thenCore(c)}),o},a.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return a.convert(o,this)},a.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},a.prototype.error=function(i){return this.then(function(){throw new Error(i)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,_t.getPageSize=function(i,o,c){if(gr(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,g=0,y=0;if(f.hasOwnProperty(h))g=f[h][1]/d,y=f[h][0]/d;else try{g=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",y>g&&(p=y,y=g,g=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",g>y&&(p=y,y=g,g=p)}return{width:y,height:g,unit:o,k:d,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(G5):null;var c=new a(o);return o.worker?c:c.from(i).doCallback()}}(_t.API),_t.API.addJS=function(e){return rP=e,this.internal.events.subscribe("postPutResources",function(){Xy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+rP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xy!==void 0&&tP!==void 0&&this.internal.out("/Names <</JavaScript "+Xy+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),a=0;a<s.length;a++){var i=s[a],o=n.exec(i);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=r.internal.newObject();d.push(h);var f=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,a){var i={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var i=n.children[a];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}(_t.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,a,i,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,y={width:0,height:0,numcomponents:1},S=4;S<g;S+=2){if(S+=p,t.indexOf(h.charCodeAt(S+1))!==-1){f=256*h.charCodeAt(S+5)+h.charCodeAt(S+6),y={width:256*h.charCodeAt(S+7)+h.charCodeAt(S+8),height:f,numcomponents:h.charCodeAt(S+9)};break}p=256*h.charCodeAt(S+2)+h.charCodeAt(S+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(_t.API);var pd,Jy,nP,sP,aP,Ore=function(){var e,t,r;function n(a){var i,o,c,u,d,h,f,p,g,y,S,b,x,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),g=(function(){var C,E;for(E=[],C=0;C<4;++C)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,i-=4),a=(h!=null?h.data:void 0)||this.imgData,b=0;0<=i?b<i:b>i;0<=i?++b:--b)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(x=0;0<=y?x<y:x>y;0<=y?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":f=(S=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,S.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,S.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var i,o;for(o=[],i=0;0<=a?i<a:i>a;0<=a?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(h,f,p,g){var y,S,b,x,N,C,E,F,P,A,K,Q,I,D,L,B,q,ee,V,M,Y,ie=Math.ceil((u.width-h)/p),me=Math.ceil((u.height-f)/g),T=u.width==ie&&u.height==me;for(D=i*ie,Q=T?o:new Uint8Array(D*me),C=a.length,I=0,S=0;I<me&&c<C;){switch(a[c++]){case 0:for(x=q=0;q<D;x=q+=1)Q[S++]=a[c++];break;case 1:for(x=ee=0;ee<D;x=ee+=1)y=a[c++],N=x<i?0:Q[S-i],Q[S++]=(y+N)%256;break;case 2:for(x=V=0;V<D;x=V+=1)y=a[c++],b=(x-x%i)/i,L=I&&Q[(I-1)*D+b*i+x%i],Q[S++]=(L+y)%256;break;case 3:for(x=M=0;M<D;x=M+=1)y=a[c++],b=(x-x%i)/i,N=x<i?0:Q[S-i],L=I&&Q[(I-1)*D+b*i+x%i],Q[S++]=(y+Math.floor((N+L)/2))%256;break;case 4:for(x=Y=0;Y<D;x=Y+=1)y=a[c++],b=(x-x%i)/i,N=x<i?0:Q[S-i],I===0?L=B=0:(L=Q[(I-1)*D+b*i+x%i],B=b&&Q[(I-1)*D+(b-1)*i+x%i]),E=N+L-B,F=Math.abs(E-N),A=Math.abs(E-L),K=Math.abs(E-B),P=F<=A&&F<=K?N:A<=K?L:B,Q[S++]=(y+P)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!T){var G=((f+I*g)*u.width+h)*i,Z=I*D;for(x=0;x<ie;x+=1){for(var ae=0;ae<i;ae+=1)o[G++]=Q[Z++];G+=(p-1)*i}}I++}}return a=fre(a),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var a,i,o,c,u,d,h,f,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,a=0,i=h=0,f=o.length;h<f;i=h+=3)u[c++]=o[i],u[c++]=o[i+1],u[c++]=o[i+2],u[c++]=(p=d[a++])!=null?p:255;return u},n.prototype.copyToImageData=function(a,i){var o,c,u,d,h,f,p,g,y,S,b;if(c=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(u=a.data||a).length,h=y||i,d=f=0,c===1)for(;d<g;)p=y?4*i[d/4]:f,S=h[p++],u[d++]=S,u[d++]=S,u[d++]=S,u[d++]=o?h[p++]:255,f=p;else for(;d<g;)p=y?4*i[d/4]:f,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=o?h[p++]:255,f=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Nt)==="[object Window]"){try{t=Nt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var i;if(s()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var i,o,c,u,d,h,f,p;if(this.animation){for(p=[],o=d=0,h=(f=this.animation.frames).length;d<h;o=++d)i=f[o],c=a.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,u),i.imageData=c,p.push(i.image=e(c));return p}},n.prototype.renderFrame=function(a,i){var o,c,u;return o=(c=this.animation.frames)[i],u=c[i-1],i===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var i,o,c,u,d,h,f=this;return o=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(i=function(){var p,g;if(p=o++%u,g=c[p],f.renderFrame(a,p),u>1&&o/u<d)return f.animation._timeout=setTimeout(i,g.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var i,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,i=a.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Ire(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,i=1<<(7&s)+1;e[t++],e[t++];var o=null,c=null;a&&(o=t,c=i,t+=3*i);var u=!0,d=[],h=0,f=null,p=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,f=e[t++],!(1&y)&&(f=null),p=y>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,C=e[t++],E=C>>6&1,F=1<<(7&C)+1,P=o,A=c,K=!1;C>>7&&(K=!0,P=t,A=F,t+=3*F);var Q=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}d.push({x:S,y:b,width:x,height:N,has_local_palette:K,palette_offset:P,palette_size:A,data_offset:Q,data_length:t-Q,transparent_index:f,interlaced:!!E,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=d.length)throw new Error("Frame index out of range.");return d[D]},this.decodeAndBlitFrameBGRA=function(D,L){var B=this.frameInfo(D),q=B.width*B.height,ee=new Uint8Array(q);iP(e,B.data_offset,ee,q);var V=B.palette_offset,M=B.transparent_index;M===null&&(M=256);var Y=B.width,ie=r-Y,me=Y,T=4*(B.y*r+B.x),G=4*((B.y+B.height)*r+B.x),Z=T,ae=4*ie;B.interlaced===!0&&(ae+=4*r*7);for(var W=8,se=0,le=ee.length;se<le;++se){var ue=ee[se];if(me===0&&(me=Y,(Z+=ae)>=G&&(ae=4*ie+4*r*(W-1),Z=T+(Y+ie)*(W<<1),W>>=1)),ue===M)Z+=4;else{var xe=e[V+3*ue],Ee=e[V+3*ue+1],Se=e[V+3*ue+2];L[Z++]=Se,L[Z++]=Ee,L[Z++]=xe,L[Z++]=255}--me}},this.decodeAndBlitFrameRGBA=function(D,L){var B=this.frameInfo(D),q=B.width*B.height,ee=new Uint8Array(q);iP(e,B.data_offset,ee,q);var V=B.palette_offset,M=B.transparent_index;M===null&&(M=256);var Y=B.width,ie=r-Y,me=Y,T=4*(B.y*r+B.x),G=4*((B.y+B.height)*r+B.x),Z=T,ae=4*ie;B.interlaced===!0&&(ae+=4*r*7);for(var W=8,se=0,le=ee.length;se<le;++se){var ue=ee[se];if(me===0&&(me=Y,(Z+=ae)>=G&&(ae=4*ie+4*r*(W-1),Z=T+(Y+ie)*(W<<1),W>>=1)),ue===M)Z+=4;else{var xe=e[V+3*ue],Ee=e[V+3*ue+1],Se=e[V+3*ue+2];L[Z++]=xe,L[Z++]=Ee,L[Z++]=Se,L[Z++]=255}--me}}}function iP(e,t,r,n){for(var s=e[t++],a=1<<s,i=a+1,o=i+1,c=s+1,u=(1<<c)-1,d=0,h=0,f=0,p=e[t++],g=new Int32Array(4096),y=null;;){for(;d<16&&p!==0;)h|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var S=h&u;if(h>>=c,d-=c,S!==a){if(S===i)break;for(var b=S<o?S:y,x=0,N=b;N>a;)N=g[N]>>8,++x;var C=N;if(f+x+(b!==S?1:0)>n)return void br.log("Warning, gif stream longer than expected.");r[f++]=C;var E=f+=x;for(b!==S&&(r[f++]=C),N=b;x--;)N=g[N],r[--E]=255&N,N>>=8;y!==null&&o<4096&&(g[o++]=y<<8|C,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=S}else o=i+1,u=(1<<(c=s+1))-1,y=null}return f!==n&&br.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function v2(e){var t,r,n,s,a,i=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),g=new Array(64),y=[],S=0,b=7,x=new Array(64),N=new Array(64),C=new Array(64),E=new Array(256),F=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(T,G){for(var Z=0,ae=0,W=new Array,se=1;se<=16;se++){for(var le=1;le<=T[se];le++)W[G[ae]]=[],W[G[ae]][0]=Z,W[G[ae]][1]=se,ae++,Z++;Z*=2}return W}function V(T){for(var G=T[0],Z=T[1]-1;Z>=0;)G&1<<Z&&(S|=1<<b),Z--,--b<0&&(S==255?(M(255),M(0)):M(S),b=7,S=0)}function M(T){y.push(T)}function Y(T){M(T>>8&255),M(255&T)}function ie(T,G,Z,ae,W){for(var se,le=W[0],ue=W[240],xe=function(te,oe){var Ne,ve,_e,Be,ze,ot,ut,Ot,ft,Ct,Ge=0;for(ft=0;ft<8;++ft){Ne=te[Ge],ve=te[Ge+1],_e=te[Ge+2],Be=te[Ge+3],ze=te[Ge+4],ot=te[Ge+5],ut=te[Ge+6];var De=Ne+(Ot=te[Ge+7]),st=Ne-Ot,Tt=ve+ut,kt=ve-ut,lt=_e+ot,gn=_e-ot,Ze=Be+ze,Bt=Be-ze,pt=De+Ze,Sr=De-Ze,Ir=Tt+lt,xr=Tt-lt;te[Ge]=pt+Ir,te[Ge+4]=pt-Ir;var At=.707106781*(xr+Sr);te[Ge+2]=Sr+At,te[Ge+6]=Sr-At;var or=.382683433*((pt=Bt+gn)-(xr=kt+st)),Sc=.5411961*pt+or,Rn=1.306562965*xr+or,ki=.707106781*(Ir=gn+kt),Ei=st+ki,wt=st-ki;te[Ge+5]=wt+Sc,te[Ge+3]=wt-Sc,te[Ge+1]=Ei+Rn,te[Ge+7]=Ei-Rn,Ge+=8}for(Ge=0,ft=0;ft<8;++ft){Ne=te[Ge],ve=te[Ge+8],_e=te[Ge+16],Be=te[Ge+24],ze=te[Ge+32],ot=te[Ge+40],ut=te[Ge+48];var $a=Ne+(Ot=te[Ge+56]),Pi=Ne-Ot,Ns=ve+ut,yn=ve-ut,un=_e+ot,Gs=_e-ot,Tu=Be+ze,co=Be-ze,Ua=$a+Tu,Va=$a-Tu,za=Ns+un,Ai=Ns-un;te[Ge]=Ua+za,te[Ge+32]=Ua-za;var ma=.707106781*(Ai+Va);te[Ge+16]=Va+ma,te[Ge+48]=Va-ma;var Ti=.382683433*((Ua=co+Gs)-(Ai=yn+Pi)),_c=.5411961*Ua+Ti,Lu=1.306562965*Ai+Ti,Du=.707106781*(za=Gs+yn),Ru=Pi+Du,Ou=Pi-Du;te[Ge+40]=Ou+_c,te[Ge+24]=Ou-_c,te[Ge+8]=Ru+Lu,te[Ge+56]=Ru-Lu,Ge++}for(ft=0;ft<64;++ft)Ct=te[ft]*oe[ft],p[ft]=Ct>0?Ct+.5|0:Ct-.5|0;return p}(T,G),Ee=0;Ee<64;++Ee)g[P[Ee]]=xe[Ee];var Se=g[0]-Z;Z=g[0],Se==0?V(ae[0]):(V(ae[f[se=32767+Se]]),V(h[se]));for(var ke=63;ke>0&&g[ke]==0;)ke--;if(ke==0)return V(le),Z;for(var Je,Ce=1;Ce<=ke;){for(var re=Ce;g[Ce]==0&&Ce<=ke;)++Ce;var Ke=Ce-re;if(Ke>=16){Je=Ke>>4;for(var X=1;X<=Je;++X)V(ue);Ke&=15}se=32767+g[Ce],V(W[(Ke<<4)+f[se]]),V(h[se]),Ce++}return ke!=63&&V(le),Z}function me(T){T=Math.min(Math.max(T,1),100),a!=T&&(function(G){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var W=i((Z[ae]*G+50)/100);W=Math.min(Math.max(W,1),255),o[P[ae]]=W}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ue=i((se[le]*G+50)/100);ue=Math.min(Math.max(ue,1),255),c[P[le]]=ue}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Se=0;Se<8;Se++)for(var ke=0;ke<8;ke++)u[Ee]=1/(o[P[Ee]]*xe[Se]*xe[ke]*8),d[Ee]=1/(c[P[Ee]]*xe[Se]*xe[ke]*8),Ee++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),a=T)}this.encode=function(T,G){G&&me(G),y=new Array,S=0,b=7,Y(65496),Y(65504),Y(16),M(74),M(70),M(73),M(70),M(0),M(1),M(1),M(0),Y(1),Y(1),M(0),M(0),function(){Y(65499),Y(132),M(0);for(var ve=0;ve<64;ve++)M(o[ve]);M(1);for(var _e=0;_e<64;_e++)M(c[_e])}(),function(ve,_e){Y(65472),Y(17),M(8),Y(_e),Y(ve),M(3),M(1),M(17),M(0),M(2),M(17),M(1),M(3),M(17),M(1)}(T.width,T.height),function(){Y(65476),Y(418),M(0);for(var ve=0;ve<16;ve++)M(A[ve+1]);for(var _e=0;_e<=11;_e++)M(K[_e]);M(16);for(var Be=0;Be<16;Be++)M(Q[Be+1]);for(var ze=0;ze<=161;ze++)M(I[ze]);M(1);for(var ot=0;ot<16;ot++)M(D[ot+1]);for(var ut=0;ut<=11;ut++)M(L[ut]);M(17);for(var Ot=0;Ot<16;Ot++)M(B[Ot+1]);for(var ft=0;ft<=161;ft++)M(q[ft])}(),Y(65498),Y(12),M(3),M(1),M(0),M(2),M(17),M(3),M(17),M(0),M(63),M(0);var Z=0,ae=0,W=0;S=0,b=7,this.encode.displayName="_encode_";for(var se,le,ue,xe,Ee,Se,ke,Je,Ce,re=T.data,Ke=T.width,X=T.height,te=4*Ke,oe=0;oe<X;){for(se=0;se<te;){for(Ee=te*oe+se,ke=-1,Je=0,Ce=0;Ce<64;Ce++)Se=Ee+(Je=Ce>>3)*te+(ke=4*(7&Ce)),oe+Je>=X&&(Se-=te*(oe+1+Je-X)),se+ke>=te&&(Se-=se+ke-te+4),le=re[Se++],ue=re[Se++],xe=re[Se++],x[Ce]=(F[le]+F[ue+256>>0]+F[xe+512>>0]>>16)-128,N[Ce]=(F[le+768>>0]+F[ue+1024>>0]+F[xe+1280>>0]>>16)-128,C[Ce]=(F[le+1280>>0]+F[ue+1536>>0]+F[xe+1792>>0]>>16)-128;Z=ie(x,u,Z,t,n),ae=ie(N,d,ae,r,s),W=ie(C,d,W,r,s),se+=32}oe+=8}if(b>=0){var Ne=[];Ne[1]=b+1,Ne[0]=(1<<b+1)-1,V(Ne)}return Y(65497),new Uint8Array(y)},e=e||50,function(){for(var T=String.fromCharCode,G=0;G<256;G++)E[G]=T(G)}(),t=ee(A,K),r=ee(D,L),n=ee(Q,I),s=ee(B,q),function(){for(var T=1,G=2,Z=1;Z<=15;Z++){for(var ae=T;ae<G;ae++)f[32767+ae]=Z,h[32767+ae]=[],h[32767+ae][1]=Z,h[32767+ae][0]=ae;for(var W=-(G-1);W<=-T;W++)f[32767+W]=Z,h[32767+W]=[],h[32767+W][1]=Z,h[32767+W][0]=G-1+W;T<<=1,G<<=1}}(),function(){for(var T=0;T<256;T++)F[T]=19595*T,F[T+256>>0]=38470*T,F[T+512>>0]=7471*T+32768,F[T+768>>0]=-11059*T,F[T+1024>>0]=-21709*T,F[T+1280>>0]=32768*T+8421375,F[T+1536>>0]=-27439*T,F[T+1792>>0]=-5329*T}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oP(e){function t(A){if(!A)throw Error("assert :P")}function r(A,K,Q){for(var I=0;4>I;I++)if(A[K+I]!=Q.charCodeAt(I))return!0;return!1}function n(A,K,Q,I,D){for(var L=0;L<D;L++)A[K+L]=Q[I+L]}function s(A,K,Q,I){for(var D=0;D<I;D++)A[K+D]=Q}function a(A){return new Int32Array(A)}function i(A,K){for(var Q=[],I=0;I<A;I++)Q.push(new K);return Q}function o(A,K){var Q=[];return function I(D,L,B){for(var q=B[L],ee=0;ee<q&&(D.push(B.length>L+1?[]:new K),!(B.length<L+1));ee++)I(D[ee],L+1,B)}(Q,0,A),Q}var c=function(){var A=this;function K(m,w){for(var j=1<<w-1>>>0;m&j;)j>>>=1;return j?(m&j-1)+j:m}function Q(m,w,j,k,R){t(!(k%j));do m[w+(k-=j)]=R;while(0<k)}function I(m,w,j,k,R){if(t(2328>=R),512>=R)var $=a(512);else if(($=a(R))==null)return 0;return function(U,z,H,J,de,we){var be,pe,Me=z,Ae=1<<H,he=a(16),fe=a(16);for(t(de!=0),t(J!=null),t(U!=null),t(0<H),pe=0;pe<de;++pe){if(15<J[pe])return 0;++he[J[pe]]}if(he[0]==de)return 0;for(fe[1]=0,be=1;15>be;++be){if(he[be]>1<<be)return 0;fe[be+1]=fe[be]+he[be]}for(pe=0;pe<de;++pe)be=J[pe],0<J[pe]&&(we[fe[be]++]=pe);if(fe[15]==1)return(J=new D).g=0,J.value=we[0],Q(U,Me,1,Ae,J),Ae;var Re,$e=-1,Oe=Ae-1,at=0,et=1,xt=1,tt=1<<H;for(pe=0,be=1,de=2;be<=H;++be,de<<=1){if(et+=xt<<=1,0>(xt-=he[be]))return 0;for(;0<he[be];--he[be])(J=new D).g=be,J.value=we[pe++],Q(U,Me+at,de,tt,J),at=K(at,be)}for(be=H+1,de=2;15>=be;++be,de<<=1){if(et+=xt<<=1,0>(xt-=he[be]))return 0;for(;0<he[be];--he[be]){if(J=new D,(at&Oe)!=$e){for(Me+=tt,Re=1<<($e=be)-H;15>$e&&!(0>=(Re-=he[$e]));)++$e,Re<<=1;Ae+=tt=1<<(Re=$e-H),U[z+($e=at&Oe)].g=Re+H,U[z+$e].value=Me-z-$e}J.g=be-H,J.value=we[pe++],Q(U,Me+(at>>H),de,tt,J),at=K(at,be)}}return et!=2*fe[15]-1?0:Ae}(m,w,j,k,R,$)}function D(){this.value=this.g=0}function L(){this.value=this.g=0}function B(){this.G=i(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(On,L)}function q(m,w,j,k){t(m!=null),t(w!=null),t(2147483648>k),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=j,m.Jd=w,m.Yc=j+k,m.Zc=4<=k?j+k-4+1:j,se(m)}function ee(m,w){for(var j=0;0<w--;)j|=ue(m,128)<<w;return j}function V(m,w){var j=ee(m,w);return le(m)?-j:j}function M(m,w,j,k){var R,$=0;for(t(m!=null),t(w!=null),t(4294967288>k),m.Sb=k,m.Ra=0,m.u=0,m.h=0,4<k&&(k=4),R=0;R<k;++R)$+=w[j+R]<<8*R;m.Ra=$,m.bb=k,m.oa=w,m.pa=j}function Y(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Xu-8>>>0,++m.bb,m.u-=8;Z(m)&&(m.h=1,m.u=0)}function ie(m,w){if(t(0<=w),!m.h&&w<=Ku){var j=G(m)&Yu[w];return m.u+=w,Y(m),j}return m.h=1,m.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(m){return m.Ra>>>(m.u&Xu-1)>>>0}function Z(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Xu}function ae(m,w){m.u=w,m.h=Z(m)}function W(m){m.u>=bf&&(t(m.u>=bf),Y(m))}function se(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function le(m){return ee(m,1)}function ue(m,w){var j=m.Ca;0>m.b&&se(m);var k=m.b,R=j*w>>>8,$=(m.I>>>k>R)+0;for($?(j-=R,m.I-=R+1<<k>>>0):j=R+1,k=j,R=0;256<=k;)R+=8,k>>=8;return k=7^R+Cs[k],m.b-=k,m.Ca=(j<<k)-1,$}function xe(m,w,j){m[w+0]=j>>24&255,m[w+1]=j>>16&255,m[w+2]=j>>8&255,m[w+3]=j>>0&255}function Ee(m,w){return m[w+0]<<0|m[w+1]<<8}function Se(m,w){return Ee(m,w)|m[w+2]<<16}function ke(m,w){return Ee(m,w)|Ee(m,w+2)<<16}function Je(m,w){var j=1<<w;return t(m!=null),t(0<w),m.X=a(j),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function Ce(m,w){t(m!=null),t(w!=null),t(m.Xa==w.Xa),n(w.X,0,m.X,0,1<<w.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ke(m,w,j,k){t(j!=null),t(k!=null);var R=j[0],$=k[0];return R==0&&(R=(m*$+w/2)/w),$==0&&($=(w*R+m/2)/m),0>=R||0>=$?0:(j[0]=R,k[0]=$,1)}function X(m,w){return m+(1<<w)-1>>>w}function te(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function oe(m,w){A[w]=function(j,k,R,$,U,z,H){var J;for(J=0;J<U;++J){var de=A[m](z[H+J-1],R,$+J);z[H+J]=te(j[k+J],de)}}}function Ne(){this.ud=this.hd=this.jd=0}function ve(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function _e(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Be(m,w){return _e(m+(m-w+.5>>1))}function ze(m,w,j){return Math.abs(w-j)-Math.abs(m-j)}function ot(m,w,j,k,R,$,U){for(k=$[U-1],j=0;j<R;++j)$[U+j]=k=te(m[w+j],k)}function ut(m,w,j,k,R){var $;for($=0;$<j;++$){var U=m[w+$],z=U>>8&255,H=16711935&(H=(H=16711935&U)+((z<<16)+z));k[R+$]=(4278255360&U)+H>>>0}}function Ot(m,w){w.jd=m>>0&255,w.hd=m>>8&255,w.ud=m>>16&255}function ft(m,w,j,k,R,$){var U;for(U=0;U<k;++U){var z=w[j+U],H=z>>>8,J=z,de=255&(de=(de=z>>>16)+((m.jd<<24>>24)*(H<<24>>24)>>>5));J=255&(J=(J=J+((m.hd<<24>>24)*(H<<24>>24)>>>5))+((m.ud<<24>>24)*(de<<24>>24)>>>5)),R[$+U]=(4278255360&z)+(de<<16)+J}}function Ct(m,w,j,k,R){A[w]=function($,U,z,H,J,de,we,be,pe){for(H=we;H<be;++H)for(we=0;we<pe;++we)J[de++]=R(z[k($[U++])])},A[m]=function($,U,z,H,J,de,we){var be=8>>$.b,pe=$.Ea,Me=$.K[0],Ae=$.w;if(8>be)for($=(1<<$.b)-1,Ae=(1<<be)-1;U<z;++U){var he,fe=0;for(he=0;he<pe;++he)he&$||(fe=k(H[J++])),de[we++]=R(Me[fe&Ae]),fe>>=be}else A["VP8LMapColor"+j](H,J,Me,Ae,de,we,U,z,pe)}}function Ge(m,w,j,k,R){for(j=w+j;w<j;){var $=m[w++];k[R++]=$>>16&255,k[R++]=$>>8&255,k[R++]=$>>0&255}}function De(m,w,j,k,R){for(j=w+j;w<j;){var $=m[w++];k[R++]=$>>16&255,k[R++]=$>>8&255,k[R++]=$>>0&255,k[R++]=$>>24&255}}function st(m,w,j,k,R){for(j=w+j;w<j;){var $=(U=m[w++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;k[R++]=$,k[R++]=U}}function Tt(m,w,j,k,R){for(j=w+j;w<j;){var $=(U=m[w++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;k[R++]=$,k[R++]=U}}function kt(m,w,j,k,R){for(j=w+j;w<j;){var $=m[w++];k[R++]=$>>0&255,k[R++]=$>>8&255,k[R++]=$>>16&255}}function lt(m,w,j,k,R,$){if($==0)for(j=w+j;w<j;)xe(k,(($=m[w++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),R+=32;else n(k,R,m,w,j)}function gn(m,w){A[w][0]=A[m+"0"],A[w][1]=A[m+"1"],A[w][2]=A[m+"2"],A[w][3]=A[m+"3"],A[w][4]=A[m+"4"],A[w][5]=A[m+"5"],A[w][6]=A[m+"6"],A[w][7]=A[m+"7"],A[w][8]=A[m+"8"],A[w][9]=A[m+"9"],A[w][10]=A[m+"10"],A[w][11]=A[m+"11"],A[w][12]=A[m+"12"],A[w][13]=A[m+"13"],A[w][14]=A[m+"0"],A[w][15]=A[m+"0"]}function Ze(m){return m==Ox||m==Ix||m==Zg||m==Mx}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new pt,this.sd=null}function Ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function or(m,w){var j=m.T,k=w.ba.f.RGBA,R=k.eb,$=k.fb+m.ka*k.A,U=ba[w.ba.S],z=m.y,H=m.O,J=m.f,de=m.N,we=m.ea,be=m.W,pe=w.cc,Me=w.dc,Ae=w.Mc,he=w.Nc,fe=m.ka,Re=m.ka+m.T,$e=m.U,Oe=$e+1>>1;for(fe==0?U(z,H,null,null,J,de,we,be,J,de,we,be,R,$,null,null,$e):(U(w.ec,w.fc,z,H,pe,Me,Ae,he,J,de,we,be,R,$-k.A,R,$,$e),++j);fe+2<Re;fe+=2)pe=J,Me=de,Ae=we,he=be,de+=m.Rc,be+=m.Rc,$+=2*k.A,U(z,(H+=2*m.fa)-m.fa,z,H,pe,Me,Ae,he,J,de,we,be,R,$-k.A,R,$,$e);return H+=m.fa,m.j+Re<m.o?(n(w.ec,w.fc,z,H,$e),n(w.cc,w.dc,J,de,Oe),n(w.Mc,w.Nc,we,be,Oe),j--):1&Re||U(z,H,null,null,J,de,we,be,J,de,we,be,R,$+k.A,null,null,$e),j}function Sc(m,w,j){var k=m.F,R=[m.J];if(k!=null){var $=m.U,U=w.ba.S,z=U==Jg||U==Zg;w=w.ba.f.RGBA;var H=[0],J=m.ka;H[0]=m.T,m.Kb&&(J==0?--H[0]:(--J,R[0]-=m.width),m.j+m.ka+m.T==m.o&&(H[0]=m.o-m.j-J));var de=w.eb;J=w.fb+J*w.A,m=Nr(k,R[0],m.width,$,H,de,J+(z?0:3),w.A),t(j==H),m&&Ze(U)&&xa(de,J,z,$,H,w.A)}return 0}function Rn(m){var w=m.ma,j=w.ba.S,k=11>j,R=j==Kg||j==Xg||j==Jg||j==Rx||j==12||Ze(j);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!xf(w.Oa,m,R?11:12))return 0;if(R&&Ze(j)&&Ue(),m.da)alert("todo:use_scaling");else{if(k){if(w.Ib=At,m.Kb){if(j=m.U+1>>1,w.memory=a(m.U+2*j),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+j,w.Ib=or,Ue()}}else alert("todo:EmitYUV");R&&(w.Jb=Sc,k&&ye())}if(k&&!kj){for(m=0;256>m;++m)a7[m]=89858*(m-128)+ey>>Qg,l7[m]=-22014*(m-128)+ey,o7[m]=-45773*(m-128),i7[m]=113618*(m-128)+ey>>Qg;for(m=Ef;m<$x;++m)w=76283*(m-16)+ey>>Qg,c7[m-Ef]=Ys(w,255),u7[m-Ef]=Ys(w+8>>4,15);kj=1}return 1}function ki(m){var w=m.ma,j=m.U,k=m.T;return t(!(1&m.ka)),0>=j||0>=k?0:(j=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,j),w.Dc+=j,1)}function Ei(m){m.ma.memory=null}function wt(m,w,j,k){return ie(m,8)!=47?0:(w[0]=ie(m,14)+1,j[0]=ie(m,14)+1,k[0]=ie(m,1),ie(m,3)!=0?0:!m.h)}function $a(m,w){if(4>m)return m+1;var j=m-2>>1;return(2+(1&m)<<j)+ie(w,j)+1}function Pi(m,w){return 120<w?w-120:1<=(j=((j=WF[w-1])>>4)*m+(8-(15&j)))?j:1;var j}function Ns(m,w,j){var k=G(j),R=m[w+=255&k].g-8;return 0<R&&(ae(j,j.u+8),k=G(j),w+=m[w].value,w+=k&(1<<R)-1),ae(j,j.u+m[w].g),m[w].value}function yn(m,w,j){return j.g+=m.g,j.value+=m.value<<w>>>0,t(8>=j.g),m.g}function un(m,w,j){var k=m.xc;return t((w=k==0?0:m.vc[m.md*(j>>k)+(w>>k)])<m.Wb),m.Ya[w]}function Gs(m,w,j,k){var R=m.ab,$=m.c*w,U=m.C;w=U+w;var z=j,H=k;for(k=m.Ta,j=m.Ua;0<R--;){var J=m.gc[R],de=U,we=w,be=z,pe=H,Me=(H=k,z=j,J.Ea);switch(t(de<we),t(we<=J.nc),J.hc){case 2:Vg(be,pe,(we-de)*Me,H,z);break;case 0:var Ae=de,he=we,fe=H,Re=z,$e=(tt=J).Ea;Ae==0&&(Lx(be,pe,null,null,1,fe,Re),ot(be,pe+1,0,0,$e-1,fe,Re+1),pe+=$e,Re+=$e,++Ae);for(var Oe=1<<tt.b,at=Oe-1,et=X($e,tt.b),xt=tt.K,tt=tt.w+(Ae>>tt.b)*et;Ae<he;){var sr=xt,hr=tt,Zt=1;for(Sf(be,pe,fe,Re-$e,1,fe,Re);Zt<$e;){var Ht=(Zt&~at)+Oe;Ht>$e&&(Ht=$e),(0,tl[sr[hr++]>>8&15])(be,pe+ +Zt,fe,Re+Zt-$e,Ht-Zt,fe,Re+Zt),Zt=Ht}pe+=$e,Re+=$e,++Ae&at||(tt+=et)}we!=J.nc&&n(H,z-Me,H,z+(we-de-1)*Me,Me);break;case 1:for(Me=be,he=pe,$e=(be=J.Ea)-(Re=be&~(fe=(pe=1<<J.b)-1)),Ae=X(be,J.b),Oe=J.K,J=J.w+(de>>J.b)*Ae;de<we;){for(at=Oe,et=J,xt=new Ne,tt=he+Re,sr=he+be;he<tt;)Ot(at[et++],xt),Ec(xt,Me,he,pe,H,z),he+=pe,z+=pe;he<sr&&(Ot(at[et++],xt),Ec(xt,Me,he,$e,H,z),he+=$e,z+=$e),++de&fe||(J+=Ae)}break;case 3:if(be==H&&pe==z&&0<J.b){for(he=H,be=Me=z+(we-de)*Me-(Re=(we-de)*X(J.Ea,J.b)),pe=H,fe=z,Ae=[],Re=($e=Re)-1;0<=Re;--Re)Ae[Re]=pe[fe+Re];for(Re=$e-1;0<=Re;--Re)he[be+Re]=Ae[Re];ga(J,de,we,H,Me,H,z)}else ga(J,de,we,be,pe,H,z)}z=k,H=j}H!=j&&n(k,j,z,H,$)}function Tu(m,w){var j=m.V,k=m.Ba+m.c*m.C,R=w-m.C;if(t(w<=m.l.o),t(16>=R),0<R){var $=m.l,U=m.Ta,z=m.Ua,H=$.width;if(Gs(m,R,j,k),R=z=[z],t((j=m.C)<(k=w)),t($.v<$.va),k>$.o&&(k=$.o),j<$.j){var J=$.j-j;j=$.j,R[0]+=J*H}if(j>=k?j=0:(R[0]+=4*$.v,$.ka=j-$.j,$.U=$.va-$.v,$.T=k-j,j=1),j){if(z=z[0],11>(j=m.ca).S){var de=j.f.RGBA,we=(k=j.S,R=$.U,$=$.T,J=de.eb,de.A),be=$;for(de=de.fb+m.Ma*de.A;0<be--;){var pe=U,Me=z,Ae=R,he=J,fe=de;switch(k){case Yg:ks(pe,Me,Ae,he,fe);break;case Kg:os(pe,Me,Ae,he,fe);break;case Ox:os(pe,Me,Ae,he,fe),xa(he,fe,0,Ae,1,0);break;case yj:po(pe,Me,Ae,he,fe);break;case Xg:lt(pe,Me,Ae,he,fe,1);break;case Ix:lt(pe,Me,Ae,he,fe,1),xa(he,fe,0,Ae,1,0);break;case Jg:lt(pe,Me,Ae,he,fe,0);break;case Zg:lt(pe,Me,Ae,he,fe,0),xa(he,fe,1,Ae,1,0);break;case Rx:rl(pe,Me,Ae,he,fe);break;case Mx:rl(pe,Me,Ae,he,fe),_r(he,fe,Ae,1,0);break;case vj:fo(pe,Me,Ae,he,fe);break;default:t(0)}z+=H,de+=we}m.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=j.height)}}m.C=w,t(m.C<=m.i)}function co(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var j=m.Ya[w].G,k=m.Ya[w].H;if(0<j[1][k[1]+0].g||0<j[2][k[2]+0].g||0<j[3][k[3]+0].g)return 0}return 1}function Ua(m,w,j,k,R,$){if(m.Z!=0){var U=m.qd,z=m.rd;for(t(il[m.Z]!=null);w<j;++w)il[m.Z](U,z,k,R,k,R,$),U=k,z=R,R+=$;m.qd=U,m.rd=z}}function Va(m,w){var j=m.l.ma,k=j.Z==0||j.Z==1?m.l.j:m.C;if(k=m.C<k?k:m.C,t(w<=m.l.o),w>k){var R=m.l.width,$=j.ca,U=j.tb+R*k,z=m.V,H=m.Ba+m.c*k,J=m.gc;t(m.ab==1),t(J[0].hc==3),zg(J[0],k,w,z,H,$,U),Ua(j,k,w,$,U,R)}m.C=m.Ma=w}function za(m,w,j,k,R,$,U){var z=m.$/k,H=m.$%k,J=m.m,de=m.s,we=j+m.$,be=we;R=j+k*R;var pe=j+k*$,Me=280+de.ua,Ae=m.Pb?z:16777216,he=0<de.ua?de.Wa:null,fe=de.wc,Re=we<pe?un(de,H,z):null;t(m.C<$),t(pe<=R);var $e=!1;e:for(;;){for(;$e||we<pe;){var Oe=0;if(z>=Ae){var at=we-j;t((Ae=m).Pb),Ae.wd=Ae.m,Ae.xd=at,0<Ae.s.ua&&Ce(Ae.s.Wa,Ae.s.vb),Ae=z+GF}if(H&fe||(Re=un(de,H,z)),t(Re!=null),Re.Qb&&(w[we]=Re.qb,$e=!0),!$e)if(W(J),Re.jc){Oe=J,at=w;var et=we,xt=Re.pd[G(Oe)&On-1];t(Re.jc),256>xt.g?(ae(Oe,Oe.u+xt.g),at[et]=xt.value,Oe=0):(ae(Oe,Oe.u+xt.g-256),t(256<=xt.value),Oe=xt.value),Oe==0&&($e=!0)}else Oe=Ns(Re.G[0],Re.H[0],J);if(J.h)break;if($e||256>Oe){if(!$e)if(Re.nd)w[we]=(Re.qb|Oe<<8)>>>0;else{if(W(J),$e=Ns(Re.G[1],Re.H[1],J),W(J),at=Ns(Re.G[2],Re.H[2],J),et=Ns(Re.G[3],Re.H[3],J),J.h)break;w[we]=(et<<24|$e<<16|Oe<<8|at)>>>0}if($e=!1,++we,++H>=k&&(H=0,++z,U!=null&&z<=$&&!(z%16)&&U(m,z),he!=null))for(;be<we;)Oe=w[be++],he.X[(506832829*Oe&4294967295)>>>he.Mb]=Oe}else if(280>Oe){if(Oe=$a(Oe-256,J),at=Ns(Re.G[4],Re.H[4],J),W(J),at=Pi(k,at=$a(at,J)),J.h)break;if(we-j<at||R-we<Oe)break e;for(et=0;et<Oe;++et)w[we+et]=w[we+et-at];for(we+=Oe,H+=Oe;H>=k;)H-=k,++z,U!=null&&z<=$&&!(z%16)&&U(m,z);if(t(we<=R),H&fe&&(Re=un(de,H,z)),he!=null)for(;be<we;)Oe=w[be++],he.X[(506832829*Oe&4294967295)>>>he.Mb]=Oe}else{if(!(Oe<Me))break e;for($e=Oe-280,t(he!=null);be<we;)Oe=w[be++],he.X[(506832829*Oe&4294967295)>>>he.Mb]=Oe;Oe=we,t(!($e>>>(at=he).Xa)),w[Oe]=at.X[$e],$e=!0}$e||t(J.h==Z(J))}if(m.Pb&&J.h&&we<R)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ce(m.s.vb,m.s.Wa);else{if(J.h)break e;U!=null&&U(m,z>$?$:z),m.a=0,m.$=we-j}return 1}return m.a=3,0}function Ai(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,t(m!=null)}function ma(){var m=new Tx;return m==null?null:(m.a=0,m.xb=bj,gn("Predictor","VP8LPredictors"),gn("Predictor","VP8LPredictors_C"),gn("PredictorAdd","VP8LPredictorsAdd"),gn("PredictorAdd","VP8LPredictorsAdd_C"),Vg=ut,Ec=ft,ks=Ge,os=De,rl=st,fo=Tt,po=kt,A.VP8LMapColor32b=Ju,A.VP8LMapColor8b=qg,m)}function Ti(m,w,j,k,R){var $=1,U=[m],z=[w],H=k.m,J=k.s,de=null,we=0;e:for(;;){if(j)for(;$&&ie(H,1);){var be=U,pe=z,Me=k,Ae=1,he=Me.m,fe=Me.gc[Me.ab],Re=ie(he,2);if(Me.Oc&1<<Re)$=0;else{switch(Me.Oc|=1<<Re,fe.hc=Re,fe.Ea=be[0],fe.nc=pe[0],fe.K=[null],++Me.ab,t(4>=Me.ab),Re){case 0:case 1:fe.b=ie(he,3)+2,Ae=Ti(X(fe.Ea,fe.b),X(fe.nc,fe.b),0,Me,fe.K),fe.K=fe.K[0];break;case 3:var $e,Oe=ie(he,8)+1,at=16<Oe?0:4<Oe?1:2<Oe?2:3;if(be[0]=X(fe.Ea,at),fe.b=at,$e=Ae=Ti(Oe,1,0,Me,fe.K)){var et,xt=Oe,tt=fe,sr=1<<(8>>tt.b),hr=a(sr);if(hr==null)$e=0;else{var Zt=tt.K[0],Ht=tt.w;for(hr[0]=tt.K[0][0],et=1;et<1*xt;++et)hr[et]=te(Zt[Ht+et],hr[et-1]);for(;et<4*sr;++et)hr[et]=0;tt.K[0]=null,tt.K[0]=hr,$e=1}}Ae=$e;break;case 2:break;default:t(0)}$=Ae}}if(U=U[0],z=z[0],$&&ie(H,1)&&!($=1<=(we=ie(H,4))&&11>=we)){k.a=3;break e}var wr;if(wr=$)t:{var vr,Mt,hn,Es=k,fn=U,Ps=z,fr=we,Xs=j,Js=Es.m,jn=Es.s,In=[null],cs=1,Sa=0,Oi=HF[fr];r:for(;;){if(Xs&&ie(Js,1)){var Cn=ie(Js,3)+2,vo=X(fn,Cn),Dc=X(Ps,Cn),rd=vo*Dc;if(!Ti(vo,Dc,0,Es,In))break r;for(In=In[0],jn.xc=Cn,vr=0;vr<rd;++vr){var ol=In[vr]>>8&65535;In[vr]=ol,ol>=cs&&(cs=ol+1)}}if(Js.h)break r;for(Mt=0;5>Mt;++Mt){var Wr=xj[Mt];!Mt&&0<fr&&(Wr+=1<<fr),Sa<Wr&&(Sa=Wr)}var Ux=i(cs*Oi,D),Aj=cs,Tj=i(Aj,B);if(Tj==null)var ry=null;else t(65536>=Aj),ry=Tj;var Pf=a(Sa);if(ry==null||Pf==null||Ux==null){Es.a=1;break r}var ny=Ux;for(vr=hn=0;vr<cs;++vr){var Ya=ry[vr],nd=Ya.G,sd=Ya.H,Lj=0,sy=1,Dj=0;for(Mt=0;5>Mt;++Mt){Wr=xj[Mt],nd[Mt]=ny,sd[Mt]=hn,!Mt&&0<fr&&(Wr+=1<<fr);s:{var ay,Vx=Wr,iy=Es,Af=Pf,f7=ny,p7=hn,zx=0,ll=iy.m,m7=ie(ll,1);if(s(Af,0,0,Vx),m7){var g7=ie(ll,1)+1,y7=ie(ll,1),Rj=ie(ll,y7==0?1:8);Af[Rj]=1,g7==2&&(Af[Rj=ie(ll,8)]=1);var oy=1}else{var Oj=a(19),Ij=ie(ll,4)+4;if(19<Ij){iy.a=3;var ly=0;break s}for(ay=0;ay<Ij;++ay)Oj[qF[ay]]=ie(ll,3);var qx=void 0,Tf=void 0,Mj=iy,v7=Oj,cy=Vx,Fj=Af,Wx=0,cl=Mj.m,Bj=8,$j=i(128,D);n:for(;I($j,0,7,v7,19);){if(ie(cl,1)){var x7=2+2*ie(cl,3);if((qx=2+ie(cl,x7))>cy)break n}else qx=cy;for(Tf=0;Tf<cy&&qx--;){W(cl);var Uj=$j[0+(127&G(cl))];ae(cl,cl.u+Uj.g);var ad=Uj.value;if(16>ad)Fj[Tf++]=ad,ad!=0&&(Bj=ad);else{var w7=ad==16,Vj=ad-16,b7=VF[Vj],zj=ie(cl,UF[Vj])+b7;if(Tf+zj>cy)break n;for(var S7=w7?Bj:0;0<zj--;)Fj[Tf++]=S7}}Wx=1;break n}Wx||(Mj.a=3),oy=Wx}(oy=oy&&!ll.h)&&(zx=I(f7,p7,8,Af,Vx)),oy&&zx!=0?ly=zx:(iy.a=3,ly=0)}if(ly==0)break r;if(sy&&zF[Mt]==1&&(sy=ny[hn].g==0),Lj+=ny[hn].g,hn+=ly,3>=Mt){var Lf,Hx=Pf[0];for(Lf=1;Lf<Wr;++Lf)Pf[Lf]>Hx&&(Hx=Pf[Lf]);Dj+=Hx}}if(Ya.nd=sy,Ya.Qb=0,sy&&(Ya.qb=(nd[3][sd[3]+0].value<<24|nd[1][sd[1]+0].value<<16|nd[2][sd[2]+0].value)>>>0,Lj==0&&256>nd[0][sd[0]+0].value&&(Ya.Qb=1,Ya.qb+=nd[0][sd[0]+0].value<<8)),Ya.jc=!Ya.Qb&&6>Dj,Ya.jc){var uy,xo=Ya;for(uy=0;uy<On;++uy){var ul=uy,dl=xo.pd[ul],dy=xo.G[0][xo.H[0]+ul];256<=dy.value?(dl.g=dy.g+256,dl.value=dy.value):(dl.g=0,dl.value=0,ul>>=yn(dy,8,dl),ul>>=yn(xo.G[1][xo.H[1]+ul],16,dl),ul>>=yn(xo.G[2][xo.H[2]+ul],0,dl),yn(xo.G[3][xo.H[3]+ul],24,dl))}}}jn.vc=In,jn.Wb=cs,jn.Ya=ry,jn.yc=Ux,wr=1;break t}wr=0}if(!($=wr)){k.a=3;break e}if(0<we){if(J.ua=1<<we,!Je(J.Wa,we)){k.a=1,$=0;break e}}else J.ua=0;var Gx=k,qj=U,_7=z,Yx=Gx.s,Kx=Yx.xc;if(Gx.c=qj,Gx.i=_7,Yx.md=X(qj,Kx),Yx.wc=Kx==0?-1:(1<<Kx)-1,j){k.xb=e7;break e}if((de=a(U*z))==null){k.a=1,$=0;break e}$=($=za(k,de,0,U,z,z,null))&&!H.h;break e}return $?(R!=null?R[0]=de:(t(de==null),t(j)),k.$=0,j||Ai(J)):Ai(J),$}function _c(m,w){var j=m.c*m.i,k=j+w+16*w;return t(m.c<=w),m.V=a(k),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+j+w,1)}function Lu(m,w){var j=m.C,k=w-j,R=m.V,$=m.Ba+m.c*j;for(t(w<=m.l.o);0<k;){var U=16<k?16:k,z=m.l.ma,H=m.l.width,J=H*U,de=z.ca,we=z.tb+H*j,be=m.Ta,pe=m.Ua;Gs(m,U,R,$),tn(be,pe,de,we,J),Ua(z,j,j+U,de,we,H),k-=U,R+=U*m.c,j+=U}t(j==w),m.C=m.Ma=w}function Du(){this.ub=this.yd=this.td=this.Rb=0}function Ru(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ou(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Sg(){this.Yb=function(){var m=[];return function w(j,k,R){for(var $=R[k],U=0;U<$&&(j.push(R.length>k+1?[]:0),!(R.length<k+1));U++)w(j[U],k+1,R)}(m,0,[3,11]),m}()}function lx(){this.jb=a(3),this.Wc=o([4,8],Sg),this.Xc=o([4,17],Sg)}function cx(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Iu(){this.ld=this.La=this.dd=this.tc=0}function _g(){this.Na=this.la=0}function ux(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function rf(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dx(){this.uc=this.M=this.Nb=0,this.wa=Array(new Iu),this.Y=0,this.ya=Array(new rf),this.aa=0,this.l=new Mu}function Ng(){this.y=a(16),this.f=a(8),this.ea=a(8)}function hx(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Du,this.Kc=new Ru,this.ed=new cx,this.Qa=new Ou,this.Ic=this.$c=this.Aa=0,this.D=new dx,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,me),this.ia=0,this.pb=i(4,ux),this.Pa=new lx,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ng),this.Hd=0,this.rb=Array(new _g),this.sb=0,this.wa=Array(new Iu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new rf),this.L=this.aa=0,this.gd=o([4,2],Iu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function fx(){var m=new hx;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,kf||(kf=kg)),m}function Qr(m,w,j){return m.a==0&&(m.a=w,m.sc=j,m.cb=0),0}function jg(m,w,j){return 3<=j&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function Cg(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return Qr(m,2,"null VP8Io passed to VP8GetHeaders()");var j=w.data,k=w.w,R=w.ha;if(4>R)return Qr(m,7,"Truncated header.");var $=j[k+0]|j[k+1]<<8|j[k+2]<<16,U=m.Od;if(U.Rb=!(1&$),U.td=$>>1&7,U.yd=$>>4&1,U.ub=$>>5,3<U.td)return Qr(m,3,"Incorrect keyframe parameters.");if(!U.yd)return Qr(m,4,"Frame not displayable.");k+=3,R-=3;var z=m.Kc;if(U.Rb){if(7>R)return Qr(m,7,"cannot parse picture header");if(!jg(j,k,R))return Qr(m,3,"Bad code word");z.c=16383&(j[k+4]<<8|j[k+3]),z.Td=j[k+4]>>6,z.i=16383&(j[k+6]<<8|j[k+5]),z.Ud=j[k+6]>>6,k+=7,R-=7,m.za=z.c+15>>4,m.Ub=z.i+15>>4,w.width=z.c,w.height=z.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,s(($=m.Pa).jb,0,255,$.jb.length),t(($=m.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,s($.Zb,0,0,$.Zb.length),s($.Lb,0,0,$.Lb)}if(U.ub>R)return Qr(m,7,"bad partition length");q($=m.m,j,k,U.ub),k+=U.ub,R-=U.ub,U.Rb&&(z.Ld=le($),z.Kd=le($)),z=m.Qa;var H,J=m.Pa;if(t($!=null),t(z!=null),z.Cb=le($),z.Cb){if(z.Bb=le($),le($)){for(z.Fb=le($),H=0;4>H;++H)z.Zb[H]=le($)?V($,7):0;for(H=0;4>H;++H)z.Lb[H]=le($)?V($,6):0}if(z.Bb)for(H=0;3>H;++H)J.jb[H]=le($)?ee($,8):255}else z.Bb=0;if($.Ka)return Qr(m,3,"cannot parse segment header");if((z=m.ed).zd=le($),z.Tb=ee($,6),z.wb=ee($,3),z.Pc=le($),z.Pc&&le($)){for(J=0;4>J;++J)le($)&&(z.vd[J]=V($,6));for(J=0;4>J;++J)le($)&&(z.od[J]=V($,6))}if(m.L=z.Tb==0?0:z.zd?1:2,$.Ka)return Qr(m,3,"cannot parse filter header");var de=R;if(R=H=k,k=H+de,z=de,m.Xb=(1<<ee(m.m,2))-1,de<3*(J=m.Xb))j=7;else{for(H+=3*J,z-=3*J,de=0;de<J;++de){var we=j[R+0]|j[R+1]<<8|j[R+2]<<16;we>z&&(we=z),q(m.Jc[+de],j,H,we),H+=we,z-=we,R+=3}q(m.Jc[+J],j,H,z),j=H<k?0:5}if(j!=0)return Qr(m,j,"cannot parse partitions");for(j=ee(H=m.m,7),R=le(H)?V(H,4):0,k=le(H)?V(H,4):0,z=le(H)?V(H,4):0,J=le(H)?V(H,4):0,H=le(H)?V(H,4):0,de=m.Qa,we=0;4>we;++we){if(de.Cb){var be=de.Zb[we];de.Fb||(be+=j)}else{if(0<we){m.pb[we]=m.pb[0];continue}be=j}var pe=m.pb[we];pe.Sc[0]=Fx[Ys(be+R,127)],pe.Sc[1]=Bx[Ys(be+0,127)],pe.Eb[0]=2*Fx[Ys(be+k,127)],pe.Eb[1]=101581*Bx[Ys(be+z,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Fx[Ys(be+J,117)],pe.Qc[1]=Bx[Ys(be+H,127)],pe.lc=be+H}if(!U.Rb)return Qr(m,4,"Not a key frame.");for(le($),U=m.Pa,j=0;4>j;++j){for(R=0;8>R;++R)for(k=0;3>k;++k)for(z=0;11>z;++z)J=ue($,ZF[j][R][k][z])?ee($,8):XF[j][R][k][z],U.Wc[j][R].Yb[k][z]=J;for(R=0;17>R;++R)U.Xc[j][R]=U.Wc[j][QF[R]]}return m.kc=le($),m.kc&&(m.Bd=ee($,8)),m.cb=1}function kg(m,w,j,k,R,$,U){var z=w[R].Yb[j];for(j=0;16>R;++R){if(!ue(m,z[j+0]))return R;for(;!ue(m,z[j+1]);)if(z=w[++R].Yb[0],j=0,R==16)return 16;var H=w[R+1].Yb;if(ue(m,z[j+2])){var J=m,de=0;if(ue(J,(be=z)[(we=j)+3]))if(ue(J,be[we+6])){for(z=0,we=2*(de=ue(J,be[we+8]))+(be=ue(J,be[we+9+de])),de=0,be=YF[we];be[z];++z)de+=de+ue(J,be[z]);de+=3+(8<<we)}else ue(J,be[we+7])?(de=7+2*ue(J,165),de+=ue(J,145)):de=5+ue(J,159);else de=ue(J,be[we+4])?3+ue(J,be[we+5]):2;z=H[2]}else de=1,z=H[1];H=U+KF[R],0>(J=m).b&&se(J);var we,be=J.b,pe=(we=J.Ca>>1)-(J.I>>be)>>31;--J.b,J.Ca+=pe,J.Ca|=1,J.I-=(we+1&pe)<<be,$[H]=((de^pe)-pe)*k[(0<R)+0]}return 16}function nf(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function px(m,w){if(m==null)return 0;if(w==null)return Qr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Cg(m,w))return 0;if(t(m.cb),w.ac==null||w.ac(w)){w.ob&&(m.L=0);var j=ty[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=w.v-j>>4,m.zb=w.j-j>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=w.o+15+j>>4,m.Hb=w.va+15+j>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var k=m.ed;for(j=0;4>j;++j){var R;if(m.Qa.Cb){var $=m.Qa.Lb[j];m.Qa.Fb||($+=k.Tb)}else $=k.Tb;for(R=0;1>=R;++R){var U=m.gd[j][R],z=$;if(k.Pc&&(z+=k.vd[0],R&&(z+=k.od[0])),0<(z=0>z?0:63<z?63:z)){var H=z;0<k.wb&&(H=4<k.wb?H>>2:H>>1)>9-k.wb&&(H=9-k.wb),1>H&&(H=1),U.dd=H,U.tc=2*z+H,U.ld=40<=z?2:15<=z?1:0}else U.tc=0;U.La=R}}}j=0}else Qr(m,6,"Frame setup failed"),j=m.a;if(j=j==0){if(j){m.$c=0,0<m.Aa||(m.Ic=h7);e:{j=m.Ic,k=4*(H=m.za);var J=32*H,de=H+1,we=0<m.L?H*(0<m.Aa?2:1):0,be=(m.Aa==2?2:1)*H;if((U=k+832+(R=3*(16*j+ty[m.L])/2*J)+($=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=U)j=0;else{if(U>m.Vb){if(m.Vb=0,m.Ec=a(U),m.Fc=0,m.Ec==null){j=Qr(m,1,"no memory during frame initialization.");break e}m.Vb=U}U=m.Ec,z=m.Fc,m.Ac=U,m.Bc=z,z+=k,m.Gd=i(J,Ng),m.Hd=0,m.rb=i(de+1,_g),m.sb=1,m.wa=we?i(we,Iu):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=H),t(!0),m.oc=U,m.pc=z,z+=832,m.ya=i(be,rf),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=H),m.R=16*H,m.B=8*H,H=(J=ty[m.L])*m.R,J=J/2*m.B,m.sa=U,m.ta=z+H,m.qa=m.sa,m.ra=m.ta+16*j*m.R+J,m.Ha=m.qa,m.Ia=m.ra+8*j*m.B+J,m.$c=0,z+=R,m.mb=$?U:null,m.nb=$?z:null,t(z+$<=m.Fc+m.Vb),nf(m),s(m.Ac,m.Bc,0,k),j=1}}if(j){if(w.ka=0,w.y=m.sa,w.O=m.ta,w.f=m.qa,w.N=m.ra,w.ea=m.Ha,w.Vd=m.Ia,w.fa=m.R,w.Rc=m.B,w.F=null,w.J=0,!Hg){for(j=-255;255>=j;++j)vn[255+j]=0>j?-j:j;for(j=-1020;1020>=j;++j)go[1020+j]=-128>j?-128:127<j?127:j;for(j=-112;112>=j;++j)Cf[112+j]=-16>j?-16:15<j?15:j;for(j=-255;510>=j;++j)td[255+j]=0>j?0:255<j?255:j;Hg=1}Zu=yx,mo=mx,_f=Pg,ls=gx,ya=Ag,en=Eg,Qu=uf,Wg=Cc,Nf=Ax,Pc=df,Ac=Px,nl=zu,Tc=hf,ed=Bg,Lc=Fg,sl=Di,jf=ho,va=Ex,Ga[0]=Li,Ga[1]=vx,Ga[2]=Sx,Ga[3]=_x,Ga[4]=Dg,Ga[5]=Uu,Ga[6]=Rg,Ga[7]=of,Ga[8]=jx,Ga[9]=Nx,al[0]=Tg,al[1]=wx,al[2]=uo,al[3]=Bu,al[4]=zn,al[5]=bx,al[6]=Lg,yo[0]=Zo,yo[1]=xx,yo[2]=Cx,yo[3]=lf,yo[4]=jc,yo[5]=kx,yo[6]=cf,j=1}else j=0}j&&(j=function(pe,Me){for(pe.M=0;pe.M<pe.Va;++pe.M){var Ae,he=pe.Jc[pe.M&pe.Xb],fe=pe.m,Re=pe;for(Ae=0;Ae<Re.za;++Ae){var $e=fe,Oe=Re,at=Oe.Ac,et=Oe.Bc+4*Ae,xt=Oe.zc,tt=Oe.ya[Oe.aa+Ae];if(Oe.Qa.Bb?tt.$b=ue($e,Oe.Pa.jb[0])?2+ue($e,Oe.Pa.jb[2]):ue($e,Oe.Pa.jb[1]):tt.$b=0,Oe.kc&&(tt.Ad=ue($e,Oe.Bd)),tt.Za=!ue($e,145)+0,tt.Za){var sr=tt.Ob,hr=0;for(Oe=0;4>Oe;++Oe){var Zt,Ht=xt[0+Oe];for(Zt=0;4>Zt;++Zt){Ht=JF[at[et+Zt]][Ht];for(var wr=wj[ue($e,Ht[0])];0<wr;)wr=wj[2*wr+ue($e,Ht[wr])];Ht=-wr,at[et+Zt]=Ht}n(sr,hr,at,et,4),hr+=4,xt[0+Oe]=Ht}}else Ht=ue($e,156)?ue($e,128)?1:3:ue($e,163)?2:0,tt.Ob[0]=Ht,s(at,et,Ht,4),s(xt,0,Ht,4);tt.Dd=ue($e,142)?ue($e,114)?ue($e,183)?1:3:2:0}if(Re.m.Ka)return Qr(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Re=he,$e=(fe=pe).rb[fe.sb-1],at=fe.rb[fe.sb+fe.ja],Ae=fe.ya[fe.aa+fe.ja],et=fe.kc?Ae.Ad:0)$e.la=at.la=0,Ae.Za||($e.Na=at.Na=0),Ae.Hc=0,Ae.Gc=0,Ae.ia=0;else{var vr,Mt;if($e=at,at=Re,et=fe.Pa.Xc,xt=fe.ya[fe.aa+fe.ja],tt=fe.pb[xt.$b],Oe=xt.ad,sr=0,hr=fe.rb[fe.sb-1],Ht=Zt=0,s(Oe,sr,0,384),xt.Za)var hn=0,Es=et[3];else{wr=a(16);var fn=$e.Na+hr.Na;if(fn=kf(at,et[1],fn,tt.Eb,0,wr,0),$e.Na=hr.Na=(0<fn)+0,1<fn)Zu(wr,0,Oe,sr);else{var Ps=wr[0]+3>>3;for(wr=0;256>wr;wr+=16)Oe[sr+wr]=Ps}hn=1,Es=et[0]}var fr=15&$e.la,Xs=15&hr.la;for(wr=0;4>wr;++wr){var Js=1&Xs;for(Ps=Mt=0;4>Ps;++Ps)fr=fr>>1|(Js=(fn=kf(at,Es,fn=Js+(1&fr),tt.Sc,hn,Oe,sr))>hn)<<7,Mt=Mt<<2|(3<fn?3:1<fn?2:Oe[sr+0]!=0),sr+=16;fr>>=4,Xs=Xs>>1|Js<<7,Zt=(Zt<<8|Mt)>>>0}for(Es=fr,hn=Xs>>4,vr=0;4>vr;vr+=2){for(Mt=0,fr=$e.la>>4+vr,Xs=hr.la>>4+vr,wr=0;2>wr;++wr){for(Js=1&Xs,Ps=0;2>Ps;++Ps)fn=Js+(1&fr),fr=fr>>1|(Js=0<(fn=kf(at,et[2],fn,tt.Qc,0,Oe,sr)))<<3,Mt=Mt<<2|(3<fn?3:1<fn?2:Oe[sr+0]!=0),sr+=16;fr>>=2,Xs=Xs>>1|Js<<5}Ht|=Mt<<4*vr,Es|=fr<<4<<vr,hn|=(240&Xs)<<vr}$e.la=Es,hr.la=hn,xt.Hc=Zt,xt.Gc=Ht,xt.ia=43690&Ht?0:tt.ia,et=!(Zt|Ht)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[Ae.$b][Ae.Za],fe.wa[fe.Y+fe.ja].La|=!et),Re.Ka)return Qr(pe,7,"Premature end-of-file encountered.")}if(nf(pe),fe=Me,Re=1,Ae=(he=pe).D,$e=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Ae.M=he.M,Ae.uc=$e,vf(he,Ae),Re=1,Ae=(Mt=he.D).Nb,$e=(Ht=ty[he.L])*he.R,at=Ht/2*he.B,wr=16*Ae*he.R,Ps=8*Ae*he.B,et=he.sa,xt=he.ta-$e+wr,tt=he.qa,Oe=he.ra-at+Ps,sr=he.Ha,hr=he.Ia-at+Ps,Xs=(fr=Mt.M)==0,Zt=fr>=he.Va-1,he.Aa==2&&vf(he,Mt),Mt.uc)for(Js=(fn=he).D.M,t(fn.D.uc),Mt=fn.yb;Mt<fn.Hb;++Mt){hn=Mt,Es=Js;var jn=(In=(Wr=fn).D).Nb;vr=Wr.R;var In=In.wa[In.Y+hn],cs=Wr.sa,Sa=Wr.ta+16*jn*vr+16*hn,Oi=In.dd,Cn=In.tc;if(Cn!=0)if(t(3<=Cn),Wr.L==1)0<hn&&sl(cs,Sa,vr,Cn+4),In.La&&va(cs,Sa,vr,Cn),0<Es&&Lc(cs,Sa,vr,Cn+4),In.La&&jf(cs,Sa,vr,Cn);else{var vo=Wr.B,Dc=Wr.qa,rd=Wr.ra+8*jn*vo+8*hn,ol=Wr.Ha,Wr=Wr.Ia+8*jn*vo+8*hn;jn=In.ld,0<hn&&(Wg(cs,Sa,vr,Cn+4,Oi,jn),Pc(Dc,rd,ol,Wr,vo,Cn+4,Oi,jn)),In.La&&(nl(cs,Sa,vr,Cn,Oi,jn),ed(Dc,rd,ol,Wr,vo,Cn,Oi,jn)),0<Es&&(Qu(cs,Sa,vr,Cn+4,Oi,jn),Nf(Dc,rd,ol,Wr,vo,Cn+4,Oi,jn)),In.La&&(Ac(cs,Sa,vr,Cn,Oi,jn),Tc(Dc,rd,ol,Wr,vo,Cn,Oi,jn))}}if(he.ia&&alert("todo:DitherRow"),fe.put!=null){if(Mt=16*fr,fr=16*(fr+1),Xs?(fe.y=he.sa,fe.O=he.ta+wr,fe.f=he.qa,fe.N=he.ra+Ps,fe.ea=he.Ha,fe.W=he.Ia+Ps):(Mt-=Ht,fe.y=et,fe.O=xt,fe.f=tt,fe.N=Oe,fe.ea=sr,fe.W=hr),Zt||(fr-=Ht),fr>fe.o&&(fr=fe.o),fe.F=null,fe.J=null,he.Fa!=null&&0<he.Fa.length&&Mt<fr&&(fe.J=gf(he,fe,Mt,fr-Mt),fe.F=he.mb,fe.F==null&&fe.F.length==0)){Re=Qr(he,3,"Could not decode alpha data.");break e}Mt<fe.j&&(Ht=fe.j-Mt,Mt=fe.j,t(!(1&Ht)),fe.O+=he.R*Ht,fe.N+=he.B*(Ht>>1),fe.W+=he.B*(Ht>>1),fe.F!=null&&(fe.J+=fe.width*Ht)),Mt<fr&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=Mt-fe.j,fe.U=fe.va-fe.v,fe.T=fr-Mt,Re=fe.put(fe))}Ae+1!=he.Ic||Zt||(n(he.sa,he.ta-$e,et,xt+16*he.R,$e),n(he.qa,he.ra-at,tt,Oe+8*he.B,at),n(he.Ha,he.Ia-at,sr,hr+8*he.B,at))}if(!Re)return Qr(pe,6,"Output aborted.")}return 1}(m,w)),w.bc!=null&&w.bc(w),j&=1}return j?(m.cb=0,j):0}function qa(m,w,j,k,R){R=m[w+j+32*k]+(R>>3),m[w+j+32*k]=-256&R?0>R?0:255:R}function Fu(m,w,j,k,R,$){qa(m,w,0,j,k+R),qa(m,w,1,j,k+$),qa(m,w,2,j,k-$),qa(m,w,3,j,k-R)}function js(m){return(20091*m>>16)+m}function sf(m,w,j,k){var R,$=0,U=a(16);for(R=0;4>R;++R){var z=m[w+0]+m[w+8],H=m[w+0]-m[w+8],J=(35468*m[w+4]>>16)-js(m[w+12]),de=js(m[w+4])+(35468*m[w+12]>>16);U[$+0]=z+de,U[$+1]=H+J,U[$+2]=H-J,U[$+3]=z-de,$+=4,w++}for(R=$=0;4>R;++R)z=(m=U[$+0]+4)+U[$+8],H=m-U[$+8],J=(35468*U[$+4]>>16)-js(U[$+12]),qa(j,k,0,0,z+(de=js(U[$+4])+(35468*U[$+12]>>16))),qa(j,k,1,0,H+J),qa(j,k,2,0,H-J),qa(j,k,3,0,z-de),$++,k+=32}function Eg(m,w,j,k){var R=m[w+0]+4,$=35468*m[w+4]>>16,U=js(m[w+4]),z=35468*m[w+1]>>16;Fu(j,k,0,R+U,m=js(m[w+1]),z),Fu(j,k,1,R+$,m,z),Fu(j,k,2,R-$,m,z),Fu(j,k,3,R-U,m,z)}function mx(m,w,j,k,R){sf(m,w,j,k),R&&sf(m,w+16,j,k+4)}function Pg(m,w,j,k){mo(m,w+0,j,k,1),mo(m,w+32,j,k+128,1)}function gx(m,w,j,k){var R;for(m=m[w+0]+4,R=0;4>R;++R)for(w=0;4>w;++w)qa(j,k,w,R,m)}function Ag(m,w,j,k){m[w+0]&&ls(m,w+0,j,k),m[w+16]&&ls(m,w+16,j,k+4),m[w+32]&&ls(m,w+32,j,k+128),m[w+48]&&ls(m,w+48,j,k+128+4)}function yx(m,w,j,k){var R,$=a(16);for(R=0;4>R;++R){var U=m[w+0+R]+m[w+12+R],z=m[w+4+R]+m[w+8+R],H=m[w+4+R]-m[w+8+R],J=m[w+0+R]-m[w+12+R];$[0+R]=U+z,$[8+R]=U-z,$[4+R]=J+H,$[12+R]=J-H}for(R=0;4>R;++R)U=(m=$[0+4*R]+3)+$[3+4*R],z=$[1+4*R]+$[2+4*R],H=$[1+4*R]-$[2+4*R],J=m-$[3+4*R],j[k+0]=U+z>>3,j[k+16]=J+H>>3,j[k+32]=U-z>>3,j[k+48]=J-H>>3,k+=64}function af(m,w,j){var k,R=w-32,$=Ks,U=255-m[R-1];for(k=0;k<j;++k){var z,H=$,J=U+m[w-1];for(z=0;z<j;++z)m[w+z]=H[J+m[R+z]];w+=32}}function vx(m,w){af(m,w,4)}function xx(m,w){af(m,w,8)}function wx(m,w){af(m,w,16)}function uo(m,w){var j;for(j=0;16>j;++j)n(m,w+32*j,m,w-32,16)}function Bu(m,w){var j;for(j=16;0<j;--j)s(m,w,m[w-1],16),w+=32}function $u(m,w,j){var k;for(k=0;16>k;++k)s(w,j+32*k,m,16)}function Tg(m,w){var j,k=16;for(j=0;16>j;++j)k+=m[w-1+32*j]+m[w+j-32];$u(k>>5,m,w)}function zn(m,w){var j,k=8;for(j=0;16>j;++j)k+=m[w-1+32*j];$u(k>>4,m,w)}function bx(m,w){var j,k=8;for(j=0;16>j;++j)k+=m[w+j-32];$u(k>>4,m,w)}function Lg(m,w){$u(128,m,w)}function Lt(m,w,j){return m+2*w+j+2>>2}function Sx(m,w){var j,k=w-32;for(k=new Uint8Array([Lt(m[k-1],m[k+0],m[k+1]),Lt(m[k+0],m[k+1],m[k+2]),Lt(m[k+1],m[k+2],m[k+3]),Lt(m[k+2],m[k+3],m[k+4])]),j=0;4>j;++j)n(m,w+32*j,k,0,k.length)}function _x(m,w){var j=m[w-1],k=m[w-1+32],R=m[w-1+64],$=m[w-1+96];xe(m,w+0,16843009*Lt(m[w-1-32],j,k)),xe(m,w+32,16843009*Lt(j,k,R)),xe(m,w+64,16843009*Lt(k,R,$)),xe(m,w+96,16843009*Lt(R,$,$))}function Li(m,w){var j,k=4;for(j=0;4>j;++j)k+=m[w+j-32]+m[w-1+32*j];for(k>>=3,j=0;4>j;++j)s(m,w+32*j,k,4)}function Dg(m,w){var j=m[w-1+0],k=m[w-1+32],R=m[w-1+64],$=m[w-1-32],U=m[w+0-32],z=m[w+1-32],H=m[w+2-32],J=m[w+3-32];m[w+0+96]=Lt(k,R,m[w-1+96]),m[w+1+96]=m[w+0+64]=Lt(j,k,R),m[w+2+96]=m[w+1+64]=m[w+0+32]=Lt($,j,k),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=Lt(U,$,j),m[w+3+64]=m[w+2+32]=m[w+1+0]=Lt(z,U,$),m[w+3+32]=m[w+2+0]=Lt(H,z,U),m[w+3+0]=Lt(J,H,z)}function Rg(m,w){var j=m[w+1-32],k=m[w+2-32],R=m[w+3-32],$=m[w+4-32],U=m[w+5-32],z=m[w+6-32],H=m[w+7-32];m[w+0+0]=Lt(m[w+0-32],j,k),m[w+1+0]=m[w+0+32]=Lt(j,k,R),m[w+2+0]=m[w+1+32]=m[w+0+64]=Lt(k,R,$),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=Lt(R,$,U),m[w+3+32]=m[w+2+64]=m[w+1+96]=Lt($,U,z),m[w+3+64]=m[w+2+96]=Lt(U,z,H),m[w+3+96]=Lt(z,H,H)}function Uu(m,w){var j=m[w-1+0],k=m[w-1+32],R=m[w-1+64],$=m[w-1-32],U=m[w+0-32],z=m[w+1-32],H=m[w+2-32],J=m[w+3-32];m[w+0+0]=m[w+1+64]=$+U+1>>1,m[w+1+0]=m[w+2+64]=U+z+1>>1,m[w+2+0]=m[w+3+64]=z+H+1>>1,m[w+3+0]=H+J+1>>1,m[w+0+96]=Lt(R,k,j),m[w+0+64]=Lt(k,j,$),m[w+0+32]=m[w+1+96]=Lt(j,$,U),m[w+1+32]=m[w+2+96]=Lt($,U,z),m[w+2+32]=m[w+3+96]=Lt(U,z,H),m[w+3+32]=Lt(z,H,J)}function of(m,w){var j=m[w+0-32],k=m[w+1-32],R=m[w+2-32],$=m[w+3-32],U=m[w+4-32],z=m[w+5-32],H=m[w+6-32],J=m[w+7-32];m[w+0+0]=j+k+1>>1,m[w+1+0]=m[w+0+64]=k+R+1>>1,m[w+2+0]=m[w+1+64]=R+$+1>>1,m[w+3+0]=m[w+2+64]=$+U+1>>1,m[w+0+32]=Lt(j,k,R),m[w+1+32]=m[w+0+96]=Lt(k,R,$),m[w+2+32]=m[w+1+96]=Lt(R,$,U),m[w+3+32]=m[w+2+96]=Lt($,U,z),m[w+3+64]=Lt(U,z,H),m[w+3+96]=Lt(z,H,J)}function Nx(m,w){var j=m[w-1+0],k=m[w-1+32],R=m[w-1+64],$=m[w-1+96];m[w+0+0]=j+k+1>>1,m[w+2+0]=m[w+0+32]=k+R+1>>1,m[w+2+32]=m[w+0+64]=R+$+1>>1,m[w+1+0]=Lt(j,k,R),m[w+3+0]=m[w+1+32]=Lt(k,R,$),m[w+3+32]=m[w+1+64]=Lt(R,$,$),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=$}function jx(m,w){var j=m[w-1+0],k=m[w-1+32],R=m[w-1+64],$=m[w-1+96],U=m[w-1-32],z=m[w+0-32],H=m[w+1-32],J=m[w+2-32];m[w+0+0]=m[w+2+32]=j+U+1>>1,m[w+0+32]=m[w+2+64]=k+j+1>>1,m[w+0+64]=m[w+2+96]=R+k+1>>1,m[w+0+96]=$+R+1>>1,m[w+3+0]=Lt(z,H,J),m[w+2+0]=Lt(U,z,H),m[w+1+0]=m[w+3+32]=Lt(j,U,z),m[w+1+32]=m[w+3+64]=Lt(k,j,U),m[w+1+64]=m[w+3+96]=Lt(R,k,j),m[w+1+96]=Lt($,R,k)}function Cx(m,w){var j;for(j=0;8>j;++j)n(m,w+32*j,m,w-32,8)}function lf(m,w){var j;for(j=0;8>j;++j)s(m,w,m[w-1],8),w+=32}function Nc(m,w,j){var k;for(k=0;8>k;++k)s(w,j+32*k,m,8)}function Zo(m,w){var j,k=8;for(j=0;8>j;++j)k+=m[w+j-32]+m[w-1+32*j];Nc(k>>4,m,w)}function kx(m,w){var j,k=4;for(j=0;8>j;++j)k+=m[w+j-32];Nc(k>>3,m,w)}function jc(m,w){var j,k=4;for(j=0;8>j;++j)k+=m[w-1+32*j];Nc(k>>3,m,w)}function cf(m,w){Nc(128,m,w)}function Vu(m,w,j){var k=m[w-j],R=m[w+0],$=3*(R-k)+Dx[1020+m[w-2*j]-m[w+j]],U=Gg[112+($+4>>3)];m[w-j]=Ks[255+k+Gg[112+($+3>>3)]],m[w+0]=Ks[255+R-U]}function Og(m,w,j,k){var R=m[w+0],$=m[w+j];return wa[255+m[w-2*j]-m[w-j]]>k||wa[255+$-R]>k}function Ig(m,w,j,k){return 4*wa[255+m[w-j]-m[w+0]]+wa[255+m[w-2*j]-m[w+j]]<=k}function Mg(m,w,j,k,R){var $=m[w-3*j],U=m[w-2*j],z=m[w-j],H=m[w+0],J=m[w+j],de=m[w+2*j],we=m[w+3*j];return 4*wa[255+z-H]+wa[255+U-J]>k?0:wa[255+m[w-4*j]-$]<=R&&wa[255+$-U]<=R&&wa[255+U-z]<=R&&wa[255+we-de]<=R&&wa[255+de-J]<=R&&wa[255+J-H]<=R}function Fg(m,w,j,k){var R=2*k+1;for(k=0;16>k;++k)Ig(m,w+k,j,R)&&Vu(m,w+k,j)}function Di(m,w,j,k){var R=2*k+1;for(k=0;16>k;++k)Ig(m,w+k*j,1,R)&&Vu(m,w+k*j,1)}function ho(m,w,j,k){var R;for(R=3;0<R;--R)Fg(m,w+=4*j,j,k)}function Ex(m,w,j,k){var R;for(R=3;0<R;--R)Di(m,w+=4,j,k)}function Qo(m,w,j,k,R,$,U,z){for($=2*$+1;0<R--;){if(Mg(m,w,j,$,U))if(Og(m,w,j,z))Vu(m,w,j);else{var H=m,J=w,de=j,we=H[J-2*de],be=H[J-de],pe=H[J+0],Me=H[J+de],Ae=H[J+2*de],he=27*(Re=Dx[1020+3*(pe-be)+Dx[1020+we-Me]])+63>>7,fe=18*Re+63>>7,Re=9*Re+63>>7;H[J-3*de]=Ks[255+H[J-3*de]+Re],H[J-2*de]=Ks[255+we+fe],H[J-de]=Ks[255+be+he],H[J+0]=Ks[255+pe-he],H[J+de]=Ks[255+Me-fe],H[J+2*de]=Ks[255+Ae-Re]}w+=k}}function Wa(m,w,j,k,R,$,U,z){for($=2*$+1;0<R--;){if(Mg(m,w,j,$,U))if(Og(m,w,j,z))Vu(m,w,j);else{var H=m,J=w,de=j,we=H[J-de],be=H[J+0],pe=H[J+de],Me=Gg[112+((Ae=3*(be-we))+4>>3)],Ae=Gg[112+(Ae+3>>3)],he=Me+1>>1;H[J-2*de]=Ks[255+H[J-2*de]+he],H[J-de]=Ks[255+we+Ae],H[J+0]=Ks[255+be-Me],H[J+de]=Ks[255+pe-he]}w+=k}}function uf(m,w,j,k,R,$){Qo(m,w,j,1,16,k,R,$)}function Cc(m,w,j,k,R,$){Qo(m,w,1,j,16,k,R,$)}function Px(m,w,j,k,R,$){var U;for(U=3;0<U;--U)Wa(m,w+=4*j,j,1,16,k,R,$)}function zu(m,w,j,k,R,$){var U;for(U=3;0<U;--U)Wa(m,w+=4,1,j,16,k,R,$)}function Ax(m,w,j,k,R,$,U,z){Qo(m,w,R,1,8,$,U,z),Qo(j,k,R,1,8,$,U,z)}function df(m,w,j,k,R,$,U,z){Qo(m,w,1,R,8,$,U,z),Qo(j,k,1,R,8,$,U,z)}function hf(m,w,j,k,R,$,U,z){Wa(m,w+4*R,R,1,8,$,U,z),Wa(j,k+4*R,R,1,8,$,U,z)}function Bg(m,w,j,k,R,$,U,z){Wa(m,w+4,1,R,8,$,U,z),Wa(j,k+4,1,R,8,$,U,z)}function qu(){this.ba=new Sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ff(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $g(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new D}function Tx(){this.xb=this.a=0,this.l=new Mu,this.ca=new Sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $g,this.ab=0,this.gc=i(4,pf),this.Oc=0}function Wu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function kc(m,w,j,k,R,$,U){for(m=m==null?0:m[w+0],w=0;w<U;++w)R[$+w]=m+j[k+w]&255,m=R[$+w]}function mf(m,w,j,k,R,$,U){var z;if(m==null)kc(null,null,j,k,R,$,U);else for(z=0;z<U;++z)R[$+z]=m[w+z]+j[k+z]&255}function el(m,w,j,k,R,$,U){if(m==null)kc(null,null,j,k,R,$,U);else{var z,H=m[w+0],J=H,de=H;for(z=0;z<U;++z)J=de+(H=m[w+z])-J,de=j[k+z]+(-256&J?0>J?0:255:J)&255,J=H,R[$+z]=de}}function gf(m,w,j,k){var R=w.width,$=w.o;if(t(m!=null&&w!=null),0>j||0>=k||j+k>$)return null;if(!m.Cc){if(m.ga==null){var U;if(m.ga=new Wu,(U=m.ga==null)||(U=w.width*w.o,t(m.Gb.length==0),m.Gb=a(U),m.Uc=0,m.Gb==null?U=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,U=1),U=!U),!U){U=m.ga;var z=m.Fa,H=m.P,J=m.qc,de=m.mb,we=m.nb,be=H+1,pe=J-1,Me=U.l;if(t(z!=null&&de!=null&&w!=null),il[0]=null,il[1]=kc,il[2]=mf,il[3]=el,U.ca=de,U.tb=we,U.c=w.width,U.i=w.height,t(0<U.c&&0<U.i),1>=J)w=0;else if(U.$a=z[H+0]>>0&3,U.Z=z[H+0]>>2&3,U.Lc=z[H+0]>>4&3,H=z[H+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||H)w=0;else if(Me.put=ki,Me.ac=Rn,Me.bc=Ei,Me.ma=U,Me.width=w.width,Me.height=w.height,Me.Da=w.Da,Me.v=w.v,Me.va=w.va,Me.j=w.j,Me.o=w.o,U.$a)e:{t(U.$a==1),w=ma();t:for(;;){if(w==null){w=0;break e}if(t(U!=null),U.mc=w,w.c=U.c,w.i=U.i,w.l=U.l,w.l.ma=U,w.l.width=U.c,w.l.height=U.i,w.a=0,M(w.m,z,be,pe),!Ti(U.c,U.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&co(w.s)?(U.ic=1,z=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(z),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(U.ic=0,w=_c(w,U.c)),!w))break t;w=1;break e}U.mc=null,w=0}else w=pe>=U.c*U.i;U=!w}if(U)return null;m.ga.Lc!=1?m.Ga=0:k=$-j}t(m.ga!=null),t(j+k<=$);e:{if(w=(z=m.ga).c,$=z.l.o,z.$a==0){if(be=m.rc,pe=m.Vc,Me=m.Fa,H=m.P+1+j*w,J=m.mb,de=m.nb+j*w,t(H<=m.P+m.qc),z.Z!=0)for(t(il[z.Z]!=null),U=0;U<k;++U)il[z.Z](be,pe,Me,H,J,de,w),be=J,pe=de,de+=w,H+=w;else for(U=0;U<k;++U)n(J,de,Me,H,w),be=J,pe=de,de+=w,H+=w;m.rc=be,m.Vc=pe}else{if(t(z.mc!=null),w=j+k,t((U=z.mc)!=null),t(w<=U.i),U.C>=w)w=1;else if(z.ic||ye(),z.ic){z=U.V,be=U.Ba,pe=U.c;var Ae=U.i,he=(Me=1,H=U.$/pe,J=U.$%pe,de=U.m,we=U.s,U.$),fe=pe*Ae,Re=pe*w,$e=we.wc,Oe=he<Re?un(we,J,H):null;t(he<=fe),t(w<=Ae),t(co(we));t:for(;;){for(;!de.h&&he<Re;){if(J&$e||(Oe=un(we,J,H)),t(Oe!=null),W(de),256>(Ae=Ns(Oe.G[0],Oe.H[0],de)))z[be+he]=Ae,++he,++J>=pe&&(J=0,++H<=w&&!(H%16)&&Va(U,H));else{if(!(280>Ae)){Me=0;break t}Ae=$a(Ae-256,de);var at,et=Ns(Oe.G[4],Oe.H[4],de);if(W(de),!(he>=(et=Pi(pe,et=$a(et,de)))&&fe-he>=Ae)){Me=0;break t}for(at=0;at<Ae;++at)z[be+he+at]=z[be+he+at-et];for(he+=Ae,J+=Ae;J>=pe;)J-=pe,++H<=w&&!(H%16)&&Va(U,H);he<Re&&J&$e&&(Oe=un(we,J,H))}t(de.h==Z(de))}Va(U,H>w?w:H);break t}!Me||de.h&&he<fe?(Me=0,U.a=de.h?5:3):U.$=he,w=Me}else w=za(U,U.V,U.Ba,U.c,U.i,w,Lu);if(!w){k=0;break e}}j+k>=$&&(m.Cc=1),k=1}if(!k)return null;if(m.Cc&&((k=m.ga)!=null&&(k.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+j*R}function _(m,w,j,k,R,$){for(;0<R--;){var U,z=m,H=w+(j?1:0),J=m,de=w+(j?0:3);for(U=0;U<k;++U){var we=J[de+4*U];we!=255&&(we*=32897,z[H+4*U+0]=z[H+4*U+0]*we>>23,z[H+4*U+1]=z[H+4*U+1]*we>>23,z[H+4*U+2]=z[H+4*U+2]*we>>23)}w+=$}}function O(m,w,j,k,R){for(;0<k--;){var $;for($=0;$<j;++$){var U=m[w+2*$+0],z=15&(J=m[w+2*$+1]),H=4369*z,J=(240&J|J>>4)*H>>16;m[w+2*$+0]=(240&U|U>>4)*H>>16&240|(15&U|U<<4)*H>>16>>4&15,m[w+2*$+1]=240&J|z}w+=R}}function ne(m,w,j,k,R,$,U,z){var H,J,de=255;for(J=0;J<R;++J){for(H=0;H<k;++H){var we=m[w+H];$[U+4*H]=we,de&=we}w+=j,U+=z}return de!=255}function ce(m,w,j,k,R){var $;for($=0;$<R;++$)j[k+$]=m[w+$]>>8}function ye(){xa=_,_r=O,Nr=ne,tn=ce}function Le(m,w,j){A[m]=function(k,R,$,U,z,H,J,de,we,be,pe,Me,Ae,he,fe,Re,$e){var Oe,at=$e-1>>1,et=z[H+0]|J[de+0]<<16,xt=we[be+0]|pe[Me+0]<<16;t(k!=null);var tt=3*et+xt+131074>>2;for(w(k[R+0],255&tt,tt>>16,Ae,he),$!=null&&(tt=3*xt+et+131074>>2,w($[U+0],255&tt,tt>>16,fe,Re)),Oe=1;Oe<=at;++Oe){var sr=z[H+Oe]|J[de+Oe]<<16,hr=we[be+Oe]|pe[Me+Oe]<<16,Zt=et+sr+xt+hr+524296,Ht=Zt+2*(sr+xt)>>3;tt=Ht+et>>1,et=(Zt=Zt+2*(et+hr)>>3)+sr>>1,w(k[R+2*Oe-1],255&tt,tt>>16,Ae,he+(2*Oe-1)*j),w(k[R+2*Oe-0],255&et,et>>16,Ae,he+(2*Oe-0)*j),$!=null&&(tt=Zt+xt>>1,et=Ht+hr>>1,w($[U+2*Oe-1],255&tt,tt>>16,fe,Re+(2*Oe-1)*j),w($[U+2*Oe+0],255&et,et>>16,fe,Re+(2*Oe+0)*j)),et=sr,xt=hr}1&$e||(tt=3*et+xt+131074>>2,w(k[R+$e-1],255&tt,tt>>16,Ae,he+($e-1)*j),$!=null&&(tt=3*xt+et+131074>>2,w($[U+$e-1],255&tt,tt>>16,fe,Re+($e-1)*j)))}}function Ue(){ba[Yg]=t7,ba[Kg]=Sj,ba[yj]=r7,ba[Xg]=_j,ba[Jg]=Nj,ba[Rx]=jj,ba[vj]=n7,ba[Ox]=Sj,ba[Ix]=_j,ba[Zg]=Nj,ba[Mx]=jj}function nt(m){return m&~s7?0>m?0:255:m>>Cj}function yt(m,w){return nt((19077*m>>8)+(26149*w>>8)-14234)}function It(m,w,j){return nt((19077*m>>8)-(6419*w>>8)-(13320*j>>8)+8708)}function Dt(m,w){return nt((19077*m>>8)+(33050*w>>8)-17685)}function Xt(m,w,j,k,R){k[R+0]=yt(m,j),k[R+1]=It(m,w,j),k[R+2]=Dt(m,w)}function Fr(m,w,j,k,R){k[R+0]=Dt(m,w),k[R+1]=It(m,w,j),k[R+2]=yt(m,j)}function qr(m,w,j,k,R){var $=It(m,w,j);w=$<<3&224|Dt(m,w)>>3,k[R+0]=248&yt(m,j)|$>>5,k[R+1]=w}function dn(m,w,j,k,R){var $=240&Dt(m,w)|15;k[R+0]=240&yt(m,j)|It(m,w,j)>>4,k[R+1]=$}function qn(m,w,j,k,R){k[R+0]=255,Xt(m,w,j,k,R+1)}function Nn(m,w,j,k,R){Fr(m,w,j,k,R),k[R+3]=255}function Ha(m,w,j,k,R){Xt(m,w,j,k,R),k[R+3]=255}function Ys(m,w){return 0>m?0:m>w?w:m}function Ri(m,w,j){A[m]=function(k,R,$,U,z,H,J,de,we){for(var be=de+(-2&we)*j;de!=be;)w(k[R+0],$[U+0],z[H+0],J,de),w(k[R+1],$[U+0],z[H+0],J,de+j),R+=2,++U,++H,de+=2*j;1&we&&w(k[R+0],$[U+0],z[H+0],J,de)}}function Ug(m,w,j){return j==0?m==0?w==0?6:5:w==0?4:0:j}function yf(m,w,j,k,R){switch(m>>>30){case 3:mo(w,j,k,R,0);break;case 2:en(w,j,k,R);break;case 1:ls(w,j,k,R)}}function vf(m,w){var j,k,R=w.M,$=w.Nb,U=m.oc,z=m.pc+40,H=m.oc,J=m.pc+584,de=m.oc,we=m.pc+600;for(j=0;16>j;++j)U[z+32*j-1]=129;for(j=0;8>j;++j)H[J+32*j-1]=129,de[we+32*j-1]=129;for(0<R?U[z-1-32]=H[J-1-32]=de[we-1-32]=129:(s(U,z-32-1,127,21),s(H,J-32-1,127,9),s(de,we-32-1,127,9)),k=0;k<m.za;++k){var be=w.ya[w.aa+k];if(0<k){for(j=-1;16>j;++j)n(U,z+32*j-4,U,z+32*j+12,4);for(j=-1;8>j;++j)n(H,J+32*j-4,H,J+32*j+4,4),n(de,we+32*j-4,de,we+32*j+4,4)}var pe=m.Gd,Me=m.Hd+k,Ae=be.ad,he=be.Hc;if(0<R&&(n(U,z-32,pe[Me].y,0,16),n(H,J-32,pe[Me].f,0,8),n(de,we-32,pe[Me].ea,0,8)),be.Za){var fe=U,Re=z-32+16;for(0<R&&(k>=m.za-1?s(fe,Re,pe[Me].y[15],4):n(fe,Re,pe[Me+1].y,0,4)),j=0;4>j;j++)fe[Re+128+j]=fe[Re+256+j]=fe[Re+384+j]=fe[Re+0+j];for(j=0;16>j;++j,he<<=2)fe=U,Re=z+Ej[j],Ga[be.Ob[j]](fe,Re),yf(he,Ae,16*+j,fe,Re)}else if(fe=Ug(k,R,be.Ob[0]),al[fe](U,z),he!=0)for(j=0;16>j;++j,he<<=2)yf(he,Ae,16*+j,U,z+Ej[j]);for(j=be.Gc,fe=Ug(k,R,be.Dd),yo[fe](H,J),yo[fe](de,we),he=Ae,fe=H,Re=J,255&(be=j>>0)&&(170&be?_f(he,256,fe,Re):ya(he,256,fe,Re)),be=de,he=we,255&(j>>=8)&&(170&j?_f(Ae,320,be,he):ya(Ae,320,be,he)),R<m.Ub-1&&(n(pe[Me].y,0,U,z+480,16),n(pe[Me].f,0,H,J+224,8),n(pe[Me].ea,0,de,we+224,8)),j=8*$*m.B,pe=m.sa,Me=m.ta+16*k+16*$*m.R,Ae=m.qa,be=m.ra+8*k+j,he=m.Ha,fe=m.Ia+8*k+j,j=0;16>j;++j)n(pe,Me+j*m.R,U,z+32*j,16);for(j=0;8>j;++j)n(Ae,be+j*m.B,H,J+32*j,8),n(he,fe+j*m.B,de,we+32*j,8)}}function Hu(m,w,j,k,R,$,U,z,H){var J=[0],de=[0],we=0,be=H!=null?H.kd:0,pe=H??new ff;if(m==null||12>j)return 7;pe.data=m,pe.w=w,pe.ha=j,w=[w],j=[j],pe.gb=[pe.gb];e:{var Me=w,Ae=j,he=pe.gb;if(t(m!=null),t(Ae!=null),t(he!=null),he[0]=0,12<=Ae[0]&&!r(m,Me[0],"RIFF")){if(r(m,Me[0]+8,"WEBP")){he=3;break e}var fe=ke(m,Me[0]+4);if(12>fe||4294967286<fe){he=3;break e}if(be&&fe>Ae[0]-8){he=7;break e}he[0]=fe,Me[0]+=12,Ae[0]-=12}he=0}if(he!=0)return he;for(fe=0<pe.gb[0],j=j[0];;){e:{var Re=m;Ae=w,he=j;var $e=J,Oe=de,at=Me=[0];if((tt=we=[we])[0]=0,8>he[0])he=7;else{if(!r(Re,Ae[0],"VP8X")){if(ke(Re,Ae[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var et=ke(Re,Ae[0]+8),xt=1+Se(Re,Ae[0]+12);if(2147483648<=xt*(Re=1+Se(Re,Ae[0]+15))){he=3;break e}at!=null&&(at[0]=et),$e!=null&&($e[0]=xt),Oe!=null&&(Oe[0]=Re),Ae[0]+=18,he[0]-=18,tt[0]=1}he=0}}if(we=we[0],Me=Me[0],he!=0)return he;if(Ae=!!(2&Me),!fe&&we)return 3;if($!=null&&($[0]=!!(16&Me)),U!=null&&(U[0]=Ae),z!=null&&(z[0]=0),U=J[0],Me=de[0],we&&Ae&&H==null){he=0;break}if(4>j){he=7;break}if(fe&&we||!fe&&!we&&!r(m,w[0],"ALPH")){j=[j],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{et=m,he=w,fe=j;var tt=pe.gb;$e=pe.na,Oe=pe.P,at=pe.Sa,xt=22,t(et!=null),t(fe!=null),Re=he[0];var sr=fe[0];for(t($e!=null),t(at!=null),$e[0]=null,Oe[0]=null,at[0]=0;;){if(he[0]=Re,fe[0]=sr,8>sr){he=7;break e}var hr=ke(et,Re+4);if(4294967286<hr){he=3;break e}var Zt=8+hr+1&-2;if(xt+=Zt,0<tt&&xt>tt){he=3;break e}if(!r(et,Re,"VP8 ")||!r(et,Re,"VP8L")){he=0;break e}if(sr[0]<Zt){he=7;break e}r(et,Re,"ALPH")||($e[0]=et,Oe[0]=Re+8,at[0]=hr),Re+=Zt,sr-=Zt}}if(j=j[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],he!=0)break}j=[j],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(tt=m,he=w,fe=j,$e=pe.gb[0],Oe=pe.Ja,at=pe.xa,et=he[0],Re=!r(tt,et,"VP8 "),xt=!r(tt,et,"VP8L"),t(tt!=null),t(fe!=null),t(Oe!=null),t(at!=null),8>fe[0])he=7;else{if(Re||xt){if(tt=ke(tt,et+4),12<=$e&&tt>$e-12){he=3;break e}if(be&&tt>fe[0]-8){he=7;break e}Oe[0]=tt,he[0]+=8,fe[0]-=8,at[0]=xt}else at[0]=5<=fe[0]&&tt[et+0]==47&&!(tt[et+4]>>5),Oe[0]=fe[0];he=0}if(j=j[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],w=w[0],he!=0)break;if(4294967286<pe.Ja)return 3;if(z==null||Ae||(z[0]=pe.xa?2:1),U=[U],Me=[Me],pe.xa){if(5>j){he=7;break}z=U,be=Me,Ae=$,m==null||5>j?m=0:5<=j&&m[w+0]==47&&!(m[w+4]>>5)?(fe=[0],tt=[0],$e=[0],M(Oe=new T,m,w,j),wt(Oe,fe,tt,$e)?(z!=null&&(z[0]=fe[0]),be!=null&&(be[0]=tt[0]),Ae!=null&&(Ae[0]=$e[0]),m=1):m=0):m=0}else{if(10>j){he=7;break}z=Me,m==null||10>j||!jg(m,w+3,j-3)?m=0:(be=m[w+0]|m[w+1]<<8|m[w+2]<<16,Ae=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=pe.Ja||!Ae||!m?m=0:(U&&(U[0]=Ae),z&&(z[0]=m),m=1))}if(!m||(U=U[0],Me=Me[0],we&&(J[0]!=U||de[0]!=Me)))return 3;H!=null&&(H[0]=pe,H.offset=w-H.w,t(4294967286>w-H.w),t(H.offset==H.ha-j));break}return he==0||he==7&&we&&H==null?($!=null&&($[0]|=pe.na!=null&&0<pe.na.length),k!=null&&(k[0]=U),R!=null&&(R[0]=Me),0):he}function xf(m,w,j){var k=w.width,R=w.height,$=0,U=0,z=k,H=R;if(w.Da=m!=null&&0<m.Da,w.Da&&(z=m.cd,H=m.bd,$=m.v,U=m.j,11>j||($&=-2,U&=-2),0>$||0>U||0>=z||0>=H||$+z>k||U+H>R))return 0;if(w.v=$,w.j=U,w.va=$+z,w.o=U+H,w.U=z,w.T=H,w.da=m!=null&&0<m.da,w.da){if(!Ke(z,H,j=[m.ib],$=[m.hb]))return 0;w.ib=j[0],w.hb=$[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*k/4&&w.hb<3*R/4,w.Kb=0),1}function wf(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function Gu(m,w,j,k){if(k==null||0>=m||0>=w)return 2;if(j!=null){if(j.Da){var R=j.cd,$=j.bd,U=-2&j.v,z=-2&j.j;if(0>U||0>z||0>=R||0>=$||U+R>m||z+$>w)return 2;m=R,w=$}if(j.da){if(!Ke(m,w,R=[j.ib],$=[j.hb]))return 2;m=R[0],w=$[0]}}k.width=m,k.height=w;e:{var H=k.width,J=k.height;if(m=k.S,0>=H||0>=J||!(m>=Yg&&13>m))m=2;else{if(0>=k.Rd&&k.sd==null){U=$=R=w=0;var de=(z=H*Pj[m])*J;if(11>m||($=(J+1)/2*(w=(H+1)/2),m==12&&(U=(R=H)*J)),(J=a(de+2*$+U))==null){m=1;break e}k.sd=J,11>m?((H=k.f.RGBA).eb=J,H.fb=0,H.A=z,H.size=de):((H=k.f.kb).y=J,H.O=0,H.fa=z,H.Fd=de,H.f=J,H.N=0+de,H.Ab=w,H.Cd=$,H.ea=J,H.W=0+de+$,H.Db=w,H.Ed=$,m==12&&(H.F=J,H.J=0+de+2*$),H.Tc=U,H.lb=R)}if(w=1,R=k.S,$=k.width,U=k.height,R>=Yg&&13>R)if(11>R)m=k.f.RGBA,w&=(z=Math.abs(m.A))*(U-1)+$<=m.size,w&=z>=$*Pj[R],w&=m.eb!=null;else{m=k.f.kb,z=($+1)/2,de=(U+1)/2,H=Math.abs(m.fa),J=Math.abs(m.Ab);var we=Math.abs(m.Db),be=Math.abs(m.lb),pe=be*(U-1)+$;w&=H*(U-1)+$<=m.Fd,w&=J*(de-1)+z<=m.Cd,w=(w&=we*(de-1)+z<=m.Ed)&H>=$&J>=z&we>=z,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,R==12&&(w&=be>=$,w&=pe<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||j!=null&&j.fd&&(m=wf(k)),m}var On=64,Yu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ku=24,Xu=32,bf=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];oe("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(m){return m},A.Predictor2=function(m,w,j){return w[j+0]},A.Predictor3=function(m,w,j){return w[j+1]},A.Predictor4=function(m,w,j){return w[j-1]},A.Predictor5=function(m,w,j){return ve(ve(m,w[j+1]),w[j+0])},A.Predictor6=function(m,w,j){return ve(m,w[j-1])},A.Predictor7=function(m,w,j){return ve(m,w[j+0])},A.Predictor8=function(m,w,j){return ve(w[j-1],w[j+0])},A.Predictor9=function(m,w,j){return ve(w[j+0],w[j+1])},A.Predictor10=function(m,w,j){return ve(ve(m,w[j-1]),ve(w[j+0],w[j+1]))},A.Predictor11=function(m,w,j){var k=w[j+0];return 0>=ze(k>>24&255,m>>24&255,(w=w[j-1])>>24&255)+ze(k>>16&255,m>>16&255,w>>16&255)+ze(k>>8&255,m>>8&255,w>>8&255)+ze(255&k,255&m,255&w)?k:m},A.Predictor12=function(m,w,j){var k=w[j+0];return(_e((m>>24&255)+(k>>24&255)-((w=w[j-1])>>24&255))<<24|_e((m>>16&255)+(k>>16&255)-(w>>16&255))<<16|_e((m>>8&255)+(k>>8&255)-(w>>8&255))<<8|_e((255&m)+(255&k)-(255&w)))>>>0},A.Predictor13=function(m,w,j){var k=w[j-1];return(Be((m=ve(m,w[j+0]))>>24&255,k>>24&255)<<24|Be(m>>16&255,k>>16&255)<<16|Be(m>>8&255,k>>8&255)<<8|Be(m>>0&255,k>>0&255))>>>0};var Lx=A.PredictorAdd0;A.PredictorAdd1=ot,oe("Predictor2","PredictorAdd2"),oe("Predictor3","PredictorAdd3"),oe("Predictor4","PredictorAdd4"),oe("Predictor5","PredictorAdd5"),oe("Predictor6","PredictorAdd6"),oe("Predictor7","PredictorAdd7"),oe("Predictor8","PredictorAdd8"),oe("Predictor9","PredictorAdd9"),oe("Predictor10","PredictorAdd10"),oe("Predictor11","PredictorAdd11"),oe("Predictor12","PredictorAdd12"),oe("Predictor13","PredictorAdd13");var Sf=A.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Vg,ga=A.ColorIndexInverseTransform,Ju=A.MapARGB,zg=A.VP8LColorIndexInverseTransformAlpha,qg=A.MapAlpha,tl=A.VP8LPredictorsAdd=[];tl.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Ec,ks,os,rl,fo,po,Zu,mo,en,_f,ls,ya,Qu,Wg,Nf,Pc,Ac,nl,Tc,ed,Lc,sl,jf,va,xa,_r,Nr,tn,vn=a(511),go=a(2041),Cf=a(225),td=a(767),Hg=0,Dx=go,Gg=Cf,Ks=td,wa=vn,Yg=0,Kg=1,yj=2,Xg=3,Jg=4,Rx=5,vj=6,Ox=7,Ix=8,Zg=9,Mx=10,UF=[2,3,7],VF=[3,3,11],xj=[280,256,256,256,40],zF=[0,1,1,1,0],qF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],WF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],HF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],GF=8,Fx=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bx=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kf=null,YF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],KF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],XF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],JF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ZF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],QF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],al=[],Ga=[],yo=[],e7=1,bj=2,il=[],ba=[];Le("UpsampleRgbLinePair",Xt,3),Le("UpsampleBgrLinePair",Fr,3),Le("UpsampleRgbaLinePair",Ha,4),Le("UpsampleBgraLinePair",Nn,4),Le("UpsampleArgbLinePair",qn,4),Le("UpsampleRgba4444LinePair",dn,2),Le("UpsampleRgb565LinePair",qr,2);var t7=A.UpsampleRgbLinePair,r7=A.UpsampleBgrLinePair,Sj=A.UpsampleRgbaLinePair,_j=A.UpsampleBgraLinePair,Nj=A.UpsampleArgbLinePair,jj=A.UpsampleRgba4444LinePair,n7=A.UpsampleRgb565LinePair,Qg=16,ey=1<<Qg-1,Ef=-227,$x=482,Cj=6,s7=(256<<Cj)-1,kj=0,a7=a(256),i7=a(256),o7=a(256),l7=a(256),c7=a($x-Ef),u7=a($x-Ef);Ri("YuvToRgbRow",Xt,3),Ri("YuvToBgrRow",Fr,3),Ri("YuvToRgbaRow",Ha,4),Ri("YuvToBgraRow",Nn,4),Ri("YuvToArgbRow",qn,4),Ri("YuvToRgba4444Row",dn,2),Ri("YuvToRgb565Row",qr,2);var Ej=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ty=[0,2,8],d7=[8,7,6,4,4,2,2,2,1,1,1,1],h7=1;this.WebPDecodeRGBA=function(m,w,j,k,R){var $=Kg,U=new qu,z=new Sr;U.ba=z,z.S=$,z.width=[z.width],z.height=[z.height];var H=z.width,J=z.height,de=new Ir;if(de==null||m==null)var we=2;else t(de!=null),we=Hu(m,w,j,de.width,de.height,de.Pd,de.Qd,de.format,null);if(we!=0?H=0:(H!=null&&(H[0]=de.width[0]),J!=null&&(J[0]=de.height[0]),H=1),H){z.width=z.width[0],z.height=z.height[0],k!=null&&(k[0]=z.width),R!=null&&(R[0]=z.height);e:{if(k=new Mu,(R=new ff).data=m,R.w=w,R.ha=j,R.kd=1,w=[0],t(R!=null),((m=Hu(R.data,R.w,R.ha,null,null,null,w,null,R))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(t(U!=null),k.data=R.data,k.w=R.w+R.offset,k.ha=R.ha-R.offset,k.put=ki,k.ac=Rn,k.bc=Ei,k.ma=U,R.xa){if((m=ma())==null){U=1;break e}if(function(be,pe){var Me=[0],Ae=[0],he=[0];t:for(;;){if(be==null)return 0;if(pe==null)return be.a=2,0;if(be.l=pe,be.a=0,M(be.m,pe.data,pe.w,pe.ha),!wt(be.m,Me,Ae,he)){be.a=3;break t}if(be.xb=bj,pe.width=Me[0],pe.height=Ae[0],!Ti(Me[0],Ae[0],1,be,null))break t;return 1}return t(be.a!=0),0}(m,k)){if(k=(w=Gu(k.width,k.height,U.Oa,U.ba))==0){t:{k=m;r:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((j=k.l)!=null),t((R=j.ma)!=null),k.xb!=0){if(k.ca=R.ba,k.tb=R.tb,t(k.ca!=null),!xf(R.Oa,j,Xg)){k.a=2;break r}if(!_c(k,j.width)||j.da)break r;if((j.da||Ze(k.ca.S))&&ye(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ye()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!Je(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!za(k,k.V,k.Ba,k.c,k.i,j.o,Tu))break r;R.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(w=m.a)}else w=m.a}else{if((m=new fx)==null){U=1;break e}if(m.Fa=R.na,m.P=R.P,m.qc=R.Sa,Cg(m,k)){if((w=Gu(k.width,k.height,U.Oa,U.ba))==0){if(m.Aa=0,j=U.Oa,t((R=m)!=null),j!=null){if(0<(H=0>(H=j.Md)?0:100<H?255:255*H/100)){for(J=de=0;4>J;++J)12>(we=R.pb[J]).lc&&(we.ia=H*d7[0>we.lc?0:we.lc]>>3),de|=we.ia;de&&(alert("todo:VP8InitRandom"),R.ia=1)}R.Ga=j.Id,100<R.Ga?R.Ga=100:0>R.Ga&&(R.Ga=0)}px(m,k)||(w=m.a)}}else w=m.a}w==0&&U.Oa!=null&&U.Oa.fd&&(w=wf(U.ba))}U=w}$=U!=0?null:11>$?z.f.RGBA.eb:z.f.kb.y}else $=null;return $};var Pj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(A,K){for(var Q="",I=0;I<4;I++)Q+=String.fromCharCode(A[K++]);return Q}function d(A,K){return(A[K+0]<<0|A[K+1]<<8|A[K+2]<<16)>>>0}function h(A,K){return(A[K+0]<<0|A[K+1]<<8|A[K+2]<<16|A[K+3]<<24)>>>0}new c;var f=[0],p=[0],g=[],y=new c,S=e,b=function(A,K){var Q={},I=0,D=!1,L=0,B=0;if(Q.frames=[],!function(G,Z,ae,W){for(var se=0;se<W;se++)if(G[Z+se]!=ae.charCodeAt(se))return!0;return!1}(A,K,"RIFF",4)){for(h(A,K+=4),K+=8;K<A.length;){var q=u(A,K),ee=h(A,K+=4);K+=4;var V=ee+(1&ee);switch(q){case"VP8 ":case"VP8L":Q.frames[I]===void 0&&(Q.frames[I]={}),(ie=Q.frames[I]).src_off=D?B:K-8,ie.src_size=L+ee+8,I++,D&&(D=!1,L=0,B=0);break;case"VP8X":(ie=Q.header={}).feature_flags=A[K];var M=K+4;ie.canvas_width=1+d(A,M),M+=3,ie.canvas_height=1+d(A,M),M+=3;break;case"ALPH":D=!0,L=V+8,B=K-8;break;case"ANIM":(ie=Q.header).bgcolor=h(A,K),M=K+4,ie.loop_count=(me=A)[(T=M)+0]<<0|me[T+1]<<8,M+=2;break;case"ANMF":var Y,ie;(ie=Q.frames[I]={}).offset_x=2*d(A,K),K+=3,ie.offset_y=2*d(A,K),K+=3,ie.width=1+d(A,K),K+=3,ie.height=1+d(A,K),K+=3,ie.duration=d(A,K),K+=3,Y=A[K++],ie.dispose=1&Y,ie.blend=Y>>1&1}q!="ANMF"&&(K+=V)}var me,T;return Q}}(S,0);b.response=S,b.rgbaoutput=!0,b.dataurl=!1;var x=b.header?b.header:null,N=b.frames?b.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],p=[x.canvas_width];for(var C=0;C<N.length&&N[C].blend!=0;C++);}var E=N[0],F=y.WebPDecodeRGBA(S,E.src_off,E.src_size,p,f);E.rgba=F,E.imgwidth=p[0],E.imgheight=f[0];for(var P=0;P<p[0]*f[0]*4;P++)g[P]=F[P];return this.width=p,this.height=f,this.data=g,this}(function(e){var t=function(){return typeof U5=="function"},r=function(f,p,g,y){var S=4,b=i;switch(y){case e.image_compression.FAST:S=1,b=a;break;case e.image_compression.MEDIUM:S=6,b=o;break;case e.image_compression.SLOW:S=9,b=c}f=n(f,p,g,b);var x=U5(f,{level:S});return e.__addimage__.arrayBufferToBinaryString(x)},n=function(f,p,g,y){for(var S,b,x,N=f.length/p,C=new Uint8Array(f.length+N),E=d(),F=0;F<N;F+=1){if(x=F*p,S=f.subarray(x,x+p),y)C.set(y(S,g,b),x+F);else{for(var P,A=E.length,K=[];P<A;P+=1)K[P]=E[P](S,g,b);var Q=h(K.concat());C.set(K[Q],x+F)}b=S}return C},s=function(f){var p=Array.apply([],f);return p.unshift(0),p},a=function(f,p){var g,y=[],S=f.length;y[0]=1;for(var b=0;b<S;b+=1)g=f[b-p]||0,y[b+1]=f[b]-g+256&255;return y},i=function(f,p,g){var y,S=[],b=f.length;S[0]=2;for(var x=0;x<b;x+=1)y=g&&g[x]||0,S[x+1]=f[x]-y+256&255;return S},o=function(f,p,g){var y,S,b=[],x=f.length;b[0]=3;for(var N=0;N<x;N+=1)y=f[N-p]||0,S=g&&g[N]||0,b[N+1]=f[N]+256-(y+S>>>1)&255;return b},c=function(f,p,g){var y,S,b,x,N=[],C=f.length;N[0]=4;for(var E=0;E<C;E+=1)y=f[E-p]||0,S=g&&g[E]||0,b=g&&g[E-p]||0,x=u(y,S,b),N[E+1]=f[E]-x+256&255;return N},u=function(f,p,g){if(f===p&&p===g)return f;var y=Math.abs(p-g),S=Math.abs(f-g),b=Math.abs(f+p-g-g);return y<=S&&y<=b?f:S<=b?p:g},d=function(){return[s,a,i,o,c]},h=function(f){var p=f.map(function(g){return g.reduce(function(y,S){return y+Math.abs(S)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(f,p,g,y){var S,b,x,N,C,E,F,P,A,K,Q,I,D,L,B,q=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(x=new Ore(f)).imgData,b=x.bits,S=x.colorSpace,C=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){A=(P=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,Q=new Uint8Array(A*x.colors),K=new Uint8Array(A);var V,M=x.pixelBitlength-x.bits;for(L=0,B=0;L<A;L++){for(D=P[L],V=0;V<M;)Q[B++]=D>>>V&255,V+=x.bits;K[L]=D>>>V&255}}if(x.bits===16){A=(P=new Uint32Array(x.decodePixels().buffer)).length,Q=new Uint8Array(A*(32/x.pixelBitlength)*x.colors),K=new Uint8Array(A*(32/x.pixelBitlength)),I=x.colors>1,L=0,B=0;for(var Y=0;L<A;)D=P[L++],Q[B++]=D>>>0&255,I&&(Q[B++]=D>>>16&255,D=P[L++],Q[B++]=D>>>0&255),K[Y++]=D>>>16&255;b=8}y!==e.image_compression.NONE&&t()?(f=r(Q,x.width*x.colors,x.colors,y),F=r(K,x.width,1,y)):(f=Q,F=K,q=void 0)}if(x.colorType===3&&(S=this.color_spaces.INDEXED,E=x.palette,x.transparency.indexed)){var ie=x.transparency.indexed,me=0;for(L=0,A=ie.length;L<A;++L)me+=ie[L];if((me/=255)===A-1&&ie.indexOf(0)!==-1)N=[ie.indexOf(0)];else if(me!==A){for(P=x.decodePixels(),K=new Uint8Array(P.length),L=0,A=P.length;L<A;L++)K[L]=ie[P[L]];F=r(K,x.width,1)}}var T=function(G){var Z;switch(G){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(y);return q===this.decode.FLATE_DECODE&&(ee="/Predictor "+T+" "),ee+="/Colors "+C+" /BitsPerComponent "+b+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:g,data:f,index:p,filter:q,decodeParameters:ee,transparency:N,palette:E,sMask:F,predictor:T,width:x.width,height:x.height,bitsPerComponent:b,colorSpace:S}}}})(_t.API),function(e){e.processGIF89A=function(t,r,n,s){var a=new Ire(t),i=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:o},d=new v2(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(_t.API),Qa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){br.log("bit decode error:"+r)}},Qa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[i+4*o]=c.blue,this.data[i+4*o+1]=c.green,this.data[i+4*o+2]=c.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Qa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*s*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Qa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Qa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}this.pos+=e}},Qa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,d=s*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Qa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Qa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=i}},Qa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var a=new Qa(t,!1),i=a.width,o=a.height,c={data:a.getData(),width:i,height:o},u=new v2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(_t.API),oP.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var a=new oP(t),i=a.width,o=a.height,c={data:a.getData(),width:i,height:o},u=new v2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(_t.API),_t.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,c=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],f=n[u+2],p=n[u+3];a[o++]=d,a[o++]=h,a[o++]=f,i[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},_t.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},pd=_t.API,Jy=pd.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,f=0,p=e.length,g=0,y=o[0]||c,S=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?S.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+i*(1e3/a)||0)/1e3):(f=h&&gr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,S.push((o[n]||y)/c+f)),g=n;return S},nP=pd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return pd.processArabic&&(e=pd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Jy.apply(this,arguments).reduce(function(a,i){return a+i},0)},sP=function(e,t,r,n){for(var s=[],a=0,i=e.length,o=0;a!==i&&o+t[a]<r;)o+=t[a],a++;s.push(e.slice(0,a));var c=a;for(o=0;a!==i;)o+t[a]>n&&(s.push(e.slice(c,a)),o=0,c=a),o+=t[a],a++;return c!==a&&s.push(e.slice(c,a)),s},aP=function(e,t,r){r||(r={});var n,s,a,i,o,c,u,d=[],h=[d],f=r.textIndent||0,p=0,g=0,y=e.split(" "),S=Jy.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),x=[];y.map(function(C){(C=C.split(/\s*\n/)).length>1?x=x.concat(C.map(function(E,F){return(F&&E.length?`
`:"")+E})):x.push(C[0])}),y=x,c=nP.apply(this,[b,r])}for(a=0,i=y.length;a<i;a++){var N=0;if(n=y[a],c&&n[0]==`
`&&(n=n.substr(1),N=1),f+p+(g=(s=Jy.apply(this,[n,r])).reduce(function(C,E){return C+E},0))>t||N){if(g>t){for(o=sP.apply(this,[n,s,t-(f+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);g=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,E){return C+E},0)}else d=[n];h.push(d),f=g+c,p=S}else d.push(n),f+=p+g,p=S}return u=c?function(C,E){return(E?b:"")+C.join(" ")}:function(C){return C.join(" ")},h.map(u)},pd.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(aP.apply(this,[n[o],i,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},i=e.__fontmetrics__.compress=function(h){var f,p,g,y,S=["{"];for(var b in h){if(f=h[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=a(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(g=a(f).slice(3),y="-"):(g=a(f).slice(2),y=""),g=y+g.slice(0,-1)+n[g.slice(-1)];else{if(gr(f)!=="object")throw new Error("Don't know what to do with value type "+gr(f)+".");g=i(f)}S.push(p+g)}return S.push("}"),S.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,y,S={},b=1,x=S,N=[],C="",E="",F=h.length-1,P=1;P<F;P+=1)(y=h[P])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(N.push([x,g]),x={},g=void 0):y=="}"?((p=N.pop())[0][p[1]]=x,g=void 0,x=p[0]):y=="-"?b=-1:g===void 0?r.hasOwnProperty(y)?(C+=r[y],g=parseInt(C,16)*b,b=1,C=""):C+=y:r.hasOwnProperty(y)?(E+=r[y],x[g]=parseInt(E,16)*b,b=1,g=void 0,E=""):E+=y;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(_t.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=r.charCodeAt(a);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Ep(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(s,n)}}])}(_t),function(e){function t(){return(Nt.canvg?Promise.resolve(Nt.canvg):vs(()=>import("./index.es-A5rWR2zu.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}_t.API.addSvgAsImage=function(r,n,s,a,i,o,c,u){if(isNaN(n)||isNaN(s))throw br.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw br.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,s,a,i,c,u)})}}(),_t.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},_t.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),c=[],u=0,d=0,h=0;function f(g,y){var S,b=!1;for(S=0;S<g.length;S+=1)g[S]===y&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(h=0;h<p;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(gr(e)==="object"){for(s in e)if(a=e[s],f(o,s)&&a!==void 0){if(r[s].type==="boolean"&&typeof a=="boolean")r[s].value=a;else if(r[s].type==="name"&&f(r[s].valueSet,a))r[s].value=a;else if(r[s].type==="integer"&&Number.isInteger(a))r[s].value=a;else if(r[s].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?y.push("/"+g+" /"+r[g].value):y.push("/"+g+" "+r[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+i.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+a+i+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(_t.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,i){for(var o,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=a.length;h<f;++h){if(o=i.metadata.characterToGlyph(a.charCodeAt(h)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=a.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(a){var i,o,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(o=Object.keys(a).sort(function(p,g){return p-g})).length;h<f;h++)i=o[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[i]!==void 0&&a[i]!==null&&typeof a[i].toString=="function"&&(u=("0000"+a[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var y=u();d({data:p,addLength1:!0,objectId:y}),c("endobj");var S=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+xd(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+xd(o.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+xd(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=u();d({data:f,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var S=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+xd(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+xd(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var s=function(a){var i,o=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},f=h.pdfEscape,p=h.activeFontKey,g=h.fonts,y=p,S="",b=0,x="",N=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:h};for(x=o,y=p,Array.isArray(o)&&(x=o[0]),b=0;b<x.length;b+=1)g[y].metadata.hasOwnProperty("cmap")&&(i=g[y].metadata.cmap.unicode.codeMap[x[b].charCodeAt(0)]),i||x[b].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?S+=x[b]:S+="";var C="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?C=f(S,y).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(C=r(S,g[y])),h.isHex=!0,{text:C,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(a){var i=a.text||"",o=[],c={text:i,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([s(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(s(Object.assign({},c,{text:i[u]})).text);a.text=o}else a.text=s(Object.assign({},c,{text:i})).text}])}(_t),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(_t.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,a,i,o,c,u,d,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,N=0;this.__bidiEngine__={};var C=function(I){var D=I.charCodeAt(),L=D>>8,B=y[L];return B!==void 0?h[256*B+(255&D)]:L===252||L===253?"AL":b.test(L)?"L":L===8?"R":"N"},E=function(I){for(var D,L=0;L<I.length;L++){if((D=C(I.charAt(L)))==="L")return!1;if(D==="R")return!0}return!1},F=function(I,D,L,B){var q,ee,V,M,Y=D[B];switch(Y){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(Y="AN");break;case"AL":x=!0,Y="R";break;case"WS":Y="N";break;case"CS":B<1||B+1>=D.length||(q=L[B-1])!=="EN"&&q!=="AN"||(ee=D[B+1])!=="EN"&&ee!=="AN"?Y="N":x&&(ee="AN"),Y=ee===q?ee:"N";break;case"ES":Y=(q=B>0?L[B-1]:"B")==="EN"&&B+1<D.length&&D[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&L[B-1]==="EN"){Y="EN";break}if(x){Y="N";break}for(V=B+1,M=D.length;V<M&&D[V]==="ET";)V++;Y=V<M&&D[V]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(M=D.length,V=B+1;V<M&&D[V]==="NSM";)V++;if(V<M){var ie=I[B],me=ie>=1425&&ie<=2303||ie===64286;if(q=D[V],me&&(q==="R"||q==="AL")){Y="R";break}}}Y=B<1||(q=D[B-1])==="B"?"N":L[B-1];break;case"B":x=!1,s=!0,Y=N;break;case"S":a=!0,Y="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":Y="N"}return Y},P=function(I,D,L){var B=I.split("");return L&&A(B,L,{hiLevel:N}),B.reverse(),D&&D.reverse(),B.join("")},A=function(I,D,L){var B,q,ee,V,M,Y=-1,ie=I.length,me=0,T=[],G=N?p:f,Z=[];for(x=!1,s=!1,a=!1,q=0;q<ie;q++)Z[q]=C(I[q]);for(ee=0;ee<ie;ee++){if(M=me,T[ee]=F(I,Z,T,ee),B=240&(me=G[M][g[T[ee]]]),me&=15,D[ee]=V=G[me][5],B>0)if(B===16){for(q=Y;q<ee;q++)D[q]=1;Y=-1}else Y=-1;if(G[me][6])Y===-1&&(Y=ee);else if(Y>-1){for(q=Y;q<ee;q++)D[q]=V;Y=-1}Z[ee]==="B"&&(D[ee]=0),L.hiLevel|=V}a&&function(ae,W,se){for(var le=0;le<se;le++)if(ae[le]==="S"){W[le]=N;for(var ue=le-1;ue>=0&&ae[ue]==="WS";ue--)W[ue]=N}}(Z,D,ie)},K=function(I,D,L,B,q){if(!(q.hiLevel<I)){if(I===1&&N===1&&!s)return D.reverse(),void(L&&L.reverse());for(var ee,V,M,Y,ie=D.length,me=0;me<ie;){if(B[me]>=I){for(M=me+1;M<ie&&B[M]>=I;)M++;for(Y=me,V=M-1;Y<V;Y++,V--)ee=D[Y],D[Y]=D[V],D[V]=ee,L&&(ee=L[Y],L[Y]=L[V],L[V]=ee);me=M}me++}}},Q=function(I,D,L){var B=I.split(""),q={hiLevel:N};return L||(L=[]),A(B,L,q),function(ee,V,M){if(M.hiLevel!==0&&d)for(var Y,ie=0;ie<ee.length;ie++)V[ie]===1&&(Y=S.indexOf(ee[ie]))>=0&&(ee[ie]=S[Y+1])}(B,L,q),K(2,B,D,L,q),K(1,B,D,L,q),B.join("")};return this.__bidiEngine__.doBidiReorder=function(I,D,L){if(function(q,ee){if(ee)for(var V=0;V<q.length;V++)ee[V]=V;o===void 0&&(o=E(q)),u===void 0&&(u=E(q))}(I,D),i||!c||u)if(i&&c&&o^u)N=o?1:0,I=P(I,D,L);else if(!i&&c&&u)N=o?1:0,I=Q(I,D,L),I=P(I,D);else if(!i||o||c||u){if(i&&!c&&o^u)I=P(I,D),o?(N=0,I=Q(I,D,L)):(N=1,I=Q(I,D,L),I=P(I,D));else if(i&&o&&!c&&u)N=1,I=Q(I,D,L),I=P(I,D);else if(!i&&!c&&o^u){var B=d;o?(N=1,I=Q(I,D,L),N=0,d=!1,I=Q(I,D,L),d=B):(N=0,I=Q(I,D,L),I=P(I,D),N=1,d=!1,I=Q(I,D,L),d=B,I=P(I,D))}}else N=0,I=Q(I,D,L);else N=o?1:0,I=Q(I,D,L);return I},this.__bidiEngine__.setOptions=function(I){I&&(i=I.isInputVisual,c=I.isOutputVisual,o=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var i=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(i=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?i.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):i.push([r.doBidiReorder(s[o])]);n.text=i}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(_t),_t.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new ic(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Jre(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Mre(this.contents),this.head=new Bre(this),this.name=new qre(this),this.cmap=new tI(this),this.toUnicode={},this.hhea=new $re(this),this.maxp=new Wre(this),this.hmtx=new Hre(this),this.post=new Vre(this),this.os2=new Ure(this),this.loca=new Xre(this),this.glyf=new Gre(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,c,u;for(u=[],i=0,o=(c=this.bbox).length;i<o;i++)t=c[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,a,i,o;for(i=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)s=t.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ci,ic=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,a,i,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^i)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*a+65536*i+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),Mre=function(){var e;function t(r){var n,s,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,a,i,o,c,u,d,h,f,p,g,y;for(y in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),i=Math.floor(h/c),d=16*p-h,(s=new ic).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(i),s.writeShort(d),a=16*p,u=s.pos+a,o=null,g=[],r)for(f=r[y],s.writeString(y),s.writeInt(e(f)),s.writeInt(u),s.writeInt(f.length),g=g.concat(f),y==="head"&&(o=u),u+=f.length;u%4;)g.push(0),u++;return s.write(g),n=2981146554-e(s.data),s.pos=o+8,s.writeUInt32(n),s.data},e=function(r){var n,s,a,i;for(r=rI.call(r);r.length%4;)r.push(0);for(a=new ic(r),s=0,n=0,i=r.length;n<i;n=n+=4)s+=a.readUInt32();return 4294967295&s},t}(),Fre={}.hasOwnProperty,lo=function(e,t){for(var r in t)Fre.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ci=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Bre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new ic).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),lP=function(){function e(t,r){var n,s,a,i,o,c,u,d,h,f,p,g,y,S,b,x,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),f=p/2,t.pos+=6,a=function(){var C,E;for(E=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)E.push(t.readUInt16());return E}(),t.pos+=2,y=function(){var C,E;for(E=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)E.push(t.readUInt16());return E}(),u=function(){var C,E;for(E=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)E.push(t.readUInt16());return E}(),d=function(){var C,E;for(E=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)E.push(t.readUInt16());return E}(),s=(this.length-t.pos+this.offset)/2,o=function(){var C,E;for(E=[],c=C=0;0<=s?C<s:C>s;c=0<=s?++C:--C)E.push(t.readUInt16());return E}(),c=b=0,N=a.length;b<N;c=++b)for(S=a[c],n=x=g=y[c];g<=S?x<=S:x>=S;n=g<=S?++x:--x)d[c]===0?i=n+u[c]:(i=o[d[c]/2+(n-g)-(f-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}t.pos=h}return e.encode=function(t,r){var n,s,a,i,o,c,u,d,h,f,p,g,y,S,b,x,N,C,E,F,P,A,K,Q,I,D,L,B,q,ee,V,M,Y,ie,me,T,G,Z,ae,W,se,le,ue,xe,Ee,Se;switch(B=new ic,i=Object.keys(t).sort(function(ke,Je){return ke-Je}),r){case"macroman":for(y=0,S=function(){var ke=[];for(g=0;g<256;++g)ke.push(0);return ke}(),x={0:0},a={},q=0,Y=i.length;q<Y;q++)x[ue=t[s=i[q]]]==null&&(x[ue]=++y),a[s]={old:t[s],new:x[t[s]]},S[s]=x[t[s]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(S),{charMap:a,subtable:B.data,maxGlyphID:y+1};case"unicode":for(D=[],h=[],N=0,x={},n={},b=u=null,ee=0,ie=i.length;ee<ie;ee++)x[E=t[s=i[ee]]]==null&&(x[E]=++N),n[s]={old:E,new:x[E]},o=x[E]-s,b!=null&&o===u||(b&&h.push(b),D.push(s),u=o),b=s;for(b&&h.push(b),h.push(65535),D.push(65535),Q=2*(K=D.length),A=2*Math.pow(Math.log(K)/Math.LN2,2),f=Math.log(A/2)/Math.LN2,P=2*K-A,c=[],F=[],p=[],g=V=0,me=D.length;V<me;g=++V){if(I=D[g],d=h[g],I===65535){c.push(0),F.push(0);break}if(I-(L=n[I].new)>=32768)for(c.push(0),F.push(2*(p.length+K-g)),s=M=I;I<=d?M<=d:M>=d;s=I<=d?++M:--M)p.push(n[s].new);else c.push(L-I),F.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*K+2*p.length),B.writeUInt16(0),B.writeUInt16(Q),B.writeUInt16(A),B.writeUInt16(f),B.writeUInt16(P),se=0,T=h.length;se<T;se++)s=h[se],B.writeUInt16(s);for(B.writeUInt16(0),le=0,G=D.length;le<G;le++)s=D[le],B.writeUInt16(s);for(xe=0,Z=c.length;xe<Z;xe++)o=c[xe],B.writeUInt16(o);for(Ee=0,ae=F.length;Ee<ae;Ee++)C=F[Ee],B.writeUInt16(C);for(Se=0,W=p.length;Se<W;Se++)y=p[Se],B.writeUInt16(y);return{charMap:n,subtable:B.data,maxGlyphID:N+1}}},e}(),tI=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)n=new lP(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,a;return n==null&&(n="macroman"),s=lP.encode(r,n),(a=new ic).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),$re=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Ure=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Vre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(s=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],i=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;i=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),zre=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,a,i,o,c,u,d,h,f,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},i=h=0,f=s.length;h<f;i=++h)a=s[i],r.pos=a.offset,d=r.readString(a.length),o=new zre(d,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Wre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Hre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,a,i,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],n=d=0;0<=a?d<a:d>a;n=0<=a?++d:--d)h.push(r.readInt16());return h}(),this.widths=(function(){var d,h,f,p;for(p=[],d=0,h=(f=this.metrics).length;d<h;d++)i=f[d],p.push(i.advance);return p}).call(this),s=this.widths[this.widths.length-1],u=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),rI=[].slice,Gre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,a,i,o,c,u,d,h,f;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,s=i.indexOf(r),(a=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(c=new ic(n.read(a))).readShort(),d=c.readShort(),f=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=o===-1?new Kre(c,d,f,u,h):new Yre(c,o,d,f,u,h),this.cache[r]))},t.prototype.encode=function(r,n,s){var a,i,o,c,u;for(o=[],i=[],c=0,u=n.length;c<u;c++)a=r[n[c]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},t}(),Yre=function(){function e(t,r,n,s,a,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Kre=function(){function e(t,r,n,s,a){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new ic(rI.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Xre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lo(t,Ci),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<n.length&&n[i]==o){++i,s[o]=a;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(a+=u)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},t}(),Jre=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,a;for(r in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,a,i,o,c;for(s={},i=0,o=t.length;i<o;i++)s[a=t[i]]=this.font.glyf.glyphFor(a);for(a in r=[],s)(n=s[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],s[a]=n;return s},e.prototype.encode=function(t,r){var n,s,a,i,o,c,u,d,h,f,p,g,y,S,b;for(s in n=tI.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),p={0:0},b=n.charMap)p[(c=b[s]).old]=c.new;for(g in f=n.maxGlyphID,i)g in p||(p[g]=f++);return d=function(x){var N,C;for(N in C={},x)C[x[N]]=N;return C}(p),h=Object.keys(d).sort(function(x,N){return x-N}),y=function(){var x,N,C;for(C=[],x=0,N=h.length;x<N;x++)o=h[x],C.push(d[o]);return C}(),a=this.font.glyf.encode(i,y,p),u=this.font.loca.encode(a.offsets,y),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();_t.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,a,i;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in a=["<<"],r)i=r[s],a.push("/"+s+" "+t.convert(i));return a.push(">>"),a.join(`
`)}return""+r},t}();function nI(e,t,r,n,s){n=n||{};var a=1.15,i=s.internal.scaleFactor,o=s.internal.getFontSize()/i,c=s.getLineHeightFactor?s.getLineHeightFactor():a,u=o*c,d=/\r\n|\r|\n/g,h="",f=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(d):e,f=h.length||1),r+=o*(2-a),n.valign==="middle"?r-=f/2*u:n.valign==="bottom"&&(r-=f*u),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),h&&f>=1){for(var g=0;g<h.length;g++)s.text(h[g],t-s.getStringUnitWidth(h[g])*p,r),r+=u;return s}t-=s.getStringUnitWidth(e)*p}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var cP={},rh=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:cP=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,c=i.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,a){return this.jsPDFDocument.rect(t,r,n,s,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return cP||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Y5=function(e,t){return Y5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Y5(e,t)};function sI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Y5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var aI=function(e){sI(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Zre(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Qre(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function b0(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,i){return Math.max(a,i)},0);return s}function iI(e,t,r,n){var s=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:a});var i=oI(s,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function oI(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function X1(e,t){var r,n,s,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function lI(e,t){var r=X1(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function ene(e,t,r,n,s){var a={},i=1.3333333333333333,o=x2(t,function(N){return s.getComputedStyle(N).backgroundColor});o!=null&&(a.fillColor=o);var c=x2(t,function(N){return s.getComputedStyle(N).color});c!=null&&(a.textColor=c);var u=rne(n,r);u&&(a.cellPadding=u);var d="borderTopColor",h=i*r,f=n.borderTopWidth;if(n.borderBottomWidth===f&&n.borderRightWidth===f&&n.borderLeftWidth===f){var p=(parseFloat(f)||0)/h;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var g=x2(t,function(N){return s.getComputedStyle(N)[d]});g!=null&&(a.lineColor=g);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var S=parseInt(n.fontSize||"");isNaN(S)||(a.fontSize=S/i);var b=tne(n);b&&(a.fontStyle=b);var x=(n.fontFamily||"").toLowerCase();return e.indexOf(x)!==-1&&(a.font=x),a}function tne(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function x2(e,t){var r=cI(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function cI(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:cI(e.parentElement,t):r}function rne(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(o){return parseInt(o||"0")/n}),i=X1(a,0);return s>i.top&&(i.top=s),s>i.bottom&&(i.bottom=s),i}function uI(e,t,r,n,s){var a,i;n===void 0&&(n=!1),s===void 0&&(s=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],h=[],f=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:f};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],y=(i=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.tagName)===null||i===void 0?void 0:i.toLowerCase(),S=nne(c,u,r,g,n,s);S&&(y==="thead"?d.push(S):y==="tfoot"?f.push(S):h.push(S))}return{head:d,body:h,foot:f}}function nne(e,t,r,n,s,a){for(var i=new aI(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=r.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;a&&(d=ene(e,c,t,u,r)),i.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:sne(c)})}}var h=r.getComputedStyle(n);if(i.length>0&&(s||h.display!=="none"))return i}function sne(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function ane(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var a=s[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Lo(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a}function ine(e,t){var r=new rh(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();ane(s,n,t);var a=Lo({},s,n,t),i;typeof window<"u"&&(i=window);var o=one(s,n,t),c=lne(s,n,t),u=cne(r,a),d=dne(r,a,i);return{id:t.tableId,content:d,hooks:c,styles:o,settings:u}}function one(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],h=r[c];n.columnStyles=Lo({},u,d,h)}else{var f=[e,t,r],p=f.map(function(g){return g[c]||{}});n[c]=Lo({},p[0],p[1],p[2])}},a=0,i=Object.keys(n);a<i.length;a++){var o=i[a];s(o)}return n}function lne(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=n;a<i.length;a++){var o=i[a];o.didParseCell&&s.didParseCell.push(o.didParseCell),o.willDrawCell&&s.willDrawCell.push(o.willDrawCell),o.didDrawCell&&s.didDrawCell.push(o.didDrawCell),o.willDrawPage&&s.willDrawPage.push(o.willDrawPage),o.didDrawPage&&s.didDrawPage.push(o.didDrawPage)}return s}function cne(e,t){var r,n,s,a,i,o,c,u,d,h,f,p,g=X1(t.margin,40/e.scaleFactor()),y=(r=une(e,t.startY))!==null&&r!==void 0?r:g.top,S;t.showFoot===!0?S="everyPage":t.showFoot===!1?S="never":S=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var x=(a=t.useCss)!==null&&a!==void 0?a:!1,N=t.theme||(x?"plain":"striped"),C=!!t.horizontalPageBreak,E=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:x,theme:N,startY:y,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:S,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(f=t.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:C,horizontalPageBreakRepeat:E,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function une(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;a=i===s}return typeof t=="number"?t:(t==null||t===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function dne(e,t,r){var n=t.head||[],s=t.body||[],a=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=uI(e,t.html,r,i,t.useCss)||{};n=o.head||n,s=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||hne(n,s,a);return{columns:c,head:n,body:s,foot:a}}function hne(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var i=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var c=0;c<i;c++){var u=void 0;Array.isArray(n)?u=s.length:u=a+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var K5=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),fne=function(e){sI(t,e);function t(r,n,s,a,i,o){var c=e.call(this,r,n,o)||this;return c.cell=s,c.row=a,c.column=i,c.section=a.section,c}return t}(K5),pne=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,a,i){for(var o=0,c=r;o<c.length;o++){var u=c[o],d=new fne(t,this,n,s,a,i),h=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var a=s[n];a(new K5(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var a=s[n];a(new K5(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),dI=function(){function e(t,r,n,s,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof aI&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var a;return Math.max(n,((a=r.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,a){var i=n.cells[a.index];if(!i)return 0;var o=r.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),u=c+o;return u>s?u:s},0)},e}(),hI=function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,a=n*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=X1(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),mne=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var a=s[n],i=a.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function gne(e,t){yne(e,t);var r=[],n=0;t.columns.forEach(function(a){var i=a.getMaxCustomCellWidth(t);i?a.width=i:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=X5(r,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=X5(r,s,function(a){return a.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),xne(t),wne(t,e),vne(t)}function yne(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=lI(e,t);t.allRows().forEach(function(a){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=a.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,a,c,null);var h=u.padding("horizontal");u.contentWidth=b0(u.text,u.styles,e)+h;var f=b0(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=f+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function X5(e,t,r){for(var n=t,s=e.reduce(function(p,g){return p+g.wrappedWidth},0),a=0;a<e.length;a++){var i=e[a],o=i.wrappedWidth/s,c=n*o,u=i.width+c,d=r(i),h=u<d?d:u;t-=h-i.width,i.width=h}if(t=Math.round(t*1e10)/1e10,t){var f=e.filter(function(p){return t<0?p.width>r(p):!0});f.length&&(t=X5(f,t,r))}return t}function vne(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var a=n[s],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=t[c.index];if(r>1)r--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var h=n.length-s,f=d.rowSpan>h?h:d.rowSpan;t[c.index]={cell:d,left:f,row:a}}}}}function xne(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,a=0,i=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(i-=1,i>1&&e.columns[o+1])a+=c.width,delete n.cells[c.index];else if(s){var u=s;delete n.cells[c.index],s=null,u.width=c.width+a}else{var u=n.cells[c.index];if(!u)continue;if(i=u.colSpan,a=0,u.colSpan>1){s=u,a+=c.width;continue}u.width=c.width+a}}}function wne(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var a=s[n],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=a.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=uP(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=uP(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<f*u.rowSpan?r={height:f,count:u.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>a.height&&(a.height=f)}}r.count--}}function uP(e,t,r,n,s){return e.map(function(a){return bne(a,t,r,n,s)})}function bne(e,t,r,n,s){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=b0(e,r,n))return e;for(;t<b0(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function Sne(e,t){var r=new rh(e),n=_ne(t,r.scaleFactor()),s=new pne(t,n);return gne(r,s),r.applyStyles(r.userStyles),s}function _ne(e,t){var r=e.content,n=jne(r.columns);if(r.head.length===0){var s=dP(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=dP(n,"foot");s&&r.foot.push(s)}var a=e.settings.theme,i=e.styles;return{columns:n,head:w2("head",r.head,n,i,a,t),body:w2("body",r.body,n,i,a,t),foot:w2("foot",r.foot,n,i,a,t)}}function w2(e,t,r,n,s,a){var i={},o=t.map(function(c,u){for(var d=0,h={},f=0,p=0,g=0,y=r;g<y.length;g++){var S=y[g];if(i[S.index]==null||i[S.index].left===0)if(p===0){var b=void 0;Array.isArray(c)?b=c[S.index-f-d]:b=c[S.dataKey];var x={};typeof b=="object"&&!Array.isArray(b)&&(x=(b==null?void 0:b.styles)||{});var N=Cne(e,S,u,s,n,a,x),C=new hI(b,N,e);h[S.dataKey]=C,h[S.index]=C,p=C.colSpan-1,i[S.index]={left:C.rowSpan-1,times:p}}else p--,f++;else i[S.index].left--,p=i[S.index].times,d++}return new dI(c,u,e,h)});return o}function dP(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=Nne(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function Nne(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function jne(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new mne(s,t,r)})}function Cne(e,t,r,n,s,a,i){var o=Qre(n),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var u=Lo({},o.table,o[e],s.styles,c),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?d:{},f=e==="body"&&r%2===0?Lo({},o.alternateRow,s.alternateRowStyles):{},p=Zre(a),g=Lo({},p,u,f,h);return Lo(g,i)}function kne(e,t,r){var n;r===void 0&&(r={});var s=lI(e,t),a=new Map,i=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(f){var p=t.columns.find(function(g){return g.dataKey===f||g.index===f});p&&!a.has(p.index)&&(a.set(p.index,!0),i.push(p.index),o.push(t.columns[p.index]),s-=p.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(a.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(u||s>=h)u=!1,i.push(d),o.push(t.columns[d]),s-=h;else break;d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function Ene(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=kne(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function Pne(e,t){var r=t.settings,n=r.startY,s=r.margin,a={x:s.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+s.bottom+i;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(f,p){return f+p.height},0);o+=u}var d=new rh(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(pI(d),a.y=s.top),t.callWillDrawPageHooks(d,a);var h=Lo({},a);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Ane(d,t,h,a):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(f){return Ho(d,t,f,a,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(f,p){var g=p===t.body.length-1;S0(d,t,f,g,h,a,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(f){return Ho(d,t,f,a,t.columns)})),iI(d,t,h,a),t.callEndPageHooks(d,a),t.finalY=a.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function Ane(e,t,r,n){var s=Ene(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Pp(e,t,r,n,u.columns,!0):hP(e,t,n,u.columns),Tne(e,t,r,n,u.columns),b2(e,t,n,u.columns)});else for(var i=-1,o=s[0],c=function(){var u=i;if(o){e.applyStyles(e.userStyles);var d=o.columns;i>=0?Pp(e,t,r,n,d,!0):hP(e,t,n,d),u=fP(e,t,i+1,n,d),b2(e,t,n,d)}var h=u-i;s.slice(1).forEach(function(f){e.applyStyles(e.userStyles),Pp(e,t,r,n,f.columns,!0),fP(e,t,i+1,n,f.columns,h),b2(e,t,n,f.columns)}),i=u};i<t.body.length-1;)c()}function hP(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(a){return Ho(e,t,a,r,n)})}function Tne(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(a,i){var o=i===t.body.length-1;S0(e,t,a,o,r,n,s)})}function fP(e,t,r,n,s,a){e.applyStyles(e.userStyles),a=a??t.body.length;var i=Math.min(r+a,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(c,u){var d=r+u===t.body.length-1,h=fI(e,t,d,n);c.canEntireRowFit(h,s)&&(Ho(e,t,c,n,s),o=r+u)}),o}function b2(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(a){return Ho(e,t,a,r,n)})}function Lne(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),a=Math.floor((t-s)/n);return Math.max(0,a)}function Dne(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var a=0,i=0,o=r.columns;i<o.length;i++){var c=o[i],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new hI(u.raw,u.styles,u.section);d=Lo(d,u),d.text=[];var h=Lne(u,t,n);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var f=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(f,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(f,p),d.contentHeight>a&&(a=d.contentHeight),s[c.index]=d}}var g=new dI(e.raw,-1,e.section,s,!0);g.height=a;for(var y=0,S=r.columns;y<S.length;y++){var c=S[y],d=g.cells[c.index];d&&(d.height=g.height);var u=e.cells[c.index];u&&(u.height=e.height)}return g}function Rne(e,t,r,n){var s=e.pageSize().height,a=n.settings.margin,i=a.top+a.bottom,o=s-i;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>o;return h?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function S0(e,t,r,n,s,a,i){var o=fI(e,t,n,a);if(r.canEntireRowFit(o,i))Ho(e,t,r,a,i);else if(Rne(e,r,o,t)){var c=Dne(r,o,t,e);Ho(e,t,r,a,i),Pp(e,t,s,a,i),S0(e,t,c,n,s,a,i)}else Pp(e,t,s,a,i),S0(e,t,r,n,s,a,i)}function Ho(e,t,r,n,s){n.x=t.settings.margin.left;for(var a=0,i=s;a<i.length;a++){var o=i[a],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(u===!1){n.x+=o.width;continue}One(e,c,n);var d=c.getTextPos();nI(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function One(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=oI(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),Ine(e,t,r,n.lineWidth))}function Ine(e,t,r,n){var s,a,i,o;n.top&&(s=r.x,a=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,a,i,o)),n.bottom&&(s=r.x,a=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,a,i,o)),n.left&&(s=r.x,a=r.y,i=r.x,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,s,a,i,o)),n.right&&(s=r.x+t.width,a=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,s,a,i,o));function c(u,d,h,f,p){e.getDocument().setLineWidth(u),e.getDocument().line(d,h,f,p,"S")}}function fI(e,t,r,n){var s=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function Pp(e,t,r,n,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(o){return Ho(e,t,o,n,s)}),t.callEndPageHooks(e,n);var i=t.settings.margin;iI(e,t,r,n),pI(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Ho(e,t,o,n,s)}),e.applyStyles(e.userStyles))}function pI(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function Mne(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=ine(this,n),a=Sne(this,s);return Pne(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){nI(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return rh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){rh.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new rh(this),a=uI(s,t,window,r,!1),i=a.head,o=a.body,c=((n=i[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var S2;try{if(typeof window<"u"&&window){var pP=window,mP=pP.jsPDF||((S2=pP.jspdf)===null||S2===void 0?void 0:S2.jsPDF);mP&&Mne(mP)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Fne=async(e,t)=>{switch(t){case"json":return Bne(e);case"csv":return $ne(e);case"pdf":return Une(e);case"excel":return Vne(e);default:throw new Error(`Unsupported export format: ${t}`)}},Bne=e=>new Promise(t=>{const r=JSON.stringify(e,null,2),n=new Blob([r],{type:"application/json"}),s=URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.download=`transactly-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),t()}),$ne=e=>new Promise(t=>{try{const r=e.map(c=>{var u,d,h,f,p,g,y,S,b,x,N;return{id:c.id,name:c.name,date:c.date,totalAmount:c.totalAmount,status:c.status,supplierName:(u=c.loadBuy)==null?void 0:u.supplierName,goodsName:(d=c.loadBuy)==null?void 0:d.goodsName,quantity:(h=c.loadBuy)==null?void 0:h.quantity,purchaseRate:(f=c.loadBuy)==null?void 0:f.purchaseRate,totalCost:(p=c.loadBuy)==null?void 0:p.totalCost,buyerName:(g=c.loadSold)==null?void 0:g.buyerName,saleRate:(y=c.loadSold)==null?void 0:y.saleRate,totalSaleAmount:(S=c.loadSold)==null?void 0:S.totalSaleAmount,origin:(b=c.transportation)==null?void 0:b.origin,destination:(x=c.transportation)==null?void 0:x.destination,transportCharges:(N=c.transportation)==null?void 0:N.charges}}),n=Object.keys(r[0]||{});let s=n.join(",")+`
`;r.forEach(c=>{const u=n.map(d=>{const h=c[d],f=h==null?"":String(h);return f.includes(",")||f.includes(`
`)||f.includes('"')?`"${f.replace(/"/g,'""')}"`:f}).join(",");s+=u+`
`});const a=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`transactly-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),t()}catch(r){console.error("CSV Export error:",r),t()}}),Une=e=>new Promise(t=>{try{const r=new _t;r.setFontSize(18),r.text("Transaction Export",14,22),r.setFontSize(11),r.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const n=e.map(s=>{var a,i;return[s.id.substring(0,8)+"...",s.name||"N/A",new Date(s.date||"").toLocaleDateString(),((a=s.totalAmount)==null?void 0:a.toString())||"0",s.status||"pending",((i=s.loadBuy)==null?void 0:i.goodsName)||"N/A"]});r.autoTable({head:[["ID","Name","Date","Amount","Status","Goods"]],body:n,startY:40,headStyles:{fillColor:[51,51,51]},alternateRowStyles:{fillColor:[245,245,245]}}),r.save(`transactly-export-${new Date().toISOString().split("T")[0]}.pdf`),t()}catch(r){console.error("PDF Export error:",r),t()}}),Vne=e=>new Promise(t=>{try{const r=e.map(o=>{var c,u,d,h,f,p,g,y,S,b,x;return{id:o.id,name:o.name,date:o.date,totalAmount:o.totalAmount,status:o.status,supplierName:(c=o.loadBuy)==null?void 0:c.supplierName,goodsName:(u=o.loadBuy)==null?void 0:u.goodsName,quantity:(d=o.loadBuy)==null?void 0:d.quantity,purchaseRate:(h=o.loadBuy)==null?void 0:h.purchaseRate,totalCost:(f=o.loadBuy)==null?void 0:f.totalCost,buyerName:(p=o.loadSold)==null?void 0:p.buyerName,saleRate:(g=o.loadSold)==null?void 0:g.saleRate,totalSaleAmount:(y=o.loadSold)==null?void 0:y.totalSaleAmount,origin:(S=o.transportation)==null?void 0:S.origin,destination:(b=o.transportation)==null?void 0:b.destination,transportCharges:(x=o.transportation)==null?void 0:x.charges}});let n=`<?xml version="1.0"?>
<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet">
<Worksheet ss:Name="Sheet1">
<Table>
`;n+=`<Row>
`,Object.keys(r[0]||{}).forEach(o=>{n+=`<Cell><Data ss:Type="String">${o}</Data></Cell>
`}),n+=`</Row>
`,r.forEach(o=>{n+=`<Row>
`,Object.values(o).forEach(c=>{if(c==null)n+=`<Cell><Data ss:Type="String"></Data></Cell>
`;else if(typeof c=="number")n+=`<Cell><Data ss:Type="Number">${c}</Data></Cell>
`;else{const u=String(c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");n+=`<Cell><Data ss:Type="String">${u}</Data></Cell>
`}}),n+=`</Row>
`}),n+=`</Table>
</Worksheet>
</Workbook>`;const s=new Blob([n],{type:"application/vnd.ms-excel"}),a=URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=`transactly-export-${new Date().toISOString().split("T")[0]}.xls`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a),t()}catch(r){console.error("Excel Export error:",r),t()}});var UN="Tabs",[zne,Ede]=pa(UN,[vc]),mI=vc(),[qne,VN]=zne(UN),gI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=Qh(o),[h,f]=Vs({prop:n,onChange:s,defaultProp:a});return l.jsx(qne,{scope:r,baseId:Ra(),value:h,onValueChange:f,orientation:i,dir:d,activationMode:c,children:l.jsx(mt.div,{dir:d,"data-orientation":i,...u,ref:t})})});gI.displayName=UN;var yI="TabsList",vI=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=VN(yI,r),i=mI(r);return l.jsx($1,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:l.jsx(mt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});vI.displayName=yI;var xI="TabsTrigger",wI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=VN(xI,r),o=mI(r),c=_I(i.baseId,n),u=NI(i.baseId,n),d=n===i.value;return l.jsx(U1,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx(mt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Xe(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:Xe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:Xe(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(n)})})})});wI.displayName=xI;var bI="TabsContent",SI=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,o=VN(bI,r),c=_I(o.baseId,n),u=NI(o.baseId,n),d=n===o.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(Ws,{present:s||d,children:({present:f})=>l.jsx(mt.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});SI.displayName=bI;function _I(e,t){return`${e}-trigger-${t}`}function NI(e,t){return`${e}-content-${t}`}var Wne=gI,jI=vI,CI=wI,kI=SI;const _2=768;function J1(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${_2-1}px)`),n=()=>{t(window.innerWidth<_2)};return r.addEventListener("change",n),t(window.innerWidth<_2),()=>r.removeEventListener("change",n)},[]),!!e}const nh=Wne,hg=v.forwardRef(({className:e,...t},r)=>{const n=J1();return l.jsx(jI,{ref:r,className:Ve("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n?"overflow-x-auto scrollbar-hide w-full":"",e),...t})});hg.displayName=jI.displayName;const aa=v.forwardRef(({className:e,icon:t,children:r,...n},s)=>{const a=J1(),i=n["data-state"]==="active",o=document.querySelector('[data-force-show-text="true"]')!==null;return l.jsxs(CI,{ref:s,className:Ve("relative inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a&&"min-w-[40px]",a&&!i&&t&&"px-2 py-1",e),...n,children:[t&&l.jsx("span",{className:Ve("transition-all duration-200",i||!a?"mr-2":"mr-0"),children:t}),l.jsx("span",{className:Ve("transition-all duration-200 whitespace-nowrap",n.className&&typeof n.className=="string"&&n.className.includes("settings-tab")||o?"inline-block":a&&!i&&t?"sr-only":"inline-block"),children:r}),i&&l.jsx("span",{className:"tab-active-indicator absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})});aa.displayName=CI.displayName;const Is=v.forwardRef(({className:e,...t},r)=>l.jsx(kI,{ref:r,className:Ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Is.displayName=kI.displayName;const Zy=({value:e,onChange:t,className:r,...n})=>{const s=v.useRef(null),[a,i]=v.useState(!1),[o,c]=v.useState(null),u=()=>{i(!0)},d=()=>{i(!1)},h=f=>{c(f.target.selectionStart),t(f.target.value)};return v.useEffect(()=>{if(a&&s.current&&(s.current.focus(),o!==null))try{s.current.setSelectionRange(o,o)}catch{}},[a,e,o]),l.jsx("input",{ref:s,value:e,onChange:h,onFocus:u,onBlur:d,className:Ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n})},Hne=({value:e,onChange:t,className:r,...n})=>{const s=v.useRef(null),[a,i]=v.useState(!1),[o,c]=v.useState(null),u=()=>{i(!0)},d=()=>{i(!1)},h=f=>{c(f.target.selectionStart),t(f.target.value)};return v.useEffect(()=>{if(a&&s.current&&(s.current.focus(),o!==null))try{s.current.setSelectionRange(o,o)}catch{}},[a,e,o]),l.jsx("textarea",{ref:s,value:e,onChange:h,onFocus:u,onBlur:d,className:Ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n})};function gP(e,[t,r]){return Math.min(r,Math.max(t,e))}function zN(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Gne=[" ","Enter","ArrowUp","ArrowDown"],Yne=[" ","Enter"],fg="Select",[Z1,Q1,Kne]=p1(fg),[ef,Pde]=pa(fg,[Kne,mc]),ex=mc(),[Xne,xc]=ef(fg),[Jne,Zne]=ef(fg),EI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:g}=e,y=ex(t),[S,b]=v.useState(null),[x,N]=v.useState(null),[C,E]=v.useState(!1),F=Qh(u),[P=!1,A]=Vs({prop:n,defaultProp:s,onChange:a}),[K,Q]=Vs({prop:i,defaultProp:o,onChange:c}),I=v.useRef(null),D=S?g||!!S.closest("form"):!0,[L,B]=v.useState(new Set),q=Array.from(L).map(ee=>ee.props.value).join(";");return l.jsx(b1,{...y,children:l.jsxs(Xne,{required:p,scope:t,trigger:S,onTriggerChange:b,valueNode:x,onValueNodeChange:N,valueNodeHasChildren:C,onValueNodeHasChildrenChange:E,contentId:Ra(),value:K,onValueChange:Q,open:P,onOpenChange:A,dir:F,triggerPointerDownPosRef:I,disabled:f,children:[l.jsx(Z1.Provider,{scope:t,children:l.jsx(Jne,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(ee=>{B(V=>new Set(V).add(ee))},[]),onNativeOptionRemove:v.useCallback(ee=>{B(V=>{const M=new Set(V);return M.delete(ee),M})},[]),children:r})}),D?l.jsxs(QI,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:K,onChange:ee=>Q(ee.target.value),disabled:f,form:g,children:[K===void 0?l.jsx("option",{value:""}):null,Array.from(L)]},q):null]})})};EI.displayName=fg;var PI="SelectTrigger",AI=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=ex(r),i=xc(PI,r),o=i.disabled||n,c=qt(t,i.onTriggerChange),u=Q1(r),d=v.useRef("touch"),[h,f,p]=eM(y=>{const S=u().filter(N=>!N.disabled),b=S.find(N=>N.value===i.value),x=tM(S,y,b);x!==void 0&&i.onValueChange(x.value)}),g=y=>{o||(i.onOpenChange(!0),p()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(ng,{asChild:!0,...a,children:l.jsx(mt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ZI(i.value)?"":void 0,...s,ref:c,onClick:Xe(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:Xe(s.onPointerDown,y=>{d.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:Xe(s.onKeyDown,y=>{const S=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(S&&y.key===" ")&&Gne.includes(y.key)&&(g(),y.preventDefault())})})})});AI.displayName=PI;var TI="SelectValue",LI=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...o}=e,c=xc(TI,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=qt(t,c.onValueNodeChange);return Dn(()=>{u(d)},[u,d]),l.jsx(mt.span,{...o,ref:h,style:{pointerEvents:"none"},children:ZI(c.value)?l.jsx(l.Fragment,{children:i}):a})});LI.displayName=TI;var Qne="SelectIcon",DI=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(mt.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});DI.displayName=Qne;var ese="SelectPortal",RI=e=>l.jsx(qh,{asChild:!0,...e});RI.displayName=ese;var yu="SelectContent",OI=v.forwardRef((e,t)=>{const r=xc(yu,e.__scopeSelect),[n,s]=v.useState();if(Dn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?_u.createPortal(l.jsx(II,{scope:e.__scopeSelect,children:l.jsx(Z1.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(MI,{...e,ref:t})});OI.displayName=yu;var ti=10,[II,wc]=ef(yu),tse="SelectContentImpl",MI=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:S,...b}=e,x=xc(yu,r),[N,C]=v.useState(null),[E,F]=v.useState(null),P=qt(t,se=>C(se)),[A,K]=v.useState(null),[Q,I]=v.useState(null),D=Q1(r),[L,B]=v.useState(!1),q=v.useRef(!1);v.useEffect(()=>{if(N)return V1(N)},[N]),F1();const ee=v.useCallback(se=>{const[le,...ue]=D().map(Se=>Se.ref.current),[xe]=ue.slice(-1),Ee=document.activeElement;for(const Se of se)if(Se===Ee||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===le&&E&&(E.scrollTop=0),Se===xe&&E&&(E.scrollTop=E.scrollHeight),Se==null||Se.focus(),document.activeElement!==Ee))return},[D,E]),V=v.useCallback(()=>ee([A,N]),[ee,A,N]);v.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:M,triggerPointerDownPosRef:Y}=x;v.useEffect(()=>{if(N){let se={x:0,y:0};const le=xe=>{var Ee,Se;se={x:Math.abs(Math.round(xe.pageX)-(((Ee=Y.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Se=Y.current)==null?void 0:Se.y)??0))}},ue=xe=>{se.x<=10&&se.y<=10?xe.preventDefault():N.contains(xe.target)||M(!1),document.removeEventListener("pointermove",le),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ue,{capture:!0})}}},[N,M,Y]),v.useEffect(()=>{const se=()=>M(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[M]);const[ie,me]=eM(se=>{const le=D().filter(Ee=>!Ee.disabled),ue=le.find(Ee=>Ee.ref.current===document.activeElement),xe=tM(le,se,ue);xe&&setTimeout(()=>xe.ref.current.focus())}),T=v.useCallback((se,le,ue)=>{const xe=!q.current&&!ue;(x.value!==void 0&&x.value===le||xe)&&(K(se),xe&&(q.current=!0))},[x.value]),G=v.useCallback(()=>N==null?void 0:N.focus(),[N]),Z=v.useCallback((se,le,ue)=>{const xe=!q.current&&!ue;(x.value!==void 0&&x.value===le||xe)&&I(se)},[x.value]),ae=n==="popper"?J5:FI,W=ae===J5?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:S}:{};return l.jsx(II,{scope:r,content:N,viewport:E,onViewportChange:F,itemRefCallback:T,selectedItem:A,onItemLeave:G,itemTextRefCallback:Z,focusSelectedItem:V,selectedItemText:Q,position:n,isPositioned:L,searchRef:ie,children:l.jsx(cg,{as:no,allowPinchZoom:!0,children:l.jsx(lg,{asChild:!0,trapped:x.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Xe(s,se=>{var le;(le=x.trigger)==null||le.focus({preventScroll:!0}),se.preventDefault()}),children:l.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:se=>se.preventDefault(),...b,...W,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Xe(b.onKeyDown,se=>{const le=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!le&&se.key.length===1&&me(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let xe=D().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(se.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Ee=se.target,Se=xe.indexOf(Ee);xe=xe.slice(Se+1)}setTimeout(()=>ee(xe)),se.preventDefault()}})})})})})})});MI.displayName=tse;var rse="SelectItemAlignedPosition",FI=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=xc(yu,r),i=wc(yu,r),[o,c]=v.useState(null),[u,d]=v.useState(null),h=qt(t,P=>d(P)),f=Q1(r),p=v.useRef(!1),g=v.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:b,focusSelectedItem:x}=i,N=v.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&y&&S&&b){const P=a.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),K=a.valueNode.getBoundingClientRect(),Q=b.getBoundingClientRect();if(a.dir!=="rtl"){const Ee=Q.left-A.left,Se=K.left-Ee,ke=P.left-Se,Je=P.width+ke,Ce=Math.max(Je,A.width),re=window.innerWidth-ti,Ke=gP(Se,[ti,Math.max(ti,re-Ce)]);o.style.minWidth=Je+"px",o.style.left=Ke+"px"}else{const Ee=A.right-Q.right,Se=window.innerWidth-K.right-Ee,ke=window.innerWidth-P.right-Se,Je=P.width+ke,Ce=Math.max(Je,A.width),re=window.innerWidth-ti,Ke=gP(Se,[ti,Math.max(ti,re-Ce)]);o.style.minWidth=Je+"px",o.style.right=Ke+"px"}const I=f(),D=window.innerHeight-ti*2,L=y.scrollHeight,B=window.getComputedStyle(u),q=parseInt(B.borderTopWidth,10),ee=parseInt(B.paddingTop,10),V=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),Y=q+ee+L+M+V,ie=Math.min(S.offsetHeight*5,Y),me=window.getComputedStyle(y),T=parseInt(me.paddingTop,10),G=parseInt(me.paddingBottom,10),Z=P.top+P.height/2-ti,ae=D-Z,W=S.offsetHeight/2,se=S.offsetTop+W,le=q+ee+se,ue=Y-le;if(le<=Z){const Ee=I.length>0&&S===I[I.length-1].ref.current;o.style.bottom="0px";const Se=u.clientHeight-y.offsetTop-y.offsetHeight,ke=Math.max(ae,W+(Ee?G:0)+Se+V),Je=le+ke;o.style.height=Je+"px"}else{const Ee=I.length>0&&S===I[0].ref.current;o.style.top="0px";const ke=Math.max(Z,q+y.offsetTop+(Ee?T:0)+W)+ue;o.style.height=ke+"px",y.scrollTop=le-Z+y.offsetTop}o.style.margin=`${ti}px 0`,o.style.minHeight=ie+"px",o.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,o,u,y,S,b,a.dir,n]);Dn(()=>N(),[N]);const[C,E]=v.useState();Dn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const F=v.useCallback(P=>{P&&g.current===!0&&(N(),x==null||x(),g.current=!1)},[N,x]);return l.jsx(sse,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:F,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:l.jsx(mt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});FI.displayName=rse;var nse="SelectPopperPosition",J5=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ti,...a}=e,i=ex(r);return l.jsx(S1,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J5.displayName=nse;var[sse,qN]=ef(yu,{}),Z5="SelectViewport",BI=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=wc(Z5,r),i=qN(Z5,r),o=qt(t,a.onViewportChange),c=v.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Z1.Slot,{scope:r,children:l.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Xe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-ti*2,y=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),b=Math.max(y,S);if(b<g){const x=b+p,N=Math.min(g,x),C=x-N;h.style.height=N+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});BI.displayName=Z5;var $I="SelectGroup",[ase,ise]=ef($I),ose=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ra();return l.jsx(ase,{scope:r,id:s,children:l.jsx(mt.div,{role:"group","aria-labelledby":s,...n,ref:t})})});ose.displayName=$I;var UI="SelectLabel",VI=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ise(UI,r);return l.jsx(mt.div,{id:s.id,...n,ref:t})});VI.displayName=UI;var _0="SelectItem",[lse,zI]=ef(_0),qI=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,o=xc(_0,r),c=wc(_0,r),u=o.value===n,[d,h]=v.useState(a??""),[f,p]=v.useState(!1),g=qt(t,x=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,x,n,s)}),y=Ra(),S=v.useRef("touch"),b=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(lse,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:v.useCallback(x=>{h(N=>N||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(Z1.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(mt.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:Xe(i.onFocus,()=>p(!0)),onBlur:Xe(i.onBlur,()=>p(!1)),onClick:Xe(i.onClick,()=>{S.current!=="mouse"&&b()}),onPointerUp:Xe(i.onPointerUp,()=>{S.current==="mouse"&&b()}),onPointerDown:Xe(i.onPointerDown,x=>{S.current=x.pointerType}),onPointerMove:Xe(i.onPointerMove,x=>{var N;S.current=x.pointerType,s?(N=c.onItemLeave)==null||N.call(c):S.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(i.onPointerLeave,x=>{var N;x.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:Xe(i.onKeyDown,x=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&x.key===" "||(Yne.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});qI.displayName=_0;var op="SelectItemText",WI=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=xc(op,r),o=wc(op,r),c=zI(op,r),u=Zne(op,r),[d,h]=v.useState(null),f=qt(t,b=>h(b),c.onItemTextChange,b=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=v.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=u;return Dn(()=>(y(g),()=>S(g)),[y,S,g]),l.jsxs(l.Fragment,{children:[l.jsx(mt.span,{id:c.textId,...a,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?_u.createPortal(a.children,i.valueNode):null]})});WI.displayName=op;var HI="SelectItemIndicator",GI=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return zI(HI,r).isSelected?l.jsx(mt.span,{"aria-hidden":!0,...n,ref:t}):null});GI.displayName=HI;var Q5="SelectScrollUpButton",YI=v.forwardRef((e,t)=>{const r=wc(Q5,e.__scopeSelect),n=qN(Q5,e.__scopeSelect),[s,a]=v.useState(!1),i=qt(t,n.onScrollButtonChange);return Dn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(XI,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});YI.displayName=Q5;var eS="SelectScrollDownButton",KI=v.forwardRef((e,t)=>{const r=wc(eS,e.__scopeSelect),n=qN(eS,e.__scopeSelect),[s,a]=v.useState(!1),i=qt(t,n.onScrollButtonChange);return Dn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(XI,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});KI.displayName=eS;var XI=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=wc("SelectScrollButton",r),i=v.useRef(null),o=Q1(r),c=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Dn(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(mt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Xe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Xe(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Xe(s.onPointerLeave,()=>{c()})})}),cse="SelectSeparator",JI=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(mt.div,{"aria-hidden":!0,...n,ref:t})});JI.displayName=cse;var tS="SelectArrow",use=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ex(r),a=xc(tS,r),i=wc(tS,r);return a.open&&i.position==="popper"?l.jsx(_1,{...s,...n,ref:t}):null});use.displayName=tS;function ZI(e){return e===""||e===void 0}var QI=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=v.useRef(null),a=qt(t,s),i=zN(r);return v.useEffect(()=>{const o=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[i,r]),l.jsx(eg,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});QI.displayName="BubbleSelect";function eM(e){const t=Vn(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(i=>{const o=r.current+i;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function tM(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=dse(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function dse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hse=EI,rM=AI,fse=LI,pse=DI,mse=RI,nM=OI,gse=BI,sM=VI,aM=qI,yse=WI,vse=GI,iM=YI,oM=KI,lM=JI;const An=hse,Tn=fse,Sn=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(rM,{ref:n,className:Ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(pse,{asChild:!0,children:l.jsx(v_,{className:"h-4 w-4 opacity-50"})})]}));Sn.displayName=rM.displayName;const cM=v.forwardRef(({className:e,...t},r)=>l.jsx(iM,{ref:r,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(mz,{className:"h-4 w-4"})}));cM.displayName=iM.displayName;const uM=v.forwardRef(({className:e,...t},r)=>l.jsx(oM,{ref:r,className:Ve("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(v_,{className:"h-4 w-4"})}));uM.displayName=oM.displayName;const _n=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(mse,{children:l.jsxs(nM,{ref:s,className:Ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(cM,{}),l.jsx(gse,{className:Ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(uM,{})]})}));_n.displayName=nM.displayName;const xse=v.forwardRef(({className:e,...t},r)=>l.jsx(sM,{ref:r,className:Ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));xse.displayName=sM.displayName;const St=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(aM,{ref:n,className:Ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(vse,{children:l.jsx(y_,{className:"h-4 w-4"})})}),l.jsx(yse,{children:t})]}));St.displayName=aM.displayName;const wse=v.forwardRef(({className:e,...t},r)=>l.jsx(lM,{ref:r,className:Ve("-mx-1 my-1 h-px bg-muted",e),...t}));wse.displayName=lM.displayName;var WN="Radio",[bse,dM]=pa(WN),[Sse,_se]=bse(WN),hM=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:i,value:o="on",onCheck:c,form:u,...d}=e,[h,f]=v.useState(null),p=qt(t,S=>f(S)),g=v.useRef(!1),y=h?u||!!h.closest("form"):!0;return l.jsxs(Sse,{scope:r,checked:s,disabled:i,children:[l.jsx(mt.button,{type:"button",role:"radio","aria-checked":s,"data-state":mM(s),"data-disabled":i?"":void 0,disabled:i,value:o,...d,ref:p,onClick:Xe(e.onClick,S=>{s||c==null||c(),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&l.jsx(Nse,{control:h,bubbles:!g.current,name:n,value:o,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});hM.displayName=WN;var fM="RadioIndicator",pM=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=_se(fM,r);return l.jsx(Ws,{present:n||a.checked,children:l.jsx(mt.span,{"data-state":mM(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});pM.displayName=fM;var Nse=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=v.useRef(null),i=zN(r),o=E_(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[i,r,n]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mM(e){return e?"checked":"unchecked"}var jse=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HN="RadioGroup",[Cse,Ade]=pa(HN,[vc,dM]),gM=vc(),yM=dM(),[kse,Ese]=Cse(HN),vM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:i=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,p=gM(r),g=Qh(u),[y,S]=Vs({prop:a,defaultProp:s,onChange:h});return l.jsx(kse,{scope:r,name:n,required:i,disabled:o,value:y,onValueChange:S,children:l.jsx($1,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:l.jsx(mt.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":o?"":void 0,dir:g,...f,ref:t})})})});vM.displayName=HN;var xM="RadioGroupItem",wM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=Ese(xM,r),i=a.disabled||n,o=gM(r),c=yM(r),u=v.useRef(null),d=qt(t,u),h=a.value===s.value,f=v.useRef(!1);return v.useEffect(()=>{const p=y=>{jse.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),l.jsx(U1,{asChild:!0,...o,focusable:!i,active:h,children:l.jsx(hM,{disabled:i,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Xe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Xe(s.onFocus,()=>{var p;f.current&&((p=u.current)==null||p.click())})})})});wM.displayName=xM;var Pse="RadioGroupIndicator",bM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=yM(r);return l.jsx(pM,{...s,...n,ref:t})});bM.displayName=Pse;var SM=vM,_M=wM,Ase=bM;const Ap=v.forwardRef(({className:e,...t},r)=>l.jsx(SM,{className:Ve("grid gap-2",e),...t,ref:r}));Ap.displayName=SM.displayName;const Ui=v.forwardRef(({className:e,...t},r)=>l.jsx(_M,{ref:r,className:Ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Ase,{className:"flex items-center justify-center",children:l.jsx(dL,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ui.displayName=_M.displayName;const NM=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:Ve("w-full caption-bottom text-sm",e),...t})}));NM.displayName="Table";const jM=v.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:Ve("[&_tr]:border-b",e),...t}));jM.displayName="TableHeader";const CM=v.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:Ve("[&_tr:last-child]:border-0",e),...t}));CM.displayName="TableBody";const Tse=v.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:Ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Tse.displayName="TableFooter";const rS=v.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:Ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rS.displayName="TableRow";const Vc=v.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:Ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Vc.displayName="TableHead";const zc=v.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:Ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));zc.displayName="TableCell";const Lse=v.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:Ve("mt-4 text-sm text-muted-foreground",e),...t}));Lse.displayName="TableCaption";function Dse(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,Rse(s,...t)]}function Rse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ose="Toggle",GN=v.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:s,...a}=e,[i=!1,o]=Vs({prop:r,onChange:s,defaultProp:n});return l.jsx(mt.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Xe(e.onClick,()=>{e.disabled||o(!i)})})});GN.displayName=Ose;var kM=GN,tf="ToggleGroup",[EM,Tde]=Dse(tf,[vc]),PM=vc(),YN=Pe.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const s=n;return l.jsx(Ise,{...s,ref:t})}if(r==="multiple"){const s=n;return l.jsx(Mse,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${tf}\``)});YN.displayName=tf;var[AM,TM]=EM(tf),Ise=Pe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i,o]=Vs({prop:r,defaultProp:n,onChange:s});return l.jsx(AM,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:o,onItemDeactivate:Pe.useCallback(()=>o(""),[o]),children:l.jsx(LM,{...a,ref:t})})}),Mse=Pe.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i=[],o]=Vs({prop:r,defaultProp:n,onChange:s}),c=Pe.useCallback(d=>o((h=[])=>[...h,d]),[o]),u=Pe.useCallback(d=>o((h=[])=>h.filter(f=>f!==d)),[o]);return l.jsx(AM,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:l.jsx(LM,{...a,ref:t})})});YN.displayName=tf;var[Fse,Bse]=EM(tf),LM=Pe.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:a,dir:i,loop:o=!0,...c}=e,u=PM(r),d=Qh(i),h={role:"group",dir:d,...c};return l.jsx(Fse,{scope:r,rovingFocus:s,disabled:n,children:s?l.jsx($1,{asChild:!0,...u,orientation:a,dir:d,loop:o,children:l.jsx(mt.div,{...h,ref:t})}):l.jsx(mt.div,{...h,ref:t})})}),N0="ToggleGroupItem",DM=Pe.forwardRef((e,t)=>{const r=TM(N0,e.__scopeToggleGroup),n=Bse(N0,e.__scopeToggleGroup),s=PM(e.__scopeToggleGroup),a=r.value.includes(e.value),i=n.disabled||e.disabled,o={...e,pressed:a,disabled:i},c=Pe.useRef(null);return n.rovingFocus?l.jsx(U1,{asChild:!0,...s,focusable:!i,active:a,ref:c,children:l.jsx(yP,{...o,ref:t})}):l.jsx(yP,{...o,ref:t})});DM.displayName=N0;var yP=Pe.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...s}=e,a=TM(N0,r),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},o=a.type==="single"?i:void 0;return l.jsx(GN,{...o,...s,ref:t,onPressedChange:c=>{c?a.onItemActivate(n):a.onItemDeactivate(n)}})}),RM=YN,OM=DM;const IM=tg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),$se=v.forwardRef(({className:e,variant:t,size:r,...n},s)=>l.jsx(kM,{ref:s,className:Ve(IM({variant:t,size:r,className:e})),...n}));$se.displayName=kM.displayName;const MM=v.createContext({size:"default",variant:"default"}),FM=v.forwardRef(({className:e,variant:t,size:r,children:n,...s},a)=>l.jsx(RM,{ref:a,className:Ve("flex items-center justify-center gap-1",e),...s,children:l.jsx(MM.Provider,{value:{variant:t,size:r},children:n})}));FM.displayName=RM.displayName;const lp=v.forwardRef(({className:e,children:t,variant:r,size:n,...s},a)=>{const i=v.useContext(MM);return l.jsx(OM,{ref:a,className:Ve(IM({variant:i.variant||r,size:i.size||n}),e),...s,children:t})});lp.displayName=OM.displayName;function rr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function fs(e,t){const r=rr(e);return isNaN(t)?qs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function wi(e,t){const r=rr(e);if(isNaN(t))return qs(e,NaN);if(!t)return r;const n=r.getDate(),s=qs(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const KN=6048e5,Use=864e5,BM=6e4,$M=36e5;let Vse={};function pg(){return Vse}function Ba(e,t){var o,c,u,d;const r=pg(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=rr(e),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function vu(e){return Ba(e,{weekStartsOn:1})}function UM(e){const t=rr(e),r=t.getFullYear(),n=qs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=vu(n),a=qs(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=vu(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Dh(e){const t=rr(e);return t.setHours(0,0,0,0),t}function j0(e){const t=rr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ki(e,t){const r=Dh(e),n=Dh(t),s=+r-j0(r),a=+n-j0(n);return Math.round((s-a)/Use)}function zse(e){const t=UM(e),r=qs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),vu(r)}function nS(e,t){const r=t*7;return fs(e,r)}function qse(e,t){return wi(e,t*12)}function Wse(e){let t;return e.forEach(function(r){const n=rr(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Hse(e){let t;return e.forEach(r=>{const n=rr(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function tx(e){return qs(e,Date.now())}function ns(e,t){const r=Dh(e),n=Dh(t);return+r==+n}function XN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function VM(e){if(!XN(e)&&typeof e!="number")return!1;const t=rr(e);return!isNaN(Number(t))}function bm(e,t){const r=rr(e),n=rr(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function Gse(e,t,r){const n=Ba(e,r),s=Ba(t,r),a=+n-j0(n),i=+s-j0(s);return Math.round((a-i)/KN)}function JN(e){const t=rr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Us(e){const t=rr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function zM(e){const t=rr(e),r=qs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ZN(e,t){var o,c,u,d;const r=pg(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=rr(e),a=s.getDay(),i=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function qM(e){return ZN(e,{weekStartsOn:1})}const Yse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kse=(e,t,r)=>{let n;const s=Yse[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function N2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Xse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qse={date:N2({formats:Xse,defaultWidth:"full"}),time:N2({formats:Jse,defaultWidth:"full"}),dateTime:N2({formats:Zse,defaultWidth:"full"})},eae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tae=(e,t,r,n)=>eae[e];function Gf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const rae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lae=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cae={ordinalNumber:lae,era:Gf({values:rae,defaultWidth:"wide"}),quarter:Gf({values:nae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gf({values:sae,defaultWidth:"wide"}),day:Gf({values:aae,defaultWidth:"wide"}),dayPeriod:Gf({values:iae,defaultWidth:"wide",formattingValues:oae,defaultFormattingWidth:"wide"})};function Yf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?dae(o,h=>h.test(i)):uae(o,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function uae(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function dae(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function hae(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const o=t.slice(s.length);return{value:i,rest:o}}}const fae=/^(\d+)(th|st|nd|rd)?/i,pae=/\d+/i,mae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gae={any:[/^b/i,/^(a|c)/i]},yae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vae={any:[/1/i,/2/i,/3/i,/4/i]},xae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_ae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jae={ordinalNumber:hae({matchPattern:fae,parsePattern:pae,valueCallback:e=>parseInt(e,10)}),era:Yf({matchPatterns:mae,defaultMatchWidth:"wide",parsePatterns:gae,defaultParseWidth:"any"}),quarter:Yf({matchPatterns:yae,defaultMatchWidth:"wide",parsePatterns:vae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yf({matchPatterns:xae,defaultMatchWidth:"wide",parsePatterns:wae,defaultParseWidth:"any"}),day:Yf({matchPatterns:bae,defaultMatchWidth:"wide",parsePatterns:Sae,defaultParseWidth:"any"}),dayPeriod:Yf({matchPatterns:_ae,defaultMatchWidth:"any",parsePatterns:Nae,defaultParseWidth:"any"})},WM={code:"en-US",formatDistance:Kse,formatLong:Qse,formatRelative:tae,localize:cae,match:jae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cae(e){const t=rr(e);return Ki(t,zM(t))+1}function HM(e){const t=rr(e),r=+vu(t)-+zse(t);return Math.round(r/KN)+1}function GM(e,t){var d,h,f,p;const r=rr(e),n=r.getFullYear(),s=pg(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=qs(e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const o=Ba(i,t),c=qs(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Ba(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function kae(e,t){var o,c,u,d;const r=pg(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=GM(e,t),a=qs(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Ba(a,t)}function YM(e,t){const r=rr(e),n=+Ba(r,t)-+kae(r,t);return Math.round(n/KN)+1}function pr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const yl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return pr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pr(r+1,2)},d(e,t){return pr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pr(e.getHours()%12||12,t.length)},H(e,t){return pr(e.getHours(),t.length)},m(e,t){return pr(e.getMinutes(),t.length)},s(e,t){return pr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return pr(s,t.length)}},md={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return yl.y(e,t)},Y:function(e,t,r,n){const s=GM(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return pr(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):pr(a,t.length)},R:function(e,t){const r=UM(e);return pr(r,t.length)},u:function(e,t){const r=e.getFullYear();return pr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return pr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return pr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return yl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return pr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=YM(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):pr(s,t.length)},I:function(e,t,r){const n=HM(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):pr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yl.d(e,t)},D:function(e,t,r){const n=Cae(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):pr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return pr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return pr(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return pr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=md.noon:n===0?s=md.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=md.evening:n>=12?s=md.afternoon:n>=4?s=md.morning:s=md.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):pr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yl.s(e,t)},S:function(e,t){return yl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return wP(n);case"XXXX":case"XX":return qc(n);case"XXXXX":case"XXX":default:return qc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return wP(n);case"xxxx":case"xx":return qc(n);case"xxxxx":case"xxx":default:return qc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+xP(n,":");case"OOOO":default:return"GMT"+qc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+xP(n,":");case"zzzz":default:return"GMT"+qc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return pr(n,t.length)},T:function(e,t,r){const n=e.getTime();return pr(n,t.length)}};function xP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+pr(a,2)}function wP(e,t){return e%60===0?(e>0?"-":"+")+pr(Math.abs(e)/60,2):qc(e,t)}function qc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=pr(Math.trunc(n/60),2),a=pr(n%60,2);return r+s+t+a}const bP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KM=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Eae=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return bP(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",bP(n,t)).replace("{{time}}",KM(s,t))},Pae={p:KM,P:Eae},Aae=/^D+$/,Tae=/^Y+$/,Lae=["D","DD","YY","YYYY"];function Dae(e){return Aae.test(e)}function Rae(e){return Tae.test(e)}function Oae(e,t,r){const n=Iae(e,t,r);if(console.warn(n),Lae.includes(e))throw new RangeError(n)}function Iae(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bae=/^'([^]*?)'?$/,$ae=/''/g,Uae=/[a-zA-Z]/;function bi(e,t,r){var d,h,f,p,g,y,S,b;const n=pg(),s=(r==null?void 0:r.locale)??n.locale??WM,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((b=(S=n.locale)==null?void 0:S.options)==null?void 0:b.weekStartsOn)??0,o=rr(e);if(!VM(o))throw new RangeError("Invalid time value");let c=t.match(Fae).map(x=>{const N=x[0];if(N==="p"||N==="P"){const C=Pae[N];return C(x,s.formatLong)}return x}).join("").match(Mae).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const N=x[0];if(N==="'")return{isToken:!1,value:Vae(x)};if(vP[N])return{isToken:!0,value:x};if(N.match(Uae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const N=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Rae(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Dae(N))&&Oae(N,t,String(e));const C=vP[N[0]];return C(o,N,s.localize,u)}).join("")}function Vae(e){const t=e.match(Bae);return t?t[1].replace($ae,"'"):e}function zae(e){const t=rr(e),r=t.getFullYear(),n=t.getMonth(),s=qs(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function qae(e){return Math.trunc(+rr(e)/1e3)}function Wae(e){const t=rr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Hae(e,t){return Gse(Wae(e),Us(e),t)+1}function sS(e,t){const r=rr(e),n=rr(t);return r.getTime()>n.getTime()}function XM(e,t){const r=rr(e),n=rr(t);return+r<+n}function Gae(e,t,r){const n=Ba(e,r),s=Ba(t,r);return+n==+s}function rx(e,t){const r=rr(e),n=rr(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Yae(e,t){const r=rr(e),n=rr(t);return r.getFullYear()===n.getFullYear()}function Kae(e){return rx(e,tx(e))}function Xae(e,t){return Gae(e,tx(e),t)}function Jae(e){return ns(e,tx(e))}function jv(e,t){return fs(e,-t)}function Zae(e){return ns(e,jv(tx(e),1))}function Qae(e,t){const n=nie(e);let s;if(n.date){const c=sie(n.date,2);s=aie(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let i=0,o;if(n.time&&(i=iie(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(o=oie(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(a+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+i+o)}const Qy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},eie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nie(e){const t={},r=e.split(Qy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Qy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Qy.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function sie(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function aie(e,t){if(t===null)return new Date(NaN);const r=e.match(eie);if(!r)return new Date(NaN);const n=!!r[4],s=Kf(r[1]),a=Kf(r[2])-1,i=Kf(r[3]),o=Kf(r[4]),c=Kf(r[5])-1;if(n)return hie(t,o,c)?lie(t,o,c):new Date(NaN);{const u=new Date(0);return!uie(t,a,i)||!die(t,s)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(s,i)),u)}}function Kf(e){return e?parseInt(e):1}function iie(e){const t=e.match(tie);if(!t)return NaN;const r=j2(t[1]),n=j2(t[2]),s=j2(t[3]);return fie(r,n,s)?r*$M+n*BM+s*1e3:NaN}function j2(e){return e&&parseFloat(e.replace(",","."))||0}function oie(e){if(e==="Z")return 0;const t=e.match(rie);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return pie(n,s)?r*(n*$M+s*BM):NaN}function lie(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,a=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const cie=[31,null,31,30,31,30,31,31,30,31,30,31];function JM(e){return e%400===0||e%4===0&&e%100!==0}function uie(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(cie[t]||(JM(e)?29:28))}function die(e,t){return t>=1&&t<=(JM(e)?366:365)}function hie(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function fie(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function pie(e,t){return t>=0&&t<=59}function C2(e,t){const r=rr(e),n=r.getFullYear(),s=r.getDate(),a=qs(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const i=zae(a);return r.setMonth(t,Math.min(s,i)),r}function SP(e,t){const r=rr(e);return isNaN(+r)?qs(e,NaN):(r.setFullYear(t),r)}var ZM="AlertDialog",[mie,Lde]=pa(ZM,[dO]),Jo=dO(),QM=e=>{const{__scopeAlertDialog:t,...r}=e,n=Jo(t);return l.jsx(kO,{...n,...r,modal:!0})};QM.displayName=ZM;var gie="AlertDialogTrigger",e8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return l.jsx(EO,{...s,...n,ref:t})});e8.displayName=gie;var yie="AlertDialogPortal",t8=e=>{const{__scopeAlertDialog:t,...r}=e,n=Jo(t);return l.jsx(PO,{...n,...r})};t8.displayName=yie;var vie="AlertDialogOverlay",r8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return l.jsx(DN,{...s,...n,ref:t})});r8.displayName=vie;var sh="AlertDialogContent",[xie,wie]=mie(sh),n8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Jo(r),i=v.useRef(null),o=qt(t,i),c=v.useRef(null);return l.jsx($te,{contentName:sh,titleName:s8,docsSlug:"alert-dialog",children:l.jsx(xie,{scope:r,cancelRef:c,children:l.jsxs(RN,{role:"alertdialog",...a,...s,ref:o,onOpenAutoFocus:Xe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(h_,{children:n}),l.jsx(Sie,{contentRef:i})]})})})});n8.displayName=sh;var s8="AlertDialogTitle",a8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return l.jsx(ON,{...s,...n,ref:t})});a8.displayName=s8;var i8="AlertDialogDescription",o8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return l.jsx(IN,{...s,...n,ref:t})});o8.displayName=i8;var bie="AlertDialogAction",l8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Jo(r);return l.jsx(H1,{...s,...n,ref:t})});l8.displayName=bie;var c8="AlertDialogCancel",u8=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=wie(c8,r),a=Jo(r),i=qt(t,s);return l.jsx(H1,{...a,...n,ref:i})});u8.displayName=c8;var Sie=({contentRef:e})=>{const t=`\`${sh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sh}\` by passing a \`${i8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},_ie=QM,Nie=e8,jie=t8,d8=r8,h8=n8,f8=l8,p8=u8,m8=a8,g8=o8;const C0=_ie,aS=Nie,Cie=jie,y8=v.forwardRef(({className:e,...t},r)=>l.jsx(d8,{className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));y8.displayName=d8.displayName;const Sm=v.forwardRef(({className:e,...t},r)=>l.jsxs(Cie,{children:[l.jsx(y8,{}),l.jsx(h8,{ref:r,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Sm.displayName=h8.displayName;const _m=({className:e,...t})=>l.jsx("div",{className:Ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});_m.displayName="AlertDialogHeader";const Nm=({className:e,...t})=>l.jsx("div",{className:Ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Nm.displayName="AlertDialogFooter";const jm=v.forwardRef(({className:e,...t},r)=>l.jsx(m8,{ref:r,className:Ve("text-lg font-semibold",e),...t}));jm.displayName=m8.displayName;const Cm=v.forwardRef(({className:e,...t},r)=>l.jsx(g8,{ref:r,className:Ve("text-sm text-muted-foreground",e),...t}));Cm.displayName=g8.displayName;const km=v.forwardRef(({className:e,...t},r)=>l.jsx(f8,{ref:r,className:Ve(hm(),e),...t}));km.displayName=f8.displayName;const Em=v.forwardRef(({className:e,...t},r)=>l.jsx(p8,{ref:r,className:Ve(hm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Em.displayName=p8.displayName;const kie=({isFormOpen:e,setIsFormOpen:t,dialogModeRef:r})=>{const[n,s]=v.useState([]),[a,i]=v.useState({user_id:"",direction:"paid",payment_type:"cash",date:new Date().toISOString().split("T")[0],recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),[o,c]=v.useState(!1),u=e!==void 0?e:o,d=t||c,[h,f]=v.useState(!0),[p,g]=v.useState(""),[y,S]=v.useState(null),[b,x]=v.useState({}),[N,C]=v.useState("all"),[E,F]=v.useState(!1),[P,A]=v.useState(!1),[K,Q]=v.useState(null),[I,D]=v.useState(!1),{toast:L}=nr(),{user:B}=Pr();v.useEffect(()=>{B!=null&&B.id&&q()},[B]),v.useEffect(()=>{r&&u&&f(r.current)},[r,u]);const q=async()=>{if(B!=null&&B.id)try{F(!0),console.log("Loading daily logs from local database...");const W=await Te.getDailyLogsByUser(B.id);console.log(`Loaded ${W.length} daily logs from local database`);const se=[...W].sort((le,ue)=>new Date(ue.date).getTime()-new Date(le.date).getTime());s(se)}catch(W){console.error("Error loading daily logs:",W),L({title:"Error",description:"Failed to load transaction history",variant:"destructive"})}finally{F(!1)}},ee=v.useMemo(()=>N==="all"?n:n.filter(W=>{try{const se=Qae(W.date);if(!VM(se))return!1;switch(N){case"today":return Jae(se);case"yesterday":return Zae(se);case"thisWeek":return Xae(se);case"thisMonth":return Kae(se);default:return!0}}catch(se){return console.error("Error parsing date for filtering:",W.date,se),!1}}),[n,N]),V=(W,se)=>{b[W]&&x(le=>({...le,[W]:void 0})),i(le=>({...le,[W]:W==="amount"?parseFloat(se)||0:se})),W==="is_third_party"&&se!=="true"&&g(""),W==="direction"&&se==="received"&&g("")},M=W=>se=>{i(le=>({...le,[W]:se})),W==="is_third_party"&&se!=="true"&&g(""),W==="direction"&&se==="received"&&g("")},Y=W=>{const se=W==="true";i(le=>({...le,is_third_party:se})),se||g("")},ie=W=>{Q(W),A(!0),i({user_id:W.user_id,direction:W.direction,payment_type:W.payment_type,date:W.date,recipient_name:W.recipient_name,amount:W.amount,is_third_party:W.is_third_party,third_party_name:W.third_party_name,notes:W.notes||""}),W.is_third_party&&W.third_party_name?g(W.third_party_name):g(""),f(!0),d(!0)},me=W=>{Q(W),D(!0)},T=async()=>{if(K)try{if(F(!0),console.log(`Deleting transaction ${K.id}...`),await Te.deleteDailyLog(K.id),navigator.onLine)try{await Ye.deleteDailyLog(K.id),console.log("Successfully deleted from Supabase")}catch(W){console.error("Error deleting from Supabase:",W)}await q(),L({title:"Success",description:"Transaction deleted successfully"})}catch(W){console.error("Error deleting transaction:",W),L({title:"Error",description:"Failed to delete transaction",variant:"destructive"})}finally{F(!1),D(!1),Q(null)}},G=()=>{d(!1),A(!1),Q(null),r&&f(r.current),i({user_id:(B==null?void 0:B.id)||"",direction:"paid",payment_type:"cash",date:new Date().toISOString().split("T")[0],recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),g(""),x({})},Z=async()=>{if(!(B!=null&&B.id)){L({title:"Error",description:"You must be logged in to add transactions",variant:"destructive"});return}const W={};let se=!0;if(x({}),a.recipient_name.trim()||(W.recipient="Recipient/Source name is required.",se=!1),a.amount<=0&&(W.amount="Amount must be greater than zero.",se=!1),a.date||(W.date="Date is required.",se=!1),a.direction==="paid"&&a.is_third_party&&!p.trim()&&(W.thirdPartyName="Third-party name is required for this destination.",se=!1),!se){x(W),L({title:"Validation Error",description:"Please fix the errors indicated below.",variant:"destructive"});return}try{F(!0);const le={...a,user_id:B.id,third_party_name:a.is_third_party?p.trim():void 0,attachment_url:y?URL.createObjectURL(y):P&&K?K.attachment_url:void 0};if(P&&K){console.log(`Updating transaction ${K.id}...`);const xe={...le,id:K.id,created_at:K.created_at};if(await Te.updateDailyLog(xe),console.log("Successfully updated log in local database"),navigator.onLine){console.log("Online, syncing updated log to Supabase...");try{await Ye.updateDailyLog(xe)?console.log("Successfully synced updated log to Supabase"):console.error("Failed to sync updated log to Supabase: result was null")}catch(Ee){console.error("Error syncing updated log to Supabase:",Ee)}}else console.log("Offline, skipping Supabase sync");L({title:"Success",description:"Transaction updated successfully."})}else{console.log("Adding new daily log...");const xe=new Date(le.date).toDateString(),Ee=n.filter(ke=>ke.recipient_name===le.recipient_name&&ke.amount===le.amount&&new Date(ke.date).toDateString()===xe&&ke.direction===le.direction&&ke.payment_type===le.payment_type);if(Ee.length>0){console.log("Found potential duplicate daily log:",Ee[0]),L({title:"Duplicate Detected",description:"A similar transaction already exists for this date, recipient, and amount.",variant:"destructive"}),F(!1);return}const Se=await Te.addDailyLog(le);if(console.log("Successfully added log to local database:",Se),navigator.onLine){console.log("Online, syncing daily log to Supabase...");try{const ke=await Ye.createDailyLog(Se);ke?console.log("Successfully synced daily log to Supabase:",ke):console.error("Failed to sync daily log to Supabase: result was null")}catch(ke){console.error("Error syncing daily log to Supabase:",ke)}}else console.log("Offline, skipping Supabase sync");L({title:"Success",description:"Transaction logged successfully."})}await q(),i({user_id:B.id,direction:"paid",payment_type:"cash",date:new Date().toISOString().split("T")[0],recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),g(""),S(null),A(!1),Q(null);const ue=document.getElementById("attachment");if(ue&&(ue.value=""),d(!1),navigator.onLine){console.log("Forcing sync of all data...");try{await vt.forceSyncContacts(B.id),console.log("Force sync completed successfully")}catch(xe){console.error("Error during force sync:",xe)}}}catch(le){console.error(`Error ${P?"updating":"adding"} transaction:`,le),L({title:"Error",description:`Failed to ${P?"update":"add"} transaction`,variant:"destructive"})}finally{F(!1)}},ae=()=>l.jsxs("div",{className:"space-y-4 mb-4 p-4 border border-border/40 rounded-lg bg-background/50 backdrop-blur-sm",children:[l.jsx("h3",{className:"text-base font-medium mb-3",children:P?"Edit Transaction":"Transaction Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(je,{htmlFor:"direction",className:"text-xs text-muted-foreground",children:"Direction"}),l.jsxs(An,{name:"direction",value:a.direction,onValueChange:M("direction"),children:[l.jsx(Sn,{id:"direction",className:"h-9",children:l.jsx(Tn,{placeholder:"Select direction"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"paid",children:"Outgoing (Paid)"}),l.jsx(St,{value:"received",children:"Incoming (Received)"})]})]})]}),l.jsxs("div",{children:[l.jsx(je,{htmlFor:"payment_type",className:"text-xs text-muted-foreground",children:"Type"}),l.jsxs(An,{name:"payment_type",value:a.payment_type,onValueChange:M("payment_type"),children:[l.jsx(Sn,{id:"payment_type",className:"h-9",children:l.jsx(Tn,{placeholder:"Select type"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"upi",children:"UPI"}),l.jsx(St,{value:"cash",children:"Cash"}),l.jsx(St,{value:"bank",children:"Bank Transfer"}),l.jsx(St,{value:"others",children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx(je,{htmlFor:"date",className:"text-xs text-muted-foreground",children:"Date"}),l.jsx(Zy,{id:"date",name:"date",type:"date",value:a.date,onChange:W=>V("date",W),className:Ve("h-9",b.date&&"border-red-500 focus:border-red-500")}),b.date&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.date})]}),l.jsxs("div",{children:[l.jsx(je,{htmlFor:"recipient_name",className:"text-xs text-muted-foreground",children:a.direction==="paid"?"Recipient Name":"Source Name"}),l.jsx(Zy,{id:"recipient_name",name:"recipient_name",placeholder:a.direction==="paid"?"Enter recipient name":"Enter source name",value:a.recipient_name,onChange:W=>V("recipient_name",W),className:Ve("h-9",b.recipient&&"border-red-500 focus:border-red-500")}),b.recipient&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.recipient})]}),l.jsxs("div",{children:[l.jsx(je,{htmlFor:"amount",className:"text-xs text-muted-foreground",children:"Amount"}),l.jsx(Zy,{id:"amount",name:"amount",type:"number",placeholder:"Enter amount",value:a.amount.toString(),onChange:W=>V("amount",W),min:"0.01",step:"0.01",className:Ve("h-9",b.amount&&"border-red-500 focus:border-red-500")}),b.amount&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.amount})]}),a.direction==="paid"&&l.jsxs("div",{children:[l.jsx(je,{className:"text-xs text-muted-foreground",children:"Payment Destination"}),l.jsxs(Ap,{value:a.is_third_party?"true":"false",onValueChange:Y,className:"flex items-center space-x-4 mt-2",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ui,{value:"false",id:"dest_direct",className:"h-3.5 w-3.5"}),l.jsx(je,{htmlFor:"dest_direct",className:"text-xs",children:"Direct to Recipient"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Ui,{value:"true",id:"dest_third_party",className:"h-3.5 w-3.5"}),l.jsx(je,{htmlFor:"dest_third_party",className:"text-xs",children:"To Third-Party"})]})]})]}),a.is_third_party&&l.jsxs("div",{children:[l.jsx(je,{htmlFor:"third_party_name",className:"text-xs text-muted-foreground",children:"Third-Party Name"}),l.jsx(Zy,{id:"third_party_name",name:"third_party_name",placeholder:"Enter third-party name",value:p,onChange:W=>{g(W),b.thirdPartyName&&x(se=>({...se,thirdPartyName:void 0}))},className:Ve("h-9",b.thirdPartyName&&"border-red-500 focus:border-red-500")}),b.thirdPartyName&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.thirdPartyName})]})]}),l.jsxs("div",{children:[l.jsx(je,{htmlFor:"notes",className:"text-xs text-muted-foreground",children:"Note (Optional)"}),l.jsx(Hne,{id:"notes",name:"notes",placeholder:"Add any relevant notes...",value:a.notes||"",onChange:W=>V("notes",W),className:"resize-none min-h-[60px]"})]}),l.jsxs("div",{children:[l.jsx(je,{htmlFor:"attachment",className:"text-xs text-muted-foreground",children:"Attachment (Optional)"}),l.jsx("input",{id:"attachment",name:"attachment",type:"file",onChange:W=>S(W.target.files?W.target.files[0]:null),className:"text-xs mt-1 w-full"}),y&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",y.name]})]}),l.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[l.jsx(ge,{variant:"outline",size:"sm",onClick:G,disabled:E,children:"Cancel"}),l.jsx(ge,{size:"sm",onClick:Z,disabled:E,children:E?"Saving...":P?"Update Transaction":"Save Transaction"})]})]});return l.jsxs(Kt,{className:"border-0 shadow-none bg-transparent mt-0",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("h2",{className:"text-xl font-bold",children:"History"})}),l.jsxs(Yt,{className:"p-0 mt-2",children:[u&&!h&&l.jsx(ae,{}),l.jsx("div",{className:"flex items-center justify-between mt-2 mb-3",children:l.jsxs(FM,{type:"single",defaultValue:"all",value:N,onValueChange:W=>C(W||"all"),className:"bg-muted/20 rounded-lg p-0.5",size:"sm",children:[l.jsx(lp,{value:"all",className:"text-xs px-2.5 rounded-md","aria-label":"Show all",children:"All"}),l.jsx(lp,{value:"today",className:"text-xs px-2.5 rounded-md","aria-label":"Show today",children:"Today"}),l.jsx(lp,{value:"yesterday",className:"text-xs px-2.5 rounded-md","aria-label":"Show yesterday",children:"Yesterday"}),l.jsx(lp,{value:"thisWeek",className:"text-xs px-2.5 rounded-md","aria-label":"Show this week",children:"This Week"})]})}),E?l.jsx("div",{className:"text-center py-4 md:py-8 bg-muted/10 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground text-xs md:text-sm",children:"Loading transactions..."})}):ee.length===0?l.jsxs("div",{className:"text-center py-4 md:py-8 bg-muted/10 rounded-lg",children:[l.jsx(Wb,{className:"w-6 h-6 md:w-8 md:h-8 text-muted-foreground/50 mx-auto mb-1 md:mb-2"}),l.jsx("p",{className:"text-muted-foreground text-xs md:text-sm px-2",children:n.length===0?"No transactions logged yet. Use the + button to add one.":`No transactions found for the selected filter (${N}).`})]}):l.jsxs("div",{className:"overflow-x-auto -mx-4 px-4",children:[l.jsx("div",{className:"md:hidden space-y-1",children:ee.map(W=>l.jsxs("div",{className:"mobile-transaction-item",children:[l.jsxs("div",{className:"transaction-header",children:[l.jsxs("div",{className:"flex items-center",children:[W.direction==="received"?l.jsx(zb,{className:"h-3 w-3 text-green-500 mr-0.5"}):l.jsx(qb,{className:"h-3 w-3 text-red-500 mr-0.5"}),l.jsx("span",{className:`text-xs font-medium ${W.direction==="received"?"text-green-500":"text-red-500"}`,children:W.direction==="received"?"Received":"Paid"}),l.jsx("span",{className:"text-xs text-muted-foreground mx-0.5",children:"•"}),l.jsx("span",{className:"text-xs capitalize",children:W.payment_type.replace("_"," ")})]}),l.jsx("div",{className:"text-xs font-mono font-medium",children:W.amount.toFixed(2)})]}),l.jsxs("div",{className:"transaction-details",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"text-muted-foreground mr-0.5",children:W.direction==="received"?"From:":"To:"}),l.jsx("span",{className:"font-medium",children:W.recipient_name})]}),l.jsx("div",{className:"text-muted-foreground",children:new Date(W.date).toLocaleDateString()})]}),W.direction==="paid"&&W.is_third_party&&W.third_party_name&&l.jsxs("div",{className:"flex items-center text-xs",children:[l.jsx("span",{className:"text-muted-foreground mr-0.5",children:"Third Party:"}),l.jsx("span",{children:W.third_party_name})]}),l.jsxs("div",{className:"transaction-actions",children:[l.jsxs(ge,{variant:"ghost",size:"sm",className:"action-button",onClick:()=>ie(W),children:[l.jsx(da,{className:"h-3 w-3 mr-0.5"}),"Edit"]}),l.jsxs(ge,{variant:"ghost",size:"sm",className:"action-button text-destructive hover:bg-destructive/10",onClick:()=>me(W),children:[l.jsx(as,{className:"h-3 w-3 mr-0.5"}),"Delete"]})]})]},W.id))}),l.jsxs(NM,{className:"min-w-full border border-border/30 rounded-lg overflow-hidden hidden md:table",children:[l.jsx(jM,{className:"bg-muted/10",children:l.jsxs(rS,{className:"hover:bg-transparent border-border/30",children:[l.jsx(Vc,{className:"w-24 py-2 text-xs",children:"Date"}),l.jsx(Vc,{className:"w-28 py-2 text-xs",children:"Direction"}),l.jsx(Vc,{className:"w-24 py-2 text-xs",children:"Type"}),l.jsx(Vc,{className:"py-2 text-xs",children:"Recipient/Source"}),l.jsx(Vc,{className:"py-2 text-xs text-right",children:"Amount"}),l.jsx(Vc,{className:"w-16 py-2 text-xs text-right",children:"Actions"})]})}),l.jsx(CM,{children:ee.map(W=>l.jsxs(rS,{className:"border-border/30 hover:bg-muted/5",children:[l.jsx(zc,{className:"py-2 text-xs",children:new Date(W.date).toLocaleDateString()}),l.jsx(zc,{className:"py-2 text-xs",children:l.jsxs("div",{className:"flex items-center",children:[W.direction==="received"?l.jsx(zb,{className:"h-3.5 w-3.5 text-green-500 mr-1.5"}):l.jsx(qb,{className:"h-3.5 w-3.5 text-red-500 mr-1.5"}),l.jsx("span",{className:`${W.direction==="received"?"text-green-500":"text-red-500"}`,children:W.direction==="received"?"Received":"Paid"})]})}),l.jsx(zc,{className:"py-2 text-xs capitalize",children:W.payment_type.replace("_"," ")}),l.jsxs(zc,{className:"py-2 text-xs font-medium",children:[W.recipient_name,W.direction==="paid"&&W.is_third_party&&W.third_party_name&&l.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["→ ",W.third_party_name]})]}),l.jsx(zc,{className:"py-2 text-xs font-mono text-right",children:W.amount.toFixed(2)}),l.jsx(zc,{className:"py-2 text-xs text-right",children:l.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[l.jsx(ge,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>ie(W),title:"Edit",children:l.jsx(da,{className:"h-3.5 w-3.5"})}),l.jsx(ge,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>me(W),title:"Delete",children:l.jsx(as,{className:"h-3.5 w-3.5"})})]})})]},W.id))})]})]})]}),l.jsx(Qt,{open:u&&h,onOpenChange:W=>{W?(d(W),f(!0)):G()},children:l.jsx(ir,{className:"sm:max-w-lg",children:l.jsx(ae,{})})}),l.jsx(C0,{open:I,onOpenChange:D,children:l.jsxs(Sm,{children:[l.jsxs(_m,{children:[l.jsx(jm,{children:"Are you sure?"}),l.jsxs(Cm,{children:["This action cannot be undone. This will permanently delete the transaction",K&&l.jsxs("span",{className:"font-medium",children:[" for ",K.recipient_name]}),"."]})]}),l.jsxs(Nm,{children:[l.jsx(Em,{disabled:E,children:"Cancel"}),l.jsx(km,{onClick:T,disabled:E,className:"bg-destructive hover:bg-destructive/90",children:E?"Deleting...":"Delete"})]})]})})]})},Eie=()=>{const[e,t]=Pe.useState(""),[r,n]=Pe.useState(""),[s,a]=Pe.useState(null),{formatCurrency:i}=MN(),o=()=>{const c=parseFloat(e),u=parseFloat(r);!isNaN(c)&&!isNaN(u)?a(c*u/100):a(null)};return l.jsxs(Kt,{className:"border-none shadow-none",children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Tax Calculator"}),l.jsx(Jr,{children:"Calculate tax based on amount and rate."})]}),l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"tax-amount",children:"Amount"}),l.jsx(Ie,{id:"tax-amount",type:"number",placeholder:"Enter amount",value:e,onChange:c=>t(c.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"tax-rate",children:"Tax Rate (%)"}),l.jsx(Ie,{id:"tax-rate",type:"number",placeholder:"Enter tax rate",value:r,onChange:c=>n(c.target.value)})]}),l.jsx(ge,{onClick:o,children:"Calculate Tax"}),s!==null&&e&&l.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[l.jsxs("p",{children:["Calculated Tax: ",l.jsx("span",{className:"font-semibold",children:i(s)})]}),l.jsxs("p",{children:["Total Amount (incl. Tax): ",l.jsx("span",{className:"font-semibold",children:i(parseFloat(e)+s)})]})]})]})]})},Pie=()=>{const[e,t]=Pe.useState(""),[r,n]=Pe.useState(""),[s,a]=Pe.useState(""),[i,o]=Pe.useState("years"),[c,u]=Pe.useState(null),{formatCurrency:d}=MN(),h=()=>{const f=parseFloat(e),p=parseFloat(r)/100;let g=parseFloat(s);if(isNaN(f)||isNaN(p)||isNaN(g)){u(null);return}i==="months"&&(g=g/12);const y=f*p*g;u(y)};return l.jsxs(Kt,{className:"border-none shadow-none",children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Simple Interest Calculator"}),l.jsx(Jr,{children:"Calculate simple interest based on principal, rate, and time."})]}),l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"principal",children:"Principal Amount"}),l.jsx(Ie,{id:"principal",type:"number",placeholder:"Enter principal amount",value:e,onChange:f=>t(f.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"interest-rate",children:"Annual Interest Rate (%)"}),l.jsx(Ie,{id:"interest-rate",type:"number",placeholder:"Enter annual rate",value:r,onChange:f=>n(f.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(je,{htmlFor:"time",children:"Time Period"}),l.jsx(Ie,{id:"time",type:"number",placeholder:"Enter time period",value:s,onChange:f=>a(f.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"time-unit",children:"Unit"}),l.jsxs(An,{value:i,onValueChange:f=>o(f),children:[l.jsx(Sn,{id:"time-unit",children:l.jsx(Tn,{placeholder:"Select unit"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"years",children:"Years"}),l.jsx(St,{value:"months",children:"Months"})]})]})]})]}),l.jsx(ge,{onClick:h,children:"Calculate Interest"}),c!==null&&e&&l.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[l.jsxs("p",{children:["Calculated Interest: ",l.jsx("span",{className:"font-semibold",children:d(c)})]}),l.jsxs("p",{children:["Total Amount (Principal + Interest): ",l.jsx("span",{className:"font-semibold",children:d(parseFloat(e)+c)})]})]})]})]})},_P=["USD","EUR","GBP","JPY","INR","CAD","AUD"],Aie=()=>{const[e,t]=Pe.useState(""),[r,n]=Pe.useState("USD"),[s,a]=Pe.useState("INR"),[i,o]=Pe.useState(null),[c,u]=Pe.useState(!1),d=async()=>{u(!0),o(null);const f=parseFloat(e);if(isNaN(f)||r===s){u(!1);return}await new Promise(y=>setTimeout(y,500));const g=f*(s==="INR"?83.5:.9);o(g),u(!1)},h=()=>{const f=r;n(s),a(f)};return l.jsxs(Kt,{className:"border-none shadow-none",children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Currency Converter"}),l.jsx(Jr,{children:"Convert amounts between different currencies."})]}),l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"convert-amount",children:"Amount"}),l.jsx(Ie,{id:"convert-amount",type:"number",placeholder:"Enter amount to convert",value:e,onChange:f=>t(f.target.value)})]}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(je,{htmlFor:"from-currency",children:"From"}),l.jsxs(An,{value:r,onValueChange:n,children:[l.jsx(Sn,{id:"from-currency",children:l.jsx(Tn,{placeholder:"Select currency"})}),l.jsx(_n,{children:_P.map(f=>l.jsx(St,{value:f,children:f},f))})]})]}),l.jsx(ge,{variant:"ghost",size:"icon",onClick:h,"aria-label":"Swap currencies",children:l.jsx(dz,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(je,{htmlFor:"to-currency",children:"To"}),l.jsxs(An,{value:s,onValueChange:a,children:[l.jsx(Sn,{id:"to-currency",children:l.jsx(Tn,{placeholder:"Select currency"})}),l.jsx(_n,{children:_P.map(f=>l.jsx(St,{value:f,children:f},f))})]})]})]}),l.jsx(ge,{onClick:d,disabled:c||!e,children:c?"Converting...":"Convert"}),i!==null&&!c&&l.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[l.jsxs("p",{className:"font-semibold text-lg",children:[e," ",r," = ",new Intl.NumberFormat(void 0,{style:"currency",currency:s}).format(i)]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"(Using placeholder conversion rate)"})]}),l.jsx("div",{className:"mt-4 p-3 border rounded-md text-sm text-muted-foreground",children:"Note: This converter currently uses placeholder rates. Integrating live exchange rates requires an external API subscription."})]})]})},k0=({type:e,onSyncComplete:t,className:r=""})=>{const[n,s]=v.useState(!1),{toast:a}=nr(),{user:i}=Pr(),o=async()=>{if(console.log("FORCE-SYNC: handleSync called for",e),!(i!=null&&i.id)||n){console.log("FORCE-SYNC: No user ID or already syncing, returning");return}try{s(!0),console.log(`FORCE-SYNC: Starting force sync of ${e} for user ${i.id}...`),console.log(`Checking if ${e} table exists in Supabase...`);let c=[];e==="buyers"?c=await Te.getBuyersByUser(i.id):c=await Te.getSellersByUser(i.id),console.log(`Found ${c.length} local ${e}`);let u=!1;try{console.log(`Using forceSyncContacts to sync ${e}...`),u=await vt.forceSyncContacts(i.id),console.log(`forceSyncContacts result: ${u}`)}catch(d){console.error(`Error in forceSyncContacts for ${e}:`,d)}if(u)a({title:"Sync Successful",description:`Your ${e} have been synchronized with the cloud.`});else{console.log(`Falling back to direct inserts for ${e}...`);let d=0,h=0;for(const p of c)try{let g=null;e==="buyers"?(console.log(`Syncing buyer ${p.id} (${p.name}) to Supabase...`),g=await Ye.createBuyer(p)):(console.log(`Syncing seller ${p.id} (${p.name}) to Supabase...`),g=await Ye.createSeller(p)),g?(console.log(`Successfully synced ${e.slice(0,-1)} ${p.id}`),d++):(console.log(`Failed to sync ${e.slice(0,-1)} ${p.id}`),h++)}catch(g){console.error(`Error syncing ${e.slice(0,-1)} ${p.id}:`,g),h++}let f=!1;try{e==="buyers"?(console.log("Forcing sync of buyers using syncBuyers..."),f=await vt.syncBuyers(i.id)):(console.log("Forcing sync of sellers using syncSellers..."),f=await vt.syncSellers(i.id))}catch(p){console.error(`Error in regular sync of ${e}:`,p)}d>0||f?a({title:"Sync Successful",description:`${d} ${e} have been synchronized with the cloud.${h>0?` (${h} failed)`:""}`}):h>0?a({title:"Sync Partially Failed",description:`Failed to sync ${h} ${e}. Please check the console for details.`,variant:"destructive"}):a({title:"Sync Failed",description:"Please check your internet connection and try again.",variant:"destructive"})}t&&await t()}catch(c){console.error(`Error syncing ${e}:`,c),a({title:"Sync Error",description:`An error occurred while syncing your ${e}.`,variant:"destructive"})}finally{s(!1)}};return l.jsxs(ge,{variant:"outline",size:"sm",onClick:o,disabled:n||!navigator.onLine,className:r,children:[l.jsx(mi,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),n?"Syncing...":`Force Sync ${e.charAt(0).toUpperCase()+e.slice(1)}`]})},Tie=()=>{const{filteredTransactions:e,loading:t,searchQuery:r,setSearchQuery:n,setStatusFilter:s,loadTransactions:a}=hQ(),i=Ss(),[o,c]=v.useState(!1),[u,d]=v.useState("TransactLy"),[h,f]=v.useState(!1),[p,g]=v.useState(!1),[y,S]=v.useState(!1),[b,x]=v.useState(!1),[N,C]=v.useState(!1),[E,F]=v.useState(!1),[P,A]=v.useState([]),[K,Q]=v.useState([]),[I,D]=v.useState(!1),[L,B]=v.useState({name:"",email:"",phone:""}),[q,ee]=v.useState({name:"",email:"",phone:""}),[V,M]=v.useState(null),[Y,ie]=v.useState(null),[me,T]=v.useState(!1),[G,Z]=v.useState("dashboard"),[ae,W]=v.useState("tax"),[se,le]=v.useState("buyers"),{toast:ue}=nr(),{user:xe}=Pr(),Ee=J1(),Se=async De=>{try{await Fne(e,De),ue({title:"Export Successful",description:`Transaction data has been exported as ${De.toUpperCase()}`})}catch(st){console.error("Export failed:",st),ue({title:"Export Failed",description:"Failed to export transaction data",variant:"destructive"})}},ke=De=>{s(De)},Je=()=>{try{const De=localStorage.getItem("businessName");De&&d(De)}catch(De){console.error("Failed to load business name:",De)}},Ce=De=>{console.log("INDEX: Deduplicating buyers, initial count:",De.length);const st=new Map;De.forEach(lt=>{st.set(lt.id,lt)});const Tt=[],kt=new Set;return Array.from(st.values()).forEach(lt=>{const gn=lt.name.toLowerCase().trim(),Ze=(lt.email||"").toLowerCase().trim(),Bt=(lt.phone||"").toLowerCase().trim(),pt=`${gn}-${Ze}-${Bt}`;kt.has(pt)?console.log(`INDEX: Found duplicate buyer: ${lt.name} (${lt.id})`):(kt.add(pt),Tt.push(lt))}),console.log("INDEX: After deduplication, buyer count:",Tt.length),Tt},re=De=>{console.log("INDEX: Deduplicating sellers, initial count:",De.length);const st=new Map;De.forEach(lt=>{st.set(lt.id,lt)});const Tt=[],kt=new Set;return Array.from(st.values()).forEach(lt=>{const gn=lt.name.toLowerCase().trim(),Ze=(lt.email||"").toLowerCase().trim(),Bt=(lt.phone||"").toLowerCase().trim(),pt=`${gn}-${Ze}-${Bt}`;kt.has(pt)?console.log(`INDEX: Found duplicate seller: ${lt.name} (${lt.id})`):(kt.add(pt),Tt.push(lt))}),console.log("INDEX: After deduplication, seller count:",Tt.length),Tt},Ke=async()=>{if(xe!=null&&xe.id)try{D(!0),console.log("Loading buyers from IndexedDB...");const De=await Te.getBuyersByUser(xe.id);console.log(`Loaded ${De.length} buyers from IndexedDB`);const st=Ce(De);if(A(st),st.length<De.length){console.log(`INDEX: Found ${De.length-st.length} duplicate buyers, cleaning up database`);try{const lt=await Te.cleanupDuplicateBuyers(xe.id);console.log(`INDEX: Successfully removed ${lt} duplicate buyers from database`)}catch(lt){console.error("INDEX: Error cleaning up duplicate buyers:",lt)}}console.log("Loading sellers from IndexedDB...");const Tt=await Te.getSellersByUser(xe.id);console.log(`Loaded ${Tt.length} sellers from IndexedDB`);const kt=re(Tt);if(Q(kt),kt.length<Tt.length){console.log(`INDEX: Found ${Tt.length-kt.length} duplicate sellers, cleaning up database`);try{const lt=await Te.cleanupDuplicateSellers(xe.id);console.log(`INDEX: Successfully removed ${lt} duplicate sellers from database`)}catch(lt){console.error("INDEX: Error cleaning up duplicate sellers:",lt)}}try{const lt=localStorage.getItem("buyers"),gn=localStorage.getItem("sellers");if(lt&&De.length===0){const Ze=JSON.parse(lt);console.log(`Migrating ${Ze.length} buyers from localStorage to IndexedDB`);for(const Sr of Ze){const Ir={...Sr,user_id:xe.id};await Te.addBuyer(Ir)}const Bt=await Te.getBuyersByUser(xe.id),pt=Ce(Bt);A(pt)}if(gn&&Tt.length===0){const Ze=JSON.parse(gn);console.log(`Migrating ${Ze.length} sellers from localStorage to IndexedDB`);for(const Sr of Ze){const Ir={...Sr,user_id:xe.id};await Te.addSeller(Ir)}const Bt=await Te.getSellersByUser(xe.id),pt=re(Bt);Q(pt)}}catch(lt){console.error("Error migrating from localStorage:",lt)}}catch(De){console.error("Failed to load buyers and sellers:",De),ue({title:"Error",description:"Failed to load contacts",variant:"destructive"})}finally{D(!1)}},X=De=>{const{name:st,value:Tt}=De.target;V?M({...V,[st]:Tt}):B(kt=>({...kt,[st]:Tt}))},te=De=>{const{name:st,value:Tt}=De.target;Y?ie({...Y,[st]:Tt}):ee(kt=>({...kt,[st]:Tt}))},oe=async()=>{if(xe!=null&&xe.id)try{if(!L.name){ue({title:"Validation Error",description:"Name is required",variant:"destructive"});return}const De={...L,user_id:xe.id};console.log("Adding buyer to IndexedDB:",De);const st=await Te.addBuyer(De);if(console.log("Added buyer to IndexedDB:",st),navigator.onLine)try{console.log("Syncing new buyer to Supabase...");const Tt=await Ye.createBuyer(st);Tt?console.log("Successfully synced buyer to Supabase:",Tt):console.error("Failed to sync buyer to Supabase")}catch(Tt){console.error("Error syncing buyer to Supabase:",Tt)}await Ke(),B({name:"",email:"",phone:""}),f(!1),ue({title:"Success",description:"Buyer added successfully"})}catch(De){console.error("Failed to add buyer:",De),ue({title:"Error",description:"Failed to add buyer",variant:"destructive"})}},Ne=async()=>{if(xe!=null&&xe.id)try{if(!q.name){ue({title:"Validation Error",description:"Name is required",variant:"destructive"});return}const De={...q,user_id:xe.id};console.log("Adding seller to IndexedDB:",De);const st=await Te.addSeller(De);if(console.log("Added seller to IndexedDB:",st),navigator.onLine)try{console.log("Syncing new seller to Supabase...");const Tt=await Ye.createSeller(st);Tt?console.log("Successfully synced seller to Supabase:",Tt):console.error("Failed to sync seller to Supabase")}catch(Tt){console.error("Error syncing seller to Supabase:",Tt)}await Ke(),ee({name:"",email:"",phone:""}),g(!1),ue({title:"Success",description:"Seller added successfully"})}catch(De){console.error("Failed to add seller:",De),ue({title:"Error",description:"Failed to add seller",variant:"destructive"})}},ve=()=>{i("/new-transaction")},_e=async()=>{if(V)try{if(!V.name){ue({title:"Validation Error",description:"Name is required",variant:"destructive"});return}if(console.log("Updating buyer in IndexedDB:",V),await Te.updateBuyer(V),console.log("Updated buyer in IndexedDB"),navigator.onLine)try{console.log("Syncing updated buyer to Supabase...");const De=await Ye.updateBuyer(V);De?console.log("Successfully synced updated buyer to Supabase:",De):console.error("Failed to sync updated buyer to Supabase")}catch(De){console.error("Error syncing updated buyer to Supabase:",De)}await Ke(),S(!1),M(null),ue({title:"Success",description:"Buyer updated successfully"})}catch(De){console.error("Failed to update buyer:",De),ue({title:"Error",description:"Failed to update buyer",variant:"destructive"})}},Be=async()=>{if(V)try{if(console.log("Deleting buyer from IndexedDB:",V.id),await Te.deleteBuyer(V.id),console.log("Deleted buyer from IndexedDB"),navigator.onLine)try{console.log("Syncing deleted buyer to Supabase..."),await Ye.deleteBuyer(V.id)?console.log("Successfully synced deleted buyer to Supabase"):console.error("Failed to sync deleted buyer to Supabase")}catch(De){console.error("Error syncing deleted buyer to Supabase:",De)}await Ke(),x(!1),M(null),ue({title:"Success",description:"Buyer deleted successfully"})}catch(De){console.error("Failed to delete buyer:",De),ue({title:"Error",description:"Failed to delete buyer",variant:"destructive"})}},ze=async()=>{if(Y)try{if(!Y.name){ue({title:"Validation Error",description:"Name is required",variant:"destructive"});return}if(console.log("Updating seller in IndexedDB:",Y),await Te.updateSeller(Y),console.log("Updated seller in IndexedDB"),navigator.onLine)try{console.log("Syncing updated seller to Supabase...");const De=await Ye.updateSeller(Y);De?console.log("Successfully synced updated seller to Supabase:",De):console.error("Failed to sync updated seller to Supabase")}catch(De){console.error("Error syncing updated seller to Supabase:",De)}await Ke(),C(!1),ie(null),ue({title:"Success",description:"Seller updated successfully"})}catch(De){console.error("Failed to update seller:",De),ue({title:"Error",description:"Failed to update seller",variant:"destructive"})}},ot=async()=>{if(Y)try{if(console.log("Deleting seller from IndexedDB:",Y.id),await Te.deleteSeller(Y.id),console.log("Deleted seller from IndexedDB"),navigator.onLine)try{console.log("Syncing deleted seller to Supabase..."),await Ye.deleteSeller(Y.id)?console.log("Successfully synced deleted seller to Supabase"):console.error("Failed to sync deleted seller to Supabase")}catch(De){console.error("Error syncing deleted seller to Supabase:",De)}await Ke(),F(!1),ie(null),ue({title:"Success",description:"Seller deleted successfully"})}catch(De){console.error("Failed to delete seller:",De),ue({title:"Error",description:"Failed to delete seller",variant:"destructive"})}},ut=De=>{M(De),S(!0)},Ot=De=>{M(De),x(!0)},ft=De=>{ie(De),C(!0)},Ct=De=>{ie(De),F(!0)},Ge=()=>{switch(G){case"transactions":return"Business Transactions";case"calculations":return"Calculations";case"clients-vendors":return"Clients";default:return u}};return v.useEffect(()=>{Je(),xe!=null&&xe.id&&Ke()},[xe]),l.jsxs(zs.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col",children:[l.jsx(Dte,{onExport:Se,businessName:Ge()}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs(nh,{defaultValue:"dashboard",value:G,onValueChange:Z,className:"w-full flex flex-col h-[calc(100vh-64px)]",children:[l.jsxs(Is,{value:"dashboard",className:"container mx-auto px-4 py-4 flex-1 overflow-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-4 gap-4",children:[l.jsx("div",{className:"w-full md:w-auto",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx(Rte,{searchQuery:r,setSearchQuery:n}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(ge,{variant:e.length===0?"default":"outline",size:"sm",onClick:()=>ke(null),children:"All"}),l.jsx(ge,{variant:"outline",size:"sm",onClick:()=>ke("pending"),className:"border-amber-500 text-amber-500 hover:bg-amber-50",children:"Pending"}),l.jsx(ge,{variant:"outline",size:"sm",onClick:()=>ke("completed"),className:"border-green-500 text-green-500 hover:bg-green-50",children:"Completed"})]})]})}),l.jsxs(Qt,{open:o,onOpenChange:c,children:[l.jsx(Mo,{asChild:!0,children:l.jsxs(ge,{onClick:()=>c(!0),children:[l.jsx(La,{className:"h-4 w-4 mr-2"}),"New Transaction"]})}),l.jsx(DO,{onTransactionCreated:()=>{c(!1),a()}})]})]}),l.jsx(z_,{children:t?l.jsx(Kte,{}):e.length===0?l.jsx(Yte,{hasSearchQuery:r.length>0,onCreateTransaction:ve}):l.jsx(ere,{transactions:e,loading:t,onRefresh:a,onCreateTransaction:ve})})]}),l.jsx(Is,{value:"clients-vendors",className:"container mx-auto px-4 py-8 flex-1 overflow-auto",children:l.jsxs(nh,{value:se,onValueChange:le,className:"w-full",children:[l.jsx("div",{className:"w-full mb-4 flex justify-around items-center bg-muted p-1 rounded-md",children:[{value:"buyers",label:"Buyers",icon:l.jsx(Fz,{className:"h-4 w-4"})},{value:"sellers",label:"Sellers",icon:l.jsx($z,{className:"h-4 w-4"})}].map(De=>{const st=De.value===se;return l.jsxs("button",{onClick:()=>le(De.value),className:`flex items-center px-3 py-2 text-sm font-medium ${st?"text-primary border-b-2 border-primary":"text-foreground/80"}`,children:[De.icon,l.jsx("span",{className:`${Ee?"mt-1 text-xs":"ml-2"} ${st||!Ee?"":"hidden"}`,children:De.label})]},De.value)})}),l.jsx(Qt,{open:y,onOpenChange:S,children:l.jsxs(ir,{children:[l.jsxs(ur,{children:[l.jsx(dr,{children:"Edit Buyer"}),l.jsx(Cl,{children:"Update the buyer's information below."})]}),V&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_name",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"edit_name",name:"name",value:V.name,onChange:X,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_email",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"edit_email",name:"email",type:"email",value:V.email||"",onChange:X,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_phone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"edit_phone",name:"phone",value:V.phone||"",onChange:X,className:"col-span-3"})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),l.jsx(ge,{onClick:_e,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:b,onOpenChange:x,children:l.jsxs(ir,{children:[l.jsxs(ur,{children:[l.jsx(dr,{children:"Delete Buyer"}),l.jsx(Cl,{children:"This action cannot be undone."})]}),l.jsx("div",{className:"py-4",children:l.jsx("p",{children:"Are you sure you want to delete this buyer?"})}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:Be,children:"Delete"})]})]})}),l.jsx(Qt,{open:N,onOpenChange:C,children:l.jsxs(ir,{children:[l.jsxs(ur,{children:[l.jsx(dr,{children:"Edit Seller"}),l.jsx(Cl,{children:"Update the seller's information below."})]}),Y&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_seller_name",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"edit_seller_name",name:"name",value:Y.name,onChange:te,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_seller_email",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"edit_seller_email",name:"email",type:"email",value:Y.email||"",onChange:te,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_seller_phone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"edit_seller_phone",name:"phone",value:Y.phone||"",onChange:te,className:"col-span-3"})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),l.jsx(ge,{onClick:ze,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:E,onOpenChange:F,children:l.jsxs(ir,{children:[l.jsxs(ur,{children:[l.jsx(dr,{children:"Delete Seller"}),l.jsx(Cl,{children:"This action cannot be undone."})]}),l.jsx("div",{className:"py-4",children:l.jsx("p",{children:"Are you sure you want to delete this seller?"})}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:ot,children:"Delete"})]})]})}),l.jsxs("div",{className:"mt-4",children:[se==="buyers"&&l.jsxs(Kt,{children:[l.jsx(er,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(k0,{type:"buyers",onSyncComplete:Ke,className:"mt-2 sm:mt-0"})})}),l.jsx(Yt,{children:I?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):P.length===0?l.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No buyers added yet. Add your first buyer."}):l.jsx("div",{className:"space-y-4",children:P.map(De=>l.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors relative",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:De.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:De.phone}),De.email&&l.jsx("p",{className:"text-sm text-muted-foreground",children:De.email})]}),l.jsx("div",{className:"text-sm text-right mt-2 md:mt-0",children:l.jsxs("p",{className:"text-muted-foreground",children:["Added on ",new Date(De.date).toLocaleDateString()]})})]}),l.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[l.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600",onClick:()=>ut(De),children:l.jsx(da,{className:"h-4 w-4"})}),l.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600",onClick:()=>Ot(De),children:l.jsx(as,{className:"h-4 w-4"})})]})]},De.id))})}),l.jsx(Wo,{className:"flex justify-end",children:l.jsx(Qt,{open:h,onOpenChange:f,children:l.jsxs(ir,{children:[l.jsxs(ur,{children:[l.jsx(dr,{children:"Add New Buyer"}),l.jsx(Cl,{children:"Enter the details of the new buyer to add them to your system."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"buyerName",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"buyerName",name:"name",className:"col-span-3",placeholder:"Enter buyer name",value:L.name,onChange:X})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"buyerEmail",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"buyerEmail",name:"email",className:"col-span-3",placeholder:"Enter buyer email",value:L.email,onChange:X})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"buyerPhone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"buyerPhone",name:"phone",className:"col-span-3",placeholder:"Enter buyer phone",value:L.phone,onChange:X})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),l.jsx(ge,{type:"button",onClick:oe,children:"Add Buyer"})]})]})})})]}),se==="sellers"&&l.jsxs(Kt,{children:[l.jsx(er,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(k0,{type:"sellers",onSyncComplete:Ke,className:"mt-2 sm:mt-0"})})}),l.jsx(Yt,{children:I?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):K.length===0?l.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No sellers added yet. Add your first seller."}):l.jsx("div",{className:"space-y-4",children:K.map(De=>l.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors relative",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:De.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:De.phone}),De.email&&l.jsx("p",{className:"text-sm text-muted-foreground",children:De.email})]}),l.jsx("div",{className:"text-sm text-right mt-2 md:mt-0",children:l.jsxs("p",{className:"text-muted-foreground",children:["Added on ",new Date(De.date).toLocaleDateString()]})})]}),l.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[l.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600",onClick:()=>ft(De),children:l.jsx(da,{className:"h-4 w-4"})}),l.jsx(ge,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600",onClick:()=>Ct(De),children:l.jsx(as,{className:"h-4 w-4"})})]})]},De.id))})}),l.jsx(Wo,{className:"flex justify-end",children:l.jsx(Qt,{open:p,onOpenChange:g,children:l.jsxs(ir,{children:[l.jsxs(ur,{children:[l.jsx(dr,{children:"Add New Seller"}),l.jsx(Cl,{children:"Enter the details of the new seller to add them to your system."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"sellerName",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"sellerName",name:"name",className:"col-span-3",placeholder:"Enter seller name",value:q.name,onChange:te})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"sellerEmail",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"sellerEmail",name:"email",className:"col-span-3",placeholder:"Enter seller email",value:q.email,onChange:te})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"sellerPhone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"sellerPhone",name:"phone",className:"col-span-3",placeholder:"Enter seller phone",value:q.phone,onChange:te})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),l.jsx(ge,{type:"button",onClick:Ne,children:"Add Seller"})]})]})})})]})]}),se==="buyers"&&l.jsx(Qt,{open:h,onOpenChange:f,children:l.jsx(Mo,{asChild:!0,children:l.jsx(ge,{size:"icon",className:"h-12 w-12 rounded-full fixed bottom-24 right-6 shadow-lg z-10",children:l.jsx(La,{className:"h-5 w-5"})})})}),se==="sellers"&&l.jsx(Qt,{open:p,onOpenChange:g,children:l.jsx(Mo,{asChild:!0,children:l.jsx(ge,{size:"icon",className:"h-12 w-12 rounded-full fixed bottom-24 right-6 shadow-lg z-10",children:l.jsx(La,{className:"h-5 w-5"})})})})]})}),l.jsxs(Is,{value:"transactions",className:"container mx-auto px-4 py-8 flex-1 overflow-auto relative",children:[l.jsx(kie,{isFormOpen:me,setIsFormOpen:T,dialogModeRef:{current:!0}}),l.jsx(ge,{size:"icon",className:"h-12 w-12 rounded-full fixed bottom-24 right-6 shadow-lg z-10",onClick:()=>{T(!0)},children:l.jsx(La,{className:"h-5 w-5"})})]}),l.jsx(Is,{value:"calculations",className:"container mx-auto px-4 py-8 flex-1 overflow-auto",children:l.jsx(Kt,{children:l.jsx(Yt,{className:"p-0 pt-6",children:l.jsxs(nh,{value:ae,onValueChange:W,className:"w-full",children:[l.jsx("div",{className:"w-full mb-4 flex justify-around items-center bg-muted p-1 rounded-md",children:[{value:"tax",label:"Tax",icon:l.jsx(Tz,{className:"h-4 w-4"})},{value:"interest",label:"Interest",icon:l.jsx(Cz,{className:"h-4 w-4"})},{value:"currency",label:"Currency",icon:l.jsx(Rz,{className:"h-4 w-4"})}].map(De=>{const st=De.value===ae;return l.jsxs("button",{onClick:()=>W(De.value),className:`flex items-center px-3 py-2 text-sm font-medium ${st?"text-primary border-b-2 border-primary":"text-foreground/80"}`,children:[De.icon,l.jsx("span",{className:`${Ee?"mt-1 text-xs":"ml-2"} ${st||!Ee?"":"hidden"}`,children:De.label})]},De.value)})}),l.jsxs("div",{className:"mt-4",children:[ae==="tax"&&l.jsx(Eie,{}),ae==="interest"&&l.jsx(Pie,{}),ae==="currency"&&l.jsx(Aie,{})]})]})})})}),l.jsx(Is,{value:"settings",className:"container mx-auto px-4 py-8 flex-1 overflow-auto",children:l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Settings"}),l.jsx(Jr,{children:"Manage your application preferences"})]}),l.jsx(Yt,{children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:"Business Information"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Update your business details"})]})})})]})}),l.jsx("div",{className:"mt-auto sticky bottom-0 z-10",children:l.jsxs(hg,{className:"w-full bg-background border-t flex justify-between rounded-none",children:[l.jsx(aa,{value:"dashboard",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(pz,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]})}),l.jsx(aa,{value:"transactions",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(kz,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Transactions"})]})}),l.jsx(aa,{value:"calculations",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(fz,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Calculations"})]})}),l.jsx(aa,{value:"clients-vendors",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(hz,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Clients"})]})})]})})]})})]})};var Os=(e=>(e.PURCHASES="purchases",e.TRANSPORTATION="transportation",e.SALES="sales",e.PAYMENTS="payments",e.NOTES="notes",e.ATTACHMENTS="attachments",e))(Os||{});const Lie=({activeTab:e,onTabChange:t,disabledTabs:r,isMobile:n})=>{const s=[{key:Os.PURCHASES,label:"Purchases",icon:l.jsx(Pz,{className:"h-4 w-4"})},{key:Os.TRANSPORTATION,label:"Transportation",icon:l.jsx(Mz,{className:"h-4 w-4"})},{key:Os.SALES,label:"Sales",icon:l.jsx(Iz,{className:"h-4 w-4"})},{key:Os.PAYMENTS,label:"Payments",icon:l.jsx(xz,{className:"h-4 w-4"})},{key:Os.NOTES,label:"Notes",icon:l.jsx(x_,{className:"h-4 w-4"})},{key:Os.ATTACHMENTS,label:"Attachments",icon:l.jsx(hL,{className:"h-4 w-4"})}];return l.jsx("div",{className:`flex ${n?"justify-around":"justify-start"} items-center`,children:s.map(a=>l.jsxs("button",{onClick:()=>t(a.key),disabled:r.includes(a.key),className:`flex items-center px-3 py-2 text-sm font-medium ${e===a.key?"text-primary border-b-2 border-primary":"text-foreground/80"} ${n?"flex-col":""}`,children:[a.icon,l.jsx("span",{className:`${n?"mt-1 text-xs":"ml-2"} ${e===a.key?"":"hidden md:inline"}`,children:a.label})]},a.key))})},Rh=v.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:Ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Rh.displayName="Textarea";const Die=({transaction:e,refreshTransaction:t})=>{const{toast:r}=nr(),n=e.transportation,[s,a]=v.useState(!1),[i,o]=v.useState(null);v.useEffect(()=>{n?o({transaction_id:n.transaction_id,vehicle_type:n.vehicle_type,number_plate:n.number_plate,driver_phone:n.driver_phone||"",empty_weight:n.empty_weight,loaded_weight:n.loaded_weight,origin:n.origin,distance:n.distance,departure_date:n.departure_date||"",departure_time:n.departure_time||"",expected_arrival_date:n.expected_arrival_date||"",expected_arrival_time:n.expected_arrival_time||"",transportation_charges:n.transportation_charges,notes:n.notes||""}):(a(!0),o({transaction_id:e.transaction.id,vehicle_type:"",number_plate:"",driver_phone:"",empty_weight:0,loaded_weight:0,origin:"",distance:0,departure_date:"",departure_time:"",expected_arrival_date:"",expected_arrival_time:"",transportation_charges:0,notes:""}))},[n,e.transaction.id]);const c=d=>{if(!i)return;const{name:h,value:f}=d.target;o({...i,[h]:["empty_weight","loaded_weight","distance","transportation_charges"].includes(h)?parseFloat(f)||0:f})},u=async()=>{try{if(!i){console.error("Form data is null, cannot save");return}console.log("Saving transportation data:",i),console.log("Transaction ID:",e.transaction.id);const d={...i};d.departure_date===""&&(d.departure_date=null),d.expected_arrival_date===""&&(d.expected_arrival_date=null),d.departure_time===""&&(d.departure_time=null),d.expected_arrival_time===""&&(d.expected_arrival_time=null),console.log("Prepared transportation data:",d);let h;n?(console.log("Updating existing transportation with ID:",n.id),h=await Zr.saveTransportation({...d,id:n.id})):(console.log("Adding new transportation"),h=await Zr.saveTransportation(d)),console.log("Transportation save result:",h),console.log("Refreshing transaction data..."),await t(),a(!1),r({title:"Success",description:"Transportation details updated successfully"})}catch(d){console.error("Error updating transportation details:",d),r({title:"Error",description:"Failed to update transportation details",variant:"destructive"})}};return i?s?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium",children:n?"Edit Transportation Details":"Add Transportation Details"}),l.jsxs("div",{className:"flex space-x-2",children:[n&&l.jsx(ge,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(ge,{onClick:u,children:"Save Changes"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"vehicle_type",children:"Vehicle Type"}),l.jsx(Ie,{id:"vehicle_type",name:"vehicle_type",value:i.vehicle_type,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"number_plate",children:"Number Plate"}),l.jsx(Ie,{id:"number_plate",name:"number_plate",value:i.number_plate,onChange:c})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"driver_phone",children:"Driver's Phone Number"}),l.jsx(Ie,{id:"driver_phone",name:"driver_phone",value:i.driver_phone,onChange:c,placeholder:"Enter driver's phone number"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"empty_weight",children:"Empty Weight (kg)"}),l.jsx(Ie,{id:"empty_weight",name:"empty_weight",type:"number",value:i.empty_weight,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"loaded_weight",children:"Loaded Weight (kg)"}),l.jsx(Ie,{id:"loaded_weight",name:"loaded_weight",type:"number",value:i.loaded_weight,onChange:c})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"origin",children:"Origin"}),l.jsx(Ie,{id:"origin",name:"origin",value:i.origin,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"distance",children:"Distance (km)"}),l.jsx(Ie,{id:"distance",name:"distance",type:"number",value:i.distance,onChange:c})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"departure_date",children:"Departure Date"}),l.jsx(Ie,{id:"departure_date",name:"departure_date",type:"date",value:i.departure_date,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"departure_time",children:"Departure Time"}),l.jsx(Ie,{id:"departure_time",name:"departure_time",type:"time",value:i.departure_time,onChange:c})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"expected_arrival_date",children:"Expected Arrival Date"}),l.jsx(Ie,{id:"expected_arrival_date",name:"expected_arrival_date",type:"date",value:i.expected_arrival_date,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"expected_arrival_time",children:"Expected Arrival Time"}),l.jsx(Ie,{id:"expected_arrival_time",name:"expected_arrival_time",type:"time",value:i.expected_arrival_time,onChange:c})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"transportation_charges",children:"Transport Charges"}),l.jsx(Ie,{id:"transportation_charges",name:"transportation_charges",type:"number",value:i.transportation_charges,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"notes",children:"Transportation Notes"}),l.jsx(Rh,{id:"notes",name:"notes",value:i.notes,onChange:c,placeholder:"Add details about the transportation",rows:4})]})]})]}):n?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Vehicle Information"}),l.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"bg-background hover:bg-secondary border border-border text-foreground",children:[l.jsx(da,{className:"h-4 w-4 mr-1"}),"Edit Details"]})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehicle Type"}),l.jsx("p",{className:"font-medium text-foreground",children:n.vehicle_type})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Number Plate"}),l.jsx("p",{className:"font-medium text-foreground",children:n.number_plate})]}),n.driver_phone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Driver's Phone"}),l.jsx("p",{className:"font-medium text-foreground",children:n.driver_phone})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Load Measurements"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Empty Weight"}),l.jsxs("p",{className:"font-medium text-foreground",children:[n.empty_weight," kg"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loaded Weight"}),l.jsxs("p",{className:"font-medium text-foreground",children:[n.loaded_weight," kg"]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Schedule Details"}),l.jsxs("div",{className:"glass p-4 rounded-lg bg-card/80 border border-border",children:[n.departure_date&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Departure Date"}),l.jsx("p",{className:"font-medium text-foreground",children:new Date(n.departure_date).toLocaleDateString()})]}),n.departure_time&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Departure Time"}),l.jsx("p",{className:"font-medium text-foreground",children:n.departure_time})]})]}),n.expected_arrival_date&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Arrival Date"}),l.jsx("p",{className:"font-medium text-foreground",children:new Date(n.expected_arrival_date).toLocaleDateString()})]}),n.expected_arrival_time&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Arrival Time"}),l.jsx("p",{className:"font-medium text-foreground",children:n.expected_arrival_time})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Route Details"}),l.jsx("div",{className:"glass p-4 rounded-lg bg-card/80 border border-border",children:l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Origin"}),l.jsx("p",{className:"font-medium text-foreground",children:n.origin})]}),l.jsx("div",{className:"mx-4 text-muted-foreground",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),l.jsx("polyline",{points:"12 5 19 12 12 19"})]})}),l.jsxs("div",{className:"space-y-1 text-right",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Distance"}),l.jsxs("p",{className:"font-medium text-foreground",children:[n.distance," km"]})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Transport Charges"}),l.jsx("p",{className:"font-medium text-foreground",children:di(n.transportation_charges)})]})})]})})]}),n.notes&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Transportation Notes"}),l.jsx("div",{className:"glass p-4 rounded-lg bg-card/80 border border-border",children:l.jsx("p",{className:"whitespace-pre-wrap text-foreground",children:n.notes})})]})]}):l.jsxs("div",{className:"text-center p-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No transportation data available"}),l.jsxs(ge,{onClick:()=>a(!0),variant:"outline",className:"bg-background hover:bg-secondary border border-border text-foreground",children:[l.jsx(da,{className:"h-4 w-4 mr-1"}),"Add Transportation Details"]})]}):l.jsx("div",{children:"Loading..."})},Rie=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({transaction_id:e.transaction.id,supplier_name:"",contact_number:"",goods_name:"",quantity:0,rate:0,total_cost:0,amount_paid:0,balance_due:0,payment_frequency:"one-time"}),{toast:f}=nr(),p=C=>{const{name:E,value:F}=C.target;if(s&&c){const P={...c};if(E==="quantity"||E==="rate"){const A=E==="quantity"?parseFloat(F)||0:c.quantity,K=E==="rate"?parseFloat(F)||0:c.rate,Q=A*K;P[E]=parseFloat(F)||0,P.total_cost=Q,P.balance_due=Q-P.amount_paid}else if(E==="amount_paid"){const A=parseFloat(F)||0;P.amount_paid=A,P.balance_due=P.total_cost-A}else P[E]=F;u(P)}else if(E==="quantity"||E==="rate"){const P=E==="quantity"?parseFloat(F)||0:d.quantity,A=E==="rate"?parseFloat(F)||0:d.rate,K=P*A;h(Q=>({...Q,[E]:parseFloat(F)||0,total_cost:K,balance_due:K-Q.amount_paid}))}else if(E==="amount_paid"){const P=parseFloat(F)||0;h(A=>({...A,amount_paid:P,balance_due:A.total_cost-P}))}else h(P=>({...P,[E]:F}))},g=C=>{s&&c?u(E=>({...E,payment_frequency:C})):h(E=>({...E,payment_frequency:C}))},y=async()=>{try{if(!d.supplier_name||!d.goods_name){f({title:"Validation Error",description:"Supplier name and goods name are required",variant:"destructive"});return}await Zr.addPurchase(d),await t(),h({transaction_id:e.transaction.id,supplier_name:"",contact_number:"",goods_name:"",quantity:0,rate:0,total_cost:0,amount_paid:0,balance_due:0,payment_frequency:"one-time"}),n(!1),f({title:"Success",description:"Purchase added successfully"})}catch(C){console.error("Error adding purchase:",C),f({title:"Error",description:"Failed to add purchase",variant:"destructive"})}},S=async()=>{try{if(!c)return;if(!c.supplier_name||!c.goods_name){f({title:"Validation Error",description:"Supplier name and goods name are required",variant:"destructive"});return}await Zr.updatePurchase(c),await t(),u(null),a(!1),f({title:"Success",description:"Purchase updated successfully"})}catch(C){console.error("Error updating purchase:",C),f({title:"Error",description:"Failed to update purchase",variant:"destructive"})}},b=async()=>{try{if(!c)return;await Zr.deletePurchase(c.id),await t(),u(null),o(!1),f({title:"Success",description:"Purchase deleted successfully"})}catch(C){console.error("Error deleting purchase:",C),f({title:"Error",description:"Failed to delete purchase",variant:"destructive"})}},x=C=>{u(C),a(!0)},N=C=>{u(C),o(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Purchases"}),l.jsxs(Qt,{open:r,onOpenChange:n,children:[l.jsx(Mo,{asChild:!0,children:l.jsxs(ge,{size:"sm",children:[l.jsx(La,{className:"h-4 w-4 mr-2"}),"Add Purchase"]})}),l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Add Purchase"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"supplier_name",className:"text-right",children:"Supplier Name"}),l.jsx(Ie,{id:"supplier_name",name:"supplier_name",value:d.supplier_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Ie,{id:"contact_number",name:"contact_number",value:d.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"goods_name",className:"text-right",children:"Goods Name"}),l.jsx(Ie,{id:"goods_name",name:"goods_name",value:d.goods_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),l.jsx(Ie,{id:"quantity",name:"quantity",type:"number",value:d.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"rate",className:"text-right",children:"Rate"}),l.jsx(Ie,{id:"rate",name:"rate",type:"number",value:d.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"total_cost",className:"text-right",children:"Total Cost"}),l.jsx(Ie,{id:"total_cost",name:"total_cost",type:"number",value:d.total_cost||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"amount_paid",className:"text-right",children:"Amount Paid"}),l.jsx(Ie,{id:"amount_paid",name:"amount_paid",type:"number",value:d.amount_paid||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Ie,{id:"balance_due",name:"balance_due",type:"number",value:d.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Ie,{id:"payment_due_date",name:"payment_due_date",type:"date",value:d.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(An,{value:d.payment_frequency,onValueChange:g,children:[l.jsx(Sn,{className:"col-span-3",children:l.jsx(Tn,{placeholder:"Select frequency"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"one-time",children:"One Time"}),l.jsx(St,{value:"weekly",children:"Weekly"}),l.jsx(St,{value:"monthly",children:"Monthly"}),l.jsx(St,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(ge,{onClick:y,children:"Add Purchase"})]})]})]})]}),e.purchases.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:'No purchases added yet. Click "Add Purchase" to add your first purchase.'}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.purchases.map(C=>l.jsxs(Kt,{className:"overflow-hidden",children:[l.jsxs(er,{className:"bg-muted/50 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(ar,{className:"text-base",children:C.supplier_name}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>x(C),children:l.jsx(da,{className:"h-4 w-4"})}),l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>N(C),children:l.jsx(as,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:C.contact_number})]}),l.jsx(Yt,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Goods:"}),l.jsx("span",{className:"text-sm font-medium",children:C.goods_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),l.jsx("span",{className:"text-sm font-medium",children:C.quantity})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Rate:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.rate)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Cost:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.total_cost)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount Paid:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.amount_paid)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Balance Due:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.balance_due)})]}),C.payment_due_date&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Due Date:"}),l.jsx("span",{className:"text-sm font-medium",children:new Date(C.payment_due_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Frequency:"}),l.jsx("span",{className:"text-sm font-medium capitalize",children:C.payment_frequency})]})]})})]},C.id))}),l.jsx(Qt,{open:s,onOpenChange:a,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Edit Purchase"})}),c&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_supplier_name",className:"text-right",children:"Supplier Name"}),l.jsx(Ie,{id:"edit_supplier_name",name:"supplier_name",value:c.supplier_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Ie,{id:"edit_contact_number",name:"contact_number",value:c.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_goods_name",className:"text-right",children:"Goods Name"}),l.jsx(Ie,{id:"edit_goods_name",name:"goods_name",value:c.goods_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_quantity",className:"text-right",children:"Quantity"}),l.jsx(Ie,{id:"edit_quantity",name:"quantity",type:"number",value:c.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_rate",className:"text-right",children:"Rate"}),l.jsx(Ie,{id:"edit_rate",name:"rate",type:"number",value:c.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_total_cost",className:"text-right",children:"Total Cost"}),l.jsx(Ie,{id:"edit_total_cost",name:"total_cost",type:"number",value:c.total_cost||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_amount_paid",className:"text-right",children:"Amount Paid"}),l.jsx(Ie,{id:"edit_amount_paid",name:"amount_paid",type:"number",value:c.amount_paid||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Ie,{id:"edit_balance_due",name:"balance_due",type:"number",value:c.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Ie,{id:"edit_payment_due_date",name:"payment_due_date",type:"date",value:c.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(An,{value:c.payment_frequency||"one-time",onValueChange:g,children:[l.jsx(Sn,{className:"col-span-3",children:l.jsx(Tn,{placeholder:"Select frequency"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"one-time",children:"One Time"}),l.jsx(St,{value:"weekly",children:"Weekly"}),l.jsx(St,{value:"monthly",children:"Monthly"}),l.jsx(St,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(ge,{onClick:S,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:i,onOpenChange:o,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Delete Purchase"})}),l.jsx("p",{children:"Are you sure you want to delete this purchase? This action cannot be undone."}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:b,children:"Delete"})]})]})})]})},Oie=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({transaction_id:e.transaction.id,buyer_name:"",contact_number:"",quantity:0,rate:0,total_amount:0,amount_received:0,balance_due:0,payment_frequency:"one-time"}),{toast:f}=nr(),p=C=>{const{name:E,value:F}=C.target;if(s&&c){const P={...c};if(E==="quantity"||E==="rate"){const A=E==="quantity"?parseFloat(F)||0:c.quantity,K=E==="rate"?parseFloat(F)||0:c.rate,Q=A*K;P[E]=parseFloat(F)||0,P.total_amount=Q,P.balance_due=Q-P.amount_received}else if(E==="amount_received"){const A=parseFloat(F)||0;P.amount_received=A,P.balance_due=P.total_amount-A}else P[E]=F;u(P)}else if(E==="quantity"||E==="rate"){const P=E==="quantity"?parseFloat(F)||0:d.quantity,A=E==="rate"?parseFloat(F)||0:d.rate,K=P*A;h(Q=>({...Q,[E]:parseFloat(F)||0,total_amount:K,balance_due:K-Q.amount_received}))}else if(E==="amount_received"){const P=parseFloat(F)||0;h(A=>({...A,amount_received:P,balance_due:A.total_amount-P}))}else h(P=>({...P,[E]:F}))},g=C=>{s&&c?u(E=>({...E,payment_frequency:C})):h(E=>({...E,payment_frequency:C}))},y=async()=>{try{if(!d.buyer_name){f({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}await Zr.addSale(d),await t(),h({transaction_id:e.transaction.id,buyer_name:"",contact_number:"",quantity:0,rate:0,total_amount:0,amount_received:0,balance_due:0,payment_frequency:"one-time"}),n(!1),f({title:"Success",description:"Sale added successfully"})}catch(C){console.error("Error adding sale:",C),f({title:"Error",description:"Failed to add sale",variant:"destructive"})}},S=async()=>{try{if(!c)return;if(!c.buyer_name){f({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}await Zr.updateSale(c),await t(),u(null),a(!1),f({title:"Success",description:"Sale updated successfully"})}catch(C){console.error("Error updating sale:",C),f({title:"Error",description:"Failed to update sale",variant:"destructive"})}},b=async()=>{try{if(!c)return;await Zr.deleteSale(c.id),await t(),u(null),o(!1),f({title:"Success",description:"Sale deleted successfully"})}catch(C){console.error("Error deleting sale:",C),f({title:"Error",description:"Failed to delete sale",variant:"destructive"})}},x=C=>{u(C),a(!0)},N=C=>{u(C),o(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Sales"}),l.jsxs(Qt,{open:r,onOpenChange:n,children:[l.jsx(Mo,{asChild:!0,children:l.jsxs(ge,{size:"sm",children:[l.jsx(La,{className:"h-4 w-4 mr-2"}),"Add Sale"]})}),l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Add Sale"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"buyer_name",className:"text-right",children:"Buyer Name"}),l.jsx(Ie,{id:"buyer_name",name:"buyer_name",value:d.buyer_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Ie,{id:"contact_number",name:"contact_number",value:d.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),l.jsx(Ie,{id:"quantity",name:"quantity",type:"number",value:d.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"rate",className:"text-right",children:"Rate"}),l.jsx(Ie,{id:"rate",name:"rate",type:"number",value:d.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"total_amount",className:"text-right",children:"Total Amount"}),l.jsx(Ie,{id:"total_amount",name:"total_amount",type:"number",value:d.total_amount||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"amount_received",className:"text-right",children:"Amount Received"}),l.jsx(Ie,{id:"amount_received",name:"amount_received",type:"number",value:d.amount_received||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Ie,{id:"balance_due",name:"balance_due",type:"number",value:d.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Ie,{id:"payment_due_date",name:"payment_due_date",type:"date",value:d.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(An,{value:d.payment_frequency,onValueChange:g,children:[l.jsx(Sn,{className:"col-span-3",children:l.jsx(Tn,{placeholder:"Select frequency"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"one-time",children:"One Time"}),l.jsx(St,{value:"weekly",children:"Weekly"}),l.jsx(St,{value:"monthly",children:"Monthly"}),l.jsx(St,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(ge,{onClick:y,children:"Add Sale"})]})]})]})]}),e.sales.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:'No sales added yet. Click "Add Sale" to add your first sale.'}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.sales.map(C=>l.jsxs(Kt,{className:"overflow-hidden",children:[l.jsxs(er,{className:"bg-muted/50 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(ar,{className:"text-base",children:C.buyer_name}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>x(C),children:l.jsx(da,{className:"h-4 w-4"})}),l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>N(C),children:l.jsx(as,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:C.contact_number})]}),l.jsx(Yt,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),l.jsx("span",{className:"text-sm font-medium",children:C.quantity})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Rate:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.rate)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Amount:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.total_amount)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount Received:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.amount_received)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Balance Due:"}),l.jsx("span",{className:"text-sm font-medium",children:di(C.balance_due)})]}),C.payment_due_date&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Due Date:"}),l.jsx("span",{className:"text-sm font-medium",children:new Date(C.payment_due_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Frequency:"}),l.jsx("span",{className:"text-sm font-medium capitalize",children:C.payment_frequency})]})]})})]},C.id))}),l.jsx(Qt,{open:s,onOpenChange:a,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Edit Sale"})}),c&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_buyer_name",className:"text-right",children:"Buyer Name"}),l.jsx(Ie,{id:"edit_buyer_name",name:"buyer_name",value:c.buyer_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Ie,{id:"edit_contact_number",name:"contact_number",value:c.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_quantity",className:"text-right",children:"Quantity"}),l.jsx(Ie,{id:"edit_quantity",name:"quantity",type:"number",value:c.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_rate",className:"text-right",children:"Rate"}),l.jsx(Ie,{id:"edit_rate",name:"rate",type:"number",value:c.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_total_amount",className:"text-right",children:"Total Amount"}),l.jsx(Ie,{id:"edit_total_amount",name:"total_amount",type:"number",value:c.total_amount||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_amount_received",className:"text-right",children:"Amount Received"}),l.jsx(Ie,{id:"edit_amount_received",name:"amount_received",type:"number",value:c.amount_received||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Ie,{id:"edit_balance_due",name:"balance_due",type:"number",value:c.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Ie,{id:"edit_payment_due_date",name:"payment_due_date",type:"date",value:c.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(An,{value:c.payment_frequency||"one-time",onValueChange:g,children:[l.jsx(Sn,{className:"col-span-3",children:l.jsx(Tn,{placeholder:"Select frequency"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"one-time",children:"One Time"}),l.jsx(St,{value:"weekly",children:"Weekly"}),l.jsx(St,{value:"monthly",children:"Monthly"}),l.jsx(St,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(ge,{onClick:S,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:i,onOpenChange:o,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Delete Sale"})}),l.jsx("p",{children:"Are you sure you want to delete this sale? This action cannot be undone."}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:b,children:"Delete"})]})]})})]})};var QN="Switch",[Iie,Dde]=pa(QN),[Mie,Fie]=Iie(QN),v8=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:o,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=v.useState(null),g=qt(t,N=>p(N)),y=v.useRef(!1),S=f?d||!!f.closest("form"):!0,[b=!1,x]=Vs({prop:s,defaultProp:a,onChange:u});return l.jsxs(Mie,{scope:r,checked:b,disabled:o,children:[l.jsx(mt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":b8(b),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:g,onClick:Xe(e.onClick,N=>{x(C=>!C),S&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),S&&l.jsx(Bie,{control:f,bubbles:!y.current,name:n,value:c,checked:b,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});v8.displayName=QN;var x8="SwitchThumb",w8=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Fie(x8,r);return l.jsx(mt.span,{"data-state":b8(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});w8.displayName=x8;var Bie=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=v.useRef(null),i=zN(r),o=E_(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[i,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b8(e){return e?"checked":"unchecked"}var S8=v8,$ie=w8;const Xl=v.forwardRef(({className:e,...t},r)=>l.jsx(S8,{className:Ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx($ie,{className:Ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xl.displayName=S8.displayName;var Et=function(){return Et=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Et.apply(this,arguments)};function Uie(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function _8(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function mg(e){return e.mode==="multiple"}function gg(e){return e.mode==="range"}function nx(e){return e.mode==="single"}var Vie={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function zie(e,t){return bi(e,"LLLL y",t)}function qie(e,t){return bi(e,"d",t)}function Wie(e,t){return bi(e,"LLLL",t)}function Hie(e){return"".concat(e)}function Gie(e,t){return bi(e,"cccccc",t)}function Yie(e,t){return bi(e,"yyyy",t)}var Kie=Object.freeze({__proto__:null,formatCaption:zie,formatDay:qie,formatMonthCaption:Wie,formatWeekNumber:Hie,formatWeekdayName:Gie,formatYearCaption:Yie}),Xie=function(e,t,r){return bi(e,"do MMMM (EEEE)",r)},Jie=function(){return"Month: "},Zie=function(){return"Go to next month"},Qie=function(){return"Go to previous month"},eoe=function(e,t){return bi(e,"cccc",t)},toe=function(e){return"Week n. ".concat(e)},roe=function(){return"Year: "},noe=Object.freeze({__proto__:null,labelDay:Xie,labelMonthDropdown:Jie,labelNext:Zie,labelPrevious:Qie,labelWeekNumber:toe,labelWeekday:eoe,labelYearDropdown:roe});function soe(){var e="buttons",t=Vie,r=WM,n={},s={},a=1,i={},o=new Date;return{captionLayout:e,classNames:t,formatters:Kie,labels:noe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:i,today:o,mode:"default"}}function aoe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return n?a=Us(n):t&&(a=new Date(t,0,1)),s?i=JN(s):r&&(i=new Date(r,11,31)),{fromDate:a?Dh(a):void 0,toDate:i?Dh(i):void 0}}var N8=v.createContext(void 0);function ioe(e){var t,r=e.initialProps,n=soe(),s=aoe(r),a=s.fromDate,i=s.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!a||!i)&&(o="buttons");var c;(nx(r)||mg(r)||gg(r))&&(c=r.onSelect);var u=Et(Et(Et({},n),r),{captionLayout:o,classNames:Et(Et({},n.classNames),r.classNames),components:Et({},r.components),formatters:Et(Et({},n.formatters),r.formatters),fromDate:a,labels:Et(Et({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Et(Et({},n.modifiers),r.modifiers),modifiersClassNames:Et(Et({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Et(Et({},n.styles),r.styles),toDate:i});return l.jsx(N8.Provider,{value:u,children:e.children})}function Ar(){var e=v.useContext(N8);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function j8(e){var t=Ar(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function ooe(e){return l.jsx("svg",Et({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function C8(e){var t,r,n=e.onChange,s=e.value,a=e.children,i=e.caption,o=e.className,c=e.style,u=Ar(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:ooe;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function loe(e){var t,r=Ar(),n=r.fromDate,s=r.toDate,a=r.styles,i=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(Yae(n,s))for(var f=Us(n),p=n.getMonth();p<=s.getMonth();p++)h.push(C2(f,p));else for(var f=Us(new Date),p=0;p<=11;p++)h.push(C2(f,p));var g=function(S){var b=Number(S.target.value),x=C2(Us(e.displayMonth),b);e.onChange(x)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:C8;return l.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:i}),children:h.map(function(S){return l.jsx("option",{value:S.getMonth(),children:o(S,{locale:i})},S.getMonth())})})}function coe(e){var t,r=e.displayMonth,n=Ar(),s=n.fromDate,a=n.toDate,i=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!s)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var p=s.getFullYear(),g=a.getFullYear(),y=p;y<=g;y++)f.push(SP(zM(new Date),y));var S=function(x){var N=SP(Us(r),Number(x.target.value));e.onChange(N)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:C8;return l.jsx(b,{name:"years","aria-label":h(),className:c.dropdown_year,style:o.dropdown_year,onChange:S,value:r.getFullYear(),caption:d(r,{locale:i}),children:f.map(function(x){return l.jsx("option",{value:x.getFullYear(),children:d(x,{locale:i})},x.getFullYear())})})}function uoe(e,t){var r=v.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function doe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,i=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(a&&bm(a,s)<0){var u=-1*(c-1);s=wi(a,u)}return i&&bm(s,i)<0&&(s=i),Us(s)}function hoe(){var e=Ar(),t=doe(e),r=uoe(t,e.month),n=r[0],s=r[1],a=function(i){var o;if(!e.disableNavigation){var c=Us(i);s(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,a]}function foe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Us(e),a=Us(wi(s,n)),i=bm(a,s),o=[],c=0;c<i;c++){var u=wi(s,c);o.push(u)}return r&&(o=o.reverse()),o}function poe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,o=Us(e);if(!r)return wi(o,i);var c=bm(r,e);if(!(c<a))return wi(o,i)}}function moe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,o=Us(e);if(!r)return wi(o,-i);var c=bm(o,r);if(!(c<=0))return wi(o,-i)}}var k8=v.createContext(void 0);function goe(e){var t=Ar(),r=hoe(),n=r[0],s=r[1],a=foe(n,t),i=poe(n,t),o=moe(n,t),c=function(h){return a.some(function(f){return rx(h,f)})},u=function(h,f){c(h)||(f&&XM(h,f)?s(wi(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:o,nextMonth:i,isDateDisplayed:c};return l.jsx(k8.Provider,{value:d,children:e.children})}function yg(){var e=v.useContext(k8);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function NP(e){var t,r=Ar(),n=r.classNames,s=r.styles,a=r.components,i=yg().goToMonth,o=function(d){i(wi(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:j8,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(loe,{onChange:o,displayMonth:e.displayMonth}),l.jsx(coe,{onChange:o,displayMonth:e.displayMonth})]})}function yoe(e){return l.jsx("svg",Et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function voe(e){return l.jsx("svg",Et({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var E0=v.forwardRef(function(e,t){var r=Ar(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var i=a.join(" "),o=Et(Et({},s.button_reset),s.button);return e.style&&Object.assign(o,e.style),l.jsx("button",Et({},e,{ref:t,type:"button",className:i,style:o}))});function xoe(e){var t,r,n=Ar(),s=n.dir,a=n.locale,i=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var f=u(e.previousMonth,{locale:a}),p=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),y=[i.nav_button,i.nav_button_next].join(" "),S=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:voe,b=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:yoe;return l.jsxs("div",{className:i.nav,style:o.nav,children:[!e.hidePrevious&&l.jsx(E0,{name:"previous-month","aria-label":f,className:p,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(S,{className:i.nav_icon,style:o.nav_icon}):l.jsx(b,{className:i.nav_icon,style:o.nav_icon})}),!e.hideNext&&l.jsx(E0,{name:"next-month","aria-label":g,className:y,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(b,{className:i.nav_icon,style:o.nav_icon}):l.jsx(S,{className:i.nav_icon,style:o.nav_icon})})]})}function jP(e){var t=Ar().numberOfMonths,r=yg(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,i=r.displayMonths,o=i.findIndex(function(g){return rx(e.displayMonth,g)}),c=o===0,u=o===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){n&&a(n)},p=function(){s&&a(s)};return l.jsx(xoe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:p})}function woe(e){var t,r=Ar(),n=r.classNames,s=r.disableNavigation,a=r.styles,i=r.captionLayout,o=r.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:j8,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=l.jsx(NP,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(NP,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(jP,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(jP,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:a.caption,children:u})}function boe(e){var t=Ar(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?l.jsx("tfoot",{className:s,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function Soe(e,t,r){for(var n=r?vu(new Date):Ba(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=fs(n,a);s.push(i)}return s}function _oe(){var e=Ar(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Soe(s,a,i);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:o(d,{locale:s})},h)})]})}function Noe(){var e,t=Ar(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:_oe;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(a,{})})}function joe(e){var t=Ar(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var ej=v.createContext(void 0);function Coe(e){if(!mg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(ej.Provider,{value:t,children:e.children})}return l.jsx(koe,{initialProps:e.initialProps,children:e.children})}function koe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,i=function(u,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var g=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var y=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!y){var S=n?_8([],n):[];if(d.selected){var b=S.findIndex(function(x){return ns(u,x)});S.splice(b,1)}else S.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,S,u,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=a&&n.length>a-1,h=n.some(function(f){return ns(f,u)});return!!(d&&!h)});var c={selected:n,onDayClick:i,modifiers:o};return l.jsx(ej.Provider,{value:c,children:r})}function tj(){var e=v.useContext(ej);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Eoe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?ns(s,e)&&ns(n,e)?void 0:ns(s,e)?{from:s,to:void 0}:ns(n,e)?void 0:sS(n,e)?{from:e,to:s}:{from:n,to:e}:s?sS(e,s)?{from:s,to:e}:{from:e,to:s}:n?XM(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var rj=v.createContext(void 0);function Poe(e){if(!gg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(rj.Provider,{value:t,children:e.children})}return l.jsx(Aoe,{initialProps:e.initialProps,children:e.children})}function Aoe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,i=s.to,o=t.min,c=t.max,u=function(p,g,y){var S,b;(S=t.onDayClick)===null||S===void 0||S.call(t,p,g,y);var x=Eoe(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,p,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],ns(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),o&&(a&&!i&&d.disabled.push({after:jv(a,o-1),before:fs(a,o-1)}),a&&i&&d.disabled.push({after:a,before:fs(a,o-1)}),!a&&i&&d.disabled.push({after:jv(i,o-1),before:fs(i,o-1)})),c){if(a&&!i&&(d.disabled.push({before:fs(a,-c+1)}),d.disabled.push({after:fs(a,c-1)})),a&&i){var h=Ki(i,a)+1,f=c-h;d.disabled.push({before:jv(a,f)}),d.disabled.push({after:fs(i,f)})}!a&&i&&(d.disabled.push({before:fs(i,-c+1)}),d.disabled.push({after:fs(i,c-1)}))}return l.jsx(rj.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function nj(){var e=v.useContext(rj);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Cv(e){return Array.isArray(e)?_8([],e):e!==void 0?[e]:[]}function Toe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Cv(s)}),t}var Si;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Si||(Si={}));var Loe=Si.Selected,So=Si.Disabled,Doe=Si.Hidden,Roe=Si.Today,k2=Si.RangeEnd,E2=Si.RangeMiddle,P2=Si.RangeStart,Ooe=Si.Outside;function Ioe(e,t,r){var n,s=(n={},n[Loe]=Cv(e.selected),n[So]=Cv(e.disabled),n[Doe]=Cv(e.hidden),n[Roe]=[e.today],n[k2]=[],n[E2]=[],n[P2]=[],n[Ooe]=[],n);return e.fromDate&&s[So].push({before:e.fromDate}),e.toDate&&s[So].push({after:e.toDate}),mg(e)?s[So]=s[So].concat(t.modifiers[So]):gg(e)&&(s[So]=s[So].concat(r.modifiers[So]),s[P2]=r.modifiers[P2],s[E2]=r.modifiers[E2],s[k2]=r.modifiers[k2]),s}var E8=v.createContext(void 0);function Moe(e){var t=Ar(),r=tj(),n=nj(),s=Ioe(t,r,n),a=Toe(t.modifiers),i=Et(Et({},s),a);return l.jsx(E8.Provider,{value:i,children:e.children})}function P8(){var e=v.useContext(E8);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Foe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Boe(e){return!!(e&&typeof e=="object"&&"from"in e)}function $oe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Uoe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Voe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function zoe(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=Ki(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var i=Ki(e,n)>=0&&Ki(s,e)>=0;return i}return s?ns(s,e):n?ns(n,e):!1}function qoe(e){return XN(e)}function Woe(e){return Array.isArray(e)&&e.every(XN)}function Hoe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(qoe(r))return ns(e,r);if(Woe(r))return r.includes(e);if(Boe(r))return zoe(e,r);if(Voe(r))return r.dayOfWeek.includes(e.getDay());if(Foe(r)){var n=Ki(r.before,e),s=Ki(r.after,e),a=n>0,i=s<0,o=sS(r.before,r.after);return o?i&&a:a||i}return $oe(r)?Ki(e,r.after)>0:Uoe(r)?Ki(r.before,e)>0:typeof r=="function"?r(e):!1})}function sj(e,t,r){var n=Object.keys(t).reduce(function(a,i){var o=t[i];return Hoe(e,o)&&a.push(i),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!rx(e,r)&&(s.outside=!0),s}function Goe(e,t){for(var r=Us(e[0]),n=JN(e[e.length-1]),s,a,i=r;i<=n;){var o=sj(i,t),c=!o.disabled&&!o.hidden;if(!c){i=fs(i,1);continue}if(o.selected)return i;o.today&&!a&&(a=i),s||(s=i),i=fs(i,1)}return a||s}var Yoe=365;function A8(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,i=t.retry,o=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:fs,week:nS,month:wi,year:qse,startOfWeek:function(S){return s.ISOWeek?vu(S):Ba(S,{locale:h,weekStartsOn:c})},endOfWeek:function(S){return s.ISOWeek?qM(S):ZN(S,{locale:h,weekStartsOn:c})}},p=f[r](e,n==="after"?1:-1);n==="before"&&u?p=Wse([u,p]):n==="after"&&d&&(p=Hse([d,p]));var g=!0;if(a){var y=sj(p,a);g=!y.disabled&&!y.hidden}return g?p:o.count>Yoe?o.lastFocused:A8(p,{moveBy:r,direction:n,context:s,modifiers:a,retry:Et(Et({},o),{count:o.count+1})})}var T8=v.createContext(void 0);function Koe(e){var t=yg(),r=P8(),n=v.useState(),s=n[0],a=n[1],i=v.useState(),o=i[0],c=i[1],u=Goe(t.displayMonths,r),d=s??(o&&t.isDateDisplayed(o))?o:u,h=function(){c(s),a(void 0)},f=function(S){a(S)},p=Ar(),g=function(S,b){if(s){var x=A8(s,{moveBy:S,direction:b,context:p,modifiers:r});ns(s,x)||(t.goToDate(x,s),f(x))}},y={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(T8.Provider,{value:y,children:e.children})}function aj(){var e=v.useContext(T8);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Xoe(e,t){var r=P8(),n=sj(e,r,t);return n}var ij=v.createContext(void 0);function Joe(e){if(!nx(e.initialProps)){var t={selected:void 0};return l.jsx(ij.Provider,{value:t,children:e.children})}return l.jsx(Zoe,{initialProps:e.initialProps,children:e.children})}function Zoe(e){var t=e.initialProps,r=e.children,n=function(a,i,o){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,o),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,o)},s={selected:t.selected,onDayClick:n};return l.jsx(ij.Provider,{value:s,children:r})}function L8(){var e=v.useContext(ij);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Qoe(e,t){var r=Ar(),n=L8(),s=tj(),a=nj(),i=aj(),o=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,f=i.focus,p=i.focusMonthBefore,g=i.focusMonthAfter,y=i.focusYearBefore,S=i.focusYearAfter,b=i.focusStartOfWeek,x=i.focusEndOfWeek,N=function(V){var M,Y,ie,me;nx(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,V):mg(r)?(Y=s.onDayClick)===null||Y===void 0||Y.call(s,e,t,V):gg(r)?(ie=a.onDayClick)===null||ie===void 0||ie.call(a,e,t,V):(me=r.onDayClick)===null||me===void 0||me.call(r,e,t,V)},C=function(V){var M;f(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,V)},E=function(V){var M;h(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,V)},F=function(V){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,V)},P=function(V){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,V)},A=function(V){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,V)},K=function(V){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,V)},Q=function(V){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,V)},I=function(V){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,V)},D=function(V){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,V)},L=function(V){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,V)},B=function(V){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,V)},q=function(V){var M;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?y():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?S():g();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),x();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,V)},ee={onClick:N,onFocus:C,onBlur:E,onKeyDown:q,onKeyUp:B,onMouseEnter:F,onMouseLeave:P,onPointerEnter:A,onPointerLeave:K,onTouchCancel:Q,onTouchEnd:I,onTouchMove:D,onTouchStart:L};return ee}function ele(){var e=Ar(),t=L8(),r=tj(),n=nj(),s=nx(e)?t.selected:mg(e)?r.selected:gg(e)?n.selected:void 0;return s}function tle(e){return Object.values(Si).includes(e)}function rle(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(tle(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function nle(e,t){var r=Et({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Et(Et({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function sle(e,t,r){var n,s,a,i=Ar(),o=aj(),c=Xoe(e,t),u=Qoe(e,c),d=ele(),h=!!(i.onDayClick||i.mode!=="default");v.useEffect(function(){var F;c.outside||o.focusedDay&&h&&ns(o.focusedDay,e)&&((F=r.current)===null||F===void 0||F.focus())},[o.focusedDay,e,r,h,c.outside]);var f=rle(i,c).join(" "),p=nle(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),y=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:joe,S=l.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:f,children:S,role:"gridcell"},x=o.focusTarget&&ns(o.focusTarget,e)&&!c.outside,N=o.focusedDay&&ns(o.focusedDay,e),C=Et(Et(Et({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=N||x?0:-1,n)),u),E={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:C,divProps:b};return E}function ale(e){var t=v.useRef(null),r=sle(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(E0,Et({name:"day",ref:t},r.buttonProps)):l.jsx("div",Et({},r.divProps))}function ile(e){var t=e.number,r=e.dates,n=Ar(),s=n.onWeekNumberClick,a=n.styles,i=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:o});if(!s)return l.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var h=c(Number(t),{locale:o}),f=function(p){s(t,r,p)};return l.jsx(E0,{name:"week-number","aria-label":h,className:i.weeknumber,style:a.weeknumber,onClick:f,children:d})}function ole(e){var t,r,n=Ar(),s=n.styles,a=n.classNames,i=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:ale,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:ile,d;return i&&(d=l.jsx("td",{className:a.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(h){return l.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:h})},qae(h))})]})}function CP(e,t,r){for(var n=r!=null&&r.ISOWeek?qM(t):ZN(t,r),s=r!=null&&r.ISOWeek?vu(e):Ba(e,r),a=Ki(n,s),i=[],o=0;o<=a;o++)i.push(fs(s,o));var c=i.reduce(function(u,d){var h=r!=null&&r.ISOWeek?HM(d):YM(d,r),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function lle(e,t){var r=CP(Us(e),JN(e),t);if(t!=null&&t.useFixedWeeks){var n=Hae(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],i=nS(a,6-n),o=CP(nS(a,1),i,t);r.push.apply(r,o)}}return r}function cle(e){var t,r,n,s=Ar(),a=s.locale,i=s.classNames,o=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,g=lle(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:h,firstWeekContainsDate:f}),y=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Noe,S=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:ole,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:boe;return l.jsxs("table",{id:e.id,className:i.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(y,{}),l.jsx("tbody",{className:i.tbody,style:o.tbody,children:g.map(function(x){return l.jsx(S,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),l.jsx(b,{displayMonth:e.displayMonth})]})}function ule(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var dle=ule()?v.useLayoutEffect:v.useEffect,A2=!1,hle=0;function kP(){return"react-day-picker-".concat(++hle)}function fle(e){var t,r=e??(A2?kP():null),n=v.useState(r),s=n[0],a=n[1];return dle(function(){s===null&&a(kP())},[]),v.useEffect(function(){A2===!1&&(A2=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function ple(e){var t,r,n=Ar(),s=n.dir,a=n.classNames,i=n.styles,o=n.components,c=yg().displayMonths,u=fle(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],f=i.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,y=!p&&!g;s==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(h.push(a.caption_start),f=Et(Et({},f),i.caption_start)),g&&(h.push(a.caption_end),f=Et(Et({},f),i.caption_end)),y&&(h.push(a.caption_between),f=Et(Et({},f),i.caption_between));var S=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:woe;return l.jsxs("div",{className:h.join(" "),style:f,children:[l.jsx(S,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(cle,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function mle(e){var t=Ar(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function gle(e){var t,r,n=e.initialProps,s=Ar(),a=aj(),i=yg(),o=v.useState(!1),c=o[0],u=o[1];v.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=Et(Et({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var S;return Et(Et({},g),(S={},S[y]=n[y],S))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:mle;return l.jsx("div",Et({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:l.jsx(p,{children:i.displayMonths.map(function(g,y){return l.jsx(ple,{displayIndex:y,displayMonth:g},y)})})}))}function yle(e){var t=e.children,r=Uie(e,["children"]);return l.jsx(ioe,{initialProps:r,children:l.jsx(goe,{children:l.jsx(Joe,{initialProps:r,children:l.jsx(Coe,{initialProps:r,children:l.jsx(Poe,{initialProps:r,children:l.jsx(Moe,{children:l.jsx(Koe,{children:t})})})})})})})}function vle(e){return l.jsx(yle,Et({},e,{children:l.jsx(gle,{initialProps:e})}))}function Pm({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(vle,{showOutsideDays:r,className:Ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ve(hm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ve(hm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(cL,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(uL,{className:"h-4 w-4"})},...n})}Pm.displayName="Calendar";var oj="Popover",[D8,Rde]=pa(oj,[mc]),vg=mc(),[xle,bc]=D8(oj),R8=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,o=vg(t),c=v.useRef(null),[u,d]=v.useState(!1),[h=!1,f]=Vs({prop:n,defaultProp:s,onChange:a});return l.jsx(b1,{...o,children:l.jsx(xle,{scope:t,contentId:Ra(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:i,children:r})})};R8.displayName=oj;var O8="PopoverAnchor",wle=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bc(O8,r),a=vg(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=s;return v.useEffect(()=>(i(),()=>o()),[i,o]),l.jsx(ng,{...a,...n,ref:t})});wle.displayName=O8;var I8="PopoverTrigger",M8=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bc(I8,r),a=vg(r),i=qt(t,s.triggerRef),o=l.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":V8(s.open),...n,ref:i,onClick:Xe(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:l.jsx(ng,{asChild:!0,...a,children:o})});M8.displayName=I8;var lj="PopoverPortal",[ble,Sle]=D8(lj,{forceMount:void 0}),F8=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=bc(lj,t);return l.jsx(ble,{scope:t,forceMount:r,children:l.jsx(Ws,{present:r||a.open,children:l.jsx(qh,{asChild:!0,container:s,children:n})})})};F8.displayName=lj;var Oh="PopoverContent",B8=v.forwardRef((e,t)=>{const r=Sle(Oh,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=bc(Oh,e.__scopePopover);return l.jsx(Ws,{present:n||a.open,children:a.modal?l.jsx(_le,{...s,ref:t}):l.jsx(Nle,{...s,ref:t})})});B8.displayName=Oh;var _le=v.forwardRef((e,t)=>{const r=bc(Oh,e.__scopePopover),n=v.useRef(null),s=qt(t,n),a=v.useRef(!1);return v.useEffect(()=>{const i=n.current;if(i)return V1(i)},[]),l.jsx(cg,{as:no,allowPinchZoom:!0,children:l.jsx($8,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Xe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Xe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Nle=v.forwardRef((e,t)=>{const r=bc(Oh,e.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return l.jsx($8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),$8=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=bc(Oh,r),p=vg(r);return F1(),l.jsx(lg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(ju,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(S1,{"data-state":V8(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),U8="PopoverClose",jle=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=bc(U8,r);return l.jsx(mt.button,{type:"button",...n,ref:t,onClick:Xe(e.onClick,()=>s.onOpenChange(!1))})});jle.displayName=U8;var Cle="PopoverArrow",kle=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=vg(r);return l.jsx(_1,{...s,...n,ref:t})});kle.displayName=Cle;function V8(e){return e?"open":"closed"}var Ele=R8,Ple=M8,Ale=F8,z8=B8;const P0=Ele,A0=Ple,Am=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(Ale,{children:l.jsx(z8,{ref:s,align:t,sideOffset:r,className:Ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Am.displayName=z8.displayName;const Tle=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({transaction_id:e.transaction.id,amount:0,payment_mode:"cash",counterparty:"",direction:"outgoing",payment_date:new Date().toISOString(),notes:""}),{toast:f}=nr(),p=F=>{const{name:P,value:A,type:K}=F.target;s&&c?u({...c,[P]:K==="number"?parseFloat(A):A}):h({...d,[P]:K==="number"?parseFloat(A):A})},g=F=>{s&&c?u({...c,payment_mode:F}):h({...d,payment_mode:F})},y=F=>{s&&c?u({...c,direction:F?"incoming":"outgoing"}):h({...d,direction:F?"incoming":"outgoing"})},S=F=>{F&&(s&&c?u({...c,payment_date:F.toISOString()}):h({...d,payment_date:F.toISOString()}))},b=async()=>{try{if(!d.amount||!d.counterparty){f({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}await Zr.addPayment(d),f({title:"Success",description:"Payment added successfully"}),n(!1),h({transaction_id:e.transaction.id,amount:0,payment_mode:"cash",counterparty:"",direction:"outgoing",payment_date:new Date().toISOString(),notes:""}),await t()}catch(F){console.error("Error adding payment:",F),f({title:"Error",description:"Failed to add payment",variant:"destructive"})}},x=async()=>{try{if(!c)return;if(!c.amount||!c.counterparty){f({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}await Zr.updatePayment(c),f({title:"Success",description:"Payment updated successfully"}),a(!1),u(null),await t()}catch(F){console.error("Error updating payment:",F),f({title:"Error",description:"Failed to update payment",variant:"destructive"})}},N=async()=>{try{if(!c)return;await Zr.deletePayment(c.id),f({title:"Success",description:"Payment deleted successfully"}),o(!1),u(null),await t()}catch(F){console.error("Error deleting payment:",F),f({title:"Error",description:"Failed to delete payment",variant:"destructive"})}},C=F=>{u(F),a(!0)},E=F=>{u(F),o(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Payments"}),l.jsxs(ge,{onClick:()=>n(!0),variant:"default",size:"sm",children:[l.jsx(La,{className:"h-4 w-4 mr-1"}),"Add Payment"]})]}),e.payments.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No payments recorded yet. Add your first payment."}):l.jsx("div",{className:"space-y-4",children:e.payments.map(F=>l.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[l.jsxs("div",{className:"mb-2 md:mb-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("span",{className:`mr-2 font-medium ${F.direction==="incoming"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[F.direction==="incoming"?"+":"-"," ",di(F.amount)]}),l.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",F.payment_mode,")"]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["To/From: ",F.counterparty]})]}),l.jsxs("div",{className:"text-right flex items-center gap-2",children:[l.jsx("div",{children:l.jsx("div",{className:"text-sm",children:F.payment_date?new Date(F.payment_date).toLocaleDateString():"No date"})}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>C(F),children:l.jsx(da,{className:"h-4 w-4"})}),l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>E(F),children:l.jsx(as,{className:"h-4 w-4"})})]})]})]}),F.notes&&l.jsx("div",{className:"mt-2 text-sm border-t pt-2",children:l.jsx("p",{className:"text-muted-foreground",children:F.notes})})]},F.id))}),l.jsx(Qt,{open:r,onOpenChange:n,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Add New Payment"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"amount",children:"Amount"}),l.jsx(Ie,{id:"amount",name:"amount",type:"number",placeholder:"Enter amount",value:d.amount||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"paymentMode",children:"Payment Mode"}),l.jsxs(An,{onValueChange:g,defaultValue:d.payment_mode,children:[l.jsx(Sn,{children:l.jsx(Tn,{placeholder:"Select payment mode"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"cash",children:"Cash"}),l.jsx(St,{value:"cheque",children:"Cheque"}),l.jsx(St,{value:"upi",children:"UPI"}),l.jsx(St,{value:"bank",children:"Bank Transfer"})]})]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"counterparty",children:"Counterparty"}),l.jsx(Ie,{id:"counterparty",name:"counterparty",placeholder:"Enter counterparty name",value:d.counterparty||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{children:"Payment Date"}),l.jsxs(P0,{children:[l.jsx(A0,{asChild:!0,children:l.jsxs(ge,{variant:"outline",className:Ve("justify-start text-left font-normal",!d.date&&"text-muted-foreground"),children:[l.jsx(Qv,{className:"mr-2 h-4 w-4"}),d.date?bi(new Date(d.date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Am,{className:"w-auto p-0",children:l.jsx(Pm,{mode:"single",selected:d.date?new Date(d.date):void 0,onSelect:S,initialFocus:!0})})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xl,{id:"direction",checked:d.direction==="incoming",onCheckedChange:y}),l.jsx(je,{htmlFor:"direction",children:d.direction==="incoming"?"Incoming Payment (Received)":"Outgoing Payment (Paid)"})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"notes",children:"Notes (Optional)"}),l.jsx(Ie,{id:"notes",name:"notes",placeholder:"Add payment notes",value:d.notes||"",onChange:p})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(ge,{onClick:b,children:"Add Payment"})]})]})}),l.jsx(Qt,{open:s,onOpenChange:a,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Edit Payment"})}),c&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"edit_amount",children:"Amount"}),l.jsx(Ie,{id:"edit_amount",name:"amount",type:"number",placeholder:"Enter amount",value:c.amount||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"edit_payment_mode",children:"Payment Mode"}),l.jsxs(An,{onValueChange:g,value:c.payment_mode,children:[l.jsx(Sn,{children:l.jsx(Tn,{placeholder:"Select payment mode"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"cash",children:"Cash"}),l.jsx(St,{value:"cheque",children:"Cheque"}),l.jsx(St,{value:"upi",children:"UPI"}),l.jsx(St,{value:"bank",children:"Bank Transfer"})]})]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"edit_counterparty",children:"Counterparty"}),l.jsx(Ie,{id:"edit_counterparty",name:"counterparty",placeholder:"Enter counterparty name",value:c.counterparty||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{children:"Payment Date"}),l.jsxs(P0,{children:[l.jsx(A0,{asChild:!0,children:l.jsxs(ge,{variant:"outline",className:Ve("justify-start text-left font-normal",!c.payment_date&&"text-muted-foreground"),children:[l.jsx(Qv,{className:"mr-2 h-4 w-4"}),c.payment_date?bi(new Date(c.payment_date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Am,{className:"w-auto p-0",children:l.jsx(Pm,{mode:"single",selected:c.payment_date?new Date(c.payment_date):void 0,onSelect:S,initialFocus:!0})})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xl,{id:"edit_direction",checked:c.direction==="incoming",onCheckedChange:y}),l.jsx(je,{htmlFor:"edit_direction",children:c.direction==="incoming"?"Incoming Payment (Received)":"Outgoing Payment (Paid)"})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"edit_notes",children:"Notes (Optional)"}),l.jsx(Ie,{id:"edit_notes",name:"notes",placeholder:"Add payment notes",value:c.notes||"",onChange:p})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(ge,{onClick:x,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:i,onOpenChange:o,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Delete Payment"})}),l.jsx("p",{children:"Are you sure you want to delete this payment? This action cannot be undone."}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:N,children:"Delete"})]})]})})]})},Lle=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(null),[i,o]=v.useState(null),[c,u]=v.useState(""),[d,h]=v.useState(""),{toast:f}=nr(),p=async()=>{try{if(!c.trim()){f({title:"Error",description:"Note content cannot be empty",variant:"destructive"});return}await Zr.addNote(e.transaction.id,c.trim()),f({title:"Success",description:"Note added successfully"}),n(!1),u(""),await t()}catch(x){console.error("Error adding note:",x),f({title:"Error",description:"Failed to add note",variant:"destructive"})}},g=x=>{a(x.id),h(x.note)},y=()=>{a(null),h("")},S=async x=>{try{if(!d.trim()){f({title:"Error",description:"Note content cannot be empty",variant:"destructive"});return}const N=e.notes.find(C=>C.id===x);if(!N)throw new Error("Note not found");await Zr.updateNote({...N,note:d.trim()}),f({title:"Success",description:"Note updated successfully"}),a(null),h(""),await t()}catch(N){console.error("Error updating note:",N),f({title:"Error",description:"Failed to update note",variant:"destructive"})}},b=async x=>{try{await Zr.deleteNote(x),f({title:"Success",description:"Note deleted successfully"}),o(null),await t()}catch(N){console.error("Error deleting note:",N),f({title:"Error",description:"Failed to delete note",variant:"destructive"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Notes"}),l.jsxs(ge,{onClick:()=>n(!0),variant:"default",size:"sm",children:[l.jsx(La,{className:"h-4 w-4 mr-1"}),"Add Note"]})]}),e.notes.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No notes added yet. Add your first note."}):l.jsx("div",{className:"space-y-4",children:e.notes.map(x=>l.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:x.created_at?new Date(x.created_at).toLocaleDateString()+" "+new Date(x.created_at).toLocaleTimeString():"No date"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>g(x),className:"h-7 px-2",children:l.jsx(da,{className:"h-3.5 w-3.5"})}),l.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>o(x.id),className:"h-7 px-2 text-destructive hover:text-destructive",children:l.jsx(as,{className:"h-3.5 w-3.5"})})]})]}),s===x.id?l.jsxs("div",{className:"mt-2 space-y-3",children:[l.jsx(Rh,{value:d,onChange:N=>h(N.target.value),rows:3,className:"w-full"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ge,{variant:"outline",size:"sm",onClick:y,children:"Cancel"}),l.jsxs(ge,{variant:"default",size:"sm",onClick:()=>S(x.id),children:[l.jsx(Oz,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}):l.jsx("p",{className:"whitespace-pre-wrap",children:x.note})]},x.id))}),l.jsx(Qt,{open:r,onOpenChange:n,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Add New Note"})}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(je,{htmlFor:"noteContent",children:"Note Content"}),l.jsx(Rh,{id:"noteContent",placeholder:"Enter note content",value:c,onChange:x=>u(x.target.value),rows:5})]})}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(ge,{onClick:p,children:"Add Note"})]})]})}),l.jsx(Qt,{open:!!i,onOpenChange:x=>!x&&o(null),children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Delete Note"})}),l.jsx("p",{className:"py-4",children:"Are you sure you want to delete this note? This action cannot be undone."}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>o(null),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:()=>i&&b(i),children:"Delete"})]})]})})]})},Dle=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),s=v.useRef(null),{toast:a}=nr(),{user:i}=Pr(),o=g=>{g.preventDefault(),n(!0)},c=()=>{n(!1)},u=g=>{g.preventDefault(),n(!1),g.dataTransfer.files&&g.dataTransfer.files.length>0&&h(g.dataTransfer.files)},d=g=>{g.target.files&&g.target.files.length>0&&h(g.target.files)},h=async g=>{try{if(!i){a({title:"Error",description:"You must be logged in to upload files",variant:"destructive"});return}for(let y=0;y<g.length;y++){const S=g[y];await Zr.addAttachment(e.transaction.id,i.id,S,S.name,S.type)}await t(),a({title:"Success",description:`${g.length} ${g.length===1?"file":"files"} uploaded successfully`})}catch(y){console.error("Error uploading files:",y),a({title:"Error",description:"Failed to upload files",variant:"destructive"})}},f=async g=>{try{await Zr.deleteAttachment(g),await t(),a({title:"Success",description:"Attachment deleted successfully"})}catch(y){console.error("Error deleting attachment:",y),a({title:"Error",description:"Failed to delete attachment",variant:"destructive"})}},p=g=>g.startsWith("image/")?l.jsx(Nz,{className:"h-6 w-6 text-blue-500"}):l.jsx(x_,{className:"h-6 w-6 text-amber-500"});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Attachments"}),l.jsxs(ge,{onClick:()=>{var g;return(g=s.current)==null?void 0:g.click()},variant:"default",size:"sm",children:[l.jsx(La,{className:"h-4 w-4 mr-1"}),"Add Attachment"]}),l.jsx("input",{type:"file",ref:s,onChange:d,style:{display:"none"},multiple:!0})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${r?"border-primary bg-primary/10":"border-muted-foreground/20"}`,onDragOver:o,onDragLeave:c,onDrop:u,children:[l.jsx(hL,{className:"h-10 w-10 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Drag and drop files here or"}),l.jsx(ge,{variant:"outline",onClick:()=>{var g;return(g=s.current)==null?void 0:g.click()},children:"Browse Files"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Supported file types: Images, PDFs, Documents"})]}),e.attachments.length===0?l.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No attachments added yet."}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:e.attachments.map(g=>l.jsxs("div",{className:"border rounded-lg p-4 flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p(g.file_type),l.jsx("span",{className:"font-medium truncate max-w-[150px]",children:g.name})]}),l.jsx(ge,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>f(g.id),children:l.jsx(y1,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-grow flex items-center justify-center my-2",children:g.file_type.startsWith("image/")?l.jsx("img",{src:g.uri,alt:g.name,className:"max-h-[100px] object-contain"}):l.jsx("div",{className:"text-muted-foreground text-sm px-2 py-1 bg-muted rounded",children:g.file_type.split("/")[1]||"File"})}),l.jsxs("div",{className:"mt-auto pt-2 flex justify-between items-center text-xs text-muted-foreground",children:[l.jsx("span",{children:g.created_at?new Date(g.created_at).toLocaleDateString():"No date"}),l.jsx(ge,{variant:"ghost",size:"sm",className:"h-6 p-0 text-primary",asChild:!0,children:l.jsx("a",{href:g.uri,download:g.name,children:l.jsx(Dd,{className:"h-4 w-4"})})})]})]},g.id))})]})},Rle=({activeTab:e,transaction:t,refreshTransaction:r})=>{const n=()=>{switch(e){case Os.PURCHASES:case"purchases":return l.jsx(Rie,{transaction:t,refreshTransaction:r});case Os.TRANSPORTATION:case"transportation":return l.jsx(Die,{transaction:t,refreshTransaction:r});case Os.SALES:case"sales":return l.jsx(Oie,{transaction:t,refreshTransaction:r});case Os.PAYMENTS:case"payments":return l.jsx(Tle,{transaction:t,refreshTransaction:r});case Os.NOTES:case"notes":return l.jsx(Lle,{transaction:t,refreshTransaction:r});case Os.ATTACHMENTS:case"attachments":return l.jsx(Dle,{transaction:t,refreshTransaction:r});default:return null}};return l.jsx("div",{className:"mt-6",children:l.jsx(z_,{mode:"wait",children:l.jsx(zs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"bg-card text-card-foreground rounded-lg p-6 shadow-sm border border-border",children:n()},e)})})},Ole=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(()=>{const g=localStorage.getItem(`transaction_${e.transaction.id}_activeTab`);return g||Os.PURCHASES}),[s,a]=v.useState(e),[i,o]=v.useState(!1);v.useEffect(()=>{a(e)},[e]),v.useEffect(()=>{localStorage.setItem(`transaction_${e.transaction.id}_activeTab`,r)},[r,e.transaction.id]);const c=Ss(),{toast:u}=nr();Pr();const d=J1(),h=v.useCallback(async()=>{try{const g=await Zr.getCompleteTransaction(e.transaction.id);g&&a(g)}catch(g){console.error("Error refreshing transaction:",g)}},[e.transaction.id]),f=async()=>{const g=r;t?await t():await h();const y=localStorage.getItem(`transaction_${e.transaction.id}_activeTab`);n(y||g)};v.useEffect(()=>{(async()=>{if(s.purchases.length>0&&s.sales.length>0){const y=s.purchases.reduce((N,C)=>N+C.total_cost,0),S=s.purchases.reduce((N,C)=>N+C.amount_paid,0),b=s.sales.reduce((N,C)=>N+C.total_amount,0),x=s.sales.reduce((N,C)=>N+C.amount_received,0);if(S>=y&&x>=b&&s.transaction.status!=="completed"){const N={...s.transaction,status:"completed"};await Zr.updateTransaction(N),await f(),u({title:"Status Updated",description:"Transaction has been marked as completed automatically."})}}})()},[s,f,u]);const p=async()=>{try{await Zr.deleteTransaction(s.transaction.id),u({title:"Success",description:"Transaction deleted successfully"}),c("/")}catch(g){console.error("Error deleting transaction:",g),u({title:"Error",description:"Failed to delete transaction",variant:"destructive"})}};return l.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-background text-foreground",children:[l.jsxs("h2",{className:"text-lg font-medium",children:[s.transaction.name,l.jsx("span",{className:`ml-2 text-sm px-2 py-0.5 rounded-full ${s.transaction.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":s.transaction.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"}`,children:s.transaction.status.charAt(0).toUpperCase()+s.transaction.status.slice(1)})]}),l.jsxs(Qt,{open:i,onOpenChange:o,children:[d?l.jsxs(ym,{children:[l.jsx(vm,{asChild:!0,children:l.jsxs(ge,{variant:"ghost",size:"icon",className:"text-foreground",children:[l.jsx(bz,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"More options"})]})}),l.jsx(Lh,{align:"end",className:"bg-popover border border-border text-foreground",children:l.jsx(Mo,{asChild:!0,children:l.jsxs(ci,{className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[l.jsx(as,{className:"h-4 w-4 mr-2"}),"Delete Transaction"]})})})]}):l.jsx(Mo,{asChild:!0,children:l.jsxs(ge,{variant:"destructive",size:"sm",children:[l.jsx(as,{className:"h-4 w-4 mr-2"}),"Delete Transaction"]})}),l.jsxs(ir,{className:"bg-background border border-border text-foreground",children:[l.jsx(ur,{children:l.jsx(dr,{children:"Are you sure?"})}),l.jsx("p",{className:"py-4",children:"This action cannot be undone. This will permanently delete this transaction and all its data."}),l.jsxs(mr,{className:"flex space-x-2 justify-end",children:[l.jsx(Wte,{asChild:!0,children:l.jsx(ge,{variant:"outline",className:"bg-background hover:bg-secondary border border-border text-foreground",children:"Cancel"})}),l.jsx(ge,{variant:"destructive",onClick:p,children:"Delete"})]})]})]})]}),l.jsx("div",{className:`w-full border-b border-border bg-background ${d?"px-2 py-1":""}`,children:l.jsx(Lie,{activeTab:r,onTabChange:g=>{n(g),localStorage.setItem(`transaction_${e.transaction.id}_activeTab`,g)},disabledTabs:[],isMobile:d})}),l.jsx("div",{className:`flex-1 overflow-auto bg-background ${d?"p-2":"px-4"}`,children:l.jsx(Rle,{transaction:s,activeTab:r,refreshTransaction:f})})]})},Ile=()=>{const{id:e}=jG(),[t,r]=v.useState(null),[n,s]=v.useState(!0),a=Ss(),{toast:i}=nr(),o=v.useCallback(async()=>{if(!e){a("/");return}try{s(!0);const u=await Zr.getCompleteTransaction(e);u?r(u):(i({title:"Error",description:"Transaction not found",variant:"destructive"}),a("/"))}catch(u){console.error("Failed to load transaction:",u),i({title:"Error",description:"Failed to load transaction details",variant:"destructive"})}finally{s(!1)}},[e,a,i]),c=async()=>{console.log("Refreshing transaction data from TransactionDetail page...");try{await o(),console.log("Transaction data refreshed successfully")}catch(u){console.error("Error refreshing transaction data:",u)}};return v.useEffect(()=>{o()},[o]),l.jsxs(zs.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col bg-background text-foreground",children:[l.jsx("header",{className:"glass border-b sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-border",children:l.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(lO,{variant:"ghost",onClick:()=>a("/"),"aria-label":"Go back",className:"text-foreground hover:bg-secondary",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 12H5"}),l.jsx("path",{d:"M12 19l-7-7 7-7"})]})}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Transaction Details"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cO,{}),l.jsx(xm,{})]})]})}),l.jsx("main",{className:"flex-1 flex overflow-hidden bg-background",children:n?l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsx("div",{className:"animate-pulse-subtle",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),l.jsx("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),l.jsx("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),l.jsx("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),l.jsx("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),l.jsx("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),l.jsx("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]})})}):t?l.jsx(Ole,{transaction:t,refreshTransaction:c}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),l.jsx("h3",{className:"text-lg font-medium mb-2 text-foreground",children:"Transaction Not Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The transaction you're looking for doesn't exist or has been deleted."}),l.jsx(ge,{onClick:()=>a("/"),className:"inline-flex items-center justify-center px-4 py-2 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"Return to Dashboard"})]})})]})},Mle=()=>{const e=Xh();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var xg=e=>e.type==="checkbox",Qc=e=>e instanceof Date,ps=e=>e==null;const q8=e=>typeof e=="object";var cn=e=>!ps(e)&&!Array.isArray(e)&&q8(e)&&!Qc(e),W8=e=>cn(e)&&e.target?xg(e.target)?e.target.checked:e.target.value:e,Fle=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,H8=(e,t)=>e.has(Fle(t)),Ble=e=>{const t=e.constructor&&e.constructor.prototype;return cn(t)&&t.hasOwnProperty("isPrototypeOf")},cj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ts(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(cj&&(e instanceof Blob||e instanceof FileList))&&(r||cn(e)))if(t=r?[]:{},!r&&!Ble(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ts(e[n]));else return e;return t}var sx=e=>Array.isArray(e)?e.filter(Boolean):[],Xr=e=>e===void 0,Qe=(e,t,r)=>{if(!t||!cn(e))return r;const n=sx(t.split(/[,[\].]+?/)).reduce((s,a)=>ps(s)?s:s[a],e);return Xr(n)||n===e?Xr(e[t])?r:e[t]:n},Ea=e=>typeof e=="boolean",uj=e=>/^\w*$/.test(e),G8=e=>sx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),cr=(e,t,r)=>{let n=-1;const s=uj(t)?[t]:G8(t),a=s.length,i=a-1;for(;++n<a;){const o=s[n];let c=r;if(n!==i){const u=e[o];c=cn(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__")return;e[o]=c,e=e[o]}return e};const T0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_o={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Y8=Pe.createContext(null),ax=()=>Pe.useContext(Y8),$le=e=>{const{children:t,...r}=e;return Pe.createElement(Y8.Provider,{value:r},t)};var K8=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==ui.all&&(t._proxyFormState[i]=!n||ui.all),r&&(r[i]=!0),e[i]}});return s},Ls=e=>cn(e)&&!Object.keys(e).length,X8=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return Ls(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||ui.all))},Tp=e=>Array.isArray(e)?e:[e],J8=(e,t,r)=>!e||!t||e===t||Tp(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function dj(e){const t=Pe.useRef(e);t.current=e,Pe.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Ule(e){const t=ax(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[i,o]=Pe.useState(r._formState),c=Pe.useRef(!0),u=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Pe.useRef(s);return d.current=s,dj({disabled:n,next:h=>c.current&&J8(d.current,h.name,a)&&X8(h,u.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),Pe.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),K8(i,r,u.current,!1)}var Xi=e=>typeof e=="string",Z8=(e,t,r,n,s)=>Xi(e)?(n&&t.watch.add(e),Qe(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Qe(r,a))):(n&&(t.watchAll=!0),r);function Vle(e){const t=ax(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:i}=e||{},o=Pe.useRef(n);o.current=n,dj({disabled:a,subject:r._subjects.values,next:d=>{J8(o.current,d.name,i)&&u(Ts(Z8(o.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=Pe.useState(r._getWatch(n,s));return Pe.useEffect(()=>r._removeUnmounted()),c}function zle(e){const t=ax(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a}=e,i=H8(s._names.array,r),o=Vle({control:s,name:r,defaultValue:Qe(s._formValues,r,Qe(s._defaultValues,r,e.defaultValue)),exact:!0}),c=Ule({control:s,name:r,exact:!0}),u=Pe.useRef(s.register(r,{...e.rules,value:o,...Ea(e.disabled)?{disabled:e.disabled}:{}}));return Pe.useEffect(()=>{const d=s._options.shouldUnregister||a,h=(f,p)=>{const g=Qe(s._fields,f);g&&g._f&&(g._f.mount=p)};if(h(r,!0),d){const f=Ts(Qe(s._options.defaultValues,r));cr(s._defaultValues,r,f),Xr(Qe(s._formValues,r))&&cr(s._formValues,r,f)}return()=>{(i?d&&!s._state.action:d)?s.unregister(r):h(r,!1)}},[r,s,i,a]),Pe.useEffect(()=>{Qe(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:Qe(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:o,...Ea(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:Pe.useCallback(d=>u.current.onChange({target:{value:W8(d),name:r},type:T0.CHANGE}),[r]),onBlur:Pe.useCallback(()=>u.current.onBlur({target:{value:Qe(s._formValues,r),name:r},type:T0.BLUR}),[r,s]),ref:Pe.useCallback(d=>{const h=Qe(s._fields,r);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Qe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Qe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Qe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Qe(c.validatingFields,r)},error:{enumerable:!0,get:()=>Qe(c.errors,r)}})}}const qle=e=>e.render(zle(e));var Q8=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},EP=e=>({isOnSubmit:!e||e===ui.onSubmit,isOnBlur:e===ui.onBlur,isOnChange:e===ui.onChange,isOnAll:e===ui.all,isOnTouch:e===ui.onTouched}),PP=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Lp=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Qe(e,s);if(a){const{_f:i,...o}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Lp(o,t))break}else if(cn(o)&&Lp(o,t))break}}};var Wle=(e,t,r)=>{const n=Tp(Qe(e,r));return cr(n,"root",t[r]),cr(e,r,n),e},hj=e=>e.type==="file",Do=e=>typeof e=="function",L0=e=>{if(!cj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kv=e=>Xi(e),fj=e=>e.type==="radio",D0=e=>e instanceof RegExp;const AP={value:!1,isValid:!1},TP={value:!0,isValid:!0};var eF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Xr(e[0].attributes.value)?Xr(e[0].value)||e[0].value===""?TP:{value:e[0].value,isValid:!0}:TP:AP}return AP};const LP={isValid:!1,value:null};var tF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,LP):LP;function DP(e,t,r="validate"){if(kv(e)||Array.isArray(e)&&e.every(kv)||Ea(e)&&!e)return{type:r,message:kv(e)?e:"",ref:t}}var gd=e=>cn(e)&&!D0(e)?e:{value:e,message:""},RP=async(e,t,r,n,s)=>{const{ref:a,refs:i,required:o,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:g,valueAsNumber:y,mount:S,disabled:b}=e._f,x=Qe(t,g);if(!S||b)return{};const N=i?i[0]:a,C=D=>{n&&N.reportValidity&&(N.setCustomValidity(Ea(D)?"":D||""),N.reportValidity())},E={},F=fj(a),P=xg(a),A=F||P,K=(y||hj(a))&&Xr(a.value)&&Xr(x)||L0(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,Q=Q8.bind(null,g,r,E),I=(D,L,B,q=_o.maxLength,ee=_o.minLength)=>{const V=D?L:B;E[g]={type:D?q:ee,message:V,ref:a,...Q(D?q:ee,V)}};if(s?!Array.isArray(x)||!x.length:o&&(!A&&(K||ps(x))||Ea(x)&&!x||P&&!eF(i).isValid||F&&!tF(i).isValid)){const{value:D,message:L}=kv(o)?{value:!!o,message:o}:gd(o);if(D&&(E[g]={type:_o.required,message:L,ref:N,...Q(_o.required,L)},!r))return C(L),E}if(!K&&(!ps(d)||!ps(h))){let D,L;const B=gd(h),q=gd(d);if(!ps(x)&&!isNaN(x)){const ee=a.valueAsNumber||x&&+x;ps(B.value)||(D=ee>B.value),ps(q.value)||(L=ee<q.value)}else{const ee=a.valueAsDate||new Date(x),V=ie=>new Date(new Date().toDateString()+" "+ie),M=a.type=="time",Y=a.type=="week";Xi(B.value)&&x&&(D=M?V(x)>V(B.value):Y?x>B.value:ee>new Date(B.value)),Xi(q.value)&&x&&(L=M?V(x)<V(q.value):Y?x<q.value:ee<new Date(q.value))}if((D||L)&&(I(!!D,B.message,q.message,_o.max,_o.min),!r))return C(E[g].message),E}if((c||u)&&!K&&(Xi(x)||s&&Array.isArray(x))){const D=gd(c),L=gd(u),B=!ps(D.value)&&x.length>+D.value,q=!ps(L.value)&&x.length<+L.value;if((B||q)&&(I(B,D.message,L.message),!r))return C(E[g].message),E}if(f&&!K&&Xi(x)){const{value:D,message:L}=gd(f);if(D0(D)&&!x.match(D)&&(E[g]={type:_o.pattern,message:L,ref:a,...Q(_o.pattern,L)},!r))return C(L),E}if(p){if(Do(p)){const D=await p(x,t),L=DP(D,N);if(L&&(E[g]={...L,...Q(_o.validate,L.message)},!r))return C(L.message),E}else if(cn(p)){let D={};for(const L in p){if(!Ls(D)&&!r)break;const B=DP(await p[L](x,t),N,L);B&&(D={...B,...Q(L,B.message)},C(B.message),r&&(E[g]=D))}if(!Ls(D)&&(E[g]={ref:N,...D},!r))return E}}return C(!0),E};function Hle(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Xr(e)?n++:e[t[n++]];return e}function Gle(e){for(const t in e)if(e.hasOwnProperty(t)&&!Xr(e[t]))return!1;return!0}function xn(e,t){const r=Array.isArray(t)?t:uj(t)?[t]:G8(t),n=r.length===1?e:Hle(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(cn(n)&&Ls(n)||Array.isArray(n)&&Gle(n))&&xn(e,r.slice(0,-1)),e}var T2=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},iS=e=>ps(e)||!q8(e);function Al(e,t){if(iS(e)||iS(t))return e===t;if(Qc(e)&&Qc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const a=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(Qc(a)&&Qc(i)||cn(a)&&cn(i)||Array.isArray(a)&&Array.isArray(i)?!Al(a,i):a!==i)return!1}}return!0}var rF=e=>e.type==="select-multiple",Yle=e=>fj(e)||xg(e),L2=e=>L0(e)&&e.isConnected,nF=e=>{for(const t in e)if(Do(e[t]))return!0;return!1};function R0(e,t={}){const r=Array.isArray(e);if(cn(e)||r)for(const n in e)Array.isArray(e[n])||cn(e[n])&&!nF(e[n])?(t[n]=Array.isArray(e[n])?[]:{},R0(e[n],t[n])):ps(e[n])||(t[n]=!0);return t}function sF(e,t,r){const n=Array.isArray(e);if(cn(e)||n)for(const s in e)Array.isArray(e[s])||cn(e[s])&&!nF(e[s])?Xr(t)||iS(r[s])?r[s]=Array.isArray(e[s])?R0(e[s],[]):{...R0(e[s])}:sF(e[s],ps(t)?{}:t[s],r[s]):r[s]=!Al(e[s],t[s]);return r}var Xf=(e,t)=>sF(e,t,R0(t)),aF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Xr(e)?e:t?e===""?NaN:e&&+e:r&&Xi(e)?new Date(e):n?n(e):e;function D2(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return hj(t)?t.files:fj(t)?tF(e.refs).value:rF(t)?[...t.selectedOptions].map(({value:r})=>r):xg(t)?eF(e.refs).value:aF(Xr(t.value)?e.ref.value:t.value,e)}var Kle=(e,t,r,n)=>{const s={};for(const a of e){const i=Qe(t,a);i&&cr(s,a,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Jf=e=>Xr(e)?e:D0(e)?e.source:cn(e)?D0(e.value)?e.value.source:e.value:e;const OP="AsyncFunction";var Xle=e=>(!e||!e.validate)&&!!(Do(e.validate)&&e.validate.constructor.name===OP||cn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===OP)),Jle=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function IP(e,t,r){const n=Qe(e,r);if(n||uj(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Qe(t,a),o=Qe(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};s.pop()}return{name:r}}var Zle=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Qle=(e,t)=>!sx(Qe(e,t)).length&&xn(e,t);const ece={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function tce(e={}){let t={...ece,...e},r={submitCount:0,isDirty:!1,isLoading:Do(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=cn(t.defaultValues)||cn(t.values)?Ts(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Ts(s),i={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:T2(),array:T2(),state:T2()},f=EP(t.mode),p=EP(t.reValidateMode),g=t.criteriaMode===ui.all,y=X=>te=>{clearTimeout(u),u=setTimeout(X,te)},S=async X=>{if(!e.disabled&&(d.isValid||X)){const te=t.resolver?Ls((await A()).errors):await Q(n,!0);te!==r.isValid&&h.state.next({isValid:te})}},b=(X,te)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((X||Array.from(o.mount)).forEach(oe=>{oe&&(te?cr(r.validatingFields,oe,te):xn(r.validatingFields,oe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ls(r.validatingFields)}))},x=(X,te=[],oe,Ne,ve=!0,_e=!0)=>{if(Ne&&oe&&!e.disabled){if(i.action=!0,_e&&Array.isArray(Qe(n,X))){const Be=oe(Qe(n,X),Ne.argA,Ne.argB);ve&&cr(n,X,Be)}if(_e&&Array.isArray(Qe(r.errors,X))){const Be=oe(Qe(r.errors,X),Ne.argA,Ne.argB);ve&&cr(r.errors,X,Be),Qle(r.errors,X)}if(d.touchedFields&&_e&&Array.isArray(Qe(r.touchedFields,X))){const Be=oe(Qe(r.touchedFields,X),Ne.argA,Ne.argB);ve&&cr(r.touchedFields,X,Be)}d.dirtyFields&&(r.dirtyFields=Xf(s,a)),h.state.next({name:X,isDirty:D(X,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else cr(a,X,te)},N=(X,te)=>{cr(r.errors,X,te),h.state.next({errors:r.errors})},C=X=>{r.errors=X,h.state.next({errors:r.errors,isValid:!1})},E=(X,te,oe,Ne)=>{const ve=Qe(n,X);if(ve){const _e=Qe(a,X,Xr(oe)?Qe(s,X):oe);Xr(_e)||Ne&&Ne.defaultChecked||te?cr(a,X,te?_e:D2(ve._f)):q(X,_e),i.mount&&S()}},F=(X,te,oe,Ne,ve)=>{let _e=!1,Be=!1;const ze={name:X};if(!e.disabled){const ot=!!(Qe(n,X)&&Qe(n,X)._f&&Qe(n,X)._f.disabled);if(!oe||Ne){d.isDirty&&(Be=r.isDirty,r.isDirty=ze.isDirty=D(),_e=Be!==ze.isDirty);const ut=ot||Al(Qe(s,X),te);Be=!!(!ot&&Qe(r.dirtyFields,X)),ut||ot?xn(r.dirtyFields,X):cr(r.dirtyFields,X,!0),ze.dirtyFields=r.dirtyFields,_e=_e||d.dirtyFields&&Be!==!ut}if(oe){const ut=Qe(r.touchedFields,X);ut||(cr(r.touchedFields,X,oe),ze.touchedFields=r.touchedFields,_e=_e||d.touchedFields&&ut!==oe)}_e&&ve&&h.state.next(ze)}return _e?ze:{}},P=(X,te,oe,Ne)=>{const ve=Qe(r.errors,X),_e=d.isValid&&Ea(te)&&r.isValid!==te;if(e.delayError&&oe?(c=y(()=>N(X,oe)),c(e.delayError)):(clearTimeout(u),c=null,oe?cr(r.errors,X,oe):xn(r.errors,X)),(oe?!Al(ve,oe):ve)||!Ls(Ne)||_e){const Be={...Ne,..._e&&Ea(te)?{isValid:te}:{},errors:r.errors,name:X};r={...r,...Be},h.state.next(Be)}},A=async X=>{b(X,!0);const te=await t.resolver(a,t.context,Kle(X||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(X),te},K=async X=>{const{errors:te}=await A(X);if(X)for(const oe of X){const Ne=Qe(te,oe);Ne?cr(r.errors,oe,Ne):xn(r.errors,oe)}else r.errors=te;return te},Q=async(X,te,oe={valid:!0})=>{for(const Ne in X){const ve=X[Ne];if(ve){const{_f:_e,...Be}=ve;if(_e){const ze=o.array.has(_e.name),ot=ve._f&&Xle(ve._f);ot&&d.validatingFields&&b([Ne],!0);const ut=await RP(ve,a,g,t.shouldUseNativeValidation&&!te,ze);if(ot&&d.validatingFields&&b([Ne]),ut[_e.name]&&(oe.valid=!1,te))break;!te&&(Qe(ut,_e.name)?ze?Wle(r.errors,ut,_e.name):cr(r.errors,_e.name,ut[_e.name]):xn(r.errors,_e.name))}!Ls(Be)&&await Q(Be,te,oe)}}return oe.valid},I=()=>{for(const X of o.unMount){const te=Qe(n,X);te&&(te._f.refs?te._f.refs.every(oe=>!L2(oe)):!L2(te._f.ref))&&W(X)}o.unMount=new Set},D=(X,te)=>!e.disabled&&(X&&te&&cr(a,X,te),!Al(me(),s)),L=(X,te,oe)=>Z8(X,o,{...i.mount?a:Xr(te)?s:Xi(X)?{[X]:te}:te},oe,te),B=X=>sx(Qe(i.mount?a:s,X,e.shouldUnregister?Qe(s,X,[]):[])),q=(X,te,oe={})=>{const Ne=Qe(n,X);let ve=te;if(Ne){const _e=Ne._f;_e&&(!_e.disabled&&cr(a,X,aF(te,_e)),ve=L0(_e.ref)&&ps(te)?"":te,rF(_e.ref)?[..._e.ref.options].forEach(Be=>Be.selected=ve.includes(Be.value)):_e.refs?xg(_e.ref)?_e.refs.length>1?_e.refs.forEach(Be=>(!Be.defaultChecked||!Be.disabled)&&(Be.checked=Array.isArray(ve)?!!ve.find(ze=>ze===Be.value):ve===Be.value)):_e.refs[0]&&(_e.refs[0].checked=!!ve):_e.refs.forEach(Be=>Be.checked=Be.value===ve):hj(_e.ref)?_e.ref.value="":(_e.ref.value=ve,_e.ref.type||h.values.next({name:X,values:{...a}})))}(oe.shouldDirty||oe.shouldTouch)&&F(X,ve,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&ie(X)},ee=(X,te,oe)=>{for(const Ne in te){const ve=te[Ne],_e=`${X}.${Ne}`,Be=Qe(n,_e);(o.array.has(X)||cn(ve)||Be&&!Be._f)&&!Qc(ve)?ee(_e,ve,oe):q(_e,ve,oe)}},V=(X,te,oe={})=>{const Ne=Qe(n,X),ve=o.array.has(X),_e=Ts(te);cr(a,X,_e),ve?(h.array.next({name:X,values:{...a}}),(d.isDirty||d.dirtyFields)&&oe.shouldDirty&&h.state.next({name:X,dirtyFields:Xf(s,a),isDirty:D(X,_e)})):Ne&&!Ne._f&&!ps(_e)?ee(X,_e,oe):q(X,_e,oe),PP(X,o)&&h.state.next({...r}),h.values.next({name:i.mount?X:void 0,values:{...a}})},M=async X=>{i.mount=!0;const te=X.target;let oe=te.name,Ne=!0;const ve=Qe(n,oe),_e=()=>te.type?D2(ve._f):W8(X),Be=ze=>{Ne=Number.isNaN(ze)||Qc(ze)&&isNaN(ze.getTime())||Al(ze,Qe(a,oe,ze))};if(ve){let ze,ot;const ut=_e(),Ot=X.type===T0.BLUR||X.type===T0.FOCUS_OUT,ft=!Jle(ve._f)&&!t.resolver&&!Qe(r.errors,oe)&&!ve._f.deps||Zle(Ot,Qe(r.touchedFields,oe),r.isSubmitted,p,f),Ct=PP(oe,o,Ot);cr(a,oe,ut),Ot?(ve._f.onBlur&&ve._f.onBlur(X),c&&c(0)):ve._f.onChange&&ve._f.onChange(X);const Ge=F(oe,ut,Ot,!1),De=!Ls(Ge)||Ct;if(!Ot&&h.values.next({name:oe,type:X.type,values:{...a}}),ft)return d.isValid&&(e.mode==="onBlur"?Ot&&S():S()),De&&h.state.next({name:oe,...Ct?{}:Ge});if(!Ot&&Ct&&h.state.next({...r}),t.resolver){const{errors:st}=await A([oe]);if(Be(ut),Ne){const Tt=IP(r.errors,n,oe),kt=IP(st,n,Tt.name||oe);ze=kt.error,oe=kt.name,ot=Ls(st)}}else b([oe],!0),ze=(await RP(ve,a,g,t.shouldUseNativeValidation))[oe],b([oe]),Be(ut),Ne&&(ze?ot=!1:d.isValid&&(ot=await Q(n,!0)));Ne&&(ve._f.deps&&ie(ve._f.deps),P(oe,ot,ze,Ge))}},Y=(X,te)=>{if(Qe(r.errors,te)&&X.focus)return X.focus(),1},ie=async(X,te={})=>{let oe,Ne;const ve=Tp(X);if(t.resolver){const _e=await K(Xr(X)?X:ve);oe=Ls(_e),Ne=X?!ve.some(Be=>Qe(_e,Be)):oe}else X?(Ne=(await Promise.all(ve.map(async _e=>{const Be=Qe(n,_e);return await Q(Be&&Be._f?{[_e]:Be}:Be)}))).every(Boolean),!(!Ne&&!r.isValid)&&S()):Ne=oe=await Q(n);return h.state.next({...!Xi(X)||d.isValid&&oe!==r.isValid?{}:{name:X},...t.resolver||!X?{isValid:oe}:{},errors:r.errors}),te.shouldFocus&&!Ne&&Lp(n,Y,X?ve:o.mount),Ne},me=X=>{const te={...i.mount?a:s};return Xr(X)?te:Xi(X)?Qe(te,X):X.map(oe=>Qe(te,oe))},T=(X,te)=>({invalid:!!Qe((te||r).errors,X),isDirty:!!Qe((te||r).dirtyFields,X),error:Qe((te||r).errors,X),isValidating:!!Qe(r.validatingFields,X),isTouched:!!Qe((te||r).touchedFields,X)}),G=X=>{X&&Tp(X).forEach(te=>xn(r.errors,te)),h.state.next({errors:X?r.errors:{}})},Z=(X,te,oe)=>{const Ne=(Qe(n,X,{_f:{}})._f||{}).ref,ve=Qe(r.errors,X)||{},{ref:_e,message:Be,type:ze,...ot}=ve;cr(r.errors,X,{...ot,...te,ref:Ne}),h.state.next({name:X,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},ae=(X,te)=>Do(X)?h.values.subscribe({next:oe=>X(L(void 0,te),oe)}):L(X,te,!0),W=(X,te={})=>{for(const oe of X?Tp(X):o.mount)o.mount.delete(oe),o.array.delete(oe),te.keepValue||(xn(n,oe),xn(a,oe)),!te.keepError&&xn(r.errors,oe),!te.keepDirty&&xn(r.dirtyFields,oe),!te.keepTouched&&xn(r.touchedFields,oe),!te.keepIsValidating&&xn(r.validatingFields,oe),!t.shouldUnregister&&!te.keepDefaultValue&&xn(s,oe);h.values.next({values:{...a}}),h.state.next({...r,...te.keepDirty?{isDirty:D()}:{}}),!te.keepIsValid&&S()},se=({disabled:X,name:te,field:oe,fields:Ne,value:ve})=>{if(Ea(X)&&i.mount||X){const _e=X?void 0:Xr(ve)?D2(oe?oe._f:Qe(Ne,te)._f):ve;cr(a,te,_e),F(te,_e,!1,!1,!0)}},le=(X,te={})=>{let oe=Qe(n,X);const Ne=Ea(te.disabled)||Ea(e.disabled);return cr(n,X,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:X}},name:X,mount:!0,...te}}),o.mount.add(X),oe?se({field:oe,disabled:Ea(te.disabled)?te.disabled:e.disabled,name:X,value:te.value}):E(X,!0,te.value),{...Ne?{disabled:te.disabled||e.disabled}:{},...t.progressive?{required:!!te.required,min:Jf(te.min),max:Jf(te.max),minLength:Jf(te.minLength),maxLength:Jf(te.maxLength),pattern:Jf(te.pattern)}:{},name:X,onChange:M,onBlur:M,ref:ve=>{if(ve){le(X,te),oe=Qe(n,X);const _e=Xr(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Be=Yle(_e),ze=oe._f.refs||[];if(Be?ze.find(ot=>ot===_e):_e===oe._f.ref)return;cr(n,X,{_f:{...oe._f,...Be?{refs:[...ze.filter(L2),_e,...Array.isArray(Qe(s,X))?[{}]:[]],ref:{type:_e.type,name:X}}:{ref:_e}}}),E(X,!1,void 0,_e)}else oe=Qe(n,X,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(H8(o.array,X)&&i.action)&&o.unMount.add(X)}}},ue=()=>t.shouldFocusError&&Lp(n,Y,o.mount),xe=X=>{Ea(X)&&(h.state.next({disabled:X}),Lp(n,(te,oe)=>{const Ne=Qe(n,oe);Ne&&(te.disabled=Ne._f.disabled||X,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(ve=>{ve.disabled=Ne._f.disabled||X}))},0,!1))},Ee=(X,te)=>async oe=>{let Ne;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let ve=Ts(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:_e,values:Be}=await A();r.errors=_e,ve=Be}else await Q(n);if(xn(r.errors,"root"),Ls(r.errors)){h.state.next({errors:{}});try{await X(ve,oe)}catch(_e){Ne=_e}}else te&&await te({...r.errors},oe),ue(),setTimeout(ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ls(r.errors)&&!Ne,submitCount:r.submitCount+1,errors:r.errors}),Ne)throw Ne},Se=(X,te={})=>{Qe(n,X)&&(Xr(te.defaultValue)?V(X,Ts(Qe(s,X))):(V(X,te.defaultValue),cr(s,X,Ts(te.defaultValue))),te.keepTouched||xn(r.touchedFields,X),te.keepDirty||(xn(r.dirtyFields,X),r.isDirty=te.defaultValue?D(X,Ts(Qe(s,X))):D()),te.keepError||(xn(r.errors,X),d.isValid&&S()),h.state.next({...r}))},ke=(X,te={})=>{const oe=X?Ts(X):s,Ne=Ts(oe),ve=Ls(X),_e=ve?s:Ne;if(te.keepDefaultValues||(s=oe),!te.keepValues){if(te.keepDirtyValues){const Be=new Set([...o.mount,...Object.keys(Xf(s,a))]);for(const ze of Array.from(Be))Qe(r.dirtyFields,ze)?cr(_e,ze,Qe(a,ze)):V(ze,Qe(_e,ze))}else{if(cj&&Xr(X))for(const Be of o.mount){const ze=Qe(n,Be);if(ze&&ze._f){const ot=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(L0(ot)){const ut=ot.closest("form");if(ut){ut.reset();break}}}}n={}}a=e.shouldUnregister?te.keepDefaultValues?Ts(s):{}:Ts(_e),h.array.next({values:{..._e}}),h.values.next({values:{..._e}})}o={mount:te.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues,i.watch=!!e.shouldUnregister,h.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!Al(X,s)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:te.keepDirtyValues?te.keepDefaultValues&&a?Xf(s,a):r.dirtyFields:te.keepDefaultValues&&X?Xf(s,X):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(X,te)=>ke(Do(X)?X(a):X,te);return{control:{register:le,unregister:W,getFieldState:T,handleSubmit:Ee,setError:Z,_executeSchema:A,_getWatch:L,_getDirty:D,_updateValid:S,_removeUnmounted:I,_updateFieldArray:x,_updateDisabledField:se,_getFieldArray:B,_reset:ke,_resetDefaultValues:()=>Do(t.defaultValues)&&t.defaultValues().then(X=>{Je(X,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:X=>{r={...r,...X}},_disableForm:xe,_subjects:h,_proxyFormState:d,_setErrors:C,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(X){i=X},get _defaultValues(){return s},get _names(){return o},set _names(X){o=X},get _formState(){return r},set _formState(X){r=X},get _options(){return t},set _options(X){t={...t,...X}}},trigger:ie,register:le,handleSubmit:Ee,watch:ae,setValue:V,getValues:me,reset:Je,resetField:Se,clearErrors:G,unregister:W,setError:Z,setFocus:(X,te={})=>{const oe=Qe(n,X),Ne=oe&&oe._f;if(Ne){const ve=Ne.refs?Ne.refs[0]:Ne.ref;ve.focus&&(ve.focus(),te.shouldSelect&&ve.select())}},getFieldState:T}}function iF(e={}){const t=Pe.useRef(),r=Pe.useRef(),[n,s]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:Do(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Do(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...tce(e),formState:n});const a=t.current.control;return a._options=e,dj({subject:a._subjects.state,next:i=>{X8(i,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),Pe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Pe.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),Pe.useEffect(()=>{e.values&&!Al(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[e.values,a]),Pe.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),Pe.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Pe.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),Pe.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=K8(n,a),t.current}const oF=$le,lF=v.createContext({}),Dp=({...e})=>l.jsx(lF.Provider,{value:{name:e.name},children:l.jsx(qle,{...e})}),ix=()=>{const e=v.useContext(lF),t=v.useContext(cF),{getFieldState:r,formState:n}=ax(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},cF=v.createContext({}),ah=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return l.jsx(cF.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:Ve("space-y-2",e),...t})})});ah.displayName="FormItem";const ih=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=ix();return l.jsx(je,{ref:r,className:Ve(n&&"text-destructive",e),htmlFor:s,...t})});ih.displayName="FormLabel";const oh=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=ix();return l.jsx(no,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});oh.displayName="FormControl";const rce=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=ix();return l.jsx("p",{ref:r,id:n,className:Ve("text-sm text-muted-foreground",e),...t})});rce.displayName="FormDescription";const lh=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=ix(),i=s?String(s==null?void 0:s.message):t;return i?l.jsx("p",{ref:n,id:a,className:Ve("text-sm font-medium text-destructive",e),...r,children:i}):null});lh.displayName="FormMessage";const nce="transactly-db",sce=1,wg=async()=>M1(nce,sce,{upgrade(e){e.objectStoreNames.contains("transactions")||e.createObjectStore("transactions",{keyPath:"id"})}}),ace=async e=>{const t=await wg(),r=t.transaction("transactions","readwrite");await r.objectStore("transactions").add(e),await r.done,t.close()},ice=async e=>{const t=await wg(),s=await t.transaction("transactions","readonly").objectStore("transactions").get(e);return t.close(),s||null},oce=async()=>{const e=await wg(),n=await e.transaction("transactions","readonly").objectStore("transactions").getAll();return e.close(),n},lce=async e=>{const t=await wg(),r=t.transaction("transactions","readwrite");await r.objectStore("transactions").put(e),await r.done,t.close()},cce=async e=>{const t=await wg(),r=t.transaction("transactions","readwrite");await r.objectStore("transactions").delete(e),await r.done,t.close()},uF={getAllTransactions:async e=>{try{const t=await oce();return e?t.filter(r=>r.user_id===e):t}catch(t){return console.error("Error getting all transactions:",t),[]}},getTransaction:async e=>{try{return await ice(e)}catch(t){return console.error("Error getting transaction:",t),null}},addTransaction:async e=>{try{const t={...e,payments:e.payments||[],notes:e.notes||[],attachments:e.attachments||[],suppliers:e.suppliers||[],buyers:e.buyers||[],updatedAt:new Date().toISOString()};await ace(t)}catch(t){throw console.error("Error adding transaction:",t),t}},updateTransaction:async e=>{try{const t={...e,payments:e.payments||[],notes:e.notes||[],attachments:e.attachments||[],suppliers:e.suppliers||[],buyers:e.buyers||[],updatedAt:new Date().toISOString()};await lce(t)}catch(t){throw console.error("Error updating transaction:",t),t}},deleteTransaction:async e=>{try{await cce(e)}catch(t){throw console.error("Error deleting transaction:",t),t}}};var Jt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(Jt||(Jt={}));var oS;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(oS||(oS={}));const it=Jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Tl=e=>{switch(typeof e){case"undefined":return it.undefined;case"string":return it.string;case"number":return isNaN(e)?it.nan:it.number;case"boolean":return it.boolean;case"function":return it.function;case"bigint":return it.bigint;case"symbol":return it.symbol;case"object":return Array.isArray(e)?it.array:e===null?it.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?it.promise:typeof Map<"u"&&e instanceof Map?it.map:typeof Set<"u"&&e instanceof Set?it.set:typeof Date<"u"&&e instanceof Date?it.date:it.object;default:return it.unknown}},We=Jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uce=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ca extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let o=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof ca))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ca.create=e=>new ca(e);const Ih=(e,t)=>{let r;switch(e.code){case We.invalid_type:e.received===it.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case We.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Jt.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:r=`Unrecognized key(s) in object: ${Jt.joinValues(e.keys,", ")}`;break;case We.invalid_union:r="Invalid input";break;case We.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Jt.joinValues(e.options)}`;break;case We.invalid_enum_value:r=`Invalid enum value. Expected ${Jt.joinValues(e.options)}, received '${e.received}'`;break;case We.invalid_arguments:r="Invalid function arguments";break;case We.invalid_return_type:r="Invalid function return type";break;case We.invalid_date:r="Invalid date";break;case We.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Jt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case We.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case We.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case We.custom:r="Invalid input";break;case We.invalid_intersection_types:r="Intersection results could not be merged";break;case We.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case We.not_finite:r="Number must be finite";break;default:r=t.defaultError,Jt.assertNever(e)}return{message:r}};let dF=Ih;function dce(e){dF=e}function O0(){return dF}const I0=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}},hce=[];function rt(e,t){const r=O0(),n=I0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ih?void 0:Ih].filter(s=>!!s)});e.common.issues.push(n)}class is{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Pt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,i=await s.value;n.push({key:a,value:i})}return is.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Pt;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:t.value,value:n}}}const Pt=Object.freeze({status:"aborted"}),$d=e=>({status:"dirty",value:e}),xs=e=>({status:"valid",value:e}),lS=e=>e.status==="aborted",cS=e=>e.status==="dirty",Tm=e=>e.status==="valid",Lm=e=>typeof Promise<"u"&&e instanceof Promise;function M0(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function hF(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var gt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(gt||(gt={}));var cp,up;class ao{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const MP=(e,t)=>{if(Tm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ca(e.common.issues);return this._error=r,this._error}}};function Ft(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,o)=>{var c,u;const{message:d}=e;return i.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:s}}class zt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Tl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Tl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new is,ctx:{common:t.parent.common,data:t.data,parsedType:Tl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Lm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tl(t)},a=this._parseSync({data:t,path:s.path,parent:s});return MP(s,a)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Tl(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Lm(s)?s:Promise.resolve(s));return MP(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const i=t(s),o=()=>a.addIssue({code:We.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new _i({schema:this,typeName:jt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ro.create(this,this._def)}nullable(){return uc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gi.create(this,this._def)}promise(){return Fh.create(this,this._def)}or(t){return Im.create([this,t],this._def)}and(t){return Mm.create(this,t,this._def)}transform(t){return new _i({...Ft(this._def),schema:this,typeName:jt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Vm({...Ft(this._def),innerType:this,defaultValue:r,typeName:jt.ZodDefault})}brand(){return new pj({typeName:jt.ZodBranded,type:this,...Ft(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new zm({...Ft(this._def),innerType:this,catchValue:r,typeName:jt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return bg.create(this,t)}readonly(){return qm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fce=/^c[^\s-]{8,}$/i,pce=/^[0-9a-z]+$/,mce=/^[0-9A-HJKMNP-TV-Z]{26}$/,gce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yce=/^[a-z0-9_-]{21}$/i,vce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let R2;const bce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sce=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_ce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nce=new RegExp(`^${fF}$`);function pF(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function jce(e){return new RegExp(`^${pF(e)}$`)}function mF(e){let t=`${fF}T${pF(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Cce(e,t){return!!((t==="v4"||!t)&&bce.test(e)||(t==="v6"||!t)&&Sce.test(e))}class hi extends zt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==it.string){const a=this._getOrReturnCtx(t);return rt(a,{code:We.invalid_type,expected:it.string,received:a.parsedType}),Pt}const n=new is;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:We.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:We.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(t,s),i?rt(s,{code:We.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&rt(s,{code:We.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")xce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"email",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")R2||(R2=new RegExp(wce,"u")),R2.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"emoji",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")gce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"uuid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")yce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"nanoid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")fce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"cuid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")pce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"cuid2",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")mce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"ulid",code:We.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),rt(s,{validation:"url",code:We.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"regex",code:We.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),rt(s,{code:We.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),rt(s,{code:We.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),rt(s,{code:We.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?mF(a).test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{code:We.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Nce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{code:We.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?jce(a).test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{code:We.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?vce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"duration",code:We.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Cce(t.data,a.version)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"ip",code:We.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?_ce.test(t.data)||(s=this._getOrReturnCtx(t,s),rt(s,{validation:"base64",code:We.invalid_string,message:a.message}),n.dirty()):Jt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:We.invalid_string,...gt.errToObj(n)})}_addCheck(t){return new hi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...gt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...gt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...gt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...gt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...gt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...gt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...gt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...gt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...gt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...gt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...gt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...gt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...gt.errToObj(r)})}nonempty(t){return this.min(1,gt.errToObj(t))}trim(){return new hi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hi.create=e=>{var t;return new hi({checks:[],typeName:jt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ft(e)})};function kce(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(e.toFixed(s).replace(".","")),i=parseInt(t.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class oc extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==it.number){const a=this._getOrReturnCtx(t);return rt(a,{code:We.invalid_type,expected:it.number,received:a.parsedType}),Pt}let n;const s=new is;for(const a of this._def.checks)a.kind==="int"?Jt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),rt(n,{code:We.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:We.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:We.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?kce(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),rt(n,{code:We.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),rt(n,{code:We.not_finite,message:a.message}),s.dirty()):Jt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,s){return new oc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(s)}]})}_addCheck(t){return new oc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Jt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}oc.create=e=>new oc({checks:[],typeName:jt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ft(e)});class lc extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==it.bigint){const a=this._getOrReturnCtx(t);return rt(a,{code:We.invalid_type,expected:it.bigint,received:a.parsedType}),Pt}let n;const s=new is;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:We.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:We.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),rt(n,{code:We.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):Jt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,s){return new lc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(s)}]})}_addCheck(t){return new lc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}lc.create=e=>{var t;return new lc({checks:[],typeName:jt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ft(e)})};class Dm extends zt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==it.boolean){const n=this._getOrReturnCtx(t);return rt(n,{code:We.invalid_type,expected:it.boolean,received:n.parsedType}),Pt}return xs(t.data)}}Dm.create=e=>new Dm({typeName:jt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ft(e)});class xu extends zt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==it.date){const a=this._getOrReturnCtx(t);return rt(a,{code:We.invalid_type,expected:it.date,received:a.parsedType}),Pt}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return rt(a,{code:We.invalid_date}),Pt}const n=new is;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:We.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),rt(s,{code:We.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Jt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:gt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:gt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}xu.create=e=>new xu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:jt.ZodDate,...Ft(e)});class F0 extends zt{_parse(t){if(this._getType(t)!==it.symbol){const n=this._getOrReturnCtx(t);return rt(n,{code:We.invalid_type,expected:it.symbol,received:n.parsedType}),Pt}return xs(t.data)}}F0.create=e=>new F0({typeName:jt.ZodSymbol,...Ft(e)});class Rm extends zt{_parse(t){if(this._getType(t)!==it.undefined){const n=this._getOrReturnCtx(t);return rt(n,{code:We.invalid_type,expected:it.undefined,received:n.parsedType}),Pt}return xs(t.data)}}Rm.create=e=>new Rm({typeName:jt.ZodUndefined,...Ft(e)});class Om extends zt{_parse(t){if(this._getType(t)!==it.null){const n=this._getOrReturnCtx(t);return rt(n,{code:We.invalid_type,expected:it.null,received:n.parsedType}),Pt}return xs(t.data)}}Om.create=e=>new Om({typeName:jt.ZodNull,...Ft(e)});class Mh extends zt{constructor(){super(...arguments),this._any=!0}_parse(t){return xs(t.data)}}Mh.create=e=>new Mh({typeName:jt.ZodAny,...Ft(e)});class cu extends zt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xs(t.data)}}cu.create=e=>new cu({typeName:jt.ZodUnknown,...Ft(e)});class Go extends zt{_parse(t){const r=this._getOrReturnCtx(t);return rt(r,{code:We.invalid_type,expected:it.never,received:r.parsedType}),Pt}}Go.create=e=>new Go({typeName:jt.ZodNever,...Ft(e)});class B0 extends zt{_parse(t){if(this._getType(t)!==it.undefined){const n=this._getOrReturnCtx(t);return rt(n,{code:We.invalid_type,expected:it.void,received:n.parsedType}),Pt}return xs(t.data)}}B0.create=e=>new B0({typeName:jt.ZodVoid,...Ft(e)});class gi extends zt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==it.array)return rt(r,{code:We.invalid_type,expected:it.array,received:r.parsedType}),Pt;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(i||o)&&(rt(r,{code:i?We.too_big:We.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(rt(r,{code:We.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(rt(r,{code:We.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>s.type._parseAsync(new ao(r,i,r.path,o)))).then(i=>is.mergeArray(n,i));const a=[...r.data].map((i,o)=>s.type._parseSync(new ao(r,i,r.path,o)));return is.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new gi({...this._def,minLength:{value:t,message:gt.toString(r)}})}max(t,r){return new gi({...this._def,maxLength:{value:t,message:gt.toString(r)}})}length(t,r){return new gi({...this._def,exactLength:{value:t,message:gt.toString(r)}})}nonempty(t){return this.min(1,t)}}gi.create=(e,t)=>new gi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:jt.ZodArray,...Ft(t)});function wd(e){if(e instanceof Br){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ro.create(wd(n))}return new Br({...e._def,shape:()=>t})}else return e instanceof gi?new gi({...e._def,type:wd(e.element)}):e instanceof ro?ro.create(wd(e.unwrap())):e instanceof uc?uc.create(wd(e.unwrap())):e instanceof io?io.create(e.items.map(t=>wd(t))):e}class Br extends zt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Jt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==it.object){const u=this._getOrReturnCtx(t);return rt(u,{code:We.invalid_type,expected:it.object,received:u.parsedType}),Pt}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Go&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||o.push(u);const c=[];for(const u of i){const d=a[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ao(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Go){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&(rt(s,{code:We.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ao(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>is.mergeObjectSync(n,u)):is.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return gt.errToObj,new Br({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,a,i,o;const c=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=gt.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Br({...this._def,unknownKeys:"strip"})}passthrough(){return new Br({...this._def,unknownKeys:"passthrough"})}extend(t){return new Br({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Br({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:jt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Br({...this._def,catchall:t})}pick(t){const r={};return Jt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Br({...this._def,shape:()=>r})}omit(t){const r={};return Jt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Br({...this._def,shape:()=>r})}deepPartial(){return wd(this)}partial(t){const r={};return Jt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Br({...this._def,shape:()=>r})}required(t){const r={};return Jt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ro;)a=a._def.innerType;r[n]=a}}),new Br({...this._def,shape:()=>r})}keyof(){return gF(Jt.objectKeys(this.shape))}}Br.create=(e,t)=>new Br({shape:()=>e,unknownKeys:"strip",catchall:Go.create(),typeName:jt.ZodObject,...Ft(t)});Br.strictCreate=(e,t)=>new Br({shape:()=>e,unknownKeys:"strict",catchall:Go.create(),typeName:jt.ZodObject,...Ft(t)});Br.lazycreate=(e,t)=>new Br({shape:e,unknownKeys:"strip",catchall:Go.create(),typeName:jt.ZodObject,...Ft(t)});class Im extends zt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new ca(o.ctx.common.issues));return rt(r,{code:We.invalid_union,unionErrors:i}),Pt}if(r.common.async)return Promise.all(n.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new ca(c));return rt(r,{code:We.invalid_union,unionErrors:o}),Pt}}get options(){return this._def.options}}Im.create=(e,t)=>new Im({options:e,typeName:jt.ZodUnion,...Ft(t)});const jo=e=>e instanceof Bm?jo(e.schema):e instanceof _i?jo(e.innerType()):e instanceof $m?[e.value]:e instanceof cc?e.options:e instanceof Um?Jt.objectValues(e.enum):e instanceof Vm?jo(e._def.innerType):e instanceof Rm?[void 0]:e instanceof Om?[null]:e instanceof ro?[void 0,...jo(e.unwrap())]:e instanceof uc?[null,...jo(e.unwrap())]:e instanceof pj||e instanceof qm?jo(e.unwrap()):e instanceof zm?jo(e._def.innerType):[];class ox extends zt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==it.object)return rt(r,{code:We.invalid_type,expected:it.object,received:r.parsedType}),Pt;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(rt(r,{code:We.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Pt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const a of r){const i=jo(a.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,a)}}return new ox({typeName:jt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ft(n)})}}function uS(e,t){const r=Tl(e),n=Tl(t);if(e===t)return{valid:!0,data:e};if(r===it.object&&n===it.object){const s=Jt.objectKeys(t),a=Jt.objectKeys(e).filter(o=>s.indexOf(o)!==-1),i={...e,...t};for(const o of a){const c=uS(e[o],t[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(r===it.array&&n===it.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],o=t[a],c=uS(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===it.date&&n===it.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Mm extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,i)=>{if(lS(a)||lS(i))return Pt;const o=uS(a.value,i.value);return o.valid?((cS(a)||cS(i))&&r.dirty(),{status:r.value,value:o.data}):(rt(n,{code:We.invalid_intersection_types}),Pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mm.create=(e,t,r)=>new Mm({left:e,right:t,typeName:jt.ZodIntersection,...Ft(r)});class io extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==it.array)return rt(n,{code:We.invalid_type,expected:it.array,received:n.parsedType}),Pt;if(n.data.length<this._def.items.length)return rt(n,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pt;!this._def.rest&&n.data.length>this._def.items.length&&(rt(n,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ao(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>is.mergeArray(r,i)):is.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new io({...this._def,rest:t})}}io.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new io({items:e,typeName:jt.ZodTuple,rest:null,...Ft(t)})};class Fm extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==it.object)return rt(n,{code:We.invalid_type,expected:it.object,received:n.parsedType}),Pt;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in n.data)s.push({key:a._parse(new ao(n,o,n.path,o)),value:i._parse(new ao(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?is.mergeObjectAsync(r,s):is.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof zt?new Fm({keyType:t,valueType:r,typeName:jt.ZodRecord,...Ft(n)}):new Fm({keyType:hi.create(),valueType:t,typeName:jt.ZodRecord,...Ft(r)})}}class $0 extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==it.map)return rt(n,{code:We.invalid_type,expected:it.map,received:n.parsedType}),Pt;const s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([o,c],u)=>({key:s._parse(new ao(n,o,n.path,[u,"key"])),value:a._parse(new ao(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Pt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}$0.create=(e,t,r)=>new $0({valueType:t,keyType:e,typeName:jt.ZodMap,...Ft(r)});class wu extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==it.set)return rt(n,{code:We.invalid_type,expected:it.set,received:n.parsedType}),Pt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(rt(n,{code:We.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(rt(n,{code:We.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Pt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new ao(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(t,r){return new wu({...this._def,minSize:{value:t,message:gt.toString(r)}})}max(t,r){return new wu({...this._def,maxSize:{value:t,message:gt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}wu.create=(e,t)=>new wu({valueType:e,minSize:null,maxSize:null,typeName:jt.ZodSet,...Ft(t)});class ch extends zt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==it.function)return rt(r,{code:We.invalid_type,expected:it.function,received:r.parsedType}),Pt;function n(o,c){return I0({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,O0(),Ih].filter(u=>!!u),issueData:{code:We.invalid_arguments,argumentsError:c}})}function s(o,c){return I0({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,O0(),Ih].filter(u=>!!u),issueData:{code:We.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Fh){const o=this;return xs(async function(...c){const u=new ca([]),d=await o._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(n(c,p)),u}),h=await Reflect.apply(i,this,d);return await o._def.returns._def.type.parseAsync(h,a).catch(p=>{throw u.addIssue(s(h,p)),u})})}else{const o=this;return xs(function(...c){const u=o._def.args.safeParse(c,a);if(!u.success)throw new ca([n(c,u.error)]);const d=Reflect.apply(i,this,u.data),h=o._def.returns.safeParse(d,a);if(!h.success)throw new ca([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ch({...this._def,args:io.create(t).rest(cu.create())})}returns(t){return new ch({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new ch({args:t||io.create([]).rest(cu.create()),returns:r||cu.create(),typeName:jt.ZodFunction,...Ft(n)})}}class Bm extends zt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Bm.create=(e,t)=>new Bm({getter:e,typeName:jt.ZodLazy,...Ft(t)});class $m extends zt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return rt(r,{received:r.data,code:We.invalid_literal,expected:this._def.value}),Pt}return{status:"valid",value:t.data}}get value(){return this._def.value}}$m.create=(e,t)=>new $m({value:e,typeName:jt.ZodLiteral,...Ft(t)});function gF(e,t){return new cc({values:e,typeName:jt.ZodEnum,...Ft(t)})}class cc extends zt{constructor(){super(...arguments),cp.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return rt(r,{expected:Jt.joinValues(n),received:r.parsedType,code:We.invalid_type}),Pt}if(M0(this,cp)||hF(this,cp,new Set(this._def.values)),!M0(this,cp).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return rt(r,{received:r.data,code:We.invalid_enum_value,options:n}),Pt}return xs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return cc.create(t,{...this._def,...r})}exclude(t,r=this._def){return cc.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}cp=new WeakMap;cc.create=gF;class Um extends zt{constructor(){super(...arguments),up.set(this,void 0)}_parse(t){const r=Jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==it.string&&n.parsedType!==it.number){const s=Jt.objectValues(r);return rt(n,{expected:Jt.joinValues(s),received:n.parsedType,code:We.invalid_type}),Pt}if(M0(this,up)||hF(this,up,new Set(Jt.getValidEnumValues(this._def.values))),!M0(this,up).has(t.data)){const s=Jt.objectValues(r);return rt(n,{received:n.data,code:We.invalid_enum_value,options:s}),Pt}return xs(t.data)}get enum(){return this._def.values}}up=new WeakMap;Um.create=(e,t)=>new Um({values:e,typeName:jt.ZodNativeEnum,...Ft(t)});class Fh extends zt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==it.promise&&r.common.async===!1)return rt(r,{code:We.invalid_type,expected:it.promise,received:r.parsedType}),Pt;const n=r.parsedType===it.promise?r.data:Promise.resolve(r.data);return xs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fh.create=(e,t)=>new Fh({type:e,typeName:jt.ZodPromise,...Ft(t)});class _i extends zt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{rt(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async o=>{if(r.value==="aborted")return Pt;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Pt:c.status==="dirty"||r.value==="dirty"?$d(c.value):c});{if(r.value==="aborted")return Pt;const o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?Pt:o.status==="dirty"||r.value==="dirty"?$d(o.value):o}}if(s.type==="refinement"){const i=o=>{const c=s.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Pt:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Pt:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Tm(i))return i;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Tm(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:r.value,value:o})):i);Jt.assertNever(s)}}_i.create=(e,t,r)=>new _i({schema:e,typeName:jt.ZodEffects,effect:t,...Ft(r)});_i.createWithPreprocess=(e,t,r)=>new _i({schema:t,effect:{type:"preprocess",transform:e},typeName:jt.ZodEffects,...Ft(r)});class ro extends zt{_parse(t){return this._getType(t)===it.undefined?xs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ro.create=(e,t)=>new ro({innerType:e,typeName:jt.ZodOptional,...Ft(t)});class uc extends zt{_parse(t){return this._getType(t)===it.null?xs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}uc.create=(e,t)=>new uc({innerType:e,typeName:jt.ZodNullable,...Ft(t)});class Vm extends zt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===it.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Vm.create=(e,t)=>new Vm({innerType:e,typeName:jt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ft(t)});class zm extends zt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Lm(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ca(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ca(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}zm.create=(e,t)=>new zm({innerType:e,typeName:jt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ft(t)});class U0 extends zt{_parse(t){if(this._getType(t)!==it.nan){const n=this._getOrReturnCtx(t);return rt(n,{code:We.invalid_type,expected:it.nan,received:n.parsedType}),Pt}return{status:"valid",value:t.data}}}U0.create=e=>new U0({typeName:jt.ZodNaN,...Ft(e)});const Ece=Symbol("zod_brand");class pj extends zt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class bg extends zt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Pt:a.status==="dirty"?(r.dirty(),$d(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new bg({in:t,out:r,typeName:jt.ZodPipeline})}}class qm extends zt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Tm(s)&&(s.value=Object.freeze(s.value)),s);return Lm(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}qm.create=(e,t)=>new qm({innerType:e,typeName:jt.ZodReadonly,...Ft(t)});function yF(e,t={},r){return e?Mh.create().superRefine((n,s)=>{var a,i;if(!e(n)){const o=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(i=(a=o.fatal)!==null&&a!==void 0?a:r)!==null&&i!==void 0?i:!0,u=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...u,fatal:c})}}):Mh.create()}const Pce={object:Br.lazycreate};var jt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(jt||(jt={}));const Ace=(e,t={message:`Input not instance of ${e.name}`})=>yF(r=>r instanceof e,t),Rp=hi.create,vF=oc.create,Tce=U0.create,Lce=lc.create,xF=Dm.create,Dce=xu.create,Rce=F0.create,Oce=Rm.create,Ice=Om.create,Mce=Mh.create,Fce=cu.create,Bce=Go.create,$ce=B0.create,Uce=gi.create,wF=Br.create,Vce=Br.strictCreate,zce=Im.create,qce=ox.create,Wce=Mm.create,Hce=io.create,Gce=Fm.create,Yce=$0.create,Kce=wu.create,Xce=ch.create,Jce=Bm.create,Zce=$m.create,Qce=cc.create,eue=Um.create,tue=Fh.create,FP=_i.create,rue=ro.create,nue=uc.create,sue=_i.createWithPreprocess,aue=bg.create,iue=()=>Rp().optional(),oue=()=>vF().optional(),lue=()=>xF().optional(),cue={string:e=>hi.create({...e,coerce:!0}),number:e=>oc.create({...e,coerce:!0}),boolean:e=>Dm.create({...e,coerce:!0}),bigint:e=>lc.create({...e,coerce:!0}),date:e=>xu.create({...e,coerce:!0})},uue=Pt;var O2=Object.freeze({__proto__:null,defaultErrorMap:Ih,setErrorMap:dce,getErrorMap:O0,makeIssue:I0,EMPTY_PATH:hce,addIssueToContext:rt,ParseStatus:is,INVALID:Pt,DIRTY:$d,OK:xs,isAborted:lS,isDirty:cS,isValid:Tm,isAsync:Lm,get util(){return Jt},get objectUtil(){return oS},ZodParsedType:it,getParsedType:Tl,ZodType:zt,datetimeRegex:mF,ZodString:hi,ZodNumber:oc,ZodBigInt:lc,ZodBoolean:Dm,ZodDate:xu,ZodSymbol:F0,ZodUndefined:Rm,ZodNull:Om,ZodAny:Mh,ZodUnknown:cu,ZodNever:Go,ZodVoid:B0,ZodArray:gi,ZodObject:Br,ZodUnion:Im,ZodDiscriminatedUnion:ox,ZodIntersection:Mm,ZodTuple:io,ZodRecord:Fm,ZodMap:$0,ZodSet:wu,ZodFunction:ch,ZodLazy:Bm,ZodLiteral:$m,ZodEnum:cc,ZodNativeEnum:Um,ZodPromise:Fh,ZodEffects:_i,ZodTransformer:_i,ZodOptional:ro,ZodNullable:uc,ZodDefault:Vm,ZodCatch:zm,ZodNaN:U0,BRAND:Ece,ZodBranded:pj,ZodPipeline:bg,ZodReadonly:qm,custom:yF,Schema:zt,ZodSchema:zt,late:Pce,get ZodFirstPartyTypeKind(){return jt},coerce:cue,any:Mce,array:Uce,bigint:Lce,boolean:xF,date:Dce,discriminatedUnion:qce,effect:FP,enum:Qce,function:Xce,instanceof:Ace,intersection:Wce,lazy:Jce,literal:Zce,map:Yce,nan:Tce,nativeEnum:eue,never:Bce,null:Ice,nullable:nue,number:vF,object:wF,oboolean:lue,onumber:oue,optional:rue,ostring:iue,pipeline:aue,preprocess:sue,promise:tue,record:Gce,set:Kce,strictObject:Vce,string:Rp,symbol:Rce,transformer:FP,tuple:Hce,undefined:Oce,union:zce,unknown:Fce,void:$ce,NEVER:uue,ZodIssueCode:We,quotelessJson:uce,ZodError:ca});const BP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Qe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},bF=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?BP(n.ref,r,e):n.refs&&n.refs.forEach(s=>BP(s,r,e))}},due=(e,t)=>{t.shouldUseNativeValidation&&bF(e,t);const r={};for(const n in e){const s=Qe(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(hue(t.names||Object.keys(e),n)){const i=Object.assign({},Qe(r,n));cr(i,"root",a),cr(r,n,i)}else cr(r,n,a)}return r},hue=(e,t)=>e.some(r=>r.startsWith(t+"."));var fue=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=Q8(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},SF=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(i,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&bF({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(i){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(i))return{values:{},errors:due(fue(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}};const pue=O2.object({transactionName:O2.string().min(1,"Transaction name is required"),businessName:O2.string().optional()}),mue=({onTransactionCreated:e})=>{const[t,r]=v.useState(!1),n=Ss(),{toast:s}=nr(),{user:a}=Pr(),i=iF({resolver:SF(pue),defaultValues:{transactionName:"",businessName:""}}),o=async c=>{r(!0);try{const u={id:wq("txn"),name:c.transactionName,date:new Date().toISOString(),totalAmount:0,status:"pending",loadBuy:void 0,transportation:void 0,loadSold:void 0,payments:[],notes:[],attachments:[],businessName:c.businessName||void 0,updatedAt:new Date().toISOString(),user_id:a==null?void 0:a.id};await uF.addTransaction(u),i.reset(),s({title:"Transaction Created",description:"Your new transaction has been created successfully."}),e&&e(),n(`/transaction/${u.id}`)}catch(u){console.error("Error creating transaction:",u),s({title:"Error",description:"Failed to create transaction. Please try again.",variant:"destructive"})}finally{r(!1)}};return l.jsx(oF,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[l.jsx(Dp,{control:i.control,name:"transactionName",render:({field:c})=>l.jsxs(ah,{children:[l.jsx(ih,{children:"Transaction Name"}),l.jsx(oh,{children:l.jsx(Ie,{...c,placeholder:"Enter transaction name"})}),l.jsx(lh,{})]})}),l.jsx(Dp,{control:i.control,name:"businessName",render:({field:c})=>l.jsxs(ah,{children:[l.jsx(ih,{children:"Business Name"}),l.jsx(oh,{children:l.jsx(Ie,{...c,placeholder:"Enter business name"})}),l.jsx(lh,{})]})}),l.jsx(ge,{type:"submit",disabled:t,children:t?"Creating...":"Create Transaction"})]})})},gue=()=>l.jsx("div",{className:"container mx-auto py-8",children:l.jsxs(Kt,{className:"max-w-2xl mx-auto",children:[l.jsx(er,{children:l.jsx(ar,{className:"text-2xl",children:"Create New Transaction"})}),l.jsx(Yt,{children:l.jsx(mue,{})})]})}),yue=[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"हिन्दी"},{code:"bn",name:"Bengali",nativeName:"বাংলা"},{code:"te",name:"Telugu",nativeName:"తెలుగు"},{code:"ta",name:"Tamil",nativeName:"தமிழ்"},{code:"pa",name:"Punjabi",nativeName:"ਪੰਜਾਬੀ"}],I2={en:{sign_in:"Sign In",sign_up:"Create Account",email:"Email",phone:"Phone Number",password:"Password",confirm_password:"Confirm Password",name:"Full Name",forgot_password:"Forgot password?",reset_password:"Reset Password",verify_otp:"Verify OTP",send_otp:"Send OTP",resend_otp:"Resend OTP",dont_have_account:"Don't have an account? Sign up",already_have_account:"Already have an account? Sign in",settings:"Settings",profile:"Profile",change_password:"Change Password",language:"Language",currency:"Currency",date_format:"Date Format",default_view:"Default View",theme:"Theme",font_size:"Font Size",save:"Save",cancel:"Cancel",old_password:"Old Password",new_password:"New Password",calculations:"Calculations",tax_calculator:"Tax Calculator",interest_calculator:"Interest Calculator",currency_converter:"Currency Converter",calculate:"Calculate",result:"Result"},hi:{sign_in:"साइन इन करें",sign_up:"खाता बनाएं",email:"ईमेल",phone:"फ़ोन नंबर",password:"पासवर्ड",confirm_password:"पासवर्ड की पुष्टि करें",name:"पूरा नाम",forgot_password:"पासवर्ड भूल गए?",reset_password:"पासवर्ड रीसेट करें",verify_otp:"OTP सत्यापित करें",send_otp:"OTP भेजें",resend_otp:"OTP पुनः भेजें",dont_have_account:"खाता नहीं है? साइन अप करें",already_have_account:"पहले से ही खाता है? साइन इन करें",settings:"सेटिंग्स",profile:"प्रोफ़ाइल",change_password:"पासवर्ड बदलें",language:"भाषा",currency:"मुद्रा",date_format:"दिनांक प्रारूप",default_view:"डिफ़ॉल्ट दृश्य",theme:"थीम",font_size:"फ़ॉन्ट आकार",save:"सेव करें",cancel:"रद्द करें",old_password:"पुराना पासवर्ड",new_password:"नया पासवर्ड",calculations:"गणना",tax_calculator:"कर कैलकुलेटर",interest_calculator:"ब्याज कैलकुलेटर",currency_converter:"मुद्रा परिवर्तक",calculate:"गणना करें",result:"परिणाम"},bn:{sign_in:"সাইন ইন",sign_up:"অ্যাকাউন্ট তৈরি করুন",email:"ইমেইল",phone:"ফোন নম্বর",password:"পাসওয়ার্ড",confirm_password:"পাসওয়ার্ড নিশ্চিত করুন",name:"পুরো নাম",forgot_password:"পাসওয়ার্ড ভুলে গেছেন?",reset_password:"পাসওয়ার্ড রিসেট",verify_otp:"OTP যাচাই করুন",send_otp:"OTP পাঠান",resend_otp:"OTP আবার পাঠান",dont_have_account:"অ্যাকাউন্ট নেই? সাইন আপ করুন",already_have_account:"ইতিমধ্যে একটি অ্যাকাউন্ট আছে? সাইন ইন করুন",settings:"সেটিংস",profile:"প্রোফাইল",change_password:"পাসওয়ার্ড পরিবর্তন করুন",language:"ভাষা",currency:"মুদ্রা",date_format:"তারিখ ফরম্যাট",default_view:"ডিফল্ট ভিউ",theme:"থিম",font_size:"ফন্ট সাইজ",save:"সংরক্ষণ করুন",cancel:"বাতিল করুন",old_password:"পুরানো পাসওয়ার্ড",new_password:"নতুন পাসওয়ার্ড",calculations:"গণনা",tax_calculator:"ট্যাক্স ক্যালকুলেটর",interest_calculator:"সুদ ক্যালকুলেটর",currency_converter:"মুদ্রা কনভার্টার",calculate:"গণনা করুন",result:"ফলাফল"},te:{sign_in:"సైన్ ఇన్",sign_up:"ఖాతా సృష్టించండి",email:"ఇమెయిల్",phone:"ఫోన్ నంబర్",password:"పాస్‌వర్డ్",confirm_password:"పాస్‌వర్డ్ నిర్ధారించండి",name:"పూర్తి పేరు",forgot_password:"పాస్‌వర్డ్ మర్చిపోయారా?",reset_password:"పాస్‌వర్డ్ రీసెట్ చేయండి",verify_otp:"OTP ధృవీకరించండి",send_otp:"OTP పంపండి",resend_otp:"OTP మళ్ళీ పంపండి",dont_have_account:"ఖాతా లేదా? సైన్ అప్ చేయండి",already_have_account:"ఇప్పటికే ఖాతా ఉందా? సైన్ ఇన్ చేయండి",settings:"సెట్టింగ్‌లు",profile:"ప్రొఫైల్",change_password:"పాస్‌వర్డ్ మార్చండి",language:"భాష",currency:"కరెన్సీ",date_format:"తేదీ ఫార్మాట్",default_view:"డిఫాల్ట్ వీక్షణ",theme:"థీమ్",font_size:"ఫాంట్ సైజు",save:"సేవ్ చేయండి",cancel:"రద్దు చేయండి",old_password:"పాత పాస్‌వర్డ్",new_password:"కొత్త పాస్‌వర్డ్",calculations:"లెక్కింపులు",tax_calculator:"పన్ను క్యాల్క్యులేటర్",interest_calculator:"వడ్డీ క్యాల్క్యులేటర్",currency_converter:"కరెన్సీ కన్వర్టర్",calculate:"లెక్కించండి",result:"ఫలితం"},ta:{sign_in:"உள்நுழைக",sign_up:"கணக்கை உருவாக்குக",email:"மின்னஞ்சல்",phone:"தொலைபேசி எண்",password:"கடவுச்சொல்",confirm_password:"கடவுச்சொல்லை உறுதிப்படுத்துக",name:"முழு பெயர்",forgot_password:"கடவுச்சொல் மறந்துவிட்டீர்களா?",reset_password:"கடவுச்சொல்லை மீட்டமைக்க",verify_otp:"OTP ஐ சரிபார்க்கவும்",send_otp:"OTP அனுப்பு",resend_otp:"OTP ஐ மீண்டும் அனுப்பு",dont_have_account:"கணக்கு இல்லையா? பதிவு செய்யுங்கள்",already_have_account:"ஏற்கனவே கணக்கு உள்ளதா? உள்நுழைக",settings:"அமைப்புகள்",profile:"சுயவிவரம்",change_password:"கடவுச்சொல்லை மாற்று",language:"மொழி",currency:"நாணயம்",date_format:"தேதி வடிவம்",default_view:"இயல்புநிலை காட்சி",theme:"தீம்",font_size:"எழுத்துரு அளவு",save:"சேமி",cancel:"ரத்து செய்",old_password:"பழைய கடவுச்சொல்",new_password:"புதிய கடவுச்சொல்",calculations:"கணக்கீடுகள்",tax_calculator:"வரி கால்குலேட்டர்",interest_calculator:"வட்டி கால்குலேட்டர்",currency_converter:"நாணய மாற்றி",calculate:"கணக்கிடு",result:"முடிவு"},pa:{sign_in:"ਸਾਈਨ ਇਨ",sign_up:"ਖਾਤਾ ਬਣਾਓ",email:"ਈਮੇਲ",phone:"ਫੋਨ ਨੰਬਰ",password:"ਪਾਸਵਰਡ",confirm_password:"ਪਾਸਵਰਡ ਦੀ ਪੁਸ਼ਟੀ ਕਰੋ",name:"ਪੂਰਾ ਨਾਮ",forgot_password:"ਪਾਸਵਰਡ ਭੁੱਲ ਗਏ?",reset_password:"ਪਾਸਵਰਡ ਰੀਸੈਟ ਕਰੋ",verify_otp:"OTP ਦੀ ਪੁਸ਼ਟੀ ਕਰੋ",send_otp:"OTP ਭੇਜੋ",resend_otp:"OTP ਦੁਬਾਰਾ ਭੇਜੋ",dont_have_account:"ਖਾਤਾ ਨਹੀਂ ਹੈ? ਸਾਈਨ ਅੱਪ ਕਰੋ",already_have_account:"ਪਹਿਲਾਂ ਤੋਂ ਹੀ ਖਾਤਾ ਹੈ? ਸਾਈਨ ਇਨ ਕਰੋ",settings:"ਸੈਟਿੰਗਾਂ",profile:"ਪ੍ਰੋਫਾਈਲ",change_password:"ਪਾਸਵਰਡ ਬਦਲੋ",language:"ਭਾਸ਼ਾ",currency:"ਮੁਦਰਾ",date_format:"ਤਾਰੀਖ ਫਾਰਮੈਟ",default_view:"ਡਿਫੌਲਟ ਵਿਊ",theme:"ਥੀਮ",font_size:"ਫੋਂਟ ਆਕਾਰ",save:"ਸੰਭਾਲੋ",cancel:"ਰੱਦ ਕਰੋ",old_password:"ਪੁਰਾਣਾ ਪਾਸਵਰਡ",new_password:"ਨਵਾਂ ਪਾਸਵਰਡ",calculations:"ਗਣਨਾ",tax_calculator:"ਟੈਕਸ ਕੈਲਕੁਲੇਟਰ",interest_calculator:"ਵਿਆਜ ਕੈਲਕੁਲੇਟਰ",currency_converter:"ਮੁਦਰਾ ਕਨਵਰਟਰ",calculate:"ਗਣਨਾ ਕਰੋ",result:"ਨਤੀਜਾ"}},dS="en",_F=v.createContext({language:dS,setLanguage:()=>{},t:e=>e}),NF=({children:e})=>{const[t,r]=v.useState(()=>{const a=localStorage.getItem("language");return a&&I2[a]?a:dS}),n=a=>{r(a),localStorage.setItem("language",a)},s=a=>{var i;return((i=I2[t])==null?void 0:i[a])||I2[dS][a]||a};return l.jsx(_F.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},mj=()=>v.useContext(_F),vue=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!0),[s,a]=v.useState(null),{user:i}=Pr(),{toast:o}=nr(),c=()=>navigator.onLine;v.useEffect(()=>{if(i){const h=localStorage.getItem(`lastSyncTime_${i.id}`);h&&a(parseInt(h,10)),u()}},[i]),v.useEffect(()=>{const h=()=>{r||d()};return window.addEventListener("online",h),window.addEventListener("offline",()=>u()),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",()=>u())}},[r]);const u=v.useCallback(async()=>{if(i)try{const f=(await uF.getAllTransactions()).filter(S=>!S.syncedAt||new Date(S.syncedAt).getTime()<new Date(S.updatedAt||S.date).getTime()),{dbService:p}=await vs(async()=>{const{dbService:S}=await Promise.resolve().then(()=>ZZ);return{dbService:S}},void 0),{syncService:g}=await vs(async()=>{const{syncService:S}=await Promise.resolve().then(()=>TE);return{syncService:S}},void 0);let y=!1;try{(await g.getSyncStatus()).isAllSynced||(y=!0)}catch(S){console.error("Error checking sync status:",S),y=!0}n(f.length===0&&!y)}catch(h){console.error("Error checking unsynced changes:",h),n(!1)}},[i]),d=v.useCallback(async()=>{if(!i||!c()){o({title:"Sync failed",description:"You are offline. Please connect to the internet and try again.",variant:"destructive"});return}t(!0);try{const{syncService:h}=await vs(async()=>{const{syncService:p}=await Promise.resolve().then(()=>TE);return{syncService:p}},void 0);if(await h.syncAll(i.id)){const p=Date.now();a(p),localStorage.setItem(`lastSyncTime_${i.id}`,p.toString()),n(!0),o({title:"Sync successful",description:"All your data has been synced to the cloud."})}else n(!1),o({title:"Sync partially failed",description:"Some of your data may not have been synced. Please try again.",variant:"destructive"})}catch(h){console.error("Sync error:",h),n(!1),o({title:"Sync failed",description:"There was an error syncing your data. Please try again.",variant:"destructive"})}finally{t(!1)}},[i,o]);return{isSyncing:e,isAllSynced:r,lastSyncTime:s,sync:d,checkUnsyncedChanges:u}},gj=({businessName:e="TransactLy",pageTitle:t,onEditName:r,children:n,onExport:s})=>{const{user:a,signOut:i}=Pr(),o=Ss(),{isSyncing:c,isAllSynced:u,sync:d,lastSyncTime:h}=vue(),f=async()=>{await i(),o("/auth")},p=a!=null&&a.email?a.email[0].toUpperCase():"U",g=t||e;return l.jsxs("header",{className:"bg-background sticky top-0 z-10 border-b border-border",children:[l.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(KG,{to:"/",className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-md bg-primary flex items-center justify-center",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"}),l.jsx("path",{d:"M4 6v12c0 1.1.9 2 2 2h14v-4"}),l.jsx("path",{d:"M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z"})]})}),l.jsx("span",{className:"font-semibold text-lg",children:g})]})}),l.jsxs("div",{className:"flex items-center gap-3",children:[n,a&&l.jsxs(l.Fragment,{children:[l.jsxs(ge,{variant:u?"outline":"default",size:"sm",className:`gap-2 ${u?"":"animate-pulse"}`,onClick:d,disabled:c,children:[l.jsx(mi,{className:`h-4 w-4 ${c?"animate-spin":""}`}),c?"Syncing...":u?"Synced":"Sync Now"]}),l.jsxs(ym,{children:[l.jsx(vm,{asChild:!0,children:l.jsx(ge,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8 p-0",children:l.jsx(fm,{className:"h-8 w-8",children:l.jsx(pm,{children:p})})})}),l.jsxs(Lh,{align:"end",children:[l.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:a==null?void 0:a.email}),l.jsx(Jd,{}),l.jsxs(ci,{onClick:()=>o("/profile"),children:[l.jsx(Gb,{className:"h-4 w-4 mr-2"}),"Profile"]}),l.jsx(Jd,{}),l.jsxs(ci,{onClick:f,children:[l.jsx(Hb,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]}),l.jsx(xm,{})]})]}),h&&l.jsxs("div",{className:"container mx-auto px-4 py-1 text-xs text-muted-foreground",children:["Last synced: ",new Date(h).toLocaleString()]})]})},M2=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),$P=e=>/^\+?[0-9]{10,15}$/.test(e),xue=()=>{const e=Ss(),{user:t,signIn:r,signUp:n,signInWithPhone:s}=Pr(),{t:a}=mj(),{toast:i}=nr(),[o,c]=v.useState("signin"),[u,d]=v.useState(""),[h,f]=v.useState(null),[p,g]=v.useState(""),[y,S]=v.useState(""),[b,x]=v.useState(!1),[N,C]=v.useState(""),[E,F]=v.useState(""),[P,A]=v.useState(""),[K,Q]=v.useState(!1);v.useEffect(()=>{M2(u)?f("email"):$P(u)?f("phone"):f(null)},[u]),v.useEffect(()=>{C(""),F(""),x(!1),Q(!1),o==="signin"?(A(""),g(""),S("")):(d(""),f(null))},[o]),v.useEffect(()=>{t&&e("/")},[t,e]);const I=async B=>{B.preventDefault(),Q(!0);try{if(!u)throw new Error("Please enter an email or phone number");if(h==="email"){if(!N)throw new Error("Please enter your password");await r(u,N)}else if(h==="phone")await s(u),sessionStorage.setItem("verifyPhone",u),e("/verify-otp");else throw new Error("Please enter a valid email or phone number")}catch(q){i({title:"Sign In Failed",description:q.message||"An error occurred during sign in.",variant:"destructive"})}finally{Q(!1)}},D=async B=>{B.preventDefault(),Q(!0);try{if(!P)throw new Error("Please enter your name");if(!p)throw new Error("Please enter your email address");if(!M2(p))throw new Error("Please enter a valid email address");if(!y)throw new Error("Please enter your phone number");if(!$P(y))throw new Error("Please enter a valid phone number (e.g., +1234567890)");if(!N)throw new Error("Please enter a password");if(N.length<6)throw new Error("Password must be at least 6 characters");if(N!==E)throw new Error("Passwords do not match");await n(p,N,P,y),A(""),g(""),S(""),C(""),F(""),c("signin"),i({title:"Account Created",description:"Your account has been created successfully. Please check your email for verification and then sign in."})}catch(q){i({title:"Sign Up Failed",description:q.message||"An error occurred during registration.",variant:"destructive"})}finally{Q(!1)}},L=()=>{if(!u||!M2(u)){i({title:"Valid Email Required",description:"Please enter the email address associated with your account to reset your password.",variant:"destructive"});return}e("/reset-password",{state:{email:u}})};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(gj,{businessName:"TransactLy"}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsx(zs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-md",children:l.jsxs(Kt,{className:"border shadow-lg",children:[l.jsxs(er,{className:"space-y-1",children:[l.jsx(ar,{className:"text-2xl text-center",children:a(o==="signin"?"sign_in":"sign_up")}),l.jsx(Jr,{className:"text-center",children:o==="signin"?"Enter your email/phone to sign in to your account":"Create a new account to get started"})]}),l.jsx(Yt,{children:l.jsxs(nh,{value:o,onValueChange:c,className:"w-full",children:[l.jsxs(hg,{className:"grid w-full grid-cols-2 mb-6",children:[l.jsx(aa,{value:"signin",children:a("sign_in")}),l.jsx(aa,{value:"signup",children:a("sign_up")})]}),l.jsx(Is,{value:"signin",children:l.jsxs("form",{onSubmit:I,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"signin-identifier",children:"Email or Phone Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ie,{id:"signin-identifier",type:"text",placeholder:"Enter email or phone number",value:u,onChange:B=>d(B.target.value),className:"pl-10",required:!0}),l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:h==="email"?l.jsx(Lw,{size:16}):h==="phone"?l.jsx(Lz,{size:16}):l.jsx(Lw,{size:16})})]})]}),h==="email"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(je,{htmlFor:"signin-password",children:a("password")}),l.jsx(ge,{type:"button",variant:"link",className:"px-0 text-xs",onClick:L,children:a("forgot_password")})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ie,{id:"signin-password",type:b?"text":"password",placeholder:"Enter your password",value:N,onChange:B=>C(B.target.value),className:"pr-10"}),l.jsx(ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!b),children:b?l.jsx(C4,{size:16}):l.jsx(k4,{size:16})})]})]}),l.jsx(ge,{type:"submit",className:"w-full",disabled:K,children:K?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Processing..."]}):l.jsxs(l.Fragment,{children:[h==="phone"?"Continue with OTP":a("sign_in"),l.jsx(j4,{className:"ml-2 h-4 w-4"})]})})]})}),l.jsx(Is,{value:"signup",children:l.jsxs("form",{onSubmit:D,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"signup-name",children:a("name")}),l.jsx(Ie,{id:"signup-name",placeholder:"Enter your full name",value:P,onChange:B=>A(B.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"signup-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ie,{id:"signup-email",type:"email",placeholder:"Enter your email address",value:p,onChange:B=>g(B.target.value),className:"pl-10",required:!0}),l.jsx(Lw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"signup-phone",children:"Phone Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ie,{id:"signup-phone",type:"tel",placeholder:"Enter your phone number (e.g., +1234567890)",value:y,onChange:B=>S(B.target.value),className:"pl-10",required:!0}),l.jsx(Dz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"signup-password",children:a("password")}),l.jsxs("div",{className:"relative",children:[l.jsx(Ie,{id:"signup-password",type:b?"text":"password",placeholder:"Create a password (min. 6 characters)",value:N,onChange:B=>C(B.target.value),className:"pr-10",required:!0}),l.jsx(ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!b),children:b?l.jsx(C4,{size:16}):l.jsx(k4,{size:16})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"confirm-password",children:a("confirm_password")}),l.jsx(Ie,{id:"confirm-password",type:b?"text":"password",placeholder:"Confirm your password",value:E,onChange:B=>F(B.target.value),required:!0})]}),l.jsx(ge,{type:"submit",className:"w-full",disabled:K,children:K?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Processing..."]}):l.jsxs(l.Fragment,{children:[a("sign_up"),l.jsx(j4,{className:"ml-2 h-4 w-4"})]})})]})})]})}),l.jsx(Wo,{className:"flex flex-col space-y-4 mt-4",children:l.jsx("div",{className:"text-sm text-center text-muted-foreground w-full",children:o==="signin"?l.jsxs("span",{children:[a("dont_have_account")," ",l.jsx(ge,{variant:"link",className:"p-0",onClick:()=>c("signup"),children:a("sign_up")})]}):l.jsxs("span",{children:[a("already_have_account")," ",l.jsx(ge,{variant:"link",className:"p-0",onClick:()=>c("signin"),children:a("sign_in")})]})})})]})})})]})};var wue=Object.defineProperty,bue=Object.defineProperties,Sue=Object.getOwnPropertyDescriptors,V0=Object.getOwnPropertySymbols,jF=Object.prototype.hasOwnProperty,CF=Object.prototype.propertyIsEnumerable,UP=(e,t,r)=>t in e?wue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_ue=(e,t)=>{for(var r in t||(t={}))jF.call(t,r)&&UP(e,r,t[r]);if(V0)for(var r of V0(t))CF.call(t,r)&&UP(e,r,t[r]);return e},Nue=(e,t)=>bue(e,Sue(t)),jue=(e,t)=>{var r={};for(var n in e)jF.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&V0)for(var n of V0(e))t.indexOf(n)<0&&CF.call(e,n)&&(r[n]=e[n]);return r},Cue="^\\d+$";function kue(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function Eue(e){let t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}var Pue=18,kF=40,Aue=`${kF}px`,Tue=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Lue({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let s=v.useRef({done:!1,refocused:!1}),[a,i]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState(!1),h=v.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&a&&o,[a,o,r]),f=v.useCallback(()=>{let p=e.current,g=t.current;if(!p||!g||u||r==="none")return;let y=p,S=y.getBoundingClientRect().left+y.offsetWidth,b=y.getBoundingClientRect().top+y.offsetHeight/2,x=S-Pue,N=b;if(!(document.querySelectorAll(Tue).length===0&&document.elementFromPoint(x,N)===p)&&(i(!0),d(!0),!s.current.refocused&&document.activeElement===g)){let C=[g.selectionStart,g.selectionEnd];g.blur(),g.focus(),g.setSelectionRange(C[0],C[1]),s.current.refocused=!0}},[e,t,u,r]);return v.useEffect(()=>{let p=e.current;if(!p||r==="none")return;function g(){let S=window.innerWidth-p.getBoundingClientRect().right;c(S>=kF)}g();let y=setInterval(g,1e3);return()=>{clearInterval(y)}},[e,r]),v.useEffect(()=>{let p=n||document.activeElement===t.current;if(r==="none"||!p)return;let g=setTimeout(f,0),y=setTimeout(f,2e3),S=setTimeout(f,5e3),b=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(S),clearTimeout(b)}},[t,n,r,f]),{hasPWMBadge:a,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:Aue}}var EF=v.createContext({}),PF=v.forwardRef((e,t)=>{var r=e,{value:n,onChange:s,maxLength:a,textAlign:i="left",pattern:o=Cue,inputMode:c="numeric",onComplete:u,pushPasswordManagerStrategy:d="increase-width",containerClassName:h,noScriptCSSFallback:f=Due,render:p,children:g}=r,y=jue(r,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","containerClassName","noScriptCSSFallback","render","children"]),S,b,x,N,C;let[E,F]=v.useState(typeof y.defaultValue=="string"?y.defaultValue:""),P=n??E,A=Eue(P),K=v.useCallback(Se=>{s==null||s(Se),F(Se)},[s]),Q=v.useMemo(()=>o?typeof o=="string"?new RegExp(o):o:null,[o]),I=v.useRef(null),D=v.useRef(null),L=v.useRef({value:P,onChange:K,isIOS:typeof window<"u"&&((b=(S=window==null?void 0:window.CSS)==null?void 0:S.supports)==null?void 0:b.call(S,"-webkit-touch-callout","none"))}),B=v.useRef({prev:[(x=I.current)==null?void 0:x.selectionStart,(N=I.current)==null?void 0:N.selectionEnd,(C=I.current)==null?void 0:C.selectionDirection]});v.useImperativeHandle(t,()=>I.current,[]),v.useEffect(()=>{let Se=I.current,ke=D.current;if(!Se||!ke)return;L.current.value!==Se.value&&L.current.onChange(Se.value),B.current.prev=[Se.selectionStart,Se.selectionEnd,Se.selectionDirection];function Je(){if(document.activeElement!==Se){ie(null),T(null);return}let Ke=Se.selectionStart,X=Se.selectionEnd,te=Se.selectionDirection,oe=Se.maxLength,Ne=Se.value,ve=B.current.prev,_e=-1,Be=-1,ze;if(Ne.length!==0&&Ke!==null&&X!==null){let ft=Ke===X,Ct=Ke===Ne.length&&Ne.length<oe;if(ft&&!Ct){let Ge=Ke;if(Ge===0)_e=0,Be=1,ze="forward";else if(Ge===oe)_e=Ge-1,Be=Ge,ze="backward";else if(oe>1&&Ne.length>1){let De=0;if(ve[0]!==null&&ve[1]!==null){ze=Ge<ve[1]?"backward":"forward";let st=ve[0]===ve[1]&&ve[0]<oe;ze==="backward"&&!st&&(De=-1)}_e=De+Ge,Be=De+Ge+1}}_e!==-1&&Be!==-1&&_e!==Be&&I.current.setSelectionRange(_e,Be,ze)}let ot=_e!==-1?_e:Ke,ut=Be!==-1?Be:X,Ot=ze??te;ie(ot),T(ut),B.current.prev=[ot,ut,Ot]}if(document.addEventListener("selectionchange",Je,{capture:!0}),Je(),document.activeElement===Se&&M(!0),!document.getElementById("input-otp-style")){let Ke=document.createElement("style");if(Ke.id="input-otp-style",document.head.appendChild(Ke),Ke.sheet){let X="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Zf(Ke.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Zf(Ke.sheet,`[data-input-otp]:autofill { ${X} }`),Zf(Ke.sheet,`[data-input-otp]:-webkit-autofill { ${X} }`),Zf(Ke.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Zf(Ke.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Ce=()=>{ke&&ke.style.setProperty("--root-height",`${Se.clientHeight}px`)};Ce();let re=new ResizeObserver(Ce);return re.observe(Se),()=>{document.removeEventListener("selectionchange",Je,{capture:!0}),re.disconnect()}},[]);let[q,ee]=v.useState(!1),[V,M]=v.useState(!1),[Y,ie]=v.useState(null),[me,T]=v.useState(null);v.useEffect(()=>{kue(()=>{var Se,ke,Je,Ce;(Se=I.current)==null||Se.dispatchEvent(new Event("input"));let re=(ke=I.current)==null?void 0:ke.selectionStart,Ke=(Je=I.current)==null?void 0:Je.selectionEnd,X=(Ce=I.current)==null?void 0:Ce.selectionDirection;re!==null&&Ke!==null&&(ie(re),T(Ke),B.current.prev=[re,Ke,X])})},[P,V]),v.useEffect(()=>{A!==void 0&&P!==A&&A.length<a&&P.length===a&&(u==null||u(P))},[a,u,A,P]);let G=Lue({containerRef:D,inputRef:I,pushPasswordManagerStrategy:d,isFocused:V}),Z=v.useCallback(Se=>{let ke=Se.currentTarget.value.slice(0,a);if(ke.length>0&&Q&&!Q.test(ke)){Se.preventDefault();return}typeof A=="string"&&ke.length<A.length&&document.dispatchEvent(new Event("selectionchange")),K(ke)},[a,K,A,Q]),ae=v.useCallback(()=>{var Se;if(I.current){let ke=Math.min(I.current.value.length,a-1),Je=I.current.value.length;(Se=I.current)==null||Se.setSelectionRange(ke,Je),ie(ke),T(Je)}M(!0)},[a]),W=v.useCallback(Se=>{var ke,Je;let Ce=I.current;if(!L.current.isIOS||!Se.clipboardData||!Ce)return;let re=Se.clipboardData.getData("text/plain");Se.preventDefault();let Ke=(ke=I.current)==null?void 0:ke.selectionStart,X=(Je=I.current)==null?void 0:Je.selectionEnd,te=(Ke!==X?P.slice(0,Ke)+re+P.slice(X):P.slice(0,Ke)+re+P.slice(Ke)).slice(0,a);if(te.length>0&&Q&&!Q.test(te))return;Ce.value=te,K(te);let oe=Math.min(te.length,a-1),Ne=te.length;Ce.setSelectionRange(oe,Ne),ie(oe),T(Ne)},[a,K,Q,P]),se=v.useMemo(()=>({position:"relative",cursor:y.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[y.disabled]),le=v.useMemo(()=>({position:"absolute",inset:0,width:G.willPushPWMBadge?`calc(100% + ${G.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:G.willPushPWMBadge?`inset(0 ${G.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[G.PWM_BADGE_SPACE_WIDTH,G.willPushPWMBadge,i]),ue=v.useMemo(()=>v.createElement("input",Nue(_ue({autoComplete:y.autoComplete||"one-time-code"},y),{"data-input-otp":!0,"data-input-otp-mss":Y,"data-input-otp-mse":me,inputMode:c,pattern:Q==null?void 0:Q.source,style:le,maxLength:a,value:P,ref:I,onPaste:Se=>{var ke;W(Se),(ke=y.onPaste)==null||ke.call(y,Se)},onChange:Z,onMouseOver:Se=>{var ke;ee(!0),(ke=y.onMouseOver)==null||ke.call(y,Se)},onMouseLeave:Se=>{var ke;ee(!1),(ke=y.onMouseLeave)==null||ke.call(y,Se)},onFocus:Se=>{var ke;ae(),(ke=y.onFocus)==null||ke.call(y,Se)},onBlur:Se=>{var ke;M(!1),(ke=y.onBlur)==null||ke.call(y,Se)}})),[Z,ae,W,c,le,a,me,Y,y,Q==null?void 0:Q.source,P]),xe=v.useMemo(()=>({slots:Array.from({length:a}).map((Se,ke)=>{let Je=V&&Y!==null&&me!==null&&(Y===me&&ke===Y||ke>=Y&&ke<me),Ce=P[ke]!==void 0?P[ke]:null;return{char:Ce,isActive:Je,hasFakeCaret:Je&&Ce===null}}),isFocused:V,isHovering:!y.disabled&&q}),[V,q,a,me,Y,y.disabled,P]),Ee=v.useMemo(()=>p?p(xe):v.createElement(EF.Provider,{value:xe},g),[g,xe,p]);return v.createElement(v.Fragment,null,f!==null&&v.createElement("noscript",null,v.createElement("style",null,f)),v.createElement("div",{ref:D,"data-input-otp-container":!0,style:se,className:h},Ee,v.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ue)))});PF.displayName="Input";function Zf(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var Due=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const AF=v.forwardRef(({className:e,containerClassName:t,...r},n)=>l.jsx(PF,{ref:n,containerClassName:Ve("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Ve("disabled:cursor-not-allowed",e),...r}));AF.displayName="InputOTP";const TF=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ve("flex items-center",e),...t}));TF.displayName="InputOTPGroup";const Wc=v.forwardRef(({index:e,className:t,...r},n)=>{const s=v.useContext(EF),{char:a,hasFakeCaret:i,isActive:o}=s.slots[e];return l.jsxs("div",{ref:n,className:Ve("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",o&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[a,i&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Wc.displayName="InputOTPSlot";const Rue=v.forwardRef(({...e},t)=>l.jsx("div",{ref:t,role:"separator",...e,children:l.jsx(wz,{})}));Rue.displayName="InputOTPSeparator";const Oue=()=>{const e=Ss(),{verifyOTP:t,resendOTP:r,user:n}=Pr(),{toast:s}=nr(),{t:a}=mj(),[i,o]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(30);v.useEffect(()=>{if(n){e("/");return}const x=sessionStorage.getItem("verifyPhone");if(!x){e("/auth");return}u(x);const N=setInterval(()=>{y(C=>C<=1?(clearInterval(N),0):C-1)},1e3);return()=>clearInterval(N)},[e,n]);const S=async()=>{if(i.length!==6){s({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP.",variant:"destructive"});return}h(!0);try{await t(c,i),s({title:"Verification Successful",description:"You have been successfully signed in."}),sessionStorage.removeItem("verifyPhone"),e("/")}catch(x){s({title:"Verification Failed",description:x.message||"Could not verify OTP. Please try again.",variant:"destructive"})}finally{h(!1)}},b=async()=>{if(!(g>0)){p(!0);try{await r(c),y(30);const x=setInterval(()=>{y(N=>N<=1?(clearInterval(x),0):N-1)},1e3);s({title:"OTP Resent",description:"A new verification code has been sent to your phone."})}catch(x){s({title:"Failed to Resend OTP",description:x.message||"Could not resend verification code. Please try again.",variant:"destructive"})}finally{p(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(gj,{businessName:"TransactLy"}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsx(zs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-md",children:l.jsxs(Kt,{className:"border shadow-lg",children:[l.jsxs(er,{className:"space-y-1",children:[l.jsx(ar,{className:"text-2xl text-center",children:a("verify_otp")}),l.jsxs(Jr,{className:"text-center",children:["Enter the verification code sent to ",c]})]}),l.jsxs(Yt,{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx(AF,{maxLength:6,value:i,onChange:o,className:"gap-2",children:l.jsxs(TF,{children:[l.jsx(Wc,{index:0}),l.jsx(Wc,{index:1}),l.jsx(Wc,{index:2}),l.jsx(Wc,{index:3}),l.jsx(Wc,{index:4}),l.jsx(Wc,{index:5})]})})}),l.jsx(ge,{onClick:S,className:"w-full",disabled:d||i.length!==6,children:d?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Verifying..."]}):a("verify_otp")}),l.jsx("div",{className:"text-center",children:l.jsx(ge,{variant:"link",disabled:g>0||f,onClick:b,children:g>0?`${a("resend_otp")} (${g}s)`:f?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Sending..."]}):a("resend_otp")})})]}),l.jsx(Wo,{className:"flex flex-col space-y-4 mt-2",children:l.jsxs(ge,{variant:"outline",className:"w-full",onClick:()=>e("/auth"),children:[l.jsx(lL,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})})})]})},Iue=tg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),LF=v.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:Ve(Iue({variant:t}),e),...r}));LF.displayName="Alert";const DF=v.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:Ve("mb-1 font-medium leading-none tracking-tight",e),...t}));DF.displayName="AlertTitle";const RF=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ve("text-sm [&_p]:leading-relaxed",e),...t}));RF.displayName="AlertDescription";const Mue=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState(!1),{updatePassword:i,isLoading:o}=Pr(),c=Ss(),{toast:u}=nr(),d=async h=>{if(h.preventDefault(),e!==r){u({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(e.length<6){u({title:"Password too short",description:"Password should be at least 6 characters long.",variant:"destructive"});return}try{await i(e),a(!0),u({title:"Password updated",description:"Your password has been successfully reset."}),setTimeout(()=>{c("/")},3e3)}catch(f){u({title:"Password reset failed",description:f.message||"Could not update password. Please try again.",variant:"destructive"})}};return l.jsxs(zs.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col items-center justify-center p-4 bg-background",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(xm,{})}),l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary flex items-center justify-center",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"}),l.jsx("path",{d:"M4 6v12c0 1.1.9 2 2 2h14v-4"}),l.jsx("path",{d:"M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z"})]})})}),l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Reset Password"}),l.jsx(Jr,{children:"Create a new password for your account"})]}),s?l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs(LF,{className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-900",children:[l.jsx(y_,{className:"h-4 w-4 text-green-500"}),l.jsx(DF,{children:"Success!"}),l.jsx(RF,{children:"Your password has been successfully reset. You will be redirected to login shortly."})]}),l.jsx("div",{className:"flex justify-center mt-4",children:l.jsx(ge,{onClick:()=>c("/auth"),variant:"outline",children:"Return to login"})})]}):l.jsxs("form",{onSubmit:d,children:[l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"new-password",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(P4,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Ie,{id:"new-password",type:"password",value:e,onChange:h=>t(h.target.value),placeholder:"New password",required:!0,className:"pl-10"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"confirm-password",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(P4,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Ie,{id:"confirm-password",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Confirm new password",required:!0,className:"pl-10"})]})]})]}),l.jsxs(Wo,{className:"flex flex-col space-y-4",children:[l.jsx(ge,{type:"submit",className:"w-full",disabled:o,children:o?"Updating...":"Reset Password"}),l.jsx(ge,{variant:"ghost",className:"w-full",onClick:()=>c("/auth"),type:"button",children:"Cancel"})]})]})]})]})]})},Fue=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState(!1),{user:i,updatePassword:o}=Pr(),{toast:c}=nr(),u=Ss(),d=async h=>{if(h.preventDefault(),e!==r){c({title:"Passwords do not match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(e.length<6){c({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}a(!0);try{await o(e),t(""),n("")}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(gj,{businessName:"TransactLy",onEditName:()=>{}}),l.jsx("div",{className:"container max-w-4xl mx-auto flex-1 p-4",children:l.jsxs(zs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[l.jsxs(ge,{variant:"ghost",size:"sm",className:"mb-4",onClick:()=>u("/"),children:[l.jsx(lL,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),l.jsxs(Kt,{children:[l.jsx(er,{children:l.jsx(ar,{className:"text-2xl",children:"Profile Settings"})}),l.jsxs(Yt,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(je,{children:"Email"}),l.jsx("div",{className:"p-2 border rounded-md bg-muted/20",children:i==null?void 0:i.email})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Change Password"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"new-password",children:"New Password"}),l.jsx(Ie,{id:"new-password",type:"password",value:e,onChange:h=>t(h.target.value),placeholder:"Enter new password",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"confirm-password",children:"Confirm New Password"}),l.jsx(Ie,{id:"confirm-password",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Confirm new password",required:!0})]}),l.jsx(ge,{type:"submit",disabled:s,className:"w-full",children:s?"Updating...":"Update Password"})]})]})]})]})]})})]})},Bue=()=>{const e=Ss();return l.jsxs("div",{className:"flex items-center mb-6 border-b pb-4",children:[l.jsxs(ge,{variant:"ghost",size:"icon",className:"mr-4",onClick:()=>e("/"),children:[l.jsx(cL,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Back"})]}),l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"TransactLy Settings"})]})};var $ue="Separator",VP="horizontal",Uue=["horizontal","vertical"],OF=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=VP,...s}=e,a=Vue(n)?n:VP,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(mt.div,{"data-orientation":a,...o,...s,ref:t})});OF.displayName=$ue;function Vue(e){return Uue.includes(e)}var IF=OF;const z0=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(IF,{ref:s,decorative:r,orientation:t,className:Ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));z0.displayName=IF.displayName;const zue=wF({currentPassword:Rp().min(1,{message:"Current password is required."}),newPassword:Rp().min(8,{message:"New password must be at least 8 characters long."}),confirmNewPassword:Rp().min(1,{message:"Please confirm your new password."})}).refine(e=>e.newPassword===e.confirmNewPassword,{message:"New passwords don't match.",path:["confirmNewPassword"]}),que=({onPasswordChange:e})=>{const{user:t,updatePassword:r}=Pr(),{toast:n}=nr(),[s,a]=v.useState(!1),i=iF({resolver:SF(zue),defaultValues:{currentPassword:"",newPassword:"",confirmNewPassword:""}}),o=async c=>{if(!(t!=null&&t.email)){n({title:"Error",description:"User email not found.",variant:"destructive"});return}a(!0);try{if(e)await e(c.currentPassword,c.newPassword);else{const{error:u}=await He.auth.signInWithPassword({email:t.email,password:c.currentPassword});if(u){u.message.includes("Invalid login credentials")?n({title:"Verification Failed",description:"Incorrect current password.",variant:"destructive"}):n({title:"Verification Failed",description:u.message,variant:"destructive"});return}await r(c.newPassword)}i.reset()}catch(u){n({title:"Error",description:u.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}};return l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Change Password"}),l.jsx(Jr,{children:"Update your account security."})]}),l.jsx(oF,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(o),children:[l.jsxs(Yt,{className:"space-y-4",children:[l.jsx(Dp,{control:i.control,name:"currentPassword",render:({field:c})=>l.jsxs(ah,{children:[l.jsx(ih,{children:"Current Password"}),l.jsx(oh,{children:l.jsx(Ie,{...c,type:"password",placeholder:"Enter your current password"})}),l.jsx(lh,{})]})}),l.jsx(Dp,{control:i.control,name:"newPassword",render:({field:c})=>l.jsxs(ah,{children:[l.jsx(ih,{children:"New Password"}),l.jsx(oh,{children:l.jsx(Ie,{...c,type:"password",placeholder:"Enter your new password"})}),l.jsx(lh,{})]})}),l.jsx(Dp,{control:i.control,name:"confirmNewPassword",render:({field:c})=>l.jsxs(ah,{children:[l.jsx(ih,{children:"Confirm New Password"}),l.jsx(oh,{children:l.jsx(Ie,{...c,type:"password",placeholder:"Confirm your new password"})}),l.jsx(lh,{})]})})]}),l.jsx(Wo,{children:l.jsxs(ge,{type:"submit",disabled:s,children:[s&&l.jsx(To,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})})]})})]})},Wue=({user:e,onUpdate:t,onPasswordChange:r})=>{var p;const[n,s]=v.useState(""),[a,i]=v.useState(""),[o,c]=v.useState(""),[u,d]=v.useState(!1);v.useEffect(()=>{var g,y,S;e&&(s(((g=e.user_metadata)==null?void 0:g.full_name)||((y=e.user_metadata)==null?void 0:y.name)||""),i(e.email||""),c(((S=e.user_metadata)==null?void 0:S.phone)||""))},[e]);const h=async g=>{g.preventDefault(),d(!0);try{await t({name:n,phone:o})}catch(y){console.error("Error updating profile:",y)}finally{d(!1)}},f=g=>g.split(" ").map(y=>y.charAt(0)).join("").toUpperCase().slice(0,2);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Profile"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your personal information."})]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[l.jsxs(fm,{className:"h-16 w-16",children:[l.jsx(m0,{src:((p=e==null?void 0:e.user_metadata)==null?void 0:p.avatar_url)||"",alt:n}),l.jsx(pm,{className:"text-lg",children:f(n)})]}),l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("h3",{className:"font-medium",children:n||"Your Name"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:a})]}),l.jsx(ge,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",children:"Change Avatar"})]}),l.jsx(z0,{}),l.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"name",children:"Full Name"}),l.jsx(Ie,{id:"name",value:n,onChange:g=>s(g.target.value),placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"email",children:"Email"}),l.jsx(Ie,{id:"email",type:"email",value:a,disabled:!0,className:"bg-muted"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Your email cannot be changed."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"phone",children:"Phone Number"}),l.jsx(Ie,{id:"phone",value:o,onChange:g=>c(g.target.value),placeholder:"Enter your phone number"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(Qt,{children:[l.jsx(Mo,{asChild:!0,children:l.jsx(ge,{variant:"outline",type:"button",children:"Change Password"})}),l.jsxs(ir,{children:[l.jsxs(ur,{children:[l.jsx(dr,{children:"Change Password"}),l.jsx(Cl,{children:"Update your password to keep your account secure."})]}),l.jsx(que,{onPasswordChange:r})]})]}),l.jsx(ge,{type:"submit",disabled:u,children:u?"Saving...":"Save Changes"})]})})]})]})},MF=v.createContext(void 0),FF=({children:e})=>{const[t,r]=v.useState(()=>{const u=localStorage.getItem("theme");return u&&["light","dark","system"].includes(u)?u:"system"}),[n,s]=v.useState(()=>{const u=localStorage.getItem("fontSize");return u&&["small","medium","large"].includes(u)?u:"medium"}),[a,i]=v.useState(!1);v.useEffect(()=>{const u=document.documentElement;localStorage.setItem("theme",t);const d=h=>{h?(u.classList.add("dark"),i(!0)):(u.classList.remove("dark"),i(!1))};if(t==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)").matches;d(h);const f=window.matchMedia("(prefers-color-scheme: dark)"),p=g=>d(g.matches);return f.addEventListener("change",p),()=>f.removeEventListener("change",p)}else d(t==="dark")},[t]),v.useEffect(()=>{const u=document.documentElement;switch(localStorage.setItem("fontSize",n),u.classList.remove("text-sm","text-base","text-lg"),n){case"small":u.classList.add("text-sm");break;case"medium":u.classList.add("text-base");break;case"large":u.classList.add("text-lg");break}},[n]);const o=u=>{r(u)},c=u=>{s(u)};return l.jsx(MF.Provider,{value:{theme:t,setTheme:o,fontSize:n,setFontSize:c,isDarkMode:a},children:e})},Hue=()=>{const e=v.useContext(MF);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Gue=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"€",name:"Euro"},{code:"GBP",symbol:"£",name:"British Pound"},{code:"JPY",symbol:"¥",name:"Japanese Yen"},{code:"INR",symbol:"₹",name:"Indian Rupee"},{code:"CNY",symbol:"¥",name:"Chinese Yuan"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"}],Yue=[{value:"MM/DD/YYYY",label:"MM/DD/YYYY (e.g., 12/31/2023)"},{value:"DD/MM/YYYY",label:"DD/MM/YYYY (e.g., 31/12/2023)"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD (e.g., 2023-12-31)"},{value:"DD-MMM-YYYY",label:"DD-MMM-YYYY (e.g., 31-Dec-2023)"}],Kue=[{value:"dashboard",label:"Dashboard View"},{value:"list",label:"List View"}],Xue=({businessName:e="TransactLy",onBusinessNameChange:t})=>{const{theme:r,setTheme:n,fontSize:s,setFontSize:a}=Hue(),{language:i,setLanguage:o}=mj(),{toast:c}=nr(),[u,d]=v.useState(e),[h,f]=v.useState(!1),[p,g]=v.useState(()=>localStorage.getItem("currency")||"USD"),[y,S]=v.useState(()=>localStorage.getItem("dateFormat")||"MM/DD/YYYY"),[b,x]=v.useState(()=>localStorage.getItem("defaultView")||"dashboard"),N=async()=>{if(t&&u!==e){f(!0);try{await t(u)}catch(P){console.error("Error saving business name:",P)}finally{f(!1)}}},C=async P=>{g(P),localStorage.setItem("currency",P),c({title:"Currency Updated",description:"Your currency preference has been updated."})},E=async P=>{S(P),localStorage.setItem("dateFormat",P),c({title:"Date Format Updated",description:"Your date format preference has been updated."})},F=async P=>{x(P),localStorage.setItem("defaultView",P),c({title:"Default View Updated",description:"Your default view preference has been updated."})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Appearance"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize how the application appears and functions for you."})]}),l.jsxs(Kt,{children:[l.jsxs(er,{className:"pb-3",children:[l.jsx(ar,{className:"text-base",children:"Theme"}),l.jsx(Jr,{children:"Choose your preferred theme."})]}),l.jsx(Yt,{children:l.jsxs(Ap,{value:r,onValueChange:P=>n(P),className:"flex flex-col space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ui,{value:"light",id:"theme-light"}),l.jsx(je,{htmlFor:"theme-light",children:"Light"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ui,{value:"dark",id:"theme-dark"}),l.jsx(je,{htmlFor:"theme-dark",children:"Dark"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ui,{value:"system",id:"theme-system"}),l.jsx(je,{htmlFor:"theme-system",children:"System"})]})]})})]}),l.jsxs(Kt,{children:[l.jsxs(er,{className:"pb-3",children:[l.jsx(ar,{className:"text-base",children:"Font Size"}),l.jsx(Jr,{children:"Adjust the text size throughout the application."})]}),l.jsx(Yt,{children:l.jsxs(Ap,{value:s,onValueChange:P=>a(P),className:"flex flex-col space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ui,{value:"small",id:"font-small"}),l.jsx(je,{htmlFor:"font-small",className:"text-sm",children:"Small"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ui,{value:"medium",id:"font-medium"}),l.jsx(je,{htmlFor:"font-medium",className:"text-base",children:"Medium"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ui,{value:"large",id:"font-large"}),l.jsx(je,{htmlFor:"font-large",className:"text-lg",children:"Large"})]})]})})]}),l.jsxs(Kt,{children:[l.jsxs(er,{className:"pb-3",children:[l.jsx(ar,{className:"text-base",children:"Business Name"}),l.jsx(Jr,{children:"Set your business name to be displayed throughout the application."})]}),l.jsx(Yt,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ie,{id:"business-name",value:u,onChange:P=>d(P.target.value),placeholder:"Enter your business name",className:"flex-1"}),l.jsx(ge,{onClick:N,disabled:h||u===e,size:"sm",children:h?"Saving...":"Save"})]})})]}),l.jsxs(Kt,{children:[l.jsxs(er,{className:"pb-3",children:[l.jsx(ar,{className:"text-base",children:"Language"}),l.jsx(Jr,{children:"Choose your preferred language for the application."})]}),l.jsx(Yt,{children:l.jsxs(An,{value:i,onValueChange:P=>o(P),children:[l.jsx(Sn,{className:"w-full md:w-[280px]",children:l.jsx(Tn,{placeholder:"Select Language"})}),l.jsx(_n,{children:yue.map(P=>l.jsxs(St,{value:P.code,children:[P.nativeName," (",P.name,")"]},P.code))})]})})]}),l.jsxs(Kt,{children:[l.jsxs(er,{className:"pb-3",children:[l.jsx(ar,{className:"text-base",children:"Currency"}),l.jsx(Jr,{children:"Choose your preferred currency for transactions."})]}),l.jsx(Yt,{children:l.jsxs(An,{value:p,onValueChange:C,children:[l.jsx(Sn,{className:"w-full md:w-[280px]",children:l.jsx(Tn,{placeholder:"Select Currency"})}),l.jsx(_n,{children:Gue.map(P=>l.jsxs(St,{value:P.code,children:[P.symbol," - ",P.name," (",P.code,")"]},P.code))})]})})]}),l.jsxs(Kt,{children:[l.jsxs(er,{className:"pb-3",children:[l.jsx(ar,{className:"text-base",children:"Date Format"}),l.jsx(Jr,{children:"Choose how dates are displayed throughout the application."})]}),l.jsx(Yt,{children:l.jsxs(An,{value:y,onValueChange:E,children:[l.jsx(Sn,{className:"w-full md:w-[280px]",children:l.jsx(Tn,{placeholder:"Select Date Format"})}),l.jsx(_n,{children:Yue.map(P=>l.jsx(St,{value:P.value,children:P.label},P.value))})]})})]}),l.jsxs(Kt,{children:[l.jsxs(er,{className:"pb-3",children:[l.jsx(ar,{className:"text-base",children:"Default View"}),l.jsx(Jr,{children:"Choose your preferred default view for the application."})]}),l.jsx(Yt,{children:l.jsx(Ap,{value:b,onValueChange:F,className:"flex flex-col space-y-1",children:Kue.map(P=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ui,{value:P.value,id:`view-${P.value}`}),l.jsx(je,{htmlFor:`view-${P.value}`,children:P.label})]},P.value))})})]})]})},Jue=({userId:e})=>{const{toast:t}=nr(),[r,n]=v.useState(!1),[s,a]=v.useState({transactionDetails:!0,businessTransactions:!0,clients:!0});v.useEffect(()=>{(()=>{const g=localStorage.getItem("syncSettings");g&&a(JSON.parse(g))})()},[]);const i=p=>{localStorage.setItem("syncSettings",JSON.stringify(p)),a(p)},o=p=>{const g={...s,[p]:!s[p]};i(g),t({title:"Sync Settings Updated",description:`${p} sync has been ${g[p]?"enabled":"disabled"}.`})},c=async()=>{if(!e){t({title:"Sync Failed",description:"You must be logged in to sync data.",variant:"destructive"});return}n(!0);try{await new Promise(p=>setTimeout(p,2e3)),t({title:"Sync Complete",description:"Your data has been synchronized with the cloud."})}catch(p){console.error("Sync error:",p),t({title:"Sync Failed",description:"There was an error synchronizing your data. Please try again.",variant:"destructive"})}finally{n(!1)}},u=async()=>{try{const p=["transactions","clients","dailyLogs"];for(const g of p){const y=indexedDB.deleteDatabase(g);await new Promise((S,b)=>{y.onsuccess=S,y.onerror=b})}t({title:"Local Data Cleared",description:"All local data has been cleared successfully."})}catch(p){console.error("Error clearing local data:",p),t({title:"Operation Failed",description:"Failed to clear local data. Please try again.",variant:"destructive"})}},d=async()=>{try{const p=localStorage.getItem("supabase.auth.token");localStorage.clear(),p&&localStorage.setItem("supabase.auth.token",p);const g=["transactions","clients","dailyLogs"];for(const y of g){const S=indexedDB.deleteDatabase(y);await new Promise((b,x)=>{S.onsuccess=b,S.onerror=x})}t({title:"Application Reset",description:"The application has been reset to its default state."}),window.location.reload()}catch(p){console.error("Error resetting application:",p),t({title:"Reset Failed",description:"Failed to reset the application. Please try again.",variant:"destructive"})}},h=async()=>{try{const p={},g=["transactions","clients","dailyLogs"];p.timestamp=new Date().toISOString(),p.userId=e,p.settings={syncSettings:s,theme:localStorage.getItem("theme"),fontSize:localStorage.getItem("fontSize"),businessName:localStorage.getItem("businessName"),language:localStorage.getItem("language"),currency:localStorage.getItem("currency"),dateFormat:localStorage.getItem("dateFormat"),defaultView:localStorage.getItem("defaultView")};const y=JSON.stringify(p,null,2),S="data:application/json;charset=utf-8,"+encodeURIComponent(y),b=`transactly-backup-${new Date().toISOString().slice(0,10)}.json`,x=document.createElement("a");x.setAttribute("href",S),x.setAttribute("download",b),x.click(),t({title:"Backup Created",description:"Your data has been backed up successfully."})}catch(p){console.error("Error creating backup:",p),t({title:"Backup Failed",description:"Failed to create backup. Please try again.",variant:"destructive"})}},f=async p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];if(g){try{const S=new FileReader;S.onload=async b=>{var x;try{const N=JSON.parse((x=b.target)==null?void 0:x.result);if(!N||!N.timestamp)throw new Error("Invalid backup file");if(N.settings)for(const[C,E]of Object.entries(N.settings))C==="syncSettings"?i(E):E&&localStorage.setItem(C,E);t({title:"Restore Complete",description:`Data from ${new Date(N.timestamp).toLocaleString()} has been restored.`}),window.location.reload()}catch(N){console.error("Error parsing backup:",N),t({title:"Restore Failed",description:"The backup file is invalid or corrupted.",variant:"destructive"})}},S.readAsText(g)}catch(S){console.error("Error reading backup file:",S),t({title:"Restore Failed",description:"Failed to read the backup file. Please try again.",variant:"destructive"})}p.target.value=""}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Data Management"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your data synchronization and storage options."})]}),l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Synchronization"}),l.jsx(Jr,{children:"Control how your data syncs with the cloud database."})]}),l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(je,{htmlFor:"transaction-sync",children:"Transaction Details"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync transaction details with the cloud"})]}),l.jsx(Xl,{id:"transaction-sync",checked:s.transactionDetails,onCheckedChange:()=>o("transactionDetails")})]}),l.jsx(z0,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(je,{htmlFor:"business-sync",children:"Business Transactions"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync business transactions with the cloud"})]}),l.jsx(Xl,{id:"business-sync",checked:s.businessTransactions,onCheckedChange:()=>o("businessTransactions")})]}),l.jsx(z0,{}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(je,{htmlFor:"clients-sync",children:"Clients"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync client information with the cloud"})]}),l.jsx(Xl,{id:"clients-sync",checked:s.clients,onCheckedChange:()=>o("clients")})]})]}),l.jsx(ge,{onClick:c,disabled:r,className:"w-full mt-4",children:r?l.jsxs(l.Fragment,{children:[l.jsx(To,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(mi,{className:"mr-2 h-4 w-4"}),"Sync Now"]})})]})]}),l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Backup & Restore"}),l.jsx(Jr,{children:"Create backups of your data or restore from a previous backup."})]}),l.jsx(Yt,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(ge,{variant:"outline",onClick:h,className:"w-full",children:[l.jsx(t0,{className:"mr-2 h-4 w-4"}),"Backup Data"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",id:"restore-file",accept:".json",onChange:f,className:"absolute inset-0 opacity-0 cursor-pointer"}),l.jsxs(ge,{variant:"outline",className:"w-full pointer-events-none",children:[l.jsx(t0,{className:"mr-2 h-4 w-4"}),"Restore from Backup"]})]})]})})]}),l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Data Cleanup"}),l.jsx(Jr,{children:"Clear local data or reset the application to its default state."})]}),l.jsx(Yt,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(C0,{children:[l.jsx(aS,{asChild:!0,children:l.jsxs(ge,{variant:"outline",className:"w-full",children:[l.jsx(as,{className:"mr-2 h-4 w-4"}),"Clear Local Data"]})}),l.jsxs(Sm,{children:[l.jsxs(_m,{children:[l.jsx(jm,{children:"Clear Local Data?"}),l.jsx(Cm,{children:"This will delete all locally stored data. This action cannot be undone. Your cloud data will remain intact."})]}),l.jsxs(Nm,{children:[l.jsx(Em,{children:"Cancel"}),l.jsx(km,{onClick:u,children:"Clear Data"})]})]})]}),l.jsxs(C0,{children:[l.jsx(aS,{asChild:!0,children:l.jsxs(ge,{variant:"destructive",className:"w-full",children:[l.jsx(as,{className:"mr-2 h-4 w-4"}),"Reset Application"]})}),l.jsxs(Sm,{children:[l.jsxs(_m,{children:[l.jsx(jm,{children:"Reset Application?"}),l.jsx(Cm,{children:"This will reset the application to its default state, clearing all local data and settings. This action cannot be undone. Your cloud data will remain intact."})]}),l.jsxs(Nm,{children:[l.jsx(Em,{children:"Cancel"}),l.jsx(km,{onClick:d,children:"Reset"})]})]})]})]})})]})]})},Zue=({userId:e})=>{const{toast:t}=nr(),[r,n]=v.useState(null),[s,a]=v.useState(!1),i=async c=>{if(!e){t({title:"Export Failed",description:"You must be logged in to export data.",variant:"destructive"});return}n(c);try{await new Promise(d=>setTimeout(d,2e3));const u=`transactly-export-${new Date().toISOString().slice(0,10)}.${c}`;if(c==="csv"||c==="excel"){const d=`id,date,description,amount
1,2023-01-01,Sample transaction,100.00`,h=new Blob([d],{type:c==="csv"?"text/csv":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),f=URL.createObjectURL(h),p=document.createElement("a");p.href=f,p.download=u,p.click(),URL.revokeObjectURL(f)}else c==="pdf"&&t({title:"PDF Export",description:"PDF export functionality would be implemented here."});t({title:"Export Complete",description:`Your data has been exported as ${c.toUpperCase()}.`})}catch(u){console.error(`Error exporting as ${c}:`,u),t({title:"Export Failed",description:`There was an error exporting your data as ${c.toUpperCase()}. Please try again.`,variant:"destructive"})}finally{n(null)}},o=async c=>{var d,h;const u=(d=c.target.files)==null?void 0:d[0];if(u){if(!e){t({title:"Import Failed",description:"You must be logged in to import data.",variant:"destructive"});return}a(!0);try{const f=(h=u.name.split(".").pop())==null?void 0:h.toLowerCase();if(!["csv","xlsx","json"].includes(f||""))throw new Error("Unsupported file format. Please use CSV, Excel, or JSON files.");await new Promise(p=>setTimeout(p,2e3)),t({title:"Import Complete",description:"Your data has been imported successfully."})}catch(f){console.error("Error importing data:",f),t({title:"Import Failed",description:f.message||"There was an error importing your data. Please try again.",variant:"destructive"})}finally{a(!1),c.target.value=""}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import & Export"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Export your data in various formats or import data from external sources."})]}),l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Export Data"}),l.jsx(Jr,{children:"Export your transaction data in various formats."})]}),l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(ge,{variant:"outline",onClick:()=>i("csv"),disabled:r!==null,className:"w-full",children:[r==="csv"?l.jsx(To,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(E4,{className:"mr-2 h-4 w-4"}),"Export as CSV"]}),l.jsxs(ge,{variant:"outline",onClick:()=>i("excel"),disabled:r!==null,className:"w-full",children:[r==="excel"?l.jsx(To,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(E4,{className:"mr-2 h-4 w-4"}),"Export as Excel"]}),l.jsxs(ge,{variant:"outline",onClick:()=>i("pdf"),disabled:r!==null,className:"w-full",children:[r==="pdf"?l.jsx(To,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(Dd,{className:"mr-2 h-4 w-4"}),"Export as PDF"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Exports include all your transaction data, client information, and daily logs."})]})]}),l.jsxs(Kt,{children:[l.jsxs(er,{children:[l.jsx(ar,{children:"Import Data"}),l.jsx(Jr,{children:"Import data from external sources."})]}),l.jsxs(Yt,{className:"space-y-4",children:[l.jsxs(C0,{children:[l.jsx(aS,{asChild:!0,children:l.jsxs(ge,{variant:"outline",className:"w-full",disabled:s,children:[s?l.jsx(To,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(Sz,{className:"mr-2 h-4 w-4"}),"Import Data"]})}),l.jsxs(Sm,{children:[l.jsxs(_m,{children:[l.jsx(jm,{children:"Import Data"}),l.jsxs(Cm,{children:["This will import data from an external file. Supported formats are CSV, Excel, and JSON.",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Note:"})," Importing data may overwrite existing records if they have the same identifiers."]})]}),l.jsxs(Nm,{className:"flex items-center justify-between",children:[l.jsx(Em,{children:"Cancel"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",id:"import-file",accept:".csv,.xlsx,.json",onChange:o,className:"absolute inset-0 opacity-0 cursor-pointer",disabled:s}),l.jsx(km,{className:"pointer-events-none",children:"Select File"})]})]})]})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Supported formats: CSV, Excel (.xlsx), and JSON. Make sure your data follows the expected format."})]})]})]})},Que=()=>{const[e,t]=v.useState(()=>{const p=window.location.hash.replace("#","");return["profile","appearance","data-management","import-export"].includes(p)?p:"profile"}),{user:r,updateProfile:n,updatePassword:s}=Pr(),{toast:a}=nr(),[i,o]=v.useState("TransactLy"),[c,u]=v.useState("en");v.useEffect(()=>{(async()=>{try{const g=await localStorage.getItem("businessName"),y=await localStorage.getItem("language");g&&o(g),y&&u(y)}catch(g){console.error("Failed to load settings:",g)}})()},[]),v.useEffect(()=>{window.location.hash=e},[e]);const d=async p=>{try{await n({name:p.name,phone:p.phone}),a({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(g){console.error("Error updating profile:",g),a({title:"Update Failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}},h=async(p,g)=>{try{await s(g),a({title:"Password Updated",description:"Your password has been changed successfully."})}catch(y){console.error("Error changing password:",y),a({title:"Change Failed",description:"Failed to change password. Please try again.",variant:"destructive"})}},f=async p=>{try{o(p),await localStorage.setItem("businessName",p),a({title:"Business Name Updated",description:"Your business name has been updated successfully."})}catch(g){console.error("Error saving business name:",g),a({title:"Update Failed",description:"Failed to update business name. Please try again.",variant:"destructive"})}};return l.jsxs("div",{className:"container mx-auto py-6 px-4 md:px-6 max-w-6xl",children:[l.jsx(Bue,{}),l.jsxs(Kt,{className:"mt-6",children:[l.jsxs(er,{className:"pb-4",children:[l.jsx(ar,{children:"Settings"}),l.jsx(Jr,{children:"Manage your account settings and preferences."})]}),l.jsx(Yt,{className:"p-0",children:l.jsxs(nh,{defaultValue:"profile",value:e,onValueChange:t,className:"w-full",children:[l.jsxs(hg,{className:"flex border-b rounded-none w-full h-auto py-0 px-2 overflow-x-auto scrollbar-hide settings-tabs","data-force-show-text":"true",children:[l.jsx(aa,{value:"profile",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-medium rounded-none py-2 text-sm whitespace-nowrap settings-tab",icon:l.jsx(Bz,{className:"h-5 w-5"}),children:"Profile"}),l.jsx(aa,{value:"appearance",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-medium rounded-none py-2 text-sm whitespace-nowrap settings-tab",icon:l.jsx(Az,{className:"h-5 w-5"}),children:"Appearance"}),l.jsx(aa,{value:"data-management",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-medium rounded-none py-2 text-sm whitespace-nowrap settings-tab",icon:l.jsx(t0,{className:"h-5 w-5"}),children:"Data Management"}),l.jsx(aa,{value:"import-export",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary data-[state=active]:font-medium rounded-none py-2 text-sm whitespace-nowrap settings-tab",icon:l.jsx(jz,{className:"h-5 w-5"}),children:"Import/Export"})]}),l.jsxs("div",{className:"p-4 md:p-6",children:[l.jsx(Is,{value:"profile",className:"mt-0",children:l.jsx(Wue,{user:r,onUpdate:d,onPasswordChange:h})}),l.jsx(Is,{value:"appearance",className:"mt-0",children:l.jsx(Xue,{businessName:i,onBusinessNameChange:f})}),l.jsx(Is,{value:"data-management",className:"mt-0",children:l.jsx(Jue,{userId:r==null?void 0:r.id})}),l.jsx(Is,{value:"import-export",className:"mt-0",children:l.jsx(Zue,{userId:r==null?void 0:r.id})})]})]})})]})]})},BF=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState("unchecked"),[s,a]=v.useState(null),[i,o]=v.useState({}),c=async()=>{t(!0),n("unchecked"),a(null),o({});try{const{supabaseSimple:u}=await vs(async()=>{const{supabaseSimple:g}=await Promise.resolve().then(()=>d_);return{supabaseSimple:g}},void 0),{error:d}=await u.from("_fake_table_for_connection_test").select("*").limit(1).catch(()=>({error:{message:"Connection test failed"}}));if(d&&!d.message.includes("does not exist")){n("error"),a(`Connection error: ${d.message}`);return}const h=["buyers","sellers","transactions","users"],f={};for(const g of h)try{const{error:y}=await u.from(g).select("count").limit(1);f[g]=!y||!y.message.includes("does not exist")}catch{f[g]=!1}o(f),n("success");const p=Object.entries(f).filter(([g,y])=>!y).map(([g])=>g);p.length>0&&a(`Connected, but missing tables: ${p.join(", ")}`)}catch(u){n("error"),a(`Error: ${u.message}`)}finally{t(!1)}};return l.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium mb-4",children:"Supabase Connection Status"}),l.jsxs("div",{className:"flex items-center mb-4",children:[r==="unchecked"?l.jsx(t0,{className:"h-8 w-8 text-gray-400"}):r==="success"?l.jsx(e0,{className:"h-8 w-8 text-green-500"}):l.jsx(Wb,{className:"h-8 w-8 text-red-500"}),l.jsx("span",{className:"ml-2",children:r==="unchecked"?"Connection not checked":r==="success"?"Connected to Supabase":"Connection error"})]}),s&&l.jsx("div",{className:"text-red-500 mb-4 text-sm",children:s}),Object.keys(i).length>0&&l.jsxs("div",{className:"mb-4 w-full",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:"Table Status:"}),l.jsx("ul",{className:"text-sm",children:Object.entries(i).map(([u,d])=>l.jsxs("li",{className:"flex items-center",children:[d?l.jsx(e0,{className:"h-4 w-4 text-green-500 mr-2"}):l.jsx(Wb,{className:"h-4 w-4 text-red-500 mr-2"}),u,": ",d?"Exists":"Missing"]},u))})]}),l.jsx(ge,{onClick:c,disabled:e,variant:"outline",size:"sm",children:e?"Checking...":"Check Connection"})]})},ede=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(""),[i,o]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(null),[S,b]=v.useState({user_id:"",name:"",email:"",phone:""}),{user:x}=Pr(),{toast:N}=nr();v.useEffect(()=>{E()},[x]),v.useEffect(()=>{e.length>0?F():o([])},[e,s]);const C=L=>{console.log("Deduplicating buyers, initial count:",L.length);const B=new Map;L.forEach(V=>{B.set(V.id,V)});const q=[],ee=new Set;return Array.from(B.values()).forEach(V=>{const M=V.name.toLowerCase().trim(),Y=(V.email||"").toLowerCase().trim(),ie=(V.phone||"").toLowerCase().trim(),me=`${M}-${Y}-${ie}`;ee.has(me)?console.log(`Found duplicate buyer: ${V.name} (${V.id})`):(ee.add(me),q.push(V))}),console.log("After deduplication, buyer count:",q.length),q},E=async()=>{if(x!=null&&x.id){console.log("Loading buyers for user:",x.id);try{n(!0);const L=await Te.getBuyersByUser(x.id);console.log("Loaded buyers from local database:",L.length);const B=C(L);if(t(B),B.length<L.length){console.log(`Found ${L.length-B.length} duplicate buyers, cleaning up database`);try{const q=await Te.cleanupDuplicateBuyers(x.id);console.log(`Successfully removed ${q} duplicate buyers from database`),q>0&&N({title:"Database Cleanup",description:`Removed ${q} duplicate buyer records`})}catch(q){console.error("Error cleaning up duplicate buyers:",q)}}}catch(L){console.error("Failed to load buyers:",L),N({title:"Error",description:"Failed to load buyers",variant:"destructive"})}finally{n(!1)}}},F=()=>{if(!s.trim()){o(e);return}const L=s.toLowerCase(),B=e.filter(q=>q.name.toLowerCase().includes(L)||q.email&&q.email.toLowerCase().includes(L)||q.phone&&q.phone.toLowerCase().includes(L));o(B)},P=L=>{const{name:B,value:q}=L.target;d&&g?y({...g,[B]:q}):b({...S,[B]:q})},A=async()=>{if(console.log("handleAddBuyer called"),!(x!=null&&x.id)){console.log("No user ID, returning");return}try{if(console.log("Adding new buyer:",S),!S.name){N({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}const L={...S,user_id:x.id};console.log("Checking for duplicate buyers...");const q=(await Te.getBuyersByUser(x.id)).filter(V=>V.name.toLowerCase()===L.name.toLowerCase()&&(V.phone===L.phone||!V.phone&&!L.phone)&&(V.email===L.email||!V.email&&!L.email));if(q.length>0){console.log("Found potential duplicate buyer:",q[0]),N({title:"Duplicate Detected",description:"A buyer with this name and contact information already exists.",variant:"destructive"});return}const ee=await Te.addBuyer(L);if(console.log("Added buyer to local database:",ee),navigator.onLine)try{console.log("Automatically syncing new buyer to Supabase:",ee);const V=await Ye.createBuyer(ee);V?console.log("Successfully synced buyer to Supabase:",V):(console.error("Failed to sync buyer to Supabase, trying fallback methods"),console.log("Trying syncBuyers as fallback..."),await vt.syncBuyers(x.id)||(console.log("Trying forceSyncContacts as final fallback..."),await vt.forceSyncContacts(x.id)))}catch(V){console.error("Error syncing buyer to Supabase:",V)}await E(),u(!1),b({user_id:x.id,name:"",email:"",phone:""}),N({title:"Success",description:"Buyer added successfully"})}catch(L){console.error("Error adding buyer:",L),N({title:"Error",description:"Failed to add buyer",variant:"destructive"})}},K=async()=>{if(g){console.log("handleEditBuyer called for buyer:",g);try{if(!g.name){N({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}if(await Te.updateBuyer(g),console.log("Updated buyer in local database:",g),navigator.onLine)try{console.log("Automatically syncing updated buyer to Supabase:",g);const L=await Ye.updateBuyer(g);L?console.log("Successfully updated buyer in Supabase:",L):(console.error("Failed to update buyer in Supabase, trying fallback methods"),console.log("Trying syncBuyers as fallback..."),await vt.syncBuyers(x.id)||(console.log("Trying forceSyncContacts as final fallback..."),await vt.forceSyncContacts(x.id)))}catch(L){console.error("Error syncing updated buyer to Supabase:",L)}await E(),h(!1),y(null),N({title:"Success",description:"Buyer updated successfully"})}catch(L){console.error("Error updating buyer:",L),N({title:"Error",description:"Failed to update buyer",variant:"destructive"})}}},Q=async()=>{if(g){console.log("handleDeleteBuyer called for buyer:",g.id);try{if(await Te.deleteBuyer(g.id),console.log("Deleted buyer from local database:",g.id),navigator.onLine)try{console.log("Automatically deleting buyer from Supabase:",g.id),await Ye.deleteBuyer(g.id)?console.log("Successfully deleted buyer from Supabase:",g.id):console.error("Failed to delete buyer from Supabase")}catch(L){console.error("Error deleting buyer from Supabase:",L)}await E(),p(!1),y(null),N({title:"Success",description:"Buyer deleted successfully"})}catch(L){console.error("Error deleting buyer:",L),N({title:"Error",description:"Failed to delete buyer",variant:"destructive"})}}},I=L=>{y(L),h(!0)},D=L=>{y(L),p(!0)};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6 relative",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Buyers"}),l.jsx(k0,{type:"buyers",onSyncComplete:E,className:"ml-2"}),l.jsxs(ge,{variant:"outline",size:"sm",onClick:async()=>{alert("Attempting direct sync to Supabase...");try{if(!(x!=null&&x.id)){alert("No user ID found");return}const L=await Te.getBuyersByUser(x.id);alert(`Found ${L.length} local buyers to sync`);const{supabaseSimple:B}=await vs(async()=>{const{supabaseSimple:V}=await Promise.resolve().then(()=>d_);return{supabaseSimple:V}},void 0);let q=0,ee=0;for(const V of L)try{const M={...V,created_at:V.created_at||new Date().toISOString()},{error:Y}=await B.from("buyers").upsert(M).select();Y?(console.error(`Error syncing buyer ${V.id}:`,Y),ee++):(console.log(`Successfully synced buyer ${V.id}`),q++)}catch(M){console.error(`Error processing buyer ${V.id}:`,M),ee++}alert(`Sync complete: ${q} succeeded, ${ee} failed`),await E()}catch(L){console.error("Error in direct sync:",L),alert("Error in direct sync: "+L.message)}},className:"ml-2",children:[l.jsx(mi,{className:"h-4 w-4 mr-2"}),"Direct Sync"]})]}),l.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:l.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[l.jsx(w_,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Ie,{placeholder:"Search buyers...",className:"pl-8",value:s,onChange:L=>a(L.target.value)})]})})]}),l.jsx("div",{className:"mb-6",children:l.jsx(BF,{})}),i.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:e.length===0?"You haven't added any buyers yet. Click 'Add Buyer' to get started.":"No buyers match your search criteria."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(L=>l.jsxs(Kt,{children:[l.jsx(er,{className:"pb-2",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-2",children:[l.jsx(ar,{className:"text-lg mb-2 sm:mb-0",children:L.name}),l.jsxs("div",{className:"flex space-x-2 w-full sm:w-auto justify-end",children:[l.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 px-2 text-blue-600",onClick:()=>I(L),children:[l.jsx(da,{className:"h-4 w-4 mr-1"}),"Edit"]}),l.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 px-2 text-red-600",onClick:()=>D(L),children:[l.jsx(as,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),l.jsx(Yt,{children:l.jsxs("div",{className:"space-y-2",children:[L.phone&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone:"}),l.jsx("span",{className:"text-sm font-medium",children:L.phone})]}),L.email&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Email:"}),l.jsx("span",{className:"text-sm font-medium",children:L.email})]})]})})]},L.id))}),l.jsx("div",{className:"floating-add-button",onClick:()=>u(!0),title:"Add New Buyer",children:l.jsx(La,{size:28})}),l.jsx(Qt,{open:c,onOpenChange:u,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Add New Buyer"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"name",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"name",name:"name",value:S.name,onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"phone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"phone",name:"phone",value:S.phone||"",onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"email",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"email",name:"email",type:"email",value:S.email||"",onChange:P,className:"col-span-3"})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsx(ge,{onClick:A,children:"Add Buyer"})]})]})}),l.jsx(Qt,{open:d,onOpenChange:h,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Edit Buyer"})}),g&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_name",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"edit_name",name:"name",value:g.name,onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_phone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"edit_phone",name:"phone",value:g.phone||"",onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_email",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"edit_email",name:"email",type:"email",value:g.email||"",onChange:P,className:"col-span-3"})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(ge,{onClick:K,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:f,onOpenChange:p,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Delete Buyer"})}),l.jsx("p",{children:"Are you sure you want to delete this buyer? This action cannot be undone."}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:Q,children:"Delete"})]})]})})]})},tde=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(""),[i,o]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(null),[S,b]=v.useState({user_id:"",name:"",email:"",phone:""}),{user:x}=Pr(),{toast:N}=nr();v.useEffect(()=>{E()},[x]),v.useEffect(()=>{e.length>0?F():o([])},[e,s]);const C=L=>{console.log("Deduplicating sellers, initial count:",L.length);const B=new Map;L.forEach(V=>{B.set(V.id,V)});const q=[],ee=new Set;return Array.from(B.values()).forEach(V=>{const M=V.name.toLowerCase().trim(),Y=(V.email||"").toLowerCase().trim(),ie=(V.phone||"").toLowerCase().trim(),me=`${M}-${Y}-${ie}`;ee.has(me)?console.log(`Found duplicate seller: ${V.name} (${V.id})`):(ee.add(me),q.push(V))}),console.log("After deduplication, seller count:",q.length),q},E=async()=>{if(x!=null&&x.id){console.log("Loading sellers for user:",x.id);try{n(!0);const L=await Te.getSellersByUser(x.id);console.log("Loaded sellers from local database:",L.length);const B=C(L);if(t(B),B.length<L.length){console.log(`Found ${L.length-B.length} duplicate sellers, cleaning up database`);try{const q=await Te.cleanupDuplicateSellers(x.id);console.log(`Successfully removed ${q} duplicate sellers from database`),q>0&&N({title:"Database Cleanup",description:`Removed ${q} duplicate seller records`})}catch(q){console.error("Error cleaning up duplicate sellers:",q)}}}catch(L){console.error("Failed to load sellers:",L),N({title:"Error",description:"Failed to load sellers",variant:"destructive"})}finally{n(!1)}}},F=()=>{if(!s.trim()){o(e);return}const L=s.toLowerCase(),B=e.filter(q=>q.name.toLowerCase().includes(L)||q.email&&q.email.toLowerCase().includes(L)||q.phone&&q.phone.toLowerCase().includes(L));o(B)},P=L=>{const{name:B,value:q}=L.target;d&&g?y({...g,[B]:q}):b({...S,[B]:q})},A=async()=>{if(x!=null&&x.id)try{if(!S.name){N({title:"Validation Error",description:"Seller name is required",variant:"destructive"});return}const L={...S,user_id:x.id};console.log("Checking for duplicate sellers...");const q=(await Te.getSellersByUser(x.id)).filter(V=>V.name.toLowerCase()===L.name.toLowerCase()&&(V.phone===L.phone||!V.phone&&!L.phone)&&(V.email===L.email||!V.email&&!L.email));if(q.length>0){console.log("Found potential duplicate seller:",q[0]),N({title:"Duplicate Detected",description:"A seller with this name and contact information already exists.",variant:"destructive"});return}const ee=await Te.addSeller(L);if(console.log("Added seller to local database:",ee),navigator.onLine)try{console.log("Automatically syncing new seller to Supabase:",ee);const V=await Ye.createSeller(ee);V?console.log("Successfully synced seller to Supabase:",V):(console.error("Failed to sync seller to Supabase, trying fallback methods"),console.log("Trying syncSellers as fallback..."),await vt.syncSellers(x.id)||(console.log("Trying forceSyncContacts as final fallback..."),await vt.forceSyncContacts(x.id)))}catch(V){console.error("Error syncing seller to Supabase:",V)}await E(),u(!1),b({user_id:x.id,name:"",email:"",phone:""}),N({title:"Success",description:"Seller added successfully"})}catch(L){console.error("Error adding seller:",L),N({title:"Error",description:"Failed to add seller",variant:"destructive"})}},K=async()=>{if(g){console.log("handleEditSeller called for seller:",g);try{if(!g.name){N({title:"Validation Error",description:"Seller name is required",variant:"destructive"});return}if(await Te.updateSeller(g),console.log("Updated seller in local database:",g),navigator.onLine)try{console.log("Automatically syncing updated seller to Supabase:",g);const L=await Ye.updateSeller(g);L?console.log("Successfully updated seller in Supabase:",L):(console.error("Failed to update seller in Supabase, trying fallback methods"),console.log("Trying syncSellers as fallback..."),await vt.syncSellers(x.id)||(console.log("Trying forceSyncContacts as final fallback..."),await vt.forceSyncContacts(x.id)))}catch(L){console.error("Error syncing updated seller to Supabase:",L)}await E(),h(!1),y(null),N({title:"Success",description:"Seller updated successfully"})}catch(L){console.error("Error updating seller:",L),N({title:"Error",description:"Failed to update seller",variant:"destructive"})}}},Q=async()=>{if(g){console.log("handleDeleteSeller called for seller:",g.id);try{if(await Te.deleteSeller(g.id),console.log("Deleted seller from local database:",g.id),navigator.onLine)try{console.log("Automatically deleting seller from Supabase:",g.id),await Ye.deleteSeller(g.id)?console.log("Successfully deleted seller from Supabase:",g.id):console.error("Failed to delete seller from Supabase")}catch(L){console.error("Error deleting seller from Supabase:",L)}await E(),p(!1),y(null),N({title:"Success",description:"Seller deleted successfully"})}catch(L){console.error("Error deleting seller:",L),N({title:"Error",description:"Failed to delete seller",variant:"destructive"})}}},I=L=>{y(L),h(!0)},D=L=>{y(L),p(!0)};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6 relative",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Sellers"}),l.jsx(k0,{type:"sellers",onSyncComplete:E,className:"ml-2"}),l.jsxs(ge,{variant:"outline",size:"sm",onClick:async()=>{alert("Attempting direct sync to Supabase...");try{if(!(x!=null&&x.id)){alert("No user ID found");return}const L=await Te.getSellersByUser(x.id);alert(`Found ${L.length} local sellers to sync`);const{supabaseSimple:B}=await vs(async()=>{const{supabaseSimple:V}=await Promise.resolve().then(()=>d_);return{supabaseSimple:V}},void 0);let q=0,ee=0;for(const V of L)try{const M={...V,created_at:V.created_at||new Date().toISOString()},{error:Y}=await B.from("sellers").upsert(M).select();Y?(console.error(`Error syncing seller ${V.id}:`,Y),ee++):(console.log(`Successfully synced seller ${V.id}`),q++)}catch(M){console.error(`Error processing seller ${V.id}:`,M),ee++}alert(`Sync complete: ${q} succeeded, ${ee} failed`),await E()}catch(L){console.error("Error in direct sync:",L),alert("Error in direct sync: "+L.message)}},className:"ml-2",children:[l.jsx(mi,{className:"h-4 w-4 mr-2"}),"Direct Sync"]})]}),l.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:l.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[l.jsx(w_,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Ie,{placeholder:"Search sellers...",className:"pl-8",value:s,onChange:L=>a(L.target.value)})]})})]}),l.jsx("div",{className:"mb-6",children:l.jsx(BF,{})}),i.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:e.length===0?"You haven't added any sellers yet. Click 'Add Seller' to get started.":"No sellers match your search criteria."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(L=>l.jsxs(Kt,{children:[l.jsx(er,{className:"pb-2",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-2",children:[l.jsx(ar,{className:"text-lg mb-2 sm:mb-0",children:L.name}),l.jsxs("div",{className:"flex space-x-2 w-full sm:w-auto justify-end",children:[l.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 px-2 text-blue-600",onClick:()=>I(L),children:[l.jsx(da,{className:"h-4 w-4 mr-1"}),"Edit"]}),l.jsxs(ge,{variant:"outline",size:"sm",className:"h-8 px-2 text-red-600",onClick:()=>D(L),children:[l.jsx(as,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),l.jsx(Yt,{children:l.jsxs("div",{className:"space-y-2",children:[L.phone&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone:"}),l.jsx("span",{className:"text-sm font-medium",children:L.phone})]}),L.email&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Email:"}),l.jsx("span",{className:"text-sm font-medium",children:L.email})]})]})})]},L.id))}),l.jsx("div",{className:"floating-add-button",onClick:()=>u(!0),title:"Add New Seller",children:l.jsx(La,{size:28})}),l.jsx(Qt,{open:c,onOpenChange:u,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Add New Seller"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"name",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"name",name:"name",value:S.name,onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"phone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"phone",name:"phone",value:S.phone||"",onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"email",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"email",name:"email",type:"email",value:S.email||"",onChange:P,className:"col-span-3"})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsx(ge,{onClick:A,children:"Add Seller"})]})]})}),l.jsx(Qt,{open:d,onOpenChange:h,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Edit Seller"})}),g&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_name",className:"text-right",children:"Name"}),l.jsx(Ie,{id:"edit_name",name:"name",value:g.name,onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_phone",className:"text-right",children:"Phone"}),l.jsx(Ie,{id:"edit_phone",name:"phone",value:g.phone||"",onChange:P,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_email",className:"text-right",children:"Email"}),l.jsx(Ie,{id:"edit_email",name:"email",type:"email",value:g.email||"",onChange:P,className:"col-span-3"})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(ge,{onClick:K,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:f,onOpenChange:p,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Delete Seller"})}),l.jsx("p",{children:"Are you sure you want to delete this seller? This action cannot be undone."}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:Q,children:"Delete"})]})]})})]})},$F=({onSyncComplete:e,className:t=""})=>{const[r,n]=v.useState(!1),{toast:s}=nr(),{user:a}=Pr(),i=async()=>{if(!(!(a!=null&&a.id)||r))try{n(!0);const o=await vt.forceSyncContacts(a.id);s(o?{title:"Sync Successful",description:"Your data has been synchronized with the cloud."}:{title:"Sync Failed",description:"Please check your internet connection and try again.",variant:"destructive"}),e&&await e()}catch(o){console.error("Error syncing data:",o),s({title:"Sync Error",description:"An error occurred while syncing your data.",variant:"destructive"})}finally{n(!1)}};return l.jsxs(ge,{variant:"outline",size:"sm",onClick:i,disabled:r||!navigator.onLine,className:t,children:[l.jsx(mi,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"Syncing...":"Force Sync"]})},rde=()=>{const[e,t]=v.useState("buyers"),[r,n]=v.useState(0),{user:s}=Pr(),a=v.useCallback(async()=>{n(i=>i+1)},[]);return s?l.jsxs("div",{className:"container mx-auto py-6 px-4 sm:px-6",children:[l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Contacts Management"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your buyers and sellers in one place"})]}),l.jsx($F,{onSyncComplete:a,className:"self-end"})]}),l.jsxs(nh,{defaultValue:"buyers",value:e,onValueChange:t,children:[l.jsxs(hg,{className:"grid w-full grid-cols-2 mb-8",children:[l.jsx(aa,{value:"buyers",children:"Buyers"}),l.jsx(aa,{value:"sellers",children:"Sellers"})]}),l.jsx(Is,{value:"buyers",children:l.jsx(ede,{},`buyers-${r}`)}),l.jsx(Is,{value:"sellers",children:l.jsx(tde,{},`sellers-${r}`)})]})]}):l.jsx(F_,{to:"/login"})},nde=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(""),[i,o]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(null),[S,b]=v.useState({user_id:"",direction:"paid",payment_type:"cash",date:new Date().toISOString(),recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),{user:x}=Pr(),{toast:N}=nr();v.useEffect(()=>{C()},[x]),v.useEffect(()=>{e.length>0?E():o([])},[e,s]);const C=async()=>{if(x!=null&&x.id)try{n(!0);const ee=[...await Te.getDailyLogsByUser(x.id)].sort((V,M)=>new Date(M.date).getTime()-new Date(V.date).getTime());t(ee)}catch(q){console.error("Failed to load daily logs:",q),N({title:"Error",description:"Failed to load daily logs",variant:"destructive"})}finally{n(!1)}},E=()=>{if(!s.trim()){o(e);return}const q=s.toLowerCase(),ee=e.filter(V=>V.recipient_name.toLowerCase().includes(q)||V.third_party_name&&V.third_party_name.toLowerCase().includes(q)||V.notes&&V.notes.toLowerCase().includes(q));o(ee)},F=q=>{const{name:ee,value:V,type:M}=q.target,Y=M==="number"?parseFloat(V):V;d&&g?y({...g,[ee]:Y}):b({...S,[ee]:Y})},P=(q,ee)=>{d&&g?y({...g,[q]:ee}):b({...S,[q]:ee})},A=(q,ee)=>{d&&g?y({...g,[q]:ee}):b({...S,[q]:ee})},K=q=>{q&&(d&&g?y({...g,date:q.toISOString()}):b({...S,date:q.toISOString()}))},Q=async()=>{if(!(x!=null&&x.id)){console.error("Cannot add log: User ID is missing");return}try{if(console.log("Adding new daily log..."),!S.recipient_name||!S.amount){console.log("Validation error: Recipient name or amount is missing"),N({title:"Validation Error",description:"Recipient name and amount are required",variant:"destructive"});return}if(S.is_third_party&&!S.third_party_name){console.log("Validation error: Third party name is required when third party is enabled"),N({title:"Validation Error",description:"Third party name is required when third party is enabled",variant:"destructive"});return}const q={...S,user_id:x.id};console.log("Adding daily log to local database:",q);const ee=await Te.addDailyLog(q);if(console.log("Successfully added daily log to local database:",ee),navigator.onLine){console.log("Online, syncing daily log to Supabase...");try{const V=await Ye.createDailyLog(ee);V?console.log("Successfully synced daily log to Supabase:",V):console.error("Failed to sync daily log to Supabase: result was null")}catch(V){console.error("Error syncing daily log to Supabase:",V)}}else console.log("Offline, skipping Supabase sync");if(console.log("Reloading logs..."),await C(),u(!1),b({user_id:x.id,direction:"paid",payment_type:"cash",date:new Date().toISOString(),recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),N({title:"Success",description:"Daily log added successfully"}),navigator.onLine){console.log("Forcing sync of all data...");try{await vt.forceSyncContacts(x.id),console.log("Force sync completed successfully")}catch(V){console.error("Error during force sync:",V)}}}catch(q){console.error("Error adding daily log:",q),N({title:"Error",description:"Failed to add daily log",variant:"destructive"})}},I=async()=>{if(g)try{if(!g.recipient_name||!g.amount){N({title:"Validation Error",description:"Recipient name and amount are required",variant:"destructive"});return}if(g.is_third_party&&!g.third_party_name){N({title:"Validation Error",description:"Third party name is required when third party is enabled",variant:"destructive"});return}if(await Te.updateDailyLog(g),navigator.onLine)try{await Ye.updateDailyLog(g)}catch(q){console.error("Error syncing updated daily log to Supabase:",q)}await C(),h(!1),y(null),N({title:"Success",description:"Daily log updated successfully"})}catch(q){console.error("Error updating daily log:",q),N({title:"Error",description:"Failed to update daily log",variant:"destructive"})}},D=async()=>{if(g)try{if(await Te.deleteDailyLog(g.id),navigator.onLine)try{await Ye.deleteDailyLog(g.id)}catch(q){console.error("Error syncing deleted daily log to Supabase:",q)}await C(),p(!1),y(null),N({title:"Success",description:"Daily log deleted successfully"})}catch(q){console.error("Error deleting daily log:",q),N({title:"Error",description:"Failed to delete daily log",variant:"destructive"})}},L=q=>{y(q),h(!0)},B=q=>{y(q),p(!0)};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Daily Logs"}),l.jsx("div",{className:"flex gap-2 w-full sm:w-auto",children:l.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[l.jsx(w_,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Ie,{placeholder:"Search logs...",className:"pl-8",value:s,onChange:q=>a(q.target.value)})]})})]}),i.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:e.length===0?"You haven't added any daily logs yet. Click 'Add Log' to get started.":"No logs match your search criteria."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(q=>l.jsxs(Kt,{className:Ve("overflow-hidden",q.direction==="received"?"border-green-200 dark:border-green-900":"border-red-200 dark:border-red-900"),children:[l.jsxs(er,{className:Ve("pb-2",q.direction==="received"?"bg-green-50 dark:bg-green-950/30":"bg-red-50 dark:bg-red-950/30"),children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center",children:[q.direction==="received"?l.jsx(yz,{className:"h-5 w-5 mr-2 text-green-600 dark:text-green-400"}):l.jsx(gz,{className:"h-5 w-5 mr-2 text-red-600 dark:text-red-400"}),l.jsx(ar,{className:"text-lg",children:q.direction==="received"?"Received":"Paid"})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>L(q),children:l.jsx(da,{className:"h-4 w-4"})}),l.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>B(q),children:l.jsx(as,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(q.date).toLocaleDateString()})]}),l.jsx(Yt,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:q.direction==="received"?"From:":"To:"}),l.jsx("span",{className:"text-sm font-medium",children:q.recipient_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),l.jsx("span",{className:Ve("text-sm font-medium",q.direction==="received"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:di(q.amount)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Type:"}),l.jsx("span",{className:"text-sm font-medium capitalize",children:q.payment_type})]}),q.is_third_party&&q.third_party_name&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Third Party:"}),l.jsx("span",{className:"text-sm font-medium",children:q.third_party_name})]})]})}),q.notes&&l.jsx(Wo,{className:"border-t pt-4 pb-4 bg-muted/30",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:q.notes})})]},q.id))}),l.jsx("div",{className:"floating-add-button",onClick:()=>u(!0),title:"Add New Log",children:l.jsx(La,{size:32})}),l.jsx(Qt,{open:c,onOpenChange:u,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Add New Daily Log"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"direction",className:"text-right",children:"Direction"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(An,{value:S.direction,onValueChange:q=>P("direction",q),children:[l.jsx(Sn,{children:l.jsx(Tn,{placeholder:"Select direction"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"paid",children:"Paid (Outgoing)"}),l.jsx(St,{value:"received",children:"Received (Incoming)"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"date",className:"text-right",children:"Date"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(P0,{children:[l.jsx(A0,{asChild:!0,children:l.jsxs(ge,{variant:"outline",className:Ve("w-full justify-start text-left font-normal",!S.date&&"text-muted-foreground"),children:[l.jsx(Qv,{className:"mr-2 h-4 w-4"}),S.date?bi(new Date(S.date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Am,{className:"w-auto p-0",children:l.jsx(Pm,{mode:"single",selected:S.date?new Date(S.date):void 0,onSelect:K,initialFocus:!0})})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"recipient_name",className:"text-right",children:S.direction==="received"?"From":"To"}),l.jsx(Ie,{id:"recipient_name",name:"recipient_name",value:S.recipient_name,onChange:F,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"amount",className:"text-right",children:"Amount"}),l.jsx(Ie,{id:"amount",name:"amount",type:"number",value:S.amount||"",onChange:F,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"payment_type",className:"text-right",children:"Payment Type"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(An,{value:S.payment_type,onValueChange:q=>P("payment_type",q),children:[l.jsx(Sn,{children:l.jsx(Tn,{placeholder:"Select payment type"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"cash",children:"Cash"}),l.jsx(St,{value:"upi",children:"UPI"}),l.jsx(St,{value:"bank",children:"Bank Transfer"}),l.jsx(St,{value:"others",children:"Others"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"is_third_party",className:"text-right",children:"Third Party"}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Xl,{id:"is_third_party",checked:S.is_third_party,onCheckedChange:q=>A("is_third_party",q)}),l.jsx(je,{htmlFor:"is_third_party",children:S.is_third_party?"Yes":"No"})]})]}),S.is_third_party&&l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"third_party_name",className:"text-right",children:"Third Party Name"}),l.jsx(Ie,{id:"third_party_name",name:"third_party_name",value:S.third_party_name||"",onChange:F,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"notes",className:"text-right",children:"Notes"}),l.jsx(Rh,{id:"notes",name:"notes",value:S.notes||"",onChange:F,className:"col-span-3",rows:3})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsx(ge,{onClick:Q,children:"Add Log"})]})]})}),l.jsx(Qt,{open:d,onOpenChange:h,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Edit Daily Log"})}),g&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_direction",className:"text-right",children:"Direction"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(An,{value:g.direction,onValueChange:q=>P("direction",q),children:[l.jsx(Sn,{children:l.jsx(Tn,{placeholder:"Select direction"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"paid",children:"Paid (Outgoing)"}),l.jsx(St,{value:"received",children:"Received (Incoming)"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_date",className:"text-right",children:"Date"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(P0,{children:[l.jsx(A0,{asChild:!0,children:l.jsxs(ge,{variant:"outline",className:Ve("w-full justify-start text-left font-normal",!g.date&&"text-muted-foreground"),children:[l.jsx(Qv,{className:"mr-2 h-4 w-4"}),g.date?bi(new Date(g.date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Am,{className:"w-auto p-0",children:l.jsx(Pm,{mode:"single",selected:g.date?new Date(g.date):void 0,onSelect:K,initialFocus:!0})})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_recipient_name",className:"text-right",children:g.direction==="received"?"From":"To"}),l.jsx(Ie,{id:"edit_recipient_name",name:"recipient_name",value:g.recipient_name,onChange:F,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_amount",className:"text-right",children:"Amount"}),l.jsx(Ie,{id:"edit_amount",name:"amount",type:"number",value:g.amount||"",onChange:F,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_payment_type",className:"text-right",children:"Payment Type"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(An,{value:g.payment_type,onValueChange:q=>P("payment_type",q),children:[l.jsx(Sn,{children:l.jsx(Tn,{placeholder:"Select payment type"})}),l.jsxs(_n,{children:[l.jsx(St,{value:"cash",children:"Cash"}),l.jsx(St,{value:"upi",children:"UPI"}),l.jsx(St,{value:"bank",children:"Bank Transfer"}),l.jsx(St,{value:"others",children:"Others"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_is_third_party",className:"text-right",children:"Third Party"}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(Xl,{id:"edit_is_third_party",checked:g.is_third_party,onCheckedChange:q=>A("is_third_party",q)}),l.jsx(je,{htmlFor:"edit_is_third_party",children:g.is_third_party?"Yes":"No"})]})]}),g.is_third_party&&l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_third_party_name",className:"text-right",children:"Third Party Name"}),l.jsx(Ie,{id:"edit_third_party_name",name:"third_party_name",value:g.third_party_name||"",onChange:F,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(je,{htmlFor:"edit_notes",className:"text-right",children:"Notes"}),l.jsx(Rh,{id:"edit_notes",name:"notes",value:g.notes||"",onChange:F,className:"col-span-3",rows:3})]})]}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(ge,{onClick:I,children:"Save Changes"})]})]})}),l.jsx(Qt,{open:f,onOpenChange:p,children:l.jsxs(ir,{children:[l.jsx(ur,{children:l.jsx(dr,{children:"Delete Daily Log"})}),l.jsx("p",{children:"Are you sure you want to delete this daily log? This action cannot be undone."}),l.jsxs(mr,{children:[l.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(ge,{variant:"destructive",onClick:D,children:"Delete"})]})]})})]})},sde=()=>{const[e,t]=v.useState(0),{user:r}=Pr(),n=v.useCallback(async()=>{t(s=>s+1)},[]);return r?l.jsxs("div",{className:"container mx-auto py-6 px-4 sm:px-6",children:[l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Daily Logs"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Track your daily income and expenses"})]}),l.jsx($F,{onSyncComplete:n,className:"self-end"})]}),l.jsx(nde,{},`daily-logs-${e}`)]}):l.jsx(F_,{to:"/login"})},ade=new YH,Ic=({children:e})=>{const{user:t,isLoading:r}=Pr();return r?l.jsx(kZ,{message:"Loading your account..."}):t?l.jsx(l.Fragment,{children:e}):l.jsx(F_,{to:"/auth",replace:!0})},ide=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!1);v.useEffect(()=>{const o=new URLSearchParams(window.location.search),c=o.get("fallback")==="true",u=o.get("safe")==="true";if(n(u),c)return;u&&console.log("Running in safe mode - limited functionality"),fV().then(f=>{f?console.log("Supabase storage initialized successfully"):console.warn("Failed to initialize Supabase storage, some features may not work properly")}).catch(f=>{console.error("Error initializing Supabase storage:",f)});const d=window.onerror;window.onerror=(f,p,g,y,S)=>{if(console.error("Global error:",{message:f,source:p,lineno:g,colno:y,error:S}),f&&(f.toString().includes("ChunkLoadError")||f.toString().includes("Loading chunk")||f.toString().includes("Loading CSS chunk")||f.toString().includes("Unexpected token")||f.toString().includes("SyntaxError")||f.toString().includes("Cannot read property")||f.toString().includes("undefined is not an object")||f.toString().includes("null is not an object"))){t(!0);try{sessionStorage.setItem("app_error",JSON.stringify({message:f.toString(),source:p,lineno:g,colno:y,stack:S==null?void 0:S.stack,time:new Date().toISOString()}))}catch(b){console.error("Failed to store error info:",b)}}return typeof d=="function"?d(f,p,g,y,S):!1};const h=window.onunhandledrejection;return window.onunhandledrejection=function(f){if(console.error("Unhandled promise rejection:",f.reason),f.reason&&(f.reason.message&&(f.reason.message.includes("ChunkLoadError")||f.reason.message.includes("Loading chunk")||f.reason.message.includes("Network Error")||f.reason.message.includes("Failed to fetch")||f.reason.message.includes("NetworkError")||f.reason.message.includes("AbortError"))||f.reason.toString&&(f.reason.toString().includes("SyntaxError")||f.reason.toString().includes("Cannot read properties of undefined")))){t(!0);try{sessionStorage.setItem("app_error",JSON.stringify({message:f.reason.message||f.reason.toString(),stack:f.reason.stack,time:new Date().toISOString()}))}catch(p){console.error("Failed to store error info:",p)}}if(typeof h=="function")return h.call(window,f)},()=>{window.onerror=d,window.onunhandledrejection=h}},[]),v.useEffect(()=>{e&&(console.log("Critical error detected, redirecting to fallback app..."),window.location.href="/?fallback=true")},[e]);const s=new URLSearchParams(window.location.search),a=s.get("fallback")==="true",i=s.get("safe")==="true";return a?l.jsx(dQ,{}):i||r?l.jsx(Pe.StrictMode,{children:l.jsx(NF,{children:l.jsx(FF,{children:l.jsx(W6,{children:l.jsx(OO,{children:l.jsx(uQ,{})})})})})}):l.jsx(Pe.StrictMode,{children:l.jsx(PZ,{children:l.jsx(EZ,{children:l.jsx(XH,{client:ade,children:l.jsxs(r5,{children:[l.jsx(Nq,{}),l.jsx(Qq,{}),l.jsx(HG,{basename:"/Trade-Book-Ledge",children:l.jsx(z_,{mode:"wait",children:l.jsxs(BG,{children:[l.jsx(ja,{path:"/auth",element:l.jsx(xue,{})}),l.jsx(ja,{path:"/verify-otp",element:l.jsx(Oue,{})}),l.jsx(ja,{path:"/reset-password",element:l.jsx(Mue,{})}),l.jsx(ja,{path:"/",element:l.jsx(Ic,{children:l.jsx(Tie,{})})}),l.jsx(ja,{path:"/transaction/:id",element:l.jsx(Ic,{children:l.jsx(Ile,{})})}),l.jsx(ja,{path:"/new-transaction",element:l.jsx(Ic,{children:l.jsx(gue,{})})}),l.jsx(ja,{path:"/profile",element:l.jsx(Ic,{children:l.jsx(Fue,{})})}),l.jsx(ja,{path:"/settings",element:l.jsx(Ic,{children:l.jsx(Que,{})})}),l.jsx(ja,{path:"/contacts",element:l.jsx(Ic,{children:l.jsx(rde,{})})}),l.jsx(ja,{path:"/daily-logs",element:l.jsx(Ic,{children:l.jsx(sde,{})})}),l.jsx(ja,{path:"*",element:l.jsx(Mle,{})})]})})})]})})})})})},ode=hT(document.getElementById("root"));ode.render(l.jsx(Pe.StrictMode,{children:l.jsx(NF,{children:l.jsx(FF,{children:l.jsx(W6,{children:l.jsxs(OO,{children:[" ",l.jsx(ide,{})]})})})})}));window.clearAppLoadTimeout&&window.clearAppLoadTimeout();export{gr as _,Ia as c,JP as g};
