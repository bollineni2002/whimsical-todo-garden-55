var u7=Object.defineProperty;var Ej=e=>{throw TypeError(e)};var d7=(e,t,r)=>t in e?u7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ry=(e,t,r)=>d7(e,typeof t!="symbol"?t+"":t,r),Mx=(e,t,r)=>t.has(e)||Ej("Cannot "+r);var Me=(e,t,r)=>(Mx(e,t,"read from private field"),r?r.call(e):t.get(e)),Qt=(e,t,r)=>t.has(e)?Ej("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Mt=(e,t,r,n)=>(Mx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),zn=(e,t,r)=>(Mx(e,t,"access private method"),r);var ny=(e,t,r,n)=>({set _(s){Mt(e,t,s,r)},get _(){return Me(e,t,n)}});function h7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function f7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var EE={exports:{}},E0={},AE={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=Symbol.for("react.element"),p7=Symbol.for("react.portal"),m7=Symbol.for("react.fragment"),g7=Symbol.for("react.strict_mode"),y7=Symbol.for("react.profiler"),v7=Symbol.for("react.provider"),x7=Symbol.for("react.context"),w7=Symbol.for("react.forward_ref"),b7=Symbol.for("react.suspense"),S7=Symbol.for("react.memo"),_7=Symbol.for("react.lazy"),Aj=Symbol.iterator;function N7(e){return e===null||typeof e!="object"?null:(e=Aj&&e[Aj]||e["@@iterator"],typeof e=="function"?e:null)}var TE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LE=Object.assign,DE={};function Rh(e,t,r){this.props=e,this.context=t,this.refs=DE,this.updater=r||TE}Rh.prototype.isReactComponent={};Rh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RE(){}RE.prototype=Rh.prototype;function J5(e,t,r){this.props=e,this.context=t,this.refs=DE,this.updater=r||TE}var Q5=J5.prototype=new RE;Q5.constructor=J5;LE(Q5,Rh.prototype);Q5.isPureReactComponent=!0;var Tj=Array.isArray,OE=Object.prototype.hasOwnProperty,eS={current:null},ME={key:!0,ref:!0,__self:!0,__source:!0};function IE(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)OE.call(t,n)&&!ME.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Im,type:e,key:a,ref:i,props:s,_owner:eS.current}}function j7(e,t){return{$$typeof:Im,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tS(e){return typeof e=="object"&&e!==null&&e.$$typeof===Im}function C7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lj=/\/+/g;function Ix(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C7(""+e.key):t.toString(36)}function Wy(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Im:case p7:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Ix(i,0):n,Tj(s)?(r="",e!=null&&(r=e.replace(Lj,"$&/")+"/"),Wy(s,t,r,"",function(u){return u})):s!=null&&(tS(s)&&(s=j7(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Lj,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Tj(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Ix(a,o);i+=Wy(a,t,r,c,s)}else if(c=N7(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Ix(a,o++),i+=Wy(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function sy(e,t,r){if(e==null)return e;var n=[],s=0;return Wy(e,n,"","",function(a){return t.call(r,a,s++)}),n}function k7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ys={current:null},Hy={transition:null},P7={ReactCurrentDispatcher:ys,ReactCurrentBatchConfig:Hy,ReactCurrentOwner:eS};function FE(){throw Error("act(...) is not supported in production builds of React.")}Bt.Children={map:sy,forEach:function(e,t,r){sy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return sy(e,function(){t++}),t},toArray:function(e){return sy(e,function(t){return t})||[]},only:function(e){if(!tS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Bt.Component=Rh;Bt.Fragment=m7;Bt.Profiler=y7;Bt.PureComponent=J5;Bt.StrictMode=g7;Bt.Suspense=b7;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P7;Bt.act=FE;Bt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=LE({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=eS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)OE.call(t,c)&&!ME.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Im,type:e.type,key:s,ref:a,props:n,_owner:i}};Bt.createContext=function(e){return e={$$typeof:x7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:v7,_context:e},e.Consumer=e};Bt.createElement=IE;Bt.createFactory=function(e){var t=IE.bind(null,e);return t.type=e,t};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(e){return{$$typeof:w7,render:e}};Bt.isValidElement=tS;Bt.lazy=function(e){return{$$typeof:_7,_payload:{_status:-1,_result:e},_init:k7}};Bt.memo=function(e,t){return{$$typeof:S7,type:e,compare:t===void 0?null:t}};Bt.startTransition=function(e){var t=Hy.transition;Hy.transition={};try{e()}finally{Hy.transition=t}};Bt.unstable_act=FE;Bt.useCallback=function(e,t){return ys.current.useCallback(e,t)};Bt.useContext=function(e){return ys.current.useContext(e)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(e){return ys.current.useDeferredValue(e)};Bt.useEffect=function(e,t){return ys.current.useEffect(e,t)};Bt.useId=function(){return ys.current.useId()};Bt.useImperativeHandle=function(e,t,r){return ys.current.useImperativeHandle(e,t,r)};Bt.useInsertionEffect=function(e,t){return ys.current.useInsertionEffect(e,t)};Bt.useLayoutEffect=function(e,t){return ys.current.useLayoutEffect(e,t)};Bt.useMemo=function(e,t){return ys.current.useMemo(e,t)};Bt.useReducer=function(e,t,r){return ys.current.useReducer(e,t,r)};Bt.useRef=function(e){return ys.current.useRef(e)};Bt.useState=function(e){return ys.current.useState(e)};Bt.useSyncExternalStore=function(e,t,r){return ys.current.useSyncExternalStore(e,t,r)};Bt.useTransition=function(){return ys.current.useTransition()};Bt.version="18.3.1";AE.exports=Bt;var v=AE.exports;const ke=PE(v),BE=h7({__proto__:null,default:ke},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E7=v,A7=Symbol.for("react.element"),T7=Symbol.for("react.fragment"),L7=Object.prototype.hasOwnProperty,D7=E7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R7={key:!0,ref:!0,__self:!0,__source:!0};function $E(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)L7.call(t,n)&&!R7.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:A7,type:e,key:a,ref:i,props:s,_owner:D7.current}}E0.Fragment=T7;E0.jsx=$E;E0.jsxs=$E;EE.exports=E0;var l=EE.exports,UE={exports:{}},ua={},VE={exports:{}},zE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,G){var ie=I.length;I.push(G);e:for(;0<ie;){var me=ie-1>>>1,A=I[me];if(0<s(A,G))I[me]=G,I[ie]=A,ie=me;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var G=I[0],ie=I.pop();if(ie!==G){I[0]=ie;e:for(var me=0,A=I.length,V=A>>>1;me<V;){var X=2*(me+1)-1,ae=I[X],q=X+1,se=I[q];if(0>s(ae,ie))q<A&&0>s(se,ae)?(I[me]=se,I[q]=ie,me=q):(I[me]=ae,I[X]=ie,me=X);else if(q<A&&0>s(se,ie))I[me]=se,I[q]=ie,me=q;else break e}}return G}function s(I,G){var ie=I.sortIndex-G.sortIndex;return ie!==0?ie:I.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(I){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=I)n(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(u)}}function C(I){if(y=!1,N(I),!g)if(r(c)!==null)g=!0,ne(P);else{var G=r(u);G!==null&&Y(C,G.startTime-I)}}function P(I,G){g=!1,y&&(y=!1,b(T),T=-1),p=!0;var ie=f;try{for(N(G),h=r(c);h!==null&&(!(h.expirationTime>G)||I&&!L());){var me=h.callback;if(typeof me=="function"){h.callback=null,f=h.priorityLevel;var A=me(h.expirationTime<=G);G=e.unstable_now(),typeof A=="function"?h.callback=A:h===r(c)&&n(c),N(G)}else n(c);h=r(c)}if(h!==null)var V=!0;else{var X=r(u);X!==null&&Y(C,X.startTime-G),V=!1}return V}finally{h=null,f=ie,p=!1}}var M=!1,R=null,T=-1,H=5,Q=-1;function L(){return!(e.unstable_now()-Q<H)}function E(){if(R!==null){var I=e.unstable_now();Q=I;var G=!0;try{G=R(!0,I)}finally{G?W():(M=!1,R=null)}}else M=!1}var W;if(typeof w=="function")W=function(){w(E)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=E,W=function(){K.postMessage(null)}}else W=function(){S(E,0)};function ne(I){R=I,M||(M=!0,W())}function Y(I,G){T=S(function(){I(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,ne(P))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var ie=f;f=G;try{return I()}finally{f=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,G){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ie=f;f=I;try{return G()}finally{f=ie}},e.unstable_scheduleCallback=function(I,G,ie){var me=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ie+A,I={id:d++,callback:G,priorityLevel:I,startTime:ie,expirationTime:A,sortIndex:-1},ie>me?(I.sortIndex=ie,t(u,I),r(c)===null&&I===r(u)&&(y?(b(T),T=-1):y=!0,Y(C,ie-me))):(I.sortIndex=A,t(c,I),g||p||(g=!0,ne(P))),I},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(I){var G=f;return function(){var ie=f;f=G;try{return I.apply(this,arguments)}finally{f=ie}}}})(zE);VE.exports=zE;var O7=VE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=v,ca=O7;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qE=new Set,Tp={};function vu(e,t){ph(e,t),ph(e+"Capture",t)}function ph(e,t){for(Tp[e]=t,e=0;e<t.length;e++)qE.add(t[e])}var Lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N2=Object.prototype.hasOwnProperty,I7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dj={},Rj={};function F7(e){return N2.call(Rj,e)?!0:N2.call(Dj,e)?!1:I7.test(e)?Rj[e]=!0:(Dj[e]=!0,!1)}function B7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $7(e,t,r,n){if(t===null||typeof t>"u"||B7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vs(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bn[e]=new vs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bn[t]=new vs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bn[e]=new vs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bn[e]=new vs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bn[e]=new vs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bn[e]=new vs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bn[e]=new vs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bn[e]=new vs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bn[e]=new vs(e,5,!1,e.toLowerCase(),null,!1,!1)});var rS=/[\-:]([a-z])/g;function nS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rS,nS);Bn[t]=new vs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rS,nS);Bn[t]=new vs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rS,nS);Bn[t]=new vs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bn[e]=new vs(e,1,!1,e.toLowerCase(),null,!1,!1)});Bn.xlinkHref=new vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bn[e]=new vs(e,1,!1,e.toLowerCase(),null,!0,!0)});function sS(e,t,r,n){var s=Bn.hasOwnProperty(t)?Bn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($7(t,r,s,n)&&(r=null),n||s===null?F7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zo=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ay=Symbol.for("react.element"),vd=Symbol.for("react.portal"),xd=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),j2=Symbol.for("react.profiler"),WE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),C2=Symbol.for("react.suspense"),k2=Symbol.for("react.suspense_list"),oS=Symbol.for("react.memo"),xl=Symbol.for("react.lazy"),GE=Symbol.for("react.offscreen"),Oj=Symbol.iterator;function Pf(e){return e===null||typeof e!="object"?null:(e=Oj&&e[Oj]||e["@@iterator"],typeof e=="function"?e:null)}var Br=Object.assign,Fx;function Yf(e){if(Fx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fx=t&&t[1]||""}return`
`+Fx+e}var Bx=!1;function $x(e,t){if(!e||Bx)return"";Bx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Bx=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yf(e):""}function U7(e){switch(e.tag){case 5:return Yf(e.type);case 16:return Yf("Lazy");case 13:return Yf("Suspense");case 19:return Yf("SuspenseList");case 0:case 2:case 15:return e=$x(e.type,!1),e;case 11:return e=$x(e.type.render,!1),e;case 1:return e=$x(e.type,!0),e;default:return""}}function P2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xd:return"Fragment";case vd:return"Portal";case j2:return"Profiler";case aS:return"StrictMode";case C2:return"Suspense";case k2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HE:return(e.displayName||"Context")+".Consumer";case WE:return(e._context.displayName||"Context")+".Provider";case iS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oS:return t=e.displayName||null,t!==null?t:P2(e.type)||"Memo";case xl:t=e._payload,e=e._init;try{return P2(e(t))}catch{}}return null}function V7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P2(t);case 8:return t===aS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function z7(e){var t=YE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iy(e){e._valueTracker||(e._valueTracker=z7(e))}function KE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=YE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function E2(e,t){var r=t.checked;return Br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Mj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XE(e,t){t=t.checked,t!=null&&sS(e,"checked",t,!1)}function A2(e,t){XE(e,t);var r=Gl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?T2(e,t.type,r):t.hasOwnProperty("defaultValue")&&T2(e,t.type,Gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ij(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function T2(e,t,r){(t!=="number"||vv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kf=Array.isArray;function Id(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function L2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ve(92));if(Kf(r)){if(1<r.length)throw Error(Ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gl(r)}}function ZE(e,t){var r=Gl(t.value),n=Gl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oy,QE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oy=oy||document.createElement("div"),oy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},q7=["Webkit","ms","Moz","O"];Object.keys(lp).forEach(function(e){q7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lp[t]=lp[e]})});function e3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lp.hasOwnProperty(e)&&lp[e]?(""+t).trim():t+"px"}function t3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=e3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var W7=Br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R2(e,t){if(t){if(W7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function O2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M2=null;function lS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var I2=null,Fd=null,Bd=null;function $j(e){if(e=$m(e)){if(typeof I2!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=R0(t),I2(e.stateNode,e.type,t))}}function r3(e){Fd?Bd?Bd.push(e):Bd=[e]:Fd=e}function n3(){if(Fd){var e=Fd,t=Bd;if(Bd=Fd=null,$j(e),t)for(e=0;e<t.length;e++)$j(t[e])}}function s3(e,t){return e(t)}function a3(){}var Ux=!1;function i3(e,t,r){if(Ux)return e(t,r);Ux=!0;try{return s3(e,t,r)}finally{Ux=!1,(Fd!==null||Bd!==null)&&(a3(),n3())}}function Dp(e,t){var r=e.stateNode;if(r===null)return null;var n=R0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ve(231,t,typeof r));return r}var F2=!1;if(Lo)try{var Ef={};Object.defineProperty(Ef,"passive",{get:function(){F2=!0}}),window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch{F2=!1}function H7(e,t,r,n,s,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var cp=!1,xv=null,wv=!1,B2=null,G7={onError:function(e){cp=!0,xv=e}};function Y7(e,t,r,n,s,a,i,o,c){cp=!1,xv=null,H7.apply(G7,arguments)}function K7(e,t,r,n,s,a,i,o,c){if(Y7.apply(this,arguments),cp){if(cp){var u=xv;cp=!1,xv=null}else throw Error(Ve(198));wv||(wv=!0,B2=u)}}function xu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function o3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uj(e){if(xu(e)!==e)throw Error(Ve(188))}function X7(e){var t=e.alternate;if(!t){if(t=xu(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Uj(s),e;if(a===n)return Uj(s),t;a=a.sibling}throw Error(Ve(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i)throw Error(Ve(189))}}if(r.alternate!==n)throw Error(Ve(190))}if(r.tag!==3)throw Error(Ve(188));return r.stateNode.current===r?e:t}function l3(e){return e=X7(e),e!==null?c3(e):null}function c3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=c3(e);if(t!==null)return t;e=e.sibling}return null}var u3=ca.unstable_scheduleCallback,Vj=ca.unstable_cancelCallback,Z7=ca.unstable_shouldYield,J7=ca.unstable_requestPaint,rn=ca.unstable_now,Q7=ca.unstable_getCurrentPriorityLevel,cS=ca.unstable_ImmediatePriority,d3=ca.unstable_UserBlockingPriority,bv=ca.unstable_NormalPriority,eB=ca.unstable_LowPriority,h3=ca.unstable_IdlePriority,A0=null,Hi=null;function tB(e){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(A0,e,void 0,(e.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:sB,rB=Math.log,nB=Math.LN2;function sB(e){return e>>>=0,e===0?32:31-(rB(e)/nB|0)|0}var ly=64,cy=4194304;function Xf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~s;o!==0?n=Xf(o):(a&=i,a!==0&&(n=Xf(a)))}else i=r&~s,i!==0?n=Xf(i):a!==0&&(n=Xf(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ci(t),s=1<<r,n|=e[r],t&=~s;return n}function aB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-ci(a),o=1<<i,c=s[i];c===-1?(!(o&r)||o&n)&&(s[i]=aB(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function $2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f3(){var e=ly;return ly<<=1,!(ly&4194240)&&(ly=64),e}function Vx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ci(t),e[t]=r}function oB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ci(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function uS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ci(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ar=0;function p3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m3,dS,g3,y3,v3,U2=!1,uy=[],Ml=null,Il=null,Fl=null,Rp=new Map,Op=new Map,Sl=[],lB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zj(e,t){switch(e){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":Il=null;break;case"mouseover":case"mouseout":Fl=null;break;case"pointerover":case"pointerout":Rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Op.delete(t.pointerId)}}function Af(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=$m(t),t!==null&&dS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cB(e,t,r,n,s){switch(t){case"focusin":return Ml=Af(Ml,e,t,r,n,s),!0;case"dragenter":return Il=Af(Il,e,t,r,n,s),!0;case"mouseover":return Fl=Af(Fl,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Rp.set(a,Af(Rp.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Op.set(a,Af(Op.get(a)||null,e,t,r,n,s)),!0}return!1}function x3(e){var t=zc(e.target);if(t!==null){var r=xu(t);if(r!==null){if(t=r.tag,t===13){if(t=o3(r),t!==null){e.blockedOn=t,v3(e.priority,function(){g3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=V2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);M2=n,r.target.dispatchEvent(n),M2=null}else return t=$m(r),t!==null&&dS(t),e.blockedOn=r,!1;t.shift()}return!0}function qj(e,t,r){Gy(e)&&r.delete(t)}function uB(){U2=!1,Ml!==null&&Gy(Ml)&&(Ml=null),Il!==null&&Gy(Il)&&(Il=null),Fl!==null&&Gy(Fl)&&(Fl=null),Rp.forEach(qj),Op.forEach(qj)}function Tf(e,t){e.blockedOn===t&&(e.blockedOn=null,U2||(U2=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,uB)))}function Mp(e){function t(s){return Tf(s,e)}if(0<uy.length){Tf(uy[0],e);for(var r=1;r<uy.length;r++){var n=uy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ml!==null&&Tf(Ml,e),Il!==null&&Tf(Il,e),Fl!==null&&Tf(Fl,e),Rp.forEach(t),Op.forEach(t),r=0;r<Sl.length;r++)n=Sl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sl.length&&(r=Sl[0],r.blockedOn===null);)x3(r),r.blockedOn===null&&Sl.shift()}var $d=zo.ReactCurrentBatchConfig,_v=!0;function dB(e,t,r,n){var s=ar,a=$d.transition;$d.transition=null;try{ar=1,hS(e,t,r,n)}finally{ar=s,$d.transition=a}}function hB(e,t,r,n){var s=ar,a=$d.transition;$d.transition=null;try{ar=4,hS(e,t,r,n)}finally{ar=s,$d.transition=a}}function hS(e,t,r,n){if(_v){var s=V2(e,t,r,n);if(s===null)Jx(e,t,n,Nv,r),zj(e,n);else if(cB(s,e,t,r,n))n.stopPropagation();else if(zj(e,n),t&4&&-1<lB.indexOf(e)){for(;s!==null;){var a=$m(s);if(a!==null&&m3(a),a=V2(e,t,r,n),a===null&&Jx(e,t,n,Nv,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Jx(e,t,n,null,r)}}var Nv=null;function V2(e,t,r,n){if(Nv=null,e=lS(n),e=zc(e),e!==null)if(t=xu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=o3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nv=e,null}function w3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q7()){case cS:return 1;case d3:return 4;case bv:case eB:return 16;case h3:return 536870912;default:return 16}default:return 16}}var Ll=null,fS=null,Yy=null;function b3(){if(Yy)return Yy;var e,t=fS,r=t.length,n,s="value"in Ll?Ll.value:Ll.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return Yy=s.slice(e,1<n?1-n:void 0)}function Ky(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dy(){return!0}function Wj(){return!1}function da(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dy:Wj,this.isPropagationStopped=Wj,this}return Br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dy)},persist:function(){},isPersistent:dy}),t}var Oh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pS=da(Oh),Bm=Br({},Oh,{view:0,detail:0}),fB=da(Bm),zx,qx,Lf,T0=Br({},Bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lf&&(Lf&&e.type==="mousemove"?(zx=e.screenX-Lf.screenX,qx=e.screenY-Lf.screenY):qx=zx=0,Lf=e),zx)},movementY:function(e){return"movementY"in e?e.movementY:qx}}),Hj=da(T0),pB=Br({},T0,{dataTransfer:0}),mB=da(pB),gB=Br({},Bm,{relatedTarget:0}),Wx=da(gB),yB=Br({},Oh,{animationName:0,elapsedTime:0,pseudoElement:0}),vB=da(yB),xB=Br({},Oh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wB=da(xB),bB=Br({},Oh,{data:0}),Gj=da(bB),SB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NB[e])?!!t[e]:!1}function mS(){return jB}var CB=Br({},Bm,{key:function(e){if(e.key){var t=SB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ky(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_B[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mS,charCode:function(e){return e.type==="keypress"?Ky(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ky(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kB=da(CB),PB=Br({},T0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yj=da(PB),EB=Br({},Bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mS}),AB=da(EB),TB=Br({},Oh,{propertyName:0,elapsedTime:0,pseudoElement:0}),LB=da(TB),DB=Br({},T0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RB=da(DB),OB=[9,13,27,32],gS=Lo&&"CompositionEvent"in window,up=null;Lo&&"documentMode"in document&&(up=document.documentMode);var MB=Lo&&"TextEvent"in window&&!up,S3=Lo&&(!gS||up&&8<up&&11>=up),Kj=" ",Xj=!1;function _3(e,t){switch(e){case"keyup":return OB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wd=!1;function IB(e,t){switch(e){case"compositionend":return N3(t);case"keypress":return t.which!==32?null:(Xj=!0,Kj);case"textInput":return e=t.data,e===Kj&&Xj?null:e;default:return null}}function FB(e,t){if(wd)return e==="compositionend"||!gS&&_3(e,t)?(e=b3(),Yy=fS=Ll=null,wd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S3&&t.locale!=="ko"?null:t.data;default:return null}}var BB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BB[e.type]:t==="textarea"}function j3(e,t,r,n){r3(n),t=jv(t,"onChange"),0<t.length&&(r=new pS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dp=null,Ip=null;function $B(e){M3(e,0)}function L0(e){var t=_d(e);if(KE(t))return e}function UB(e,t){if(e==="change")return t}var C3=!1;if(Lo){var Hx;if(Lo){var Gx="oninput"in document;if(!Gx){var Jj=document.createElement("div");Jj.setAttribute("oninput","return;"),Gx=typeof Jj.oninput=="function"}Hx=Gx}else Hx=!1;C3=Hx&&(!document.documentMode||9<document.documentMode)}function Qj(){dp&&(dp.detachEvent("onpropertychange",k3),Ip=dp=null)}function k3(e){if(e.propertyName==="value"&&L0(Ip)){var t=[];j3(t,Ip,e,lS(e)),i3($B,t)}}function VB(e,t,r){e==="focusin"?(Qj(),dp=t,Ip=r,dp.attachEvent("onpropertychange",k3)):e==="focusout"&&Qj()}function zB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return L0(Ip)}function qB(e,t){if(e==="click")return L0(t)}function WB(e,t){if(e==="input"||e==="change")return L0(t)}function HB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hi=typeof Object.is=="function"?Object.is:HB;function Fp(e,t){if(hi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!N2.call(t,s)||!hi(e[s],t[s]))return!1}return!0}function e4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t4(e,t){var r=e4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=e4(r)}}function P3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E3(){for(var e=window,t=vv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vv(e.document)}return t}function yS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GB(e){var t=E3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P3(r.ownerDocument.documentElement,r)){if(n!==null&&yS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=t4(r,a);var i=t4(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YB=Lo&&"documentMode"in document&&11>=document.documentMode,bd=null,z2=null,hp=null,q2=!1;function r4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;q2||bd==null||bd!==vv(n)||(n=bd,"selectionStart"in n&&yS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hp&&Fp(hp,n)||(hp=n,n=jv(z2,"onSelect"),0<n.length&&(t=new pS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bd)))}function hy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sd={animationend:hy("Animation","AnimationEnd"),animationiteration:hy("Animation","AnimationIteration"),animationstart:hy("Animation","AnimationStart"),transitionend:hy("Transition","TransitionEnd")},Yx={},A3={};Lo&&(A3=document.createElement("div").style,"AnimationEvent"in window||(delete Sd.animationend.animation,delete Sd.animationiteration.animation,delete Sd.animationstart.animation),"TransitionEvent"in window||delete Sd.transitionend.transition);function D0(e){if(Yx[e])return Yx[e];if(!Sd[e])return e;var t=Sd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A3)return Yx[e]=t[r];return e}var T3=D0("animationend"),L3=D0("animationiteration"),D3=D0("animationstart"),R3=D0("transitionend"),O3=new Map,n4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oc(e,t){O3.set(e,t),vu(t,[e])}for(var Kx=0;Kx<n4.length;Kx++){var Xx=n4[Kx],KB=Xx.toLowerCase(),XB=Xx[0].toUpperCase()+Xx.slice(1);oc(KB,"on"+XB)}oc(T3,"onAnimationEnd");oc(L3,"onAnimationIteration");oc(D3,"onAnimationStart");oc("dblclick","onDoubleClick");oc("focusin","onFocus");oc("focusout","onBlur");oc(R3,"onTransitionEnd");ph("onMouseEnter",["mouseout","mouseover"]);ph("onMouseLeave",["mouseout","mouseover"]);ph("onPointerEnter",["pointerout","pointerover"]);ph("onPointerLeave",["pointerout","pointerover"]);vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zf));function s4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,K7(n,t,void 0,e),e.currentTarget=null}function M3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;s4(s,o,u),a=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;s4(s,o,u),a=c}}}if(wv)throw e=B2,wv=!1,B2=null,e}function Nr(e,t){var r=t[K2];r===void 0&&(r=t[K2]=new Set);var n=e+"__bubble";r.has(n)||(I3(t,e,2,!1),r.add(n))}function Zx(e,t,r){var n=0;t&&(n|=4),I3(r,e,n,t)}var fy="_reactListening"+Math.random().toString(36).slice(2);function Bp(e){if(!e[fy]){e[fy]=!0,qE.forEach(function(r){r!=="selectionchange"&&(ZB.has(r)||Zx(r,!1,e),Zx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fy]||(t[fy]=!0,Zx("selectionchange",!1,t))}}function I3(e,t,r,n){switch(w3(t)){case 1:var s=dB;break;case 4:s=hB;break;default:s=hS}r=s.bind(null,t,r,e),s=void 0,!F2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jx(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;o!==null;){if(i=zc(o),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}o=o.parentNode}}n=n.return}i3(function(){var u=a,d=lS(r),h=[];e:{var f=O3.get(e);if(f!==void 0){var p=pS,g=e;switch(e){case"keypress":if(Ky(r)===0)break e;case"keydown":case"keyup":p=kB;break;case"focusin":g="focus",p=Wx;break;case"focusout":g="blur",p=Wx;break;case"beforeblur":case"afterblur":p=Wx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Hj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=AB;break;case T3:case L3:case D3:p=vB;break;case R3:p=LB;break;case"scroll":p=fB;break;case"wheel":p=RB;break;case"copy":case"cut":case"paste":p=wB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Yj}var y=(t&4)!==0,S=!y&&e==="scroll",b=y?f!==null?f+"Capture":null:f;y=[];for(var w=u,N;w!==null;){N=w;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,b!==null&&(C=Dp(w,b),C!=null&&y.push($p(w,C,N)))),S)break;w=w.return}0<y.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==M2&&(g=r.relatedTarget||r.fromElement)&&(zc(g)||g[Do]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?zc(g):null,g!==null&&(S=xu(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=Hj,C="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=Yj,C="onPointerLeave",b="onPointerEnter",w="pointer"),S=p==null?f:_d(p),N=g==null?f:_d(g),f=new y(C,w+"leave",p,r,d),f.target=S,f.relatedTarget=N,C=null,zc(d)===u&&(y=new y(b,w+"enter",g,r,d),y.target=N,y.relatedTarget=S,C=y),S=C,p&&g)t:{for(y=p,b=g,w=0,N=y;N;N=nd(N))w++;for(N=0,C=b;C;C=nd(C))N++;for(;0<w-N;)y=nd(y),w--;for(;0<N-w;)b=nd(b),N--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=nd(y),b=nd(b)}y=null}else y=null;p!==null&&a4(h,f,p,y,!1),g!==null&&S!==null&&a4(h,S,g,y,!0)}}e:{if(f=u?_d(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var P=UB;else if(Zj(f))if(C3)P=WB;else{P=zB;var M=VB}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=qB);if(P&&(P=P(e,u))){j3(h,P,r,d);break e}M&&M(e,f,u),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&T2(f,"number",f.value)}switch(M=u?_d(u):window,e){case"focusin":(Zj(M)||M.contentEditable==="true")&&(bd=M,z2=u,hp=null);break;case"focusout":hp=z2=bd=null;break;case"mousedown":q2=!0;break;case"contextmenu":case"mouseup":case"dragend":q2=!1,r4(h,r,d);break;case"selectionchange":if(YB)break;case"keydown":case"keyup":r4(h,r,d)}var R;if(gS)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wd?_3(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(S3&&r.locale!=="ko"&&(wd||T!=="onCompositionStart"?T==="onCompositionEnd"&&wd&&(R=b3()):(Ll=d,fS="value"in Ll?Ll.value:Ll.textContent,wd=!0)),M=jv(u,T),0<M.length&&(T=new Gj(T,e,null,r,d),h.push({event:T,listeners:M}),R?T.data=R:(R=N3(r),R!==null&&(T.data=R)))),(R=MB?IB(e,r):FB(e,r))&&(u=jv(u,"onBeforeInput"),0<u.length&&(d=new Gj("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=R))}M3(h,t)})}function $p(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jv(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Dp(e,r),a!=null&&n.unshift($p(e,a,s)),a=Dp(e,t),a!=null&&n.push($p(e,a,s))),e=e.return}return n}function nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a4(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Dp(r,a),c!=null&&i.unshift($p(r,c,o))):s||(c=Dp(r,a),c!=null&&i.push($p(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var JB=/\r\n?/g,QB=/\u0000|\uFFFD/g;function i4(e){return(typeof e=="string"?e:""+e).replace(JB,`
`).replace(QB,"")}function py(e,t,r){if(t=i4(t),i4(e)!==t&&r)throw Error(Ve(425))}function Cv(){}var W2=null,H2=null;function G2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Y2=typeof setTimeout=="function"?setTimeout:void 0,e9=typeof clearTimeout=="function"?clearTimeout:void 0,o4=typeof Promise=="function"?Promise:void 0,t9=typeof queueMicrotask=="function"?queueMicrotask:typeof o4<"u"?function(e){return o4.resolve(null).then(e).catch(r9)}:Y2;function r9(e){setTimeout(function(){throw e})}function Qx(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Mp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mp(t)}function Bl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function l4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Mh,Up="__reactProps$"+Mh,Do="__reactContainer$"+Mh,K2="__reactEvents$"+Mh,n9="__reactListeners$"+Mh,s9="__reactHandles$"+Mh;function zc(e){var t=e[Ui];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Do]||r[Ui]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=l4(e);e!==null;){if(r=e[Ui])return r;e=l4(e)}return t}e=r,r=e.parentNode}return null}function $m(e){return e=e[Ui]||e[Do],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _d(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function R0(e){return e[Up]||null}var X2=[],Nd=-1;function lc(e){return{current:e}}function Cr(e){0>Nd||(e.current=X2[Nd],X2[Nd]=null,Nd--)}function yr(e,t){Nd++,X2[Nd]=e.current,e.current=t}var Yl={},ns=lc(Yl),Os=lc(!1),iu=Yl;function mh(e,t){var r=e.type.contextTypes;if(!r)return Yl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ms(e){return e=e.childContextTypes,e!=null}function kv(){Cr(Os),Cr(ns)}function c4(e,t,r){if(ns.current!==Yl)throw Error(Ve(168));yr(ns,t),yr(Os,r)}function F3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Ve(108,V7(e)||"Unknown",s));return Br({},r,n)}function Pv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yl,iu=ns.current,yr(ns,e),yr(Os,Os.current),!0}function u4(e,t,r){var n=e.stateNode;if(!n)throw Error(Ve(169));r?(e=F3(e,t,iu),n.__reactInternalMemoizedMergedChildContext=e,Cr(Os),Cr(ns),yr(ns,e)):Cr(Os),yr(Os,r)}var _o=null,O0=!1,ew=!1;function B3(e){_o===null?_o=[e]:_o.push(e)}function a9(e){O0=!0,B3(e)}function cc(){if(!ew&&_o!==null){ew=!0;var e=0,t=ar;try{var r=_o;for(ar=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_o=null,O0=!1}catch(s){throw _o!==null&&(_o=_o.slice(e+1)),u3(cS,cc),s}finally{ar=t,ew=!1}}return null}var jd=[],Cd=0,Ev=null,Av=0,ka=[],Pa=0,ou=null,jo=1,Co="";function Lc(e,t){jd[Cd++]=Av,jd[Cd++]=Ev,Ev=e,Av=t}function $3(e,t,r){ka[Pa++]=jo,ka[Pa++]=Co,ka[Pa++]=ou,ou=e;var n=jo;e=Co;var s=32-ci(n)-1;n&=~(1<<s),r+=1;var a=32-ci(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,jo=1<<32-ci(t)+s|r<<s|n,Co=a+e}else jo=1<<a|r<<s|n,Co=e}function vS(e){e.return!==null&&(Lc(e,1),$3(e,1,0))}function xS(e){for(;e===Ev;)Ev=jd[--Cd],jd[Cd]=null,Av=jd[--Cd],jd[Cd]=null;for(;e===ou;)ou=ka[--Pa],ka[Pa]=null,Co=ka[--Pa],ka[Pa]=null,jo=ka[--Pa],ka[Pa]=null}var aa=null,ra=null,Tr=!1,ai=null;function U3(e,t){var r=Ea(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function d4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,aa=e,ra=Bl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,aa=e,ra=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ou!==null?{id:jo,overflow:Co}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ea(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,aa=e,ra=null,!0):!1;default:return!1}}function Z2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J2(e){if(Tr){var t=ra;if(t){var r=t;if(!d4(e,t)){if(Z2(e))throw Error(Ve(418));t=Bl(r.nextSibling);var n=aa;t&&d4(e,t)?U3(n,r):(e.flags=e.flags&-4097|2,Tr=!1,aa=e)}}else{if(Z2(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,Tr=!1,aa=e}}}function h4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;aa=e}function my(e){if(e!==aa)return!1;if(!Tr)return h4(e),Tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!G2(e.type,e.memoizedProps)),t&&(t=ra)){if(Z2(e))throw V3(),Error(Ve(418));for(;t;)U3(e,t),t=Bl(t.nextSibling)}if(h4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ra=Bl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ra=null}}else ra=aa?Bl(e.stateNode.nextSibling):null;return!0}function V3(){for(var e=ra;e;)e=Bl(e.nextSibling)}function gh(){ra=aa=null,Tr=!1}function wS(e){ai===null?ai=[e]:ai.push(e)}var i9=zo.ReactCurrentBatchConfig;function Df(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ve(309));var n=r.stateNode}if(!n)throw Error(Ve(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ve(284));if(!r._owner)throw Error(Ve(290,e))}return e}function gy(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f4(e){var t=e._init;return t(e._payload)}function z3(e){function t(b,w){if(e){var N=b.deletions;N===null?(b.deletions=[w],b.flags|=16):N.push(w)}}function r(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function n(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=zl(b,w),b.index=0,b.sibling=null,b}function a(b,w,N){return b.index=N,e?(N=b.alternate,N!==null?(N=N.index,N<w?(b.flags|=2,w):N):(b.flags|=2,w)):(b.flags|=1048576,w)}function i(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,w,N,C){return w===null||w.tag!==6?(w=ow(N,b.mode,C),w.return=b,w):(w=s(w,N),w.return=b,w)}function c(b,w,N,C){var P=N.type;return P===xd?d(b,w,N.props.children,C,N.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===xl&&f4(P)===w.type)?(C=s(w,N.props),C.ref=Df(b,w,N),C.return=b,C):(C=rv(N.type,N.key,N.props,null,b.mode,C),C.ref=Df(b,w,N),C.return=b,C)}function u(b,w,N,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=lw(N,b.mode,C),w.return=b,w):(w=s(w,N.children||[]),w.return=b,w)}function d(b,w,N,C,P){return w===null||w.tag!==7?(w=eu(N,b.mode,C,P),w.return=b,w):(w=s(w,N),w.return=b,w)}function h(b,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ow(""+w,b.mode,N),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ay:return N=rv(w.type,w.key,w.props,null,b.mode,N),N.ref=Df(b,null,w),N.return=b,N;case vd:return w=lw(w,b.mode,N),w.return=b,w;case xl:var C=w._init;return h(b,C(w._payload),N)}if(Kf(w)||Pf(w))return w=eu(w,b.mode,N,null),w.return=b,w;gy(b,w)}return null}function f(b,w,N,C){var P=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return P!==null?null:o(b,w,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ay:return N.key===P?c(b,w,N,C):null;case vd:return N.key===P?u(b,w,N,C):null;case xl:return P=N._init,f(b,w,P(N._payload),C)}if(Kf(N)||Pf(N))return P!==null?null:d(b,w,N,C,null);gy(b,N)}return null}function p(b,w,N,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(N)||null,o(w,b,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ay:return b=b.get(C.key===null?N:C.key)||null,c(w,b,C,P);case vd:return b=b.get(C.key===null?N:C.key)||null,u(w,b,C,P);case xl:var M=C._init;return p(b,w,N,M(C._payload),P)}if(Kf(C)||Pf(C))return b=b.get(N)||null,d(w,b,C,P,null);gy(w,C)}return null}function g(b,w,N,C){for(var P=null,M=null,R=w,T=w=0,H=null;R!==null&&T<N.length;T++){R.index>T?(H=R,R=null):H=R.sibling;var Q=f(b,R,N[T],C);if(Q===null){R===null&&(R=H);break}e&&R&&Q.alternate===null&&t(b,R),w=a(Q,w,T),M===null?P=Q:M.sibling=Q,M=Q,R=H}if(T===N.length)return r(b,R),Tr&&Lc(b,T),P;if(R===null){for(;T<N.length;T++)R=h(b,N[T],C),R!==null&&(w=a(R,w,T),M===null?P=R:M.sibling=R,M=R);return Tr&&Lc(b,T),P}for(R=n(b,R);T<N.length;T++)H=p(R,b,T,N[T],C),H!==null&&(e&&H.alternate!==null&&R.delete(H.key===null?T:H.key),w=a(H,w,T),M===null?P=H:M.sibling=H,M=H);return e&&R.forEach(function(L){return t(b,L)}),Tr&&Lc(b,T),P}function y(b,w,N,C){var P=Pf(N);if(typeof P!="function")throw Error(Ve(150));if(N=P.call(N),N==null)throw Error(Ve(151));for(var M=P=null,R=w,T=w=0,H=null,Q=N.next();R!==null&&!Q.done;T++,Q=N.next()){R.index>T?(H=R,R=null):H=R.sibling;var L=f(b,R,Q.value,C);if(L===null){R===null&&(R=H);break}e&&R&&L.alternate===null&&t(b,R),w=a(L,w,T),M===null?P=L:M.sibling=L,M=L,R=H}if(Q.done)return r(b,R),Tr&&Lc(b,T),P;if(R===null){for(;!Q.done;T++,Q=N.next())Q=h(b,Q.value,C),Q!==null&&(w=a(Q,w,T),M===null?P=Q:M.sibling=Q,M=Q);return Tr&&Lc(b,T),P}for(R=n(b,R);!Q.done;T++,Q=N.next())Q=p(R,b,T,Q.value,C),Q!==null&&(e&&Q.alternate!==null&&R.delete(Q.key===null?T:Q.key),w=a(Q,w,T),M===null?P=Q:M.sibling=Q,M=Q);return e&&R.forEach(function(E){return t(b,E)}),Tr&&Lc(b,T),P}function S(b,w,N,C){if(typeof N=="object"&&N!==null&&N.type===xd&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ay:e:{for(var P=N.key,M=w;M!==null;){if(M.key===P){if(P=N.type,P===xd){if(M.tag===7){r(b,M.sibling),w=s(M,N.props.children),w.return=b,b=w;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===xl&&f4(P)===M.type){r(b,M.sibling),w=s(M,N.props),w.ref=Df(b,M,N),w.return=b,b=w;break e}r(b,M);break}else t(b,M);M=M.sibling}N.type===xd?(w=eu(N.props.children,b.mode,C,N.key),w.return=b,b=w):(C=rv(N.type,N.key,N.props,null,b.mode,C),C.ref=Df(b,w,N),C.return=b,b=C)}return i(b);case vd:e:{for(M=N.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){r(b,w.sibling),w=s(w,N.children||[]),w.return=b,b=w;break e}else{r(b,w);break}else t(b,w);w=w.sibling}w=lw(N,b.mode,C),w.return=b,b=w}return i(b);case xl:return M=N._init,S(b,w,M(N._payload),C)}if(Kf(N))return g(b,w,N,C);if(Pf(N))return y(b,w,N,C);gy(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(r(b,w.sibling),w=s(w,N),w.return=b,b=w):(r(b,w),w=ow(N,b.mode,C),w.return=b,b=w),i(b)):r(b,w)}return S}var yh=z3(!0),q3=z3(!1),Tv=lc(null),Lv=null,kd=null,bS=null;function SS(){bS=kd=Lv=null}function _S(e){var t=Tv.current;Cr(Tv),e._currentValue=t}function Q2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ud(e,t){Lv=e,bS=kd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rs=!0),e.firstContext=null)}function Ra(e){var t=e._currentValue;if(bS!==e)if(e={context:e,memoizedValue:t,next:null},kd===null){if(Lv===null)throw Error(Ve(308));kd=e,Lv.dependencies={lanes:0,firstContext:e}}else kd=kd.next=e;return t}var qc=null;function NS(e){qc===null?qc=[e]:qc.push(e)}function W3(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,NS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ro(e,n)}function Ro(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wl=!1;function jS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $l(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Kt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ro(e,r)}return s=n.interleaved,s===null?(t.next=t,NS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ro(e,r)}function Xy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uS(e,r)}}function p4(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Dv(e,t,r,n){var s=e.updateQueue;wl=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,d=u=c=null,o=a;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(f=t,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Br({},h,f);break e;case 2:wl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,i|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);cu|=i,e.lanes=i,e.memoizedState=h}}function m4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ve(191,s));s.call(n)}}}var Um={},Gi=lc(Um),Vp=lc(Um),zp=lc(Um);function Wc(e){if(e===Um)throw Error(Ve(174));return e}function CS(e,t){switch(yr(zp,t),yr(Vp,e),yr(Gi,Um),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:D2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=D2(t,e)}Cr(Gi),yr(Gi,t)}function vh(){Cr(Gi),Cr(Vp),Cr(zp)}function G3(e){Wc(zp.current);var t=Wc(Gi.current),r=D2(t,e.type);t!==r&&(yr(Vp,e),yr(Gi,r))}function kS(e){Vp.current===e&&(Cr(Gi),Cr(Vp))}var Rr=lc(0);function Rv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tw=[];function PS(){for(var e=0;e<tw.length;e++)tw[e]._workInProgressVersionPrimary=null;tw.length=0}var Zy=zo.ReactCurrentDispatcher,rw=zo.ReactCurrentBatchConfig,lu=0,Mr=null,vn=null,Cn=null,Ov=!1,fp=!1,qp=0,o9=0;function qn(){throw Error(Ve(321))}function ES(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hi(e[r],t[r]))return!1;return!0}function AS(e,t,r,n,s,a){if(lu=a,Mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zy.current=e===null||e.memoizedState===null?d9:h9,e=r(n,s),fp){a=0;do{if(fp=!1,qp=0,25<=a)throw Error(Ve(301));a+=1,Cn=vn=null,t.updateQueue=null,Zy.current=f9,e=r(n,s)}while(fp)}if(Zy.current=Mv,t=vn!==null&&vn.next!==null,lu=0,Cn=vn=Mr=null,Ov=!1,t)throw Error(Ve(300));return e}function TS(){var e=qp!==0;return qp=0,e}function Ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?Mr.memoizedState=Cn=e:Cn=Cn.next=e,Cn}function Oa(){if(vn===null){var e=Mr.alternate;e=e!==null?e.memoizedState:null}else e=vn.next;var t=Cn===null?Mr.memoizedState:Cn.next;if(t!==null)Cn=t,vn=e;else{if(e===null)throw Error(Ve(310));vn=e,e={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Cn===null?Mr.memoizedState=Cn=e:Cn=Cn.next=e}return Cn}function Wp(e,t){return typeof t=="function"?t(e):t}function nw(e){var t=Oa(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=vn,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var o=i=null,c=null,u=a;do{var d=u.lane;if((lu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,i=n):c=c.next=h,Mr.lanes|=d,cu|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=o,hi(n,t.memoizedState)||(Rs=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Mr.lanes|=a,cu|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sw(e){var t=Oa(),r=t.queue;if(r===null)throw Error(Ve(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);hi(a,t.memoizedState)||(Rs=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Y3(){}function K3(e,t){var r=Mr,n=Oa(),s=t(),a=!hi(n.memoizedState,s);if(a&&(n.memoizedState=s,Rs=!0),n=n.queue,LS(J3.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Cn!==null&&Cn.memoizedState.tag&1){if(r.flags|=2048,Hp(9,Z3.bind(null,r,n,s,t),void 0,null),An===null)throw Error(Ve(349));lu&30||X3(r,t,s)}return s}function X3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Mr.updateQueue,t===null?(t={lastEffect:null,stores:null},Mr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Z3(e,t,r,n){t.value=r,t.getSnapshot=n,Q3(t)&&eA(e)}function J3(e,t,r){return r(function(){Q3(t)&&eA(e)})}function Q3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hi(e,r)}catch{return!0}}function eA(e){var t=Ro(e,1);t!==null&&ui(t,e,1,-1)}function g4(e){var t=Ii();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:e},t.queue=e,e=e.dispatch=u9.bind(null,Mr,e),[t.memoizedState,e]}function Hp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Mr.updateQueue,t===null?(t={lastEffect:null,stores:null},Mr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tA(){return Oa().memoizedState}function Jy(e,t,r,n){var s=Ii();Mr.flags|=e,s.memoizedState=Hp(1|t,r,void 0,n===void 0?null:n)}function M0(e,t,r,n){var s=Oa();n=n===void 0?null:n;var a=void 0;if(vn!==null){var i=vn.memoizedState;if(a=i.destroy,n!==null&&ES(n,i.deps)){s.memoizedState=Hp(t,r,a,n);return}}Mr.flags|=e,s.memoizedState=Hp(1|t,r,a,n)}function y4(e,t){return Jy(8390656,8,e,t)}function LS(e,t){return M0(2048,8,e,t)}function rA(e,t){return M0(4,2,e,t)}function nA(e,t){return M0(4,4,e,t)}function sA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aA(e,t,r){return r=r!=null?r.concat([e]):null,M0(4,4,sA.bind(null,t,e),r)}function DS(){}function iA(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ES(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oA(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ES(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lA(e,t,r){return lu&21?(hi(r,t)||(r=f3(),Mr.lanes|=r,cu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rs=!0),e.memoizedState=r)}function l9(e,t){var r=ar;ar=r!==0&&4>r?r:4,e(!0);var n=rw.transition;rw.transition={};try{e(!1),t()}finally{ar=r,rw.transition=n}}function cA(){return Oa().memoizedState}function c9(e,t,r){var n=Vl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uA(e))dA(t,r);else if(r=W3(e,t,r,n),r!==null){var s=ms();ui(r,e,n,s),hA(r,t,n)}}function u9(e,t,r){var n=Vl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uA(e))dA(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,hi(o,i)){var c=t.interleaved;c===null?(s.next=s,NS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=W3(e,t,s,n),r!==null&&(s=ms(),ui(r,e,n,s),hA(r,t,n))}}function uA(e){var t=e.alternate;return e===Mr||t!==null&&t===Mr}function dA(e,t){fp=Ov=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function hA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uS(e,r)}}var Mv={readContext:Ra,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},d9={readContext:Ra,useCallback:function(e,t){return Ii().memoizedState=[e,t===void 0?null:t],e},useContext:Ra,useEffect:y4,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jy(4194308,4,sA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jy(4,2,e,t)},useMemo:function(e,t){var r=Ii();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ii();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=c9.bind(null,Mr,e),[n.memoizedState,e]},useRef:function(e){var t=Ii();return e={current:e},t.memoizedState=e},useState:g4,useDebugValue:DS,useDeferredValue:function(e){return Ii().memoizedState=e},useTransition:function(){var e=g4(!1),t=e[0];return e=l9.bind(null,e[1]),Ii().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Mr,s=Ii();if(Tr){if(r===void 0)throw Error(Ve(407));r=r()}else{if(r=t(),An===null)throw Error(Ve(349));lu&30||X3(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,y4(J3.bind(null,n,a,e),[e]),n.flags|=2048,Hp(9,Z3.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ii(),t=An.identifierPrefix;if(Tr){var r=Co,n=jo;r=(n&~(1<<32-ci(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=o9++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},h9={readContext:Ra,useCallback:iA,useContext:Ra,useEffect:LS,useImperativeHandle:aA,useInsertionEffect:rA,useLayoutEffect:nA,useMemo:oA,useReducer:nw,useRef:tA,useState:function(){return nw(Wp)},useDebugValue:DS,useDeferredValue:function(e){var t=Oa();return lA(t,vn.memoizedState,e)},useTransition:function(){var e=nw(Wp)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:Y3,useSyncExternalStore:K3,useId:cA,unstable_isNewReconciler:!1},f9={readContext:Ra,useCallback:iA,useContext:Ra,useEffect:LS,useImperativeHandle:aA,useInsertionEffect:rA,useLayoutEffect:nA,useMemo:oA,useReducer:sw,useRef:tA,useState:function(){return sw(Wp)},useDebugValue:DS,useDeferredValue:function(e){var t=Oa();return vn===null?t.memoizedState=e:lA(t,vn.memoizedState,e)},useTransition:function(){var e=sw(Wp)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:Y3,useSyncExternalStore:K3,useId:cA,unstable_isNewReconciler:!1};function Qa(e,t){if(e&&e.defaultProps){t=Br({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function eb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Br({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var I0={isMounted:function(e){return(e=e._reactInternals)?xu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ms(),s=Vl(e),a=Eo(n,s);a.payload=t,r!=null&&(a.callback=r),t=$l(e,a,s),t!==null&&(ui(t,e,s,n),Xy(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ms(),s=Vl(e),a=Eo(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=$l(e,a,s),t!==null&&(ui(t,e,s,n),Xy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ms(),n=Vl(e),s=Eo(r,n);s.tag=2,t!=null&&(s.callback=t),t=$l(e,s,n),t!==null&&(ui(t,e,n,r),Xy(t,e,n))}};function v4(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Fp(r,n)||!Fp(s,a):!0}function fA(e,t,r){var n=!1,s=Yl,a=t.contextType;return typeof a=="object"&&a!==null?a=Ra(a):(s=Ms(t)?iu:ns.current,n=t.contextTypes,a=(n=n!=null)?mh(e,s):Yl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=I0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function x4(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&I0.enqueueReplaceState(t,t.state,null)}function tb(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},jS(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ra(a):(a=Ms(t)?iu:ns.current,s.context=mh(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(eb(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&I0.enqueueReplaceState(s,s.state,null),Dv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xh(e,t){try{var r="",n=t;do r+=U7(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function aw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var p9=typeof WeakMap=="function"?WeakMap:Map;function pA(e,t,r){r=Eo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fv||(Fv=!0,hb=n),rb(e,t)},r}function mA(e,t,r){r=Eo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){rb(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){rb(e,t),typeof n!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function w4(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new p9;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=P9.bind(null,e,t,r),t.then(e,e))}function b4(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S4(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Eo(-1,1),t.tag=2,$l(r,t,1))),r.lanes|=1),e)}var m9=zo.ReactCurrentOwner,Rs=!1;function us(e,t,r,n){t.child=e===null?q3(t,null,r,n):yh(t,e.child,r,n)}function _4(e,t,r,n,s){r=r.render;var a=t.ref;return Ud(t,s),n=AS(e,t,r,n,a,s),r=TS(),e!==null&&!Rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Oo(e,t,s)):(Tr&&r&&vS(t),t.flags|=1,us(e,t,n,s),t.child)}function N4(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!US(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,gA(e,t,a,n,s)):(e=rv(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fp,r(i,n)&&e.ref===t.ref)return Oo(e,t,s)}return t.flags|=1,e=zl(a,n),e.ref=t.ref,e.return=t,t.child=e}function gA(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Fp(a,n)&&e.ref===t.ref)if(Rs=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Rs=!0);else return t.lanes=e.lanes,Oo(e,t,s)}return nb(e,t,r,n,s)}function yA(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(Ed,ea),ea|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yr(Ed,ea),ea|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,yr(Ed,ea),ea|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,yr(Ed,ea),ea|=n;return us(e,t,s,r),t.child}function vA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nb(e,t,r,n,s){var a=Ms(r)?iu:ns.current;return a=mh(t,a),Ud(t,s),r=AS(e,t,r,n,a,s),n=TS(),e!==null&&!Rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Oo(e,t,s)):(Tr&&n&&vS(t),t.flags|=1,us(e,t,r,s),t.child)}function j4(e,t,r,n,s){if(Ms(r)){var a=!0;Pv(t)}else a=!1;if(Ud(t,s),t.stateNode===null)Qy(e,t),fA(t,r,n),tb(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ra(u):(u=Ms(r)?iu:ns.current,u=mh(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&x4(t,i,n,u),wl=!1;var f=t.memoizedState;i.state=f,Dv(t,n,i,s),c=t.memoizedState,o!==n||f!==c||Os.current||wl?(typeof d=="function"&&(eb(t,r,d,n),c=t.memoizedState),(o=wl||v4(t,r,o,n,f,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,H3(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Qa(t.type,o),i.props=u,h=t.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ra(c):(c=Ms(r)?iu:ns.current,c=mh(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||f!==c)&&x4(t,i,n,c),wl=!1,f=t.memoizedState,i.state=f,Dv(t,n,i,s);var g=t.memoizedState;o!==h||f!==g||Os.current||wl?(typeof p=="function"&&(eb(t,r,p,n),g=t.memoizedState),(u=wl||v4(t,r,u,n,f,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return sb(e,t,r,n,a,s)}function sb(e,t,r,n,s,a){vA(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&u4(t,r,!1),Oo(e,t,a);n=t.stateNode,m9.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=yh(t,e.child,null,a),t.child=yh(t,null,o,a)):us(e,t,o,a),t.memoizedState=n.state,s&&u4(t,r,!0),t.child}function xA(e){var t=e.stateNode;t.pendingContext?c4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&c4(e,t.context,!1),CS(e,t.containerInfo)}function C4(e,t,r,n,s){return gh(),wS(s),t.flags|=256,us(e,t,r,n),t.child}var ab={dehydrated:null,treeContext:null,retryLane:0};function ib(e){return{baseLanes:e,cachePool:null,transitions:null}}function wA(e,t,r){var n=t.pendingProps,s=Rr.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),yr(Rr,s&1),e===null)return J2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=$0(i,n,0,null),e=eu(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ib(r),t.memoizedState=ab,e):RS(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return g9(e,t,i,n,o,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zl(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=zl(o,a):(a=eu(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?ib(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=ab,n}return a=e.child,e=a.sibling,n=zl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function RS(e,t){return t=$0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yy(e,t,r,n){return n!==null&&wS(n),yh(t,e.child,null,r),e=RS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g9(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=aw(Error(Ve(422))),yy(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=$0({mode:"visible",children:n.children},s,0,null),a=eu(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&yh(t,e.child,null,i),t.child.memoizedState=ib(i),t.memoizedState=ab,a);if(!(t.mode&1))return yy(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Ve(419)),n=aw(a,n,void 0),yy(e,t,i,n)}if(o=(i&e.childLanes)!==0,Rs||o){if(n=An,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Ro(e,s),ui(n,e,s,-1))}return $S(),n=aw(Error(Ve(421))),yy(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=E9.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ra=Bl(s.nextSibling),aa=t,Tr=!0,ai=null,e!==null&&(ka[Pa++]=jo,ka[Pa++]=Co,ka[Pa++]=ou,jo=e.id,Co=e.overflow,ou=t),t=RS(t,n.children),t.flags|=4096,t)}function k4(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Q2(e.return,t,r)}function iw(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function bA(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(us(e,t,n.children,r),n=Rr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k4(e,r,t);else if(e.tag===19)k4(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(yr(Rr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Rv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),iw(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}iw(t,!0,r,null,a);break;case"together":iw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,r=zl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function y9(e,t,r){switch(t.tag){case 3:xA(t),gh();break;case 5:G3(t);break;case 1:Ms(t.type)&&Pv(t);break;case 4:CS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;yr(Tv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(yr(Rr,Rr.current&1),t.flags|=128,null):r&t.child.childLanes?wA(e,t,r):(yr(Rr,Rr.current&1),e=Oo(e,t,r),e!==null?e.sibling:null);yr(Rr,Rr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bA(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yr(Rr,Rr.current),n)break;return null;case 22:case 23:return t.lanes=0,yA(e,t,r)}return Oo(e,t,r)}var SA,ob,_A,NA;SA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ob=function(){};_A=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Wc(Gi.current);var a=null;switch(r){case"input":s=E2(e,s),n=E2(e,n),a=[];break;case"select":s=Br({},s,{value:void 0}),n=Br({},n,{value:void 0}),a=[];break;case"textarea":s=L2(e,s),n=L2(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cv)}R2(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nr("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};NA=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rf(e,t){if(!Tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function v9(e,t,r){var n=t.pendingProps;switch(xS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(t),null;case 1:return Ms(t.type)&&kv(),Wn(t),null;case 3:return n=t.stateNode,vh(),Cr(Os),Cr(ns),PS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(my(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ai!==null&&(mb(ai),ai=null))),ob(e,t),Wn(t),null;case 5:kS(t);var s=Wc(zp.current);if(r=t.type,e!==null&&t.stateNode!=null)_A(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ve(166));return Wn(t),null}if(e=Wc(Gi.current),my(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ui]=t,n[Up]=a,e=(t.mode&1)!==0,r){case"dialog":Nr("cancel",n),Nr("close",n);break;case"iframe":case"object":case"embed":Nr("load",n);break;case"video":case"audio":for(s=0;s<Zf.length;s++)Nr(Zf[s],n);break;case"source":Nr("error",n);break;case"img":case"image":case"link":Nr("error",n),Nr("load",n);break;case"details":Nr("toggle",n);break;case"input":Mj(n,a),Nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",n);break;case"textarea":Fj(n,a),Nr("invalid",n)}R2(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&py(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&py(n.textContent,o,e),s=["children",""+o]):Tp.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Nr("scroll",n)}switch(r){case"input":iy(n),Ij(n,a,!0);break;case"textarea":iy(n),Bj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Cv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ui]=t,e[Up]=n,SA(e,t,!1,!1),t.stateNode=e;e:{switch(i=O2(r,n),r){case"dialog":Nr("cancel",e),Nr("close",e),s=n;break;case"iframe":case"object":case"embed":Nr("load",e),s=n;break;case"video":case"audio":for(s=0;s<Zf.length;s++)Nr(Zf[s],e);s=n;break;case"source":Nr("error",e),s=n;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),s=n;break;case"details":Nr("toggle",e),s=n;break;case"input":Mj(e,n),s=E2(e,n),Nr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Br({},n,{value:void 0}),Nr("invalid",e);break;case"textarea":Fj(e,n),s=L2(e,n),Nr("invalid",e);break;default:s=n}R2(r,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?t3(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QE(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lp(e,c):typeof c=="number"&&Lp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Tp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Nr("scroll",e):c!=null&&sS(e,a,c,i))}switch(r){case"input":iy(e),Ij(e,n,!1);break;case"textarea":iy(e),Bj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Id(e,!!n.multiple,a,!1):n.defaultValue!=null&&Id(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Cv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wn(t),null;case 6:if(e&&t.stateNode!=null)NA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ve(166));if(r=Wc(zp.current),Wc(Gi.current),my(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ui]=t,(a=n.nodeValue!==r)&&(e=aa,e!==null))switch(e.tag){case 3:py(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&py(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ui]=t,t.stateNode=n}return Wn(t),null;case 13:if(Cr(Rr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tr&&ra!==null&&t.mode&1&&!(t.flags&128))V3(),gh(),t.flags|=98560,a=!1;else if(a=my(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ve(317));a[Ui]=t}else gh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wn(t),a=!1}else ai!==null&&(mb(ai),ai=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Rr.current&1?xn===0&&(xn=3):$S())),t.updateQueue!==null&&(t.flags|=4),Wn(t),null);case 4:return vh(),ob(e,t),e===null&&Bp(t.stateNode.containerInfo),Wn(t),null;case 10:return _S(t.type._context),Wn(t),null;case 17:return Ms(t.type)&&kv(),Wn(t),null;case 19:if(Cr(Rr),a=t.memoizedState,a===null)return Wn(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Rf(a,!1);else{if(xn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rv(e),i!==null){for(t.flags|=128,Rf(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return yr(Rr,Rr.current&1|2),t.child}e=e.sibling}a.tail!==null&&rn()>wh&&(t.flags|=128,n=!0,Rf(a,!1),t.lanes=4194304)}else{if(!n)if(e=Rv(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Tr)return Wn(t),null}else 2*rn()-a.renderingStartTime>wh&&r!==1073741824&&(t.flags|=128,n=!0,Rf(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=rn(),t.sibling=null,r=Rr.current,yr(Rr,n?r&1|2:r&1),t):(Wn(t),null);case 22:case 23:return BS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ea&1073741824&&(Wn(t),t.subtreeFlags&6&&(t.flags|=8192)):Wn(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function x9(e,t){switch(xS(t),t.tag){case 1:return Ms(t.type)&&kv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vh(),Cr(Os),Cr(ns),PS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kS(t),null;case 13:if(Cr(Rr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));gh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cr(Rr),null;case 4:return vh(),null;case 10:return _S(t.type._context),null;case 22:case 23:return BS(),null;case 24:return null;default:return null}}var vy=!1,Qn=!1,w9=typeof WeakSet=="function"?WeakSet:Set,at=null;function Pd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yr(e,t,n)}else r.current=null}function lb(e,t,r){try{r()}catch(n){Yr(e,t,n)}}var P4=!1;function b9(e,t){if(W2=_v,e=E3(),yS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(o=i+s),h!==a||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=i),f===a&&++d===n&&(c=i),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(H2={focusedElem:e,selectionRange:r},_v=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){t=at;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qa(t.type,y),S);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(C){Yr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}return g=P4,P4=!1,g}function pp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&lb(t,r,a)}s=s.next}while(s!==n)}}function F0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function cb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jA(e){var t=e.alternate;t!==null&&(e.alternate=null,jA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ui],delete t[Up],delete t[K2],delete t[n9],delete t[s9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CA(e){return e.tag===5||e.tag===3||e.tag===4}function E4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ub(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cv));else if(n!==4&&(e=e.child,e!==null))for(ub(e,t,r),e=e.sibling;e!==null;)ub(e,t,r),e=e.sibling}function db(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(db(e,t,r),e=e.sibling;e!==null;)db(e,t,r),e=e.sibling}var Mn=null,ni=!1;function ol(e,t,r){for(r=r.child;r!==null;)kA(e,t,r),r=r.sibling}function kA(e,t,r){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(A0,r)}catch{}switch(r.tag){case 5:Qn||Pd(r,t);case 6:var n=Mn,s=ni;Mn=null,ol(e,t,r),Mn=n,ni=s,Mn!==null&&(ni?(e=Mn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mn.removeChild(r.stateNode));break;case 18:Mn!==null&&(ni?(e=Mn,r=r.stateNode,e.nodeType===8?Qx(e.parentNode,r):e.nodeType===1&&Qx(e,r),Mp(e)):Qx(Mn,r.stateNode));break;case 4:n=Mn,s=ni,Mn=r.stateNode.containerInfo,ni=!0,ol(e,t,r),Mn=n,ni=s;break;case 0:case 11:case 14:case 15:if(!Qn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&lb(r,t,i),s=s.next}while(s!==n)}ol(e,t,r);break;case 1:if(!Qn&&(Pd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Yr(r,t,o)}ol(e,t,r);break;case 21:ol(e,t,r);break;case 22:r.mode&1?(Qn=(n=Qn)||r.memoizedState!==null,ol(e,t,r),Qn=n):ol(e,t,r);break;default:ol(e,t,r)}}function A4(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new w9),t.forEach(function(n){var s=A9.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ha(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Mn=o.stateNode,ni=!1;break e;case 3:Mn=o.stateNode.containerInfo,ni=!0;break e;case 4:Mn=o.stateNode.containerInfo,ni=!0;break e}o=o.return}if(Mn===null)throw Error(Ve(160));kA(a,i,s),Mn=null,ni=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Yr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PA(t,e),t=t.sibling}function PA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ha(t,e),Di(e),n&4){try{pp(3,e,e.return),F0(3,e)}catch(y){Yr(e,e.return,y)}try{pp(5,e,e.return)}catch(y){Yr(e,e.return,y)}}break;case 1:Ha(t,e),Di(e),n&512&&r!==null&&Pd(r,r.return);break;case 5:if(Ha(t,e),Di(e),n&512&&r!==null&&Pd(r,r.return),e.flags&32){var s=e.stateNode;try{Lp(s,"")}catch(y){Yr(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&XE(s,a),O2(o,i);var u=O2(o,a);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?t3(s,h):d==="dangerouslySetInnerHTML"?QE(s,h):d==="children"?Lp(s,h):sS(s,d,h,u)}switch(o){case"input":A2(s,a);break;case"textarea":ZE(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Id(s,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Id(s,!!a.multiple,a.defaultValue,!0):Id(s,!!a.multiple,a.multiple?[]:"",!1))}s[Up]=a}catch(y){Yr(e,e.return,y)}}break;case 6:if(Ha(t,e),Di(e),n&4){if(e.stateNode===null)throw Error(Ve(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){Yr(e,e.return,y)}}break;case 3:if(Ha(t,e),Di(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mp(t.containerInfo)}catch(y){Yr(e,e.return,y)}break;case 4:Ha(t,e),Di(e);break;case 13:Ha(t,e),Di(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(IS=rn())),n&4&&A4(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qn=(u=Qn)||d,Ha(t,e),Qn=u):Ha(t,e),Di(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(at=e,d=e.child;d!==null;){for(h=at=d;at!==null;){switch(f=at,p=f.child,f.tag){case 0:case 11:case 14:case 15:pp(4,f,f.return);break;case 1:Pd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Yr(n,r,y)}}break;case 5:Pd(f,f.return);break;case 22:if(f.memoizedState!==null){L4(h);continue}}p!==null?(p.return=f,at=p):L4(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=e3("display",i))}catch(y){Yr(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Yr(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ha(t,e),Di(e),n&4&&A4(e);break;case 21:break;default:Ha(t,e),Di(e)}}function Di(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(CA(r)){var n=r;break e}r=r.return}throw Error(Ve(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Lp(s,""),n.flags&=-33);var a=E4(e);db(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,o=E4(e);ub(e,o,i);break;default:throw Error(Ve(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S9(e,t,r){at=e,EA(e)}function EA(e,t,r){for(var n=(e.mode&1)!==0;at!==null;){var s=at,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||vy;if(!i){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Qn;o=vy;var u=Qn;if(vy=i,(Qn=c)&&!u)for(at=s;at!==null;)i=at,c=i.child,i.tag===22&&i.memoizedState!==null?D4(s):c!==null?(c.return=i,at=c):D4(s);for(;a!==null;)at=a,EA(a),a=a.sibling;at=s,vy=o,Qn=u}T4(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,at=a):T4(e)}}function T4(e){for(;at!==null;){var t=at;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qn||F0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Qa(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&m4(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}m4(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}Qn||t.flags&512&&cb(t)}catch(f){Yr(t,t.return,f)}}if(t===e){at=null;break}if(r=t.sibling,r!==null){r.return=t.return,at=r;break}at=t.return}}function L4(e){for(;at!==null;){var t=at;if(t===e){at=null;break}var r=t.sibling;if(r!==null){r.return=t.return,at=r;break}at=t.return}}function D4(e){for(;at!==null;){var t=at;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{F0(4,t)}catch(c){Yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Yr(t,s,c)}}var a=t.return;try{cb(t)}catch(c){Yr(t,a,c)}break;case 5:var i=t.return;try{cb(t)}catch(c){Yr(t,i,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){at=null;break}var o=t.sibling;if(o!==null){o.return=t.return,at=o;break}at=t.return}}var _9=Math.ceil,Iv=zo.ReactCurrentDispatcher,OS=zo.ReactCurrentOwner,Aa=zo.ReactCurrentBatchConfig,Kt=0,An=null,pn=null,Fn=0,ea=0,Ed=lc(0),xn=0,Gp=null,cu=0,B0=0,MS=0,mp=null,Ts=null,IS=0,wh=1/0,bo=null,Fv=!1,hb=null,Ul=null,xy=!1,Dl=null,Bv=0,gp=0,fb=null,ev=-1,tv=0;function ms(){return Kt&6?rn():ev!==-1?ev:ev=rn()}function Vl(e){return e.mode&1?Kt&2&&Fn!==0?Fn&-Fn:i9.transition!==null?(tv===0&&(tv=f3()),tv):(e=ar,e!==0||(e=window.event,e=e===void 0?16:w3(e.type)),e):1}function ui(e,t,r,n){if(50<gp)throw gp=0,fb=null,Error(Ve(185));Fm(e,r,n),(!(Kt&2)||e!==An)&&(e===An&&(!(Kt&2)&&(B0|=r),xn===4&&_l(e,Fn)),Is(e,n),r===1&&Kt===0&&!(t.mode&1)&&(wh=rn()+500,O0&&cc()))}function Is(e,t){var r=e.callbackNode;iB(e,t);var n=Sv(e,e===An?Fn:0);if(n===0)r!==null&&Vj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Vj(r),t===1)e.tag===0?a9(R4.bind(null,e)):B3(R4.bind(null,e)),t9(function(){!(Kt&6)&&cc()}),r=null;else{switch(p3(n)){case 1:r=cS;break;case 4:r=d3;break;case 16:r=bv;break;case 536870912:r=h3;break;default:r=bv}r=IA(r,AA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function AA(e,t){if(ev=-1,tv=0,Kt&6)throw Error(Ve(327));var r=e.callbackNode;if(Vd()&&e.callbackNode!==r)return null;var n=Sv(e,e===An?Fn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$v(e,n);else{t=n;var s=Kt;Kt|=2;var a=LA();(An!==e||Fn!==t)&&(bo=null,wh=rn()+500,Qc(e,t));do try{C9();break}catch(o){TA(e,o)}while(!0);SS(),Iv.current=a,Kt=s,pn!==null?t=0:(An=null,Fn=0,t=xn)}if(t!==0){if(t===2&&(s=$2(e),s!==0&&(n=s,t=pb(e,s))),t===1)throw r=Gp,Qc(e,0),_l(e,n),Is(e,rn()),r;if(t===6)_l(e,n);else{if(s=e.current.alternate,!(n&30)&&!N9(s)&&(t=$v(e,n),t===2&&(a=$2(e),a!==0&&(n=a,t=pb(e,a))),t===1))throw r=Gp,Qc(e,0),_l(e,n),Is(e,rn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Ve(345));case 2:Dc(e,Ts,bo);break;case 3:if(_l(e,n),(n&130023424)===n&&(t=IS+500-rn(),10<t)){if(Sv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ms(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Y2(Dc.bind(null,e,Ts,bo),t);break}Dc(e,Ts,bo);break;case 4:if(_l(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ci(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=rn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_9(n/1960))-n,10<n){e.timeoutHandle=Y2(Dc.bind(null,e,Ts,bo),n);break}Dc(e,Ts,bo);break;case 5:Dc(e,Ts,bo);break;default:throw Error(Ve(329))}}}return Is(e,rn()),e.callbackNode===r?AA.bind(null,e):null}function pb(e,t){var r=mp;return e.current.memoizedState.isDehydrated&&(Qc(e,t).flags|=256),e=$v(e,t),e!==2&&(t=Ts,Ts=r,t!==null&&mb(t)),e}function mb(e){Ts===null?Ts=e:Ts.push.apply(Ts,e)}function N9(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!hi(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _l(e,t){for(t&=~MS,t&=~B0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ci(t),n=1<<r;e[r]=-1,t&=~n}}function R4(e){if(Kt&6)throw Error(Ve(327));Vd();var t=Sv(e,0);if(!(t&1))return Is(e,rn()),null;var r=$v(e,t);if(e.tag!==0&&r===2){var n=$2(e);n!==0&&(t=n,r=pb(e,n))}if(r===1)throw r=Gp,Qc(e,0),_l(e,t),Is(e,rn()),r;if(r===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dc(e,Ts,bo),Is(e,rn()),null}function FS(e,t){var r=Kt;Kt|=1;try{return e(t)}finally{Kt=r,Kt===0&&(wh=rn()+500,O0&&cc())}}function uu(e){Dl!==null&&Dl.tag===0&&!(Kt&6)&&Vd();var t=Kt;Kt|=1;var r=Aa.transition,n=ar;try{if(Aa.transition=null,ar=1,e)return e()}finally{ar=n,Aa.transition=r,Kt=t,!(Kt&6)&&cc()}}function BS(){ea=Ed.current,Cr(Ed)}function Qc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,e9(r)),pn!==null)for(r=pn.return;r!==null;){var n=r;switch(xS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kv();break;case 3:vh(),Cr(Os),Cr(ns),PS();break;case 5:kS(n);break;case 4:vh();break;case 13:Cr(Rr);break;case 19:Cr(Rr);break;case 10:_S(n.type._context);break;case 22:case 23:BS()}r=r.return}if(An=e,pn=e=zl(e.current,null),Fn=ea=t,xn=0,Gp=null,MS=B0=cu=0,Ts=mp=null,qc!==null){for(t=0;t<qc.length;t++)if(r=qc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}qc=null}return e}function TA(e,t){do{var r=pn;try{if(SS(),Zy.current=Mv,Ov){for(var n=Mr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ov=!1}if(lu=0,Cn=vn=Mr=null,fp=!1,qp=0,OS.current=null,r===null||r.return===null){xn=1,Gp=t,pn=null;break}e:{var a=e,i=r.return,o=r,c=t;if(t=Fn,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=b4(i);if(p!==null){p.flags&=-257,S4(p,i,o,a,t),p.mode&1&&w4(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){w4(a,u,t),$S();break e}c=Error(Ve(426))}}else if(Tr&&o.mode&1){var S=b4(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),S4(S,i,o,a,t),wS(xh(c,o));break e}}a=c=xh(c,o),xn!==4&&(xn=2),mp===null?mp=[a]:mp.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=pA(a,c,t);p4(a,b);break e;case 1:o=c;var w=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ul===null||!Ul.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=mA(a,o,t);p4(a,C);break e}}a=a.return}while(a!==null)}RA(r)}catch(P){t=P,pn===r&&r!==null&&(pn=r=r.return);continue}break}while(!0)}function LA(){var e=Iv.current;return Iv.current=Mv,e===null?Mv:e}function $S(){(xn===0||xn===3||xn===2)&&(xn=4),An===null||!(cu&268435455)&&!(B0&268435455)||_l(An,Fn)}function $v(e,t){var r=Kt;Kt|=2;var n=LA();(An!==e||Fn!==t)&&(bo=null,Qc(e,t));do try{j9();break}catch(s){TA(e,s)}while(!0);if(SS(),Kt=r,Iv.current=n,pn!==null)throw Error(Ve(261));return An=null,Fn=0,xn}function j9(){for(;pn!==null;)DA(pn)}function C9(){for(;pn!==null&&!Z7();)DA(pn)}function DA(e){var t=MA(e.alternate,e,ea);e.memoizedProps=e.pendingProps,t===null?RA(e):pn=t,OS.current=null}function RA(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=x9(r,t),r!==null){r.flags&=32767,pn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xn=6,pn=null;return}}else if(r=v9(r,t,ea),r!==null){pn=r;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);xn===0&&(xn=5)}function Dc(e,t,r){var n=ar,s=Aa.transition;try{Aa.transition=null,ar=1,k9(e,t,r,n)}finally{Aa.transition=s,ar=n}return null}function k9(e,t,r,n){do Vd();while(Dl!==null);if(Kt&6)throw Error(Ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(oB(e,a),e===An&&(pn=An=null,Fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xy||(xy=!0,IA(bv,function(){return Vd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Aa.transition,Aa.transition=null;var i=ar;ar=1;var o=Kt;Kt|=4,OS.current=null,b9(e,r),PA(r,e),GB(H2),_v=!!W2,H2=W2=null,e.current=r,S9(r),J7(),Kt=o,ar=i,Aa.transition=a}else e.current=r;if(xy&&(xy=!1,Dl=e,Bv=s),a=e.pendingLanes,a===0&&(Ul=null),tB(r.stateNode),Is(e,rn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fv)throw Fv=!1,e=hb,hb=null,e;return Bv&1&&e.tag!==0&&Vd(),a=e.pendingLanes,a&1?e===fb?gp++:(gp=0,fb=e):gp=0,cc(),null}function Vd(){if(Dl!==null){var e=p3(Bv),t=Aa.transition,r=ar;try{if(Aa.transition=null,ar=16>e?16:e,Dl===null)var n=!1;else{if(e=Dl,Dl=null,Bv=0,Kt&6)throw Error(Ve(331));var s=Kt;for(Kt|=4,at=e.current;at!==null;){var a=at,i=a.child;if(at.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(at=u;at!==null;){var d=at;switch(d.tag){case 0:case 11:case 15:pp(8,d,a)}var h=d.child;if(h!==null)h.return=d,at=h;else for(;at!==null;){d=at;var f=d.sibling,p=d.return;if(jA(d),d===u){at=null;break}if(f!==null){f.return=p,at=f;break}at=p}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}at=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,at=i;else e:for(;at!==null;){if(a=at,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pp(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,at=b;break e}at=a.return}}var w=e.current;for(at=w;at!==null;){i=at;var N=i.child;if(i.subtreeFlags&2064&&N!==null)N.return=i,at=N;else e:for(i=w;at!==null;){if(o=at,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:F0(9,o)}}catch(P){Yr(o,o.return,P)}if(o===i){at=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,at=C;break e}at=o.return}}if(Kt=s,cc(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(A0,e)}catch{}n=!0}return n}finally{ar=r,Aa.transition=t}}return!1}function O4(e,t,r){t=xh(r,t),t=pA(e,t,1),e=$l(e,t,1),t=ms(),e!==null&&(Fm(e,1,t),Is(e,t))}function Yr(e,t,r){if(e.tag===3)O4(e,e,r);else for(;t!==null;){if(t.tag===3){O4(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ul===null||!Ul.has(n))){e=xh(r,e),e=mA(t,e,1),t=$l(t,e,1),e=ms(),t!==null&&(Fm(t,1,e),Is(t,e));break}}t=t.return}}function P9(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ms(),e.pingedLanes|=e.suspendedLanes&r,An===e&&(Fn&r)===r&&(xn===4||xn===3&&(Fn&130023424)===Fn&&500>rn()-IS?Qc(e,0):MS|=r),Is(e,t)}function OA(e,t){t===0&&(e.mode&1?(t=cy,cy<<=1,!(cy&130023424)&&(cy=4194304)):t=1);var r=ms();e=Ro(e,t),e!==null&&(Fm(e,t,r),Is(e,r))}function E9(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),OA(e,r)}function A9(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(t),OA(e,r)}var MA;MA=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Os.current)Rs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rs=!1,y9(e,t,r);Rs=!!(e.flags&131072)}else Rs=!1,Tr&&t.flags&1048576&&$3(t,Av,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qy(e,t),e=t.pendingProps;var s=mh(t,ns.current);Ud(t,r),s=AS(null,t,n,e,s,r);var a=TS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(n)?(a=!0,Pv(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jS(t),s.updater=I0,t.stateNode=s,s._reactInternals=t,tb(t,n,e,r),t=sb(null,t,n,!0,a,r)):(t.tag=0,Tr&&a&&vS(t),us(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Qy(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=L9(n),e=Qa(n,e),s){case 0:t=nb(null,t,n,e,r);break e;case 1:t=j4(null,t,n,e,r);break e;case 11:t=_4(null,t,n,e,r);break e;case 14:t=N4(null,t,n,Qa(n.type,e),r);break e}throw Error(Ve(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),nb(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),j4(e,t,n,s,r);case 3:e:{if(xA(t),e===null)throw Error(Ve(387));n=t.pendingProps,a=t.memoizedState,s=a.element,H3(e,t),Dv(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=xh(Error(Ve(423)),t),t=C4(e,t,n,r,s);break e}else if(n!==s){s=xh(Error(Ve(424)),t),t=C4(e,t,n,r,s);break e}else for(ra=Bl(t.stateNode.containerInfo.firstChild),aa=t,Tr=!0,ai=null,r=q3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gh(),n===s){t=Oo(e,t,r);break e}us(e,t,n,r)}t=t.child}return t;case 5:return G3(t),e===null&&J2(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,G2(n,s)?i=null:a!==null&&G2(n,a)&&(t.flags|=32),vA(e,t),us(e,t,i,r),t.child;case 6:return e===null&&J2(t),null;case 13:return wA(e,t,r);case 4:return CS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=yh(t,null,n,r):us(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),_4(e,t,n,s,r);case 7:return us(e,t,t.pendingProps,r),t.child;case 8:return us(e,t,t.pendingProps.children,r),t.child;case 12:return us(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,yr(Tv,n._currentValue),n._currentValue=i,a!==null)if(hi(a.value,i)){if(a.children===s.children&&!Os.current){t=Oo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Eo(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Q2(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(Ve(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Q2(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}us(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ud(t,r),s=Ra(s),n=n(s),t.flags|=1,us(e,t,n,r),t.child;case 14:return n=t.type,s=Qa(n,t.pendingProps),s=Qa(n.type,s),N4(e,t,n,s,r);case 15:return gA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),Qy(e,t),t.tag=1,Ms(n)?(e=!0,Pv(t)):e=!1,Ud(t,r),fA(t,n,s),tb(t,n,s,r),sb(null,t,n,!0,e,r);case 19:return bA(e,t,r);case 22:return yA(e,t,r)}throw Error(Ve(156,t.tag))};function IA(e,t){return u3(e,t)}function T9(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(e,t,r,n){return new T9(e,t,r,n)}function US(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L9(e){if(typeof e=="function")return US(e)?1:0;if(e!=null){if(e=e.$$typeof,e===iS)return 11;if(e===oS)return 14}return 2}function zl(e,t){var r=e.alternate;return r===null?(r=Ea(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rv(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")US(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xd:return eu(r.children,s,a,t);case aS:i=8,s|=8;break;case j2:return e=Ea(12,r,t,s|2),e.elementType=j2,e.lanes=a,e;case C2:return e=Ea(13,r,t,s),e.elementType=C2,e.lanes=a,e;case k2:return e=Ea(19,r,t,s),e.elementType=k2,e.lanes=a,e;case GE:return $0(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WE:i=10;break e;case HE:i=9;break e;case iS:i=11;break e;case oS:i=14;break e;case xl:i=16,n=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Ea(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function eu(e,t,r,n){return e=Ea(7,e,n,t),e.lanes=r,e}function $0(e,t,r,n){return e=Ea(22,e,n,t),e.elementType=GE,e.lanes=r,e.stateNode={isHidden:!1},e}function ow(e,t,r){return e=Ea(6,e,null,t),e.lanes=r,e}function lw(e,t,r){return t=Ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D9(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vx(0),this.expirationTimes=Vx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vx(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function VS(e,t,r,n,s,a,i,o,c){return e=new D9(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ea(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jS(a),e}function R9(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FA(e){if(!e)return Yl;e=e._reactInternals;e:{if(xu(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var r=e.type;if(Ms(r))return F3(e,r,t)}return t}function BA(e,t,r,n,s,a,i,o,c){return e=VS(r,n,!0,e,s,a,i,o,c),e.context=FA(null),r=e.current,n=ms(),s=Vl(r),a=Eo(n,s),a.callback=t??null,$l(r,a,s),e.current.lanes=s,Fm(e,s,n),Is(e,n),e}function U0(e,t,r,n){var s=t.current,a=ms(),i=Vl(s);return r=FA(r),t.context===null?t.context=r:t.pendingContext=r,t=Eo(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$l(s,t,i),e!==null&&(ui(e,s,i,a),Xy(e,s,i)),i}function Uv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function M4(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zS(e,t){M4(e,t),(e=e.alternate)&&M4(e,t)}function O9(){return null}var $A=typeof reportError=="function"?reportError:function(e){console.error(e)};function qS(e){this._internalRoot=e}V0.prototype.render=qS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));U0(e,t,null,null)};V0.prototype.unmount=qS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uu(function(){U0(null,e,null,null)}),t[Do]=null}};function V0(e){this._internalRoot=e}V0.prototype.unstable_scheduleHydration=function(e){if(e){var t=y3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sl.length&&t!==0&&t<Sl[r].priority;r++);Sl.splice(r,0,e),r===0&&x3(e)}};function WS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function I4(){}function M9(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Uv(i);a.call(u)}}var i=BA(t,n,e,0,null,!1,!1,"",I4);return e._reactRootContainer=i,e[Do]=i.current,Bp(e.nodeType===8?e.parentNode:e),uu(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Uv(c);o.call(u)}}var c=VS(e,0,!1,null,null,!1,!1,"",I4);return e._reactRootContainer=c,e[Do]=c.current,Bp(e.nodeType===8?e.parentNode:e),uu(function(){U0(t,c,r,n)}),c}function q0(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var c=Uv(i);o.call(c)}}U0(t,i,e,s)}else i=M9(r,t,e,s,n);return Uv(i)}m3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xf(t.pendingLanes);r!==0&&(uS(t,r|1),Is(t,rn()),!(Kt&6)&&(wh=rn()+500,cc()))}break;case 13:uu(function(){var n=Ro(e,1);if(n!==null){var s=ms();ui(n,e,1,s)}}),zS(e,1)}};dS=function(e){if(e.tag===13){var t=Ro(e,134217728);if(t!==null){var r=ms();ui(t,e,134217728,r)}zS(e,134217728)}};g3=function(e){if(e.tag===13){var t=Vl(e),r=Ro(e,t);if(r!==null){var n=ms();ui(r,e,t,n)}zS(e,t)}};y3=function(){return ar};v3=function(e,t){var r=ar;try{return ar=e,t()}finally{ar=r}};I2=function(e,t,r){switch(t){case"input":if(A2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=R0(n);if(!s)throw Error(Ve(90));KE(n),A2(n,s)}}}break;case"textarea":ZE(e,r);break;case"select":t=r.value,t!=null&&Id(e,!!r.multiple,t,!1)}};s3=FS;a3=uu;var I9={usingClientEntryPoint:!1,Events:[$m,_d,R0,r3,n3,FS]},Of={findFiberByHostInstance:zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F9={bundleType:Of.bundleType,version:Of.version,rendererPackageName:Of.rendererPackageName,rendererConfig:Of.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l3(e),e===null?null:e.stateNode},findFiberByHostInstance:Of.findFiberByHostInstance||O9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wy.isDisabled&&wy.supportsFiber)try{A0=wy.inject(F9),Hi=wy}catch{}}ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I9;ua.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WS(t))throw Error(Ve(200));return R9(e,t,null,r)};ua.createRoot=function(e,t){if(!WS(e))throw Error(Ve(299));var r=!1,n="",s=$A;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=VS(e,1,!1,null,null,r,!1,n,s),e[Do]=t.current,Bp(e.nodeType===8?e.parentNode:e),new qS(t)};ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=l3(t),e=e===null?null:e.stateNode,e};ua.flushSync=function(e){return uu(e)};ua.hydrate=function(e,t,r){if(!z0(t))throw Error(Ve(200));return q0(null,e,t,!0,r)};ua.hydrateRoot=function(e,t,r){if(!WS(e))throw Error(Ve(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=$A;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=BA(t,null,e,1,r??null,s,!1,a,i),e[Do]=t.current,Bp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new V0(t)};ua.render=function(e,t,r){if(!z0(t))throw Error(Ve(200));return q0(null,e,t,!1,r)};ua.unmountComponentAtNode=function(e){if(!z0(e))throw Error(Ve(40));return e._reactRootContainer?(uu(function(){q0(null,null,e,!1,function(){e._reactRootContainer=null,e[Do]=null})}),!0):!1};ua.unstable_batchedUpdates=FS;ua.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!z0(r))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return q0(e,t,r,!1,n)};ua.version="18.3.1-next-f1338f8080-20240426";function UA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UA)}catch(e){console.error(e)}}UA(),UE.exports=ua;var wu=UE.exports;const VA=PE(wu);var zA,F4=wu;zA=F4.createRoot,F4.hydrateRoot;const B9=1,$9=5e3;let cw=0;function U9(){return cw=(cw+1)%Number.MAX_SAFE_INTEGER,cw.toString()}const uw=new Map,B4=e=>{if(uw.has(e))return;const t=setTimeout(()=>{uw.delete(e),yp({type:"REMOVE_TOAST",toastId:e})},$9);uw.set(e,t)},V9=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,B9)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?B4(r):e.toasts.forEach(n=>{B4(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},nv=[];let sv={toasts:[]};function yp(e){sv=V9(sv,e),nv.forEach(t=>{t(sv)})}function z9({...e}){const t=U9(),r=s=>yp({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>yp({type:"DISMISS_TOAST",toastId:t});return yp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function ir(){const[e,t]=v.useState(sv);return v.useEffect(()=>(nv.push(t),()=>{const r=nv.indexOf(t);r>-1&&nv.splice(r,1)}),[e]),{...e,toast:z9,dismiss:r=>yp({type:"DISMISS_TOAST",toastId:r})}}function Ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function q9(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function W0(...e){return t=>e.forEach(r=>q9(r,t))}function Ft(...e){return v.useCallback(W0(...e),e)}function W9(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,H9(s,...t)]}function H9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ji=v.forwardRef((e,t)=>{const{children:r,...n}=e,s=v.Children.toArray(r),a=s.find(G9);if(a){const i=a.props.children,o=s.map(c=>c===a?v.Children.count(i)>1?v.Children.only(null):v.isValidElement(i)?i.props.children:null:c);return l.jsx(gb,{...n,ref:t,children:v.isValidElement(i)?v.cloneElement(i,void 0,o):null})}return l.jsx(gb,{...n,ref:t,children:r})});Ji.displayName="Slot";var gb=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const s=K9(r);return v.cloneElement(r,{...Y9(n,r.props),ref:t?W0(t,s):s})}return v.Children.count(r)>1?v.Children.only(null):null});gb.displayName="SlotClone";var HS=({children:e})=>l.jsx(l.Fragment,{children:e});function G9(e){return v.isValidElement(e)&&e.type===HS}function Y9(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...o)=>{a(...o),s(...o)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function K9(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function H0(e){const t=e+"CollectionProvider",[r,n]=W9(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:y}=p,S=ke.useRef(null),b=ke.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:b,collectionRef:S,children:y})};i.displayName=t;const o=e+"CollectionSlot",c=ke.forwardRef((p,g)=>{const{scope:y,children:S}=p,b=a(o,y),w=Ft(g,b.collectionRef);return l.jsx(Ji,{ref:w,children:S})});c.displayName=o;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=ke.forwardRef((p,g)=>{const{scope:y,children:S,...b}=p,w=ke.useRef(null),N=Ft(g,w),C=a(u,y);return ke.useEffect(()=>(C.itemMap.set(w,{ref:w,...b}),()=>void C.itemMap.delete(w))),l.jsx(Ji,{[d]:"",ref:N,children:S})});h.displayName=u;function f(p){const g=a(e+"CollectionConsumer",p);return ke.useCallback(()=>{const S=g.collectionRef.current;if(!S)return[];const b=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((C,P)=>b.indexOf(C.ref.current)-b.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},f,n]}function X9(e,t){const r=v.createContext(t),n=a=>{const{children:i,...o}=a,c=v.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=v.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function ha(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];const u=h=>{var b;const{scope:f,children:p,...g}=h,y=((b=f==null?void 0:f[e])==null?void 0:b[c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})};u.displayName=a+"Provider";function d(h,f){var y;const p=((y=f==null?void 0:f[e])==null?void 0:y[c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,Z9(s,...t)]}function Z9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var J9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ct=J9.reduce((e,t)=>{const r=v.forwardRef((n,s)=>{const{asChild:a,...i}=n,o=a?Ji:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(o,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function GS(e,t){e&&wu.flushSync(()=>e.dispatchEvent(t))}function $n(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Q9(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var e$="DismissableLayer",yb="dismissableLayer.update",t$="dismissableLayer.pointerDownOutside",r$="dismissableLayer.focusOutside",$4,qA=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bu=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...c}=e,u=v.useContext(qA),[d,h]=v.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),g=Ft(t,R=>h(R)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(S),w=d?y.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=b,P=s$(R=>{const T=R.target,H=[...u.branches].some(Q=>Q.contains(T));!C||H||(s==null||s(R),i==null||i(R),R.defaultPrevented||o==null||o())},f),M=a$(R=>{const T=R.target;[...u.branches].some(Q=>Q.contains(T))||(a==null||a(R),i==null||i(R),R.defaultPrevented||o==null||o())},f);return Q9(R=>{w===u.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&o&&(R.preventDefault(),o()))},f),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($4=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),U4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=$4)}},[d,f,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),U4())},[d,u]),v.useEffect(()=>{const R=()=>p({});return document.addEventListener(yb,R),()=>document.removeEventListener(yb,R)},[]),l.jsx(ct.div,{...c,ref:g,style:{pointerEvents:N?C?"auto":"none":void 0,...e.style},onFocusCapture:Ge(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Ge(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ge(e.onPointerDownCapture,P.onPointerDownCapture)})});bu.displayName=e$;var n$="DismissableLayerBranch",WA=v.forwardRef((e,t)=>{const r=v.useContext(qA),n=v.useRef(null),s=Ft(t,n);return v.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(ct.div,{...e,ref:s})});WA.displayName=n$;function s$(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let c=function(){HA(t$,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function a$(e,t=globalThis==null?void 0:globalThis.document){const r=$n(e),n=v.useRef(!1);return v.useEffect(()=>{const s=a=>{a.target&&!n.current&&HA(r$,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function U4(){const e=new CustomEvent(yb);document.dispatchEvent(e)}function HA(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?GS(s,a):s.dispatchEvent(a)}var i$=bu,o$=WA,Tn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},l$="Portal",Ih=v.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[s,a]=v.useState(!1);Tn(()=>a(!0),[]);const i=r||s&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?VA.createPortal(l.jsx(ct.div,{...n,ref:t}),i):null});Ih.displayName=l$;function c$(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var zs=e=>{const{present:t,children:r}=e,n=u$(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),a=Ft(n.ref,d$(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:a}):null};zs.displayName="Presence";function u$(e){const[t,r]=v.useState(),n=v.useRef({}),s=v.useRef(e),a=v.useRef("none"),i=e?"mounted":"unmounted",[o,c]=c$(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=by(n.current);a.current=o==="mounted"?u:"none"},[o]),Tn(()=>{const u=n.current,d=s.current;if(d!==e){const f=a.current,p=by(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Tn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const y=by(n.current).includes(p.animationName);if(p.target===t&&y&&(c("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},f=p=>{p.target===t&&(a.current=by(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function by(e){return(e==null?void 0:e.animationName)||"none"}function d$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $s({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=h$({defaultProp:t,onChange:r}),a=e!==void 0,i=a?e:n,o=$n(r),c=v.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&o(h)}else s(u)},[a,e,s,o]);return[i,c]}function h$({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,s=v.useRef(n),a=$n(t);return v.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var f$="VisuallyHidden",Vm=v.forwardRef((e,t)=>l.jsx(ct.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Vm.displayName=f$;var p$=Vm,YS="ToastProvider",[KS,m$,g$]=H0("Toast"),[GA,Gue]=ha("Toast",[g$]),[y$,G0]=GA(YS),YA=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[o,c]=v.useState(null),[u,d]=v.useState(0),h=v.useRef(!1),f=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${YS}\`. Expected non-empty \`string\`.`),l.jsx(KS.Provider,{scope:t,children:l.jsx(y$,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};YA.displayName=YS;var KA="ToastViewport",v$=["F8"],vb="toast.viewportPause",xb="toast.viewportResume",XA=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=v$,label:s="Notifications ({hotkey})",...a}=e,i=G0(KA,r),o=m$(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),h=v.useRef(null),f=Ft(t,h,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;v.useEffect(()=>{const S=b=>{var N;n.length!==0&&n.every(C=>b[C]||b.code===C)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),v.useEffect(()=>{const S=c.current,b=h.current;if(g&&S&&b){const w=()=>{if(!i.isClosePausedRef.current){const M=new CustomEvent(vb);b.dispatchEvent(M),i.isClosePausedRef.current=!0}},N=()=>{if(i.isClosePausedRef.current){const M=new CustomEvent(xb);b.dispatchEvent(M),i.isClosePausedRef.current=!1}},C=M=>{!S.contains(M.relatedTarget)&&N()},P=()=>{S.contains(document.activeElement)||N()};return S.addEventListener("focusin",w),S.addEventListener("focusout",C),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",P),window.addEventListener("blur",w),window.addEventListener("focus",N),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",C),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",P),window.removeEventListener("blur",w),window.removeEventListener("focus",N)}}},[g,i.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:S})=>{const w=o().map(N=>{const C=N.ref.current,P=[C,...T$(C)];return S==="forwards"?P:P.reverse()});return(S==="forwards"?w.reverse():w).flat()},[o]);return v.useEffect(()=>{const S=h.current;if(S){const b=w=>{var P,M,R;const N=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!N){const T=document.activeElement,H=w.shiftKey;if(w.target===S&&H){(P=u.current)==null||P.focus();return}const E=y({tabbingDirection:H?"backwards":"forwards"}),W=E.findIndex(F=>F===T);dw(E.slice(W+1))?w.preventDefault():H?(M=u.current)==null||M.focus():(R=d.current)==null||R.focus()}};return S.addEventListener("keydown",b),()=>S.removeEventListener("keydown",b)}},[o,y]),l.jsxs(o$,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(wb,{ref:u,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});dw(S)}}),l.jsx(KS.Slot,{scope:r,children:l.jsx(ct.ol,{tabIndex:-1,...a,ref:f})}),g&&l.jsx(wb,{ref:d,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});dw(S)}})]})});XA.displayName=KA;var ZA="ToastFocusProxy",wb=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=G0(ZA,r);return l.jsx(Vm,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const o=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});wb.displayName=ZA;var Y0="Toast",x$="toast.swipeStart",w$="toast.swipeMove",b$="toast.swipeCancel",S$="toast.swipeEnd",JA=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[o=!0,c]=$s({prop:n,defaultProp:s,onChange:a});return l.jsx(zs,{present:r||o,children:l.jsx(j$,{open:o,...i,ref:t,onClose:()=>c(!1),onPause:$n(e.onPause),onResume:$n(e.onResume),onSwipeStart:Ge(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ge(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ge(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ge(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});JA.displayName=Y0;var[_$,N$]=GA(Y0,{onClose(){}}),j$=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=e,y=G0(Y0,r),[S,b]=v.useState(null),w=Ft(t,F=>b(F)),N=v.useRef(null),C=v.useRef(null),P=s||y.duration,M=v.useRef(0),R=v.useRef(P),T=v.useRef(0),{onToastAdd:H,onToastRemove:Q}=y,L=$n(()=>{var K;(S==null?void 0:S.contains(document.activeElement))&&((K=y.viewport)==null||K.focus()),i()}),E=v.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(L,F))},[L]);v.useEffect(()=>{const F=y.viewport;if(F){const K=()=>{E(R.current),u==null||u()},ne=()=>{const Y=new Date().getTime()-M.current;R.current=R.current-Y,window.clearTimeout(T.current),c==null||c()};return F.addEventListener(vb,ne),F.addEventListener(xb,K),()=>{F.removeEventListener(vb,ne),F.removeEventListener(xb,K)}}},[y.viewport,P,c,u,E]),v.useEffect(()=>{a&&!y.isClosePausedRef.current&&E(P)},[a,P,y.isClosePausedRef,E]),v.useEffect(()=>(H(),()=>Q()),[H,Q]);const W=v.useMemo(()=>S?aT(S):null,[S]);return y.viewport?l.jsxs(l.Fragment,{children:[W&&l.jsx(C$,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),l.jsx(_$,{scope:r,onClose:L,children:wu.createPortal(l.jsx(KS.ItemSlot,{scope:r,children:l.jsx(i$,{asChild:!0,onEscapeKeyDown:Ge(o,()=>{y.isFocusedToastEscapeKeyDownRef.current||L(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ge(e.onKeyDown,F=>{F.key==="Escape"&&(o==null||o(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Ge(e.onPointerDown,F=>{F.button===0&&(N.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ge(e.onPointerMove,F=>{if(!N.current)return;const K=F.clientX-N.current.x,ne=F.clientY-N.current.y,Y=!!C.current,I=["left","right"].includes(y.swipeDirection),G=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ie=I?G(0,K):0,me=I?0:G(0,ne),A=F.pointerType==="touch"?10:2,V={x:ie,y:me},X={originalEvent:F,delta:V};Y?(C.current=V,Sy(w$,h,X,{discrete:!1})):V4(V,y.swipeDirection,A)?(C.current=V,Sy(x$,d,X,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>A||Math.abs(ne)>A)&&(N.current=null)}),onPointerUp:Ge(e.onPointerUp,F=>{const K=C.current,ne=F.target;if(ne.hasPointerCapture(F.pointerId)&&ne.releasePointerCapture(F.pointerId),C.current=null,N.current=null,K){const Y=F.currentTarget,I={originalEvent:F,delta:K};V4(K,y.swipeDirection,y.swipeThreshold)?Sy(S$,p,I,{discrete:!0}):Sy(b$,f,I,{discrete:!0}),Y.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),C$=e=>{const{__scopeToast:t,children:r,...n}=e,s=G0(Y0,t),[a,i]=v.useState(!1),[o,c]=v.useState(!1);return E$(()=>i(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Ih,{asChild:!0,children:l.jsx(Vm,{...n,children:a&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},k$="ToastTitle",QA=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ct.div,{...n,ref:t})});QA.displayName=k$;var P$="ToastDescription",eT=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ct.div,{...n,ref:t})});eT.displayName=P$;var tT="ToastAction",rT=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(sT,{altText:r,asChild:!0,children:l.jsx(XS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${tT}\`. Expected non-empty \`string\`.`),null)});rT.displayName=tT;var nT="ToastClose",XS=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=N$(nT,r);return l.jsx(sT,{asChild:!0,children:l.jsx(ct.button,{type:"button",...n,ref:t,onClick:Ge(e.onClick,s.onClose)})})});XS.displayName=nT;var sT=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function aT(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),A$(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...aT(n))}}),t}function Sy(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?GS(s,a):s.dispatchEvent(a)}var V4=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function E$(e=()=>{}){const t=$n(e);Tn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function A$(e){return e.nodeType===e.ELEMENT_NODE}function T$(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var L$=YA,iT=XA,oT=JA,lT=QA,cT=eT,uT=rT,dT=XS;function hT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=hT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function fT(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=hT(e))&&(n&&(n+=" "),n+=t);return n}const z4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,q4=fT,zm=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return q4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const f=z4(d)||z4(h);return s[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[y,S]=g;return Array.isArray(S)?S.includes({...a,...o}[y]):{...a,...o}[y]===S})?[...u,h,f]:u},[]);return q4(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pT=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...o},c)=>v.createElement("svg",{ref:c,...R$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:pT("lucide",s),...o},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const r=v.forwardRef(({className:n,...s},a)=>v.createElement(O$,{ref:a,iconNode:t,className:pT(`lucide-${D$(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ht("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=ht("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ht("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=ht("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=ht("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=ht("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ht("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=ht("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=ht("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ht("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=ht("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=ht("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=ht("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=ht("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ht("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ht("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=ht("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=ht("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=ht("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=ht("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ht("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=ht("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ht("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=ht("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=ht("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=ht("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ht("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=ht("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=ht("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=ht("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=ht("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=ht("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=ht("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ht("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=ht("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),t_="-",lU=e=>{const t=uU(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const o=i.split(t_);return o[0]===""&&o.length!==1&&o.shift(),ST(o,t)||cU(i)},getConflictingClassGroupIds:(i,o)=>{const c=r[i]||[];return o&&n[i]?[...c,...n[i]]:c}}},ST=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?ST(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(t_);return(i=t.validators.find(({validator:o})=>o(a)))==null?void 0:i.classGroupId},X4=/^\[(.+)\]$/,cU=e=>{if(X4.test(e)){const t=X4.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},uU=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return hU(Object.entries(e.classGroups),r).forEach(([a,i])=>{kb(i,n,a,t)}),n},kb=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Z4(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(dU(s)){kb(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{kb(i,Z4(t,a),r,n)})})},Z4=(e,t)=>{let r=e;return t.split(t_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},dU=e=>e.isThemeGetter,hU=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,o])=>[t+i,o])):a);return[r,s]}):e,fU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},_T="!",pU=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=o=>{const c=[];let u=0,d=0,h;for(let S=0;S<o.length;S++){let b=o[S];if(u===0){if(b===s&&(n||o.slice(S,S+a)===t)){c.push(o.slice(d,S)),d=S+a;continue}if(b==="/"){h=S;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?o:o.substring(d),p=f.startsWith(_T),g=p?f.substring(1):f,y=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:i}):i},mU=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},gU=e=>({cache:fU(e.cacheSize),parseClassName:pU(e),...lU(e)}),yU=/\s+/,vU=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(yU);let o="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let g=!!p,y=n(g?f.substring(0,p):f);if(!y){if(!g){o=u+(o.length>0?" "+o:o);continue}if(y=n(f),!y){o=u+(o.length>0?" "+o:o);continue}g=!1}const S=mU(d).join(":"),b=h?S+_T:S,w=b+y;if(a.includes(w))continue;a.push(w);const N=s(y,g);for(let C=0;C<N.length;++C){const P=N[C];a.push(b+P)}o=u+(o.length>0?" "+o:o)}return o};function xU(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=NT(t))&&(n&&(n+=" "),n+=r);return n}const NT=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=NT(e[n]))&&(r&&(r+=" "),r+=t);return r};function wU(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return r=gU(u),n=r.cache.get,s=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=vU(c,r);return s(c,d),d}return function(){return a(xU.apply(null,arguments))}}const Sr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},jT=/^\[(?:([a-z-]+):)?(.+)\]$/i,bU=/^\d+\/\d+$/,SU=new Set(["px","full","screen"]),_U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=e=>zd(e)||SU.has(e)||bU.test(e),ll=e=>Fh(e,"length",OU),zd=e=>!!e&&!Number.isNaN(Number(e)),fw=e=>Fh(e,"number",zd),Mf=e=>!!e&&Number.isInteger(Number(e)),PU=e=>e.endsWith("%")&&zd(e.slice(0,-1)),Dt=e=>jT.test(e),cl=e=>_U.test(e),EU=new Set(["length","size","percentage"]),AU=e=>Fh(e,EU,CT),TU=e=>Fh(e,"position",CT),LU=new Set(["image","url"]),DU=e=>Fh(e,LU,IU),RU=e=>Fh(e,"",MU),If=()=>!0,Fh=(e,t,r)=>{const n=jT.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},OU=e=>NU.test(e)&&!jU.test(e),CT=()=>!1,MU=e=>CU.test(e),IU=e=>kU.test(e),FU=()=>{const e=Sr("colors"),t=Sr("spacing"),r=Sr("blur"),n=Sr("brightness"),s=Sr("borderColor"),a=Sr("borderRadius"),i=Sr("borderSpacing"),o=Sr("borderWidth"),c=Sr("contrast"),u=Sr("grayscale"),d=Sr("hueRotate"),h=Sr("invert"),f=Sr("gap"),p=Sr("gradientColorStops"),g=Sr("gradientColorStopPositions"),y=Sr("inset"),S=Sr("margin"),b=Sr("opacity"),w=Sr("padding"),N=Sr("saturate"),C=Sr("scale"),P=Sr("sepia"),M=Sr("skew"),R=Sr("space"),T=Sr("translate"),H=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Dt,t],E=()=>[Dt,t],W=()=>["",mo,ll],F=()=>["auto",zd,Dt],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Dt],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],me=()=>[zd,Dt];return{cacheSize:500,separator:":",theme:{colors:[If],spacing:[mo,ll],blur:["none","",cl,Dt],brightness:me(),borderColor:[e],borderRadius:["none","","full",cl,Dt],borderSpacing:E(),borderWidth:W(),contrast:me(),grayscale:G(),hueRotate:me(),invert:G(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[PU,ll],inset:L(),margin:L(),opacity:me(),padding:E(),saturate:me(),scale:me(),sepia:G(),skew:me(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Dt]}],container:["container"],columns:[{columns:[cl]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Dt]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mf,Dt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Dt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Mf,Dt]}],"grid-cols":[{"grid-cols":[If]}],"col-start-end":[{col:["auto",{span:["full",Mf,Dt]},Dt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[If]}],"row-start-end":[{row:["auto",{span:[Mf,Dt]},Dt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Dt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Dt,t]}],"min-w":[{"min-w":[Dt,t,"min","max","fit"]}],"max-w":[{"max-w":[Dt,t,"none","full","min","max","fit","prose",{screen:[cl]},cl]}],h:[{h:[Dt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Dt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Dt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Dt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cl,ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fw]}],"font-family":[{font:[If]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Dt]}],"line-clamp":[{"line-clamp":["none",zd,fw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mo,Dt]}],"list-image":[{"list-image":["none",Dt]}],"list-style-type":[{list:["none","disc","decimal",Dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mo,ll]}],"underline-offset":[{"underline-offset":["auto",mo,Dt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),TU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[mo,Dt]}],"outline-w":[{outline:[mo,ll]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[mo,ll]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cl,RU]}],"shadow-color":[{shadow:[If]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",cl,Dt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Dt]}],duration:[{duration:me()}],ease:[{ease:["linear","in","out","in-out",Dt]}],delay:[{delay:me()}],animate:[{animate:["none","spin","ping","pulse","bounce",Dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Mf,Dt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Dt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mo,ll,fw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BU=wU(FU);function Ue(...e){return BU(fT(e))}function oi(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e)}function $U(e="id"){return`${e}-${Date.now().toString(36)}${Math.random().toString(36).substring(2,5)}`}const UU=L$,kT=v.forwardRef(({className:e,...t},r)=>l.jsx(iT,{ref:r,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));kT.displayName=iT.displayName;const VU=zm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PT=v.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(oT,{ref:n,className:Ue(VU({variant:t}),e),...r}));PT.displayName=oT.displayName;const zU=v.forwardRef(({className:e,...t},r)=>l.jsx(uT,{ref:r,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));zU.displayName=uT.displayName;const ET=v.forwardRef(({className:e,...t},r)=>l.jsx(dT,{ref:r,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(X0,{className:"h-4 w-4"})}));ET.displayName=dT.displayName;const AT=v.forwardRef(({className:e,...t},r)=>l.jsx(lT,{ref:r,className:Ue("text-sm font-semibold",e),...t}));AT.displayName=lT.displayName;const TT=v.forwardRef(({className:e,...t},r)=>l.jsx(cT,{ref:r,className:Ue("text-sm opacity-90",e),...t}));TT.displayName=cT.displayName;function qU(){const{toasts:e}=ir();return l.jsxs(UU,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return l.jsxs(PT,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(AT,{children:r}),n&&l.jsx(TT,{children:n})]}),s,l.jsx(ET,{})]},t)}),l.jsx(kT,{})]})}var J4=["light","dark"],WU="(prefers-color-scheme: dark)",HU=v.createContext(void 0),GU={setTheme:e=>{},themes:[]},YU=()=>{var e;return(e=v.useContext(HU))!=null?e:GU};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:i,attrs:o,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?J4.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,y=!1,S=!0)=>{let b=i?i[g]:g,w=y?g+"|| ''":`'${b}'`,N="";return s&&S&&!y&&J4.includes(g)&&(N+=`d.style.colorScheme = '${g}';`),r==="class"?y||b?N+=`c.add(${w})`:N+="null":b&&(N+=`d[s](n,${w})`),N},p=e?`!function(){${d}${f(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${WU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var KU=e=>{switch(e){case"success":return JU;case"info":return eV;case"warning":return QU;case"error":return tV;default:return null}},XU=Array(12).fill(0),ZU=({visible:e})=>ke.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ke.createElement("div",{className:"sonner-spinner"},XU.map((t,r)=>ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JU=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QU=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eV=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tV=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rV=()=>{let[e,t]=ke.useState(document.hidden);return ke.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Pb=1,nV=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Pb++,i=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:o,title:n}):c):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=t=>(t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),a=n!==void 0;return s.then(async i=>{if(aV(i)&&!i.ok){a=!1;let o=typeof r.error=="function"?await r.error(`HTTP error! status: ${i.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${i.status}`):r.description;this.create({id:n,type:"error",message:o,description:c})}else if(r.success!==void 0){a=!1;let o=typeof r.success=="function"?await r.success(i):r.success,c=typeof r.description=="function"?await r.description(i):r.description;this.create({id:n,type:"success",message:o,description:c})}}).catch(async i=>{if(r.error!==void 0){a=!1;let o=typeof r.error=="function"?await r.error(i):r.error,c=typeof r.description=="function"?await r.description(i):r.description;this.create({id:n,type:"error",message:o,description:c})}}).finally(()=>{var i;a&&(this.dismiss(n),n=void 0),(i=r.finally)==null||i.call(r)}),n},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||Pb++;return this.create({jsx:t(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},Qs=new nV,sV=(e,t)=>{let r=(t==null?void 0:t.id)||Pb++;return Qs.addToast({title:e,...t,id:r}),r},aV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",iV=sV,oV=()=>Qs.toasts;Object.assign(iV,{success:Qs.success,info:Qs.info,warning:Qs.warning,error:Qs.error,custom:Qs.custom,message:Qs.message,promise:Qs.promise,dismiss:Qs.dismiss,loading:Qs.loading},{getHistory:oV});function lV(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}lV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _y(e){return e.label!==void 0}var cV=3,uV="32px",dV=4e3,hV=356,fV=14,pV=20,mV=200;function gV(...e){return e.filter(Boolean).join(" ")}var yV=e=>{var t,r,n,s,a,i,o,c,u,d;let{invert:h,toast:f,unstyled:p,interacting:g,setHeights:y,visibleToasts:S,heights:b,index:w,toasts:N,expanded:C,removeToast:P,defaultRichColors:M,closeButton:R,style:T,cancelButtonStyle:H,actionButtonStyle:Q,className:L="",descriptionClassName:E="",duration:W,position:F,gap:K,loadingIcon:ne,expandByDefault:Y,classNames:I,icons:G,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:me,cn:A}=e,[V,X]=ke.useState(!1),[ae,q]=ke.useState(!1),[se,ue]=ke.useState(!1),[fe,Ce]=ke.useState(!1),[Pe,_e]=ke.useState(0),[Ae,Ye]=ke.useState(0),je=ke.useRef(null),re=ke.useRef(null),Ze=w===0,J=w+1<=S,ee=f.type,oe=f.dismissible!==!1,Ne=f.className||"",ye=f.descriptionClassName||"",be=ke.useMemo(()=>b.findIndex(et=>et.toastId===f.id)||0,[b,f.id]),Ie=ke.useMemo(()=>{var et;return(et=f.closeButton)!=null?et:R},[f.closeButton,R]),qe=ke.useMemo(()=>f.duration||W||dV,[f.duration,W]),it=ke.useRef(0),lt=ke.useRef(0),Lt=ke.useRef(0),ut=ke.useRef(null),[Nt,He]=F.split("-"),br=ke.useMemo(()=>b.reduce((et,Ht,vt)=>vt>=be?et:et+Ht.height,0),[b,be]),Ot=rV(),as=f.invert||h,Vt=ee==="loading";lt.current=ke.useMemo(()=>be*K+br,[be,br]),ke.useEffect(()=>{X(!0)},[]),ke.useLayoutEffect(()=>{if(!V)return;let et=re.current,Ht=et.style.height;et.style.height="auto";let vt=et.getBoundingClientRect().height;et.style.height=Ht,Ye(vt),y($r=>$r.find(cn=>cn.toastId===f.id)?$r.map(cn=>cn.toastId===f.id?{...cn,height:vt}:cn):[{toastId:f.id,height:vt,position:f.position},...$r])},[V,f.title,f.description,y,f.id]);let Wt=ke.useCallback(()=>{q(!0),_e(lt.current),y(et=>et.filter(Ht=>Ht.toastId!==f.id)),setTimeout(()=>{P(f)},mV)},[f,P,y,lt]);ke.useEffect(()=>{if(f.promise&&ee==="loading"||f.duration===1/0||f.type==="loading")return;let et,Ht=qe;return C||g||me&&Ot?(()=>{if(Lt.current<it.current){let vt=new Date().getTime()-it.current;Ht=Ht-vt}Lt.current=new Date().getTime()})():Ht!==1/0&&(it.current=new Date().getTime(),et=setTimeout(()=>{var vt;(vt=f.onAutoClose)==null||vt.call(f,f),Wt()},Ht)),()=>clearTimeout(et)},[C,g,Y,f,qe,Wt,f.promise,ee,me,Ot]),ke.useEffect(()=>{let et=re.current;if(et){let Ht=et.getBoundingClientRect().height;return Ye(Ht),y(vt=>[{toastId:f.id,height:Ht,position:f.position},...vt]),()=>y(vt=>vt.filter($r=>$r.toastId!==f.id))}},[y,f.id]),ke.useEffect(()=>{f.delete&&Wt()},[Wt,f.delete]);function fa(){return G!=null&&G.loading?ke.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},G.loading):ne?ke.createElement("div",{className:"sonner-loader","data-visible":ee==="loading"},ne):ke.createElement(ZU,{visible:ee==="loading"})}return ke.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:re,className:A(L,Ne,I==null?void 0:I.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[ee],(r=f==null?void 0:f.classNames)==null?void 0:r[ee]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:M,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":V,"data-promise":!!f.promise,"data-removed":ae,"data-visible":J,"data-y-position":Nt,"data-x-position":He,"data-index":w,"data-front":Ze,"data-swiping":se,"data-dismissible":oe,"data-type":ee,"data-invert":as,"data-swipe-out":fe,"data-expanded":!!(C||Y&&V),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${ae?Pe:lt.current}px`,"--initial-height":Y?"auto":`${Ae}px`,...T,...f.style},onPointerDown:et=>{Vt||!oe||(je.current=new Date,_e(lt.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(ue(!0),ut.current={x:et.clientX,y:et.clientY}))},onPointerUp:()=>{var et,Ht,vt,$r;if(fe||!oe)return;ut.current=null;let cn=Number(((et=re.current)==null?void 0:et.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ur=new Date().getTime()-((Ht=je.current)==null?void 0:Ht.getTime()),jt=Math.abs(cn)/ur;if(Math.abs(cn)>=pV||jt>.11){_e(lt.current),(vt=f.onDismiss)==null||vt.call(f,f),Wt(),Ce(!0);return}($r=re.current)==null||$r.style.setProperty("--swipe-amount","0px"),ue(!1)},onPointerMove:et=>{var Ht;if(!ut.current||!oe)return;let vt=et.clientY-ut.current.y,$r=et.clientX-ut.current.x,cn=(Nt==="top"?Math.min:Math.max)(0,vt),ur=et.pointerType==="touch"?10:2;Math.abs(cn)>ur?(Ht=re.current)==null||Ht.style.setProperty("--swipe-amount",`${vt}px`):Math.abs($r)>ur&&(ut.current=null)}},Ie&&!f.jsx?ke.createElement("button",{"aria-label":ie,"data-disabled":Vt,"data-close-button":!0,onClick:Vt||!oe?()=>{}:()=>{var et;Wt(),(et=f.onDismiss)==null||et.call(f,f)},className:A(I==null?void 0:I.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||ke.isValidElement(f.title)?f.jsx||f.title:ke.createElement(ke.Fragment,null,ee||f.icon||f.promise?ke.createElement("div",{"data-icon":"",className:A(I==null?void 0:I.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||fa():null,f.type!=="loading"?f.icon||(G==null?void 0:G[ee])||KU(ee):null):null,ke.createElement("div",{"data-content":"",className:A(I==null?void 0:I.content,(i=f==null?void 0:f.classNames)==null?void 0:i.content)},ke.createElement("div",{"data-title":"",className:A(I==null?void 0:I.title,(o=f==null?void 0:f.classNames)==null?void 0:o.title)},f.title),f.description?ke.createElement("div",{"data-description":"",className:A(E,ye,I==null?void 0:I.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),ke.isValidElement(f.cancel)?f.cancel:f.cancel&&_y(f.cancel)?ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||H,onClick:et=>{var Ht,vt;_y(f.cancel)&&oe&&((vt=(Ht=f.cancel).onClick)==null||vt.call(Ht,et),Wt())},className:A(I==null?void 0:I.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,ke.isValidElement(f.action)?f.action:f.action&&_y(f.action)?ke.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||Q,onClick:et=>{var Ht,vt;_y(f.action)&&(et.defaultPrevented||((vt=(Ht=f.action).onClick)==null||vt.call(Ht,et),Wt()))},className:A(I==null?void 0:I.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Q4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var vV=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:o,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=cV,toastOptions:p,dir:g=Q4(),gap:y=fV,loadingIcon:S,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N,cn:C=gV}=e,[P,M]=ke.useState([]),R=ke.useMemo(()=>Array.from(new Set([r].concat(P.filter(me=>me.position).map(me=>me.position)))),[P,r]),[T,H]=ke.useState([]),[Q,L]=ke.useState(!1),[E,W]=ke.useState(!1),[F,K]=ke.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=ke.useRef(null),Y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=ke.useRef(null),G=ke.useRef(!1),ie=ke.useCallback(me=>{var A;(A=P.find(V=>V.id===me.id))!=null&&A.delete||Qs.dismiss(me.id),M(V=>V.filter(({id:X})=>X!==me.id))},[P]);return ke.useEffect(()=>Qs.subscribe(me=>{if(me.dismiss){M(A=>A.map(V=>V.id===me.id?{...V,delete:!0}:V));return}setTimeout(()=>{VA.flushSync(()=>{M(A=>{let V=A.findIndex(X=>X.id===me.id);return V!==-1?[...A.slice(0,V),{...A[V],...me},...A.slice(V+1)]:[me,...A]})})})}),[]),ke.useEffect(()=>{if(c!=="system"){K(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:me})=>{K(me?"dark":"light")})},[c]),ke.useEffect(()=>{P.length<=1&&L(!1)},[P]),ke.useEffect(()=>{let me=A=>{var V,X;n.every(ae=>A[ae]||A.code===ae)&&(L(!0),(V=ne.current)==null||V.focus()),A.code==="Escape"&&(document.activeElement===ne.current||(X=ne.current)!=null&&X.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",me),()=>document.removeEventListener("keydown",me)},[n]),ke.useEffect(()=>{if(ne.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,G.current=!1)}},[ne.current]),P.length?ke.createElement("section",{"aria-label":`${w} ${Y}`,tabIndex:-1},R.map((me,A)=>{var V;let[X,ae]=me.split("-");return ke.createElement("ol",{key:me,dir:g==="auto"?Q4():g,tabIndex:-1,ref:ne,className:i,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":X,"data-x-position":ae,style:{"--front-toast-height":`${((V=T[0])==null?void 0:V.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||uV,"--width":`${hV}px`,"--gap":`${y}px`,...h},onBlur:q=>{G.current&&!q.currentTarget.contains(q.relatedTarget)&&(G.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||G.current||(G.current=!0,I.current=q.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{E||L(!1)},onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},P.filter(q=>!q.position&&A===0||q.position===me).map((q,se)=>{var ue,fe;return ke.createElement(yV,{key:q.id,icons:b,index:se,toast:q,defaultRichColors:u,duration:(ue=p==null?void 0:p.duration)!=null?ue:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:f,closeButton:(fe=p==null?void 0:p.closeButton)!=null?fe:a,interacting:E,position:me,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ie,toasts:P.filter(Ce=>Ce.position==q.position),heights:T.filter(Ce=>Ce.position==q.position),setHeights:H,expandByDefault:s,gap:y,loadingIcon:S,expanded:Q,pauseWhenPageIsHidden:N,cn:C})}))})):null};const xV=({...e})=>{const{theme:t="system"}=YU();return l.jsx(vV,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var wV=BE.useId||(()=>{}),bV=0;function Ta(e){const[t,r]=v.useState(wV());return Tn(()=>{e||r(n=>n??String(bV++))},[e]),e||(t?`radix-${t}`:"")}const SV=["top","right","bottom","left"],Kl=Math.min,ta=Math.max,zv=Math.round,Ny=Math.floor,Xl=e=>({x:e,y:e}),_V={left:"right",right:"left",bottom:"top",top:"bottom"},NV={start:"end",end:"start"};function Eb(e,t,r){return ta(e,Kl(t,r))}function Mo(e,t){return typeof e=="function"?e(t):e}function Io(e){return e.split("-")[0]}function Bh(e){return e.split("-")[1]}function r_(e){return e==="x"?"y":"x"}function n_(e){return e==="y"?"height":"width"}function Zl(e){return["top","bottom"].includes(Io(e))?"y":"x"}function s_(e){return r_(Zl(e))}function jV(e,t,r){r===void 0&&(r=!1);const n=Bh(e),s=s_(e),a=n_(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=qv(i)),[i,qv(i)]}function CV(e){const t=qv(e);return[Ab(e),t,Ab(t)]}function Ab(e){return e.replace(/start|end/g,t=>NV[t])}function kV(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:i;default:return[]}}function PV(e,t,r,n){const s=Bh(e);let a=kV(Io(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Ab)))),a}function qv(e){return e.replace(/left|right|bottom|top/g,t=>_V[t])}function EV(e){return{top:0,right:0,bottom:0,left:0,...e}}function LT(e){return typeof e!="number"?EV(e):{top:e,right:e,bottom:e,left:e}}function Wv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function eC(e,t,r){let{reference:n,floating:s}=e;const a=Zl(t),i=s_(t),o=n_(i),c=Io(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[o]/2-s[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-s.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Bh(t)){case"start":p[i]-=f*(r&&u?-1:1);break;case"end":p[i]+=f*(r&&u?-1:1);break}return p}const AV=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,o=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=eC(u,n,c),f=n,p={},g=0;for(let y=0;y<o.length;y++){const{name:S,fn:b}=o[y],{x:w,y:N,data:C,reset:P}=await b({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=w??d,h=N??h,p={...p,[S]:{...p[S],...C}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(u=P.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:d,y:h}=eC(u,f,c)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Yp(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Mo(t,e),g=LT(p),S=o[f?h==="floating"?"reference":"floating":h],b=Wv(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(S)))==null||r?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),C=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},P=Wv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:N,strategy:c}):w);return{top:(b.top-P.top+g.top)/C.y,bottom:(P.bottom-b.bottom+g.bottom)/C.y,left:(b.left-P.left+g.left)/C.x,right:(P.right-b.right+g.right)/C.x}}const TV=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Mo(e,t)||{};if(u==null)return{};const h=LT(d),f={x:r,y:n},p=s_(s),g=n_(p),y=await i.getDimensions(u),S=p==="y",b=S?"top":"left",w=S?"bottom":"right",N=S?"clientHeight":"clientWidth",C=a.reference[g]+a.reference[p]-f[p]-a.floating[g],P=f[p]-a.reference[p],M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let R=M?M[N]:0;(!R||!await(i.isElement==null?void 0:i.isElement(M)))&&(R=o.floating[N]||a.floating[g]);const T=C/2-P/2,H=R/2-y[g]/2-1,Q=Kl(h[b],H),L=Kl(h[w],H),E=Q,W=R-y[g]-L,F=R/2-y[g]/2+T,K=Eb(E,F,W),ne=!c.arrow&&Bh(s)!=null&&F!==K&&a.reference[g]/2-(F<E?Q:L)-y[g]/2<0,Y=ne?F<E?F-E:F-W:0;return{[p]:f[p]+Y,data:{[p]:K,centerOffset:F-K-Y,...ne&&{alignmentOffset:Y}},reset:ne}}}),LV=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...S}=Mo(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Io(s),w=Zl(o),N=Io(o)===o,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=f||(N||!y?[qv(o)]:CV(o)),M=g!=="none";!f&&M&&P.push(...PV(o,y,g,C));const R=[o,...P],T=await Yp(t,S),H=[];let Q=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&H.push(T[b]),h){const F=jV(s,i,C);H.push(T[F[0]],T[F[1]])}if(Q=[...Q,{placement:s,overflows:H}],!H.every(F=>F<=0)){var L,E;const F=(((L=a.flip)==null?void 0:L.index)||0)+1,K=R[F];if(K)return{data:{index:F,overflows:Q},reset:{placement:K}};let ne=(E=Q.filter(Y=>Y.overflows[0]<=0).sort((Y,I)=>Y.overflows[1]-I.overflows[1])[0])==null?void 0:E.placement;if(!ne)switch(p){case"bestFit":{var W;const Y=(W=Q.filter(I=>{if(M){const G=Zl(I.placement);return G===w||G==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(G=>G>0).reduce((G,ie)=>G+ie,0)]).sort((I,G)=>I[1]-G[1])[0])==null?void 0:W[0];Y&&(ne=Y);break}case"initialPlacement":ne=o;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function tC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rC(e){return SV.some(t=>e[t]>=0)}const DV=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Mo(e,t);switch(n){case"referenceHidden":{const a=await Yp(t,{...s,elementContext:"reference"}),i=tC(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:rC(i)}}}case"escaped":{const a=await Yp(t,{...s,altBoundary:!0}),i=tC(a,r.floating);return{data:{escapedOffsets:i,escaped:rC(i)}}}default:return{}}}}};async function RV(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Io(r),o=Bh(r),c=Zl(r)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,h=Mo(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const OV=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:o}=t,c=await RV(t,e);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},MV=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:S=>{let{x:b,y:w}=S;return{x:b,y:w}}},...c}=Mo(e,t),u={x:r,y:n},d=await Yp(t,c),h=Zl(Io(s)),f=r_(h);let p=u[f],g=u[h];if(a){const S=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=p+d[S],N=p-d[b];p=Eb(w,p,N)}if(i){const S=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=g+d[S],N=g-d[b];g=Eb(w,g,N)}const y=o.fn({...t,[f]:p,[h]:g});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:a,[h]:i}}}}}},IV=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Mo(e,t),d={x:r,y:n},h=Zl(s),f=r_(h);let p=d[f],g=d[h];const y=Mo(o,t),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const N=f==="y"?"height":"width",C=a.reference[f]-a.floating[N]+S.mainAxis,P=a.reference[f]+a.reference[N]-S.mainAxis;p<C?p=C:p>P&&(p=P)}if(u){var b,w;const N=f==="y"?"width":"height",C=["top","left"].includes(Io(s)),P=a.reference[h]-a.floating[N]+(C&&((b=i.offset)==null?void 0:b[h])||0)+(C?0:S.crossAxis),M=a.reference[h]+a.reference[N]+(C?0:((w=i.offset)==null?void 0:w[h])||0)-(C?S.crossAxis:0);g<P?g=P:g>M&&(g=M)}return{[f]:p,[h]:g}}}},FV=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:o}=t,{apply:c=()=>{},...u}=Mo(e,t),d=await Yp(t,u),h=Io(s),f=Bh(s),p=Zl(s)==="y",{width:g,height:y}=a.floating;let S,b;h==="top"||h==="bottom"?(S=h,b=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(b=h,S=f==="end"?"top":"bottom");const w=y-d.top-d.bottom,N=g-d.left-d.right,C=Kl(y-d[S],w),P=Kl(g-d[b],N),M=!t.middlewareData.shift;let R=C,T=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=w),M&&!f){const Q=ta(d.left,0),L=ta(d.right,0),E=ta(d.top,0),W=ta(d.bottom,0);p?T=g-2*(Q!==0||L!==0?Q+L:ta(d.left,d.right)):R=y-2*(E!==0||W!==0?E+W:ta(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:R});const H=await i.getDimensions(o.floating);return g!==H.width||y!==H.height?{reset:{rects:!0}}:{}}}};function Z0(){return typeof window<"u"}function $h(e){return DT(e)?(e.nodeName||"").toLowerCase():"#document"}function ia(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ro(e){var t;return(t=(DT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DT(e){return Z0()?e instanceof Node||e instanceof ia(e).Node:!1}function mi(e){return Z0()?e instanceof Element||e instanceof ia(e).Element:!1}function Qi(e){return Z0()?e instanceof HTMLElement||e instanceof ia(e).HTMLElement:!1}function nC(e){return!Z0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ia(e).ShadowRoot}function qm(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function BV(e){return["table","td","th"].includes($h(e))}function J0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function a_(e){const t=i_(),r=mi(e)?gi(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function $V(e){let t=Jl(e);for(;Qi(t)&&!bh(t);){if(a_(t))return t;if(J0(t))return null;t=Jl(t)}return null}function i_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bh(e){return["html","body","#document"].includes($h(e))}function gi(e){return ia(e).getComputedStyle(e)}function Q0(e){return mi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jl(e){if($h(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nC(e)&&e.host||ro(e);return nC(t)?t.host:t}function RT(e){const t=Jl(e);return bh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qi(t)&&qm(t)?t:RT(t)}function Kp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=RT(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=ia(s);if(a){const o=Tb(i);return t.concat(i,i.visualViewport||[],qm(s)?s:[],o&&r?Kp(o):[])}return t.concat(s,Kp(s,[],r))}function Tb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function OT(e){const t=gi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Qi(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,o=zv(r)!==a||zv(n)!==i;return o&&(r=a,n=i),{width:r,height:n,$:o}}function o_(e){return mi(e)?e:e.contextElement}function qd(e){const t=o_(e);if(!Qi(t))return Xl(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=OT(t);let i=(a?zv(r.width):r.width)/n,o=(a?zv(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const UV=Xl(0);function MT(e){const t=ia(e);return!i_()||!t.visualViewport?UV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VV(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ia(e)?!1:t}function hu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=o_(e);let i=Xl(1);t&&(n?mi(n)&&(i=qd(n)):i=qd(e));const o=VV(a,r,n)?MT(a):Xl(0);let c=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const f=ia(a),p=n&&mi(n)?ia(n):n;let g=f,y=Tb(g);for(;y&&n&&p!==g;){const S=qd(y),b=y.getBoundingClientRect(),w=gi(y),N=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*S.x,C=b.top+(y.clientTop+parseFloat(w.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,h*=S.y,c+=N,u+=C,g=ia(y),y=Tb(g)}}return Wv({width:d,height:h,x:c,y:u})}function zV(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=ro(n),o=t?J0(t.floating):!1;if(n===i||o&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Xl(1);const d=Xl(0),h=Qi(n);if((h||!h&&!a)&&(($h(n)!=="body"||qm(i))&&(c=Q0(n)),Qi(n))){const f=hu(n);u=qd(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function qV(e){return Array.from(e.getClientRects())}function Lb(e,t){const r=Q0(e).scrollLeft;return t?t.left+r:hu(ro(e)).left+r}function WV(e){const t=ro(e),r=Q0(e),n=e.ownerDocument.body,s=ta(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ta(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Lb(e);const o=-r.scrollTop;return gi(n).direction==="rtl"&&(i+=ta(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:o}}function HV(e,t){const r=ia(e),n=ro(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,o=0,c=0;if(s){a=s.width,i=s.height;const u=i_();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:o,y:c}}function GV(e,t){const r=hu(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Qi(e)?qd(e):Xl(1),i=e.clientWidth*a.x,o=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:o,x:c,y:u}}function sC(e,t,r){let n;if(t==="viewport")n=HV(e,r);else if(t==="document")n=WV(ro(e));else if(mi(t))n=GV(t,r);else{const s=MT(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Wv(n)}function IT(e,t){const r=Jl(e);return r===t||!mi(r)||bh(r)?!1:gi(r).position==="fixed"||IT(r,t)}function YV(e,t){const r=t.get(e);if(r)return r;let n=Kp(e,[],!1).filter(o=>mi(o)&&$h(o)!=="body"),s=null;const a=gi(e).position==="fixed";let i=a?Jl(e):e;for(;mi(i)&&!bh(i);){const o=gi(i),c=a_(i);!c&&o.position==="fixed"&&(s=null),(a?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qm(i)&&!c&&IT(e,i))?n=n.filter(d=>d!==i):s=o,i=Jl(i)}return t.set(e,n),n}function KV(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?J0(t)?[]:YV(t,this._c):[].concat(r),n],o=i[0],c=i.reduce((u,d)=>{const h=sC(t,d,s);return u.top=ta(h.top,u.top),u.right=Kl(h.right,u.right),u.bottom=Kl(h.bottom,u.bottom),u.left=ta(h.left,u.left),u},sC(t,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function XV(e){const{width:t,height:r}=OT(e);return{width:t,height:r}}function ZV(e,t,r){const n=Qi(t),s=ro(t),a=r==="fixed",i=hu(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=Xl(0);if(n||!n&&!a)if(($h(t)!=="body"||qm(s))&&(o=Q0(t)),n){const p=hu(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=Lb(s));let u=0,d=0;if(s&&!n&&!a){const p=s.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-Lb(s,p)}const h=i.left+o.scrollLeft-c.x-u,f=i.top+o.scrollTop-c.y-d;return{x:h,y:f,width:i.width,height:i.height}}function pw(e){return gi(e).position==="static"}function aC(e,t){if(!Qi(e)||gi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ro(e)===r&&(r=r.ownerDocument.body),r}function FT(e,t){const r=ia(e);if(J0(e))return r;if(!Qi(e)){let s=Jl(e);for(;s&&!bh(s);){if(mi(s)&&!pw(s))return s;s=Jl(s)}return r}let n=aC(e,t);for(;n&&BV(n)&&pw(n);)n=aC(n,t);return n&&bh(n)&&pw(n)&&!a_(n)?r:n||$V(e)||r}const JV=async function(e){const t=this.getOffsetParent||FT,r=this.getDimensions,n=await r(e.floating);return{reference:ZV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function QV(e){return gi(e).direction==="rtl"}const ez={convertOffsetParentRelativeRectToViewportRelativeRect:zV,getDocumentElement:ro,getClippingRect:KV,getOffsetParent:FT,getElementRects:JV,getClientRects:qV,getDimensions:XV,getScale:qd,isElement:mi,isRTL:QV};function tz(e,t){let r=null,n;const s=ro(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(o||t(),!h||!f)return;const p=Ny(d),g=Ny(s.clientWidth-(u+h)),y=Ny(s.clientHeight-(d+f)),S=Ny(u),w={rootMargin:-p+"px "+-g+"px "+-y+"px "+-S+"px",threshold:ta(0,Kl(1,c))||1};let N=!0;function C(P){const M=P[0].intersectionRatio;if(M!==c){if(!N)return i();M?i(!1,M):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N=!1}try{r=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(e)}return i(!0),a}function rz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=o_(e),d=s||a?[...u?Kp(u):[],...Kp(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const h=u&&o?tz(u,r):null;let f=-1,p=null;i&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=p)==null||N.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,y=c?hu(e):null;c&&S();function S(){const b=hu(e);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&r(),y=b,g=requestAnimationFrame(S)}return r(),()=>{var b;d.forEach(w=>{s&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const nz=OV,sz=MV,az=LV,iz=FV,oz=DV,iC=TV,lz=IV,cz=(e,t,r)=>{const n=new Map,s={platform:ez,...r},a={...s.platform,_c:n};return AV(e,t,{...s,platform:a})};var av=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Hv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Hv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function BT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oC(e,t){const r=BT(e);return Math.round(t*r)/r}function mw(e){const t=v.useRef(e);return av(()=>{t.current=e}),t}function uz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=v.useState(n);Hv(f,n)||p(n);const[g,y]=v.useState(null),[S,b]=v.useState(null),w=v.useCallback(I=>{I!==M.current&&(M.current=I,y(I))},[]),N=v.useCallback(I=>{I!==R.current&&(R.current=I,b(I))},[]),C=a||g,P=i||S,M=v.useRef(null),R=v.useRef(null),T=v.useRef(d),H=c!=null,Q=mw(c),L=mw(s),E=mw(u),W=v.useCallback(()=>{if(!M.current||!R.current)return;const I={placement:t,strategy:r,middleware:f};L.current&&(I.platform=L.current),cz(M.current,R.current,I).then(G=>{const ie={...G,isPositioned:E.current!==!1};F.current&&!Hv(T.current,ie)&&(T.current=ie,wu.flushSync(()=>{h(ie)}))})},[f,t,r,L,E]);av(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(I=>({...I,isPositioned:!1})))},[u]);const F=v.useRef(!1);av(()=>(F.current=!0,()=>{F.current=!1}),[]),av(()=>{if(C&&(M.current=C),P&&(R.current=P),C&&P){if(Q.current)return Q.current(C,P,W);W()}},[C,P,W,Q,H]);const K=v.useMemo(()=>({reference:M,floating:R,setReference:w,setFloating:N}),[w,N]),ne=v.useMemo(()=>({reference:C,floating:P}),[C,P]),Y=v.useMemo(()=>{const I={position:r,left:0,top:0};if(!ne.floating)return I;const G=oC(ne.floating,d.x),ie=oC(ne.floating,d.y);return o?{...I,transform:"translate("+G+"px, "+ie+"px)",...BT(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:ie}},[r,o,ne.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:W,refs:K,elements:ne,floatingStyles:Y}),[d,W,K,ne,Y])}const dz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?iC({element:n.current,padding:s}).fn(r):{}:n?iC({element:n,padding:s}).fn(r):{}}}},hz=(e,t)=>({...nz(e),options:[e,t]}),fz=(e,t)=>({...sz(e),options:[e,t]}),pz=(e,t)=>({...lz(e),options:[e,t]}),mz=(e,t)=>({...az(e),options:[e,t]}),gz=(e,t)=>({...iz(e),options:[e,t]}),yz=(e,t)=>({...oz(e),options:[e,t]}),vz=(e,t)=>({...dz(e),options:[e,t]});var xz="Arrow",$T=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return l.jsx(ct.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});$T.displayName=xz;var wz=$T;function bz(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,Sz(s,...t)]}function Sz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function l_(e){const[t,r]=v.useState(void 0);return Tn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;r({width:i,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var c_="Popper",[UT,uc]=bz(c_),[_z,VT]=UT(c_),zT=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return l.jsx(_z,{scope:t,anchor:n,onAnchorChange:s,children:r})};zT.displayName=c_;var qT="PopperAnchor",WT=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=VT(qT,r),i=v.useRef(null),o=Ft(t,i);return v.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(ct.div,{...s,ref:o})});WT.displayName=qT;var u_="PopperContent",[Nz,jz]=UT(u_),HT=v.forwardRef((e,t)=>{var se,ue,fe,Ce,Pe,_e;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=e,S=VT(u_,r),[b,w]=v.useState(null),N=Ft(t,Ae=>w(Ae)),[C,P]=v.useState(null),M=l_(C),R=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,H=n+(a!=="center"?"-"+a:""),Q=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],E=L.length>0,W={padding:Q,boundary:L.filter(kz),altBoundary:E},{refs:F,floatingStyles:K,placement:ne,isPositioned:Y,middlewareData:I}=uz({strategy:"fixed",placement:H,whileElementsMounted:(...Ae)=>rz(...Ae,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[hz({mainAxis:s+T,alignmentAxis:i}),c&&fz({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pz():void 0,...W}),c&&mz({...W}),gz({...W,apply:({elements:Ae,rects:Ye,availableWidth:je,availableHeight:re})=>{const{width:Ze,height:J}=Ye.reference,ee=Ae.floating.style;ee.setProperty("--radix-popper-available-width",`${je}px`),ee.setProperty("--radix-popper-available-height",`${re}px`),ee.setProperty("--radix-popper-anchor-width",`${Ze}px`),ee.setProperty("--radix-popper-anchor-height",`${J}px`)}}),C&&vz({element:C,padding:o}),Pz({arrowWidth:R,arrowHeight:T}),f&&yz({strategy:"referenceHidden",...W})]}),[G,ie]=KT(ne),me=$n(g);Tn(()=>{Y&&(me==null||me())},[Y,me]);const A=(se=I.arrow)==null?void 0:se.x,V=(ue=I.arrow)==null?void 0:ue.y,X=((fe=I.arrow)==null?void 0:fe.centerOffset)!==0,[ae,q]=v.useState();return Tn(()=>{b&&q(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:Y?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Ce=I.transformOrigin)==null?void 0:Ce.x,(Pe=I.transformOrigin)==null?void 0:Pe.y].join(" "),...((_e=I.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Nz,{scope:r,placedSide:G,onArrowChange:P,arrowX:A,arrowY:V,shouldHideArrow:X,children:l.jsx(ct.div,{"data-side":G,"data-align":ie,...y,ref:N,style:{...y.style,animation:Y?void 0:"none"}})})})});HT.displayName=u_;var GT="PopperArrow",Cz={top:"bottom",right:"left",bottom:"top",left:"right"},YT=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=jz(GT,n),i=Cz[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(wz,{...s,ref:r,style:{...s.style,display:"block"}})})});YT.displayName=GT;function kz(e){return e!==null}var Pz=e=>({name:"transformOrigin",options:e,fn(t){var S,b,w;const{placement:r,rects:n,middlewareData:s}=t,i=((S=s.arrow)==null?void 0:S.centerOffset)!==0,o=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=KT(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=s.arrow)==null?void 0:b.x)??0)+o/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=i?h:`${f}px`,y=`${-c}px`):u==="top"?(g=i?h:`${f}px`,y=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=i?h:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,y=i?h:`${p}px`),{data:{x:g,y}}}});function KT(e){const[t,r="center"]=e.split("-");return[t,r]}var e1=zT,Wm=WT,t1=HT,r1=YT,[n1,Kue]=ha("Tooltip",[uc]),s1=uc(),XT="TooltipProvider",Ez=700,Db="tooltip.open",[Az,d_]=n1(XT),ZT=e=>{const{__scopeTooltip:t,delayDuration:r=Ez,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[i,o]=v.useState(!0),c=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(Az,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};ZT.displayName=XT;var a1="Tooltip",[Tz,i1]=n1(a1),JT=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:o}=e,c=d_(a1,e.__scopeTooltip),u=s1(t),[d,h]=v.useState(null),f=Ta(),p=v.useRef(0),g=i??c.disableHoverableContent,y=o??c.delayDuration,S=v.useRef(!1),[b=!1,w]=$s({prop:n,defaultProp:s,onChange:R=>{R?(c.onOpen(),document.dispatchEvent(new CustomEvent(Db))):c.onClose(),a==null||a(R)}}),N=v.useMemo(()=>b?S.current?"delayed-open":"instant-open":"closed",[b]),C=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,S.current=!1,w(!0)},[w]),P=v.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),M=v.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{S.current=!0,w(!0),p.current=0},y)},[y,w]);return v.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(e1,{...u,children:l.jsx(Tz,{scope:t,contentId:f,open:b,stateAttribute:N,trigger:d,onTriggerChange:h,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?M():C()},[c.isOpenDelayed,M,C]),onTriggerLeave:v.useCallback(()=>{g?P():(window.clearTimeout(p.current),p.current=0)},[P,g]),onOpen:C,onClose:P,disableHoverableContent:g,children:r})})};JT.displayName=a1;var Rb="TooltipTrigger",QT=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=i1(Rb,r),a=d_(Rb,r),i=s1(r),o=v.useRef(null),c=Ft(t,o,s.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),h=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(Wm,{asChild:!0,...i,children:l.jsx(ct.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ge(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ge(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ge(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ge(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ge(e.onBlur,s.onClose),onClick:Ge(e.onClick,s.onClose)})})});QT.displayName=Rb;var Lz="TooltipPortal",[Xue,Dz]=n1(Lz,{forceMount:void 0}),Sh="TooltipContent",eL=v.forwardRef((e,t)=>{const r=Dz(Sh,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=i1(Sh,e.__scopeTooltip);return l.jsx(zs,{present:n||i.open,children:i.disableHoverableContent?l.jsx(tL,{side:s,...a,ref:t}):l.jsx(Rz,{side:s,...a,ref:t})})}),Rz=v.forwardRef((e,t)=>{const r=i1(Sh,e.__scopeTooltip),n=d_(Sh,e.__scopeTooltip),s=v.useRef(null),a=Ft(t,s),[i,o]=v.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=v.useCallback(()=>{o(null),h(!1)},[h]),p=v.useCallback((g,y)=>{const S=g.currentTarget,b={x:g.clientX,y:g.clientY},w=Fz(b,S.getBoundingClientRect()),N=Bz(b,w),C=$z(y.getBoundingClientRect()),P=Vz([...N,...C]);o(P),h(!0)},[h]);return v.useEffect(()=>()=>f(),[f]),v.useEffect(()=>{if(c&&d){const g=S=>p(S,d),y=S=>p(S,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[c,d,p,f]),v.useEffect(()=>{if(i){const g=y=>{const S=y.target,b={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(S))||(d==null?void 0:d.contains(S)),N=!Uz(b,i);w?f():N&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,f]),l.jsx(tL,{...e,ref:a})}),[Oz,Mz]=n1(a1,{isInside:!1}),tL=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...o}=e,c=i1(Sh,r),u=s1(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(Db,d),()=>document.removeEventListener(Db,d)),[d]),v.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(bu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(t1,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(HS,{children:n}),l.jsx(Oz,{scope:r,isInside:!0,children:l.jsx(p$,{id:c.contentId,role:"tooltip",children:s||n})})]})})});eL.displayName=Sh;var rL="TooltipArrow",Iz=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=s1(r);return Mz(rL,r).isInside?null:l.jsx(r1,{...s,...n,ref:t})});Iz.displayName=rL;function Fz(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Bz(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function $z(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Uz(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const o=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function Vz(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zz(t)}function zz(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var qz=ZT,Wz=JT,Hz=QT,nL=eL;const sL=qz,Gz=Wz,Yz=Hz,aL=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(nL,{ref:n,sideOffset:t,className:Ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));aL.displayName=nL.displayName;var o1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},l1=typeof window>"u"||"Deno"in globalThis;function ei(){}function Kz(e,t){return typeof e=="function"?e(t):e}function Xz(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lC(e,t){return typeof e=="function"?e(t):e}function Jz(e,t){return typeof e=="function"?e(t):e}function cC(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==h_(i,t.options))return!1}else if(!Zp(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||a&&!a(t))}function uC(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Xp(t.options.mutationKey)!==Xp(a))return!1}else if(!Zp(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function h_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xp)(e)}function Xp(e){return JSON.stringify(e,(t,r)=>Ob(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Zp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Zp(e[r],t[r])):!1}function iL(e,t){if(e===t)return e;const r=dC(e)&&dC(t);if(r||Ob(e)&&Ob(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,o=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,c++):(o[d]=iL(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:o}return t}function dC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ob(e){if(!hC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!hC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hC(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qz(e){return new Promise(t=>{setTimeout(t,e)})}function eq(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?iL(e,t):t}function tq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rq(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var f_=Symbol();function oL(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===f_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Kc,kl,ah,wE,nq=(wE=class extends o1{constructor(){super();Qt(this,Kc);Qt(this,kl);Qt(this,ah);Mt(this,ah,t=>{if(!l1&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Me(this,kl)||this.setEventListener(Me(this,ah))}onUnsubscribe(){var t;this.hasListeners()||((t=Me(this,kl))==null||t.call(this),Mt(this,kl,void 0))}setEventListener(t){var r;Mt(this,ah,t),(r=Me(this,kl))==null||r.call(this),Mt(this,kl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Me(this,Kc)!==t&&(Mt(this,Kc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Me(this,Kc)=="boolean"?Me(this,Kc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Kc=new WeakMap,kl=new WeakMap,ah=new WeakMap,wE),lL=new nq,ih,Pl,oh,bE,sq=(bE=class extends o1{constructor(){super();Qt(this,ih,!0);Qt(this,Pl);Qt(this,oh);Mt(this,oh,t=>{if(!l1&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Me(this,Pl)||this.setEventListener(Me(this,oh))}onUnsubscribe(){var t;this.hasListeners()||((t=Me(this,Pl))==null||t.call(this),Mt(this,Pl,void 0))}setEventListener(t){var r;Mt(this,oh,t),(r=Me(this,Pl))==null||r.call(this),Mt(this,Pl,t(this.setOnline.bind(this)))}setOnline(t){Me(this,ih)!==t&&(Mt(this,ih,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Me(this,ih)}},ih=new WeakMap,Pl=new WeakMap,oh=new WeakMap,bE),Gv=new sq;function aq(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function iq(e){return Math.min(1e3*2**e,3e4)}function cL(e){return(e??"online")==="online"?Gv.isOnline():!0}var uL=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gw(e){return e instanceof uL}function dL(e){let t=!1,r=0,n=!1,s;const a=aq(),i=y=>{var S;n||(f(new uL(y)),(S=e.abort)==null||S.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>lL.isFocused()&&(e.networkMode==="always"||Gv.isOnline())&&e.canRun(),d=()=>cL(e.networkMode)&&e.canRun(),h=y=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,y),s==null||s(),a.resolve(y))},f=y=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,y),s==null||s(),a.reject(y))},p=()=>new Promise(y=>{var S;s=b=>{(n||u())&&y(b)},(S=e.onPause)==null||S.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),g=()=>{if(n)return;let y;const S=r===0?e.initialPromise:void 0;try{y=S??e.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var M;if(n)return;const w=e.retry??(l1?0:3),N=e.retryDelay??iq,C=typeof N=="function"?N(r,b):N,P=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,b);if(t||!P){f(b);return}r++,(M=e.onFail)==null||M.call(e,r,b),Qz(C).then(()=>u()?void 0:p()).then(()=>{t?f(b):g()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),a)}}function oq(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const a=o=>{t?e.push(o):s(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var fs=oq(),Xc,SE,hL=(SE=class{constructor(){Qt(this,Xc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xz(this.gcTime)&&Mt(this,Xc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(l1?1/0:5*60*1e3))}clearGcTimeout(){Me(this,Xc)&&(clearTimeout(Me(this,Xc)),Mt(this,Xc,void 0))}},Xc=new WeakMap,SE),lh,ch,ja,Zn,Om,Zc,ri,xo,_E,lq=(_E=class extends hL{constructor(t){super();Qt(this,ri);Qt(this,lh);Qt(this,ch);Qt(this,ja);Qt(this,Zn);Qt(this,Om);Qt(this,Zc);Mt(this,Zc,!1),Mt(this,Om,t.defaultOptions),this.setOptions(t.options),this.observers=[],Mt(this,ja,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Mt(this,lh,uq(this.options)),this.state=t.state??Me(this,lh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Me(this,Zn))==null?void 0:t.promise}setOptions(t){this.options={...Me(this,Om),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Me(this,ja).remove(this)}setData(t,r){const n=eq(this.state.data,t,this.options);return zn(this,ri,xo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){zn(this,ri,xo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Me(this,Zn))==null?void 0:n.promise;return(s=Me(this,Zn))==null||s.cancel(t),r?r.then(ei).catch(ei):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Me(this,lh))}isActive(){return this.observers.some(t=>Jz(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===f_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Zz(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Me(this,Zn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Me(this,Zn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Me(this,ja).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Me(this,Zn)&&(Me(this,Zc)?Me(this,Zn).cancel({revert:!0}):Me(this,Zn).cancelRetry()),this.scheduleGc()),Me(this,ja).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zn(this,ri,xo).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Me(this,Zn))return Me(this,Zn).continueRetry(),Me(this,Zn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Mt(this,Zc,!0),n.signal)})},a=()=>{const h=oL(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return s(f),Mt(this,Zc,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),Mt(this,ch,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&zn(this,ri,xo).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const o=h=>{var f,p,g,y;gw(h)&&h.silent||zn(this,ri,xo).call(this,{type:"error",error:h}),gw(h)||((p=(f=Me(this,ja).config).onError)==null||p.call(f,h,this),(y=(g=Me(this,ja).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return Mt(this,Zn,dL({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,p,g,y;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(S){o(S);return}(p=(f=Me(this,ja).config).onSuccess)==null||p.call(f,h,this),(y=(g=Me(this,ja).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,f)=>{zn(this,ri,xo).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{zn(this,ri,xo).call(this,{type:"pause"})},onContinue:()=>{zn(this,ri,xo).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),Me(this,Zn).start()}},lh=new WeakMap,ch=new WeakMap,ja=new WeakMap,Zn=new WeakMap,Om=new WeakMap,Zc=new WeakMap,ri=new WeakSet,xo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cq(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return gw(s)&&s.revert&&Me(this,ch)?{...Me(this,ch),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),fs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Me(this,ja).notify({query:this,type:"updated",action:t})})},_E);function cq(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cL(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uq(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fi,NE,dq=(NE=class extends o1{constructor(t={}){super();Qt(this,Fi);this.config=t,Mt(this,Fi,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??h_(s,r);let i=this.get(a);return i||(i=new lq({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){Me(this,Fi).has(t.queryHash)||(Me(this,Fi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Me(this,Fi).get(t.queryHash);r&&(t.destroy(),r===t&&Me(this,Fi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Me(this,Fi).get(t)}getAll(){return[...Me(this,Fi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cC(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>cC(t,n)):r}notify(t){fs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){fs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fi=new WeakMap,NE),Bi,cs,Jc,$i,pl,jE,hq=(jE=class extends hL{constructor(t){super();Qt(this,$i);Qt(this,Bi);Qt(this,cs);Qt(this,Jc);this.mutationId=t.mutationId,Mt(this,cs,t.mutationCache),Mt(this,Bi,[]),this.state=t.state||fq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Me(this,Bi).includes(t)||(Me(this,Bi).push(t),this.clearGcTimeout(),Me(this,cs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Mt(this,Bi,Me(this,Bi).filter(r=>r!==t)),this.scheduleGc(),Me(this,cs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Me(this,Bi).length||(this.state.status==="pending"?this.scheduleGc():Me(this,cs).remove(this))}continue(){var t;return((t=Me(this,Jc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,o,c,u,d,h,f,p,g,y,S,b,w,N,C,P,M,R;Mt(this,Jc,dL({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,H)=>{zn(this,$i,pl).call(this,{type:"failed",failureCount:T,error:H})},onPause:()=>{zn(this,$i,pl).call(this,{type:"pause"})},onContinue:()=>{zn(this,$i,pl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Me(this,cs).canRun(this)}));const r=this.state.status==="pending",n=!Me(this,Jc).canStart();try{if(!r){zn(this,$i,pl).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=Me(this,cs).config).onMutate)==null?void 0:a.call(s,t,this));const H=await((o=(i=this.options).onMutate)==null?void 0:o.call(i,t));H!==this.state.context&&zn(this,$i,pl).call(this,{type:"pending",context:H,variables:t,isPaused:n})}const T=await Me(this,Jc).start();return await((u=(c=Me(this,cs).config).onSuccess)==null?void 0:u.call(c,T,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,t,this.state.context)),await((p=(f=Me(this,cs).config).onSettled)==null?void 0:p.call(f,T,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,T,null,t,this.state.context)),zn(this,$i,pl).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(S=Me(this,cs).config).onError)==null?void 0:b.call(S,T,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,T,t,this.state.context)),await((P=(C=Me(this,cs).config).onSettled)==null?void 0:P.call(C,void 0,T,this.state.variables,this.state.context,this)),await((R=(M=this.options).onSettled)==null?void 0:R.call(M,void 0,T,t,this.state.context)),T}finally{zn(this,$i,pl).call(this,{type:"error",error:T})}}finally{Me(this,cs).runNext(this)}}},Bi=new WeakMap,cs=new WeakMap,Jc=new WeakMap,$i=new WeakSet,pl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),fs.batch(()=>{Me(this,Bi).forEach(n=>{n.onMutationUpdate(t)}),Me(this,cs).notify({mutation:this,type:"updated",action:t})})},jE);function fq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Js,Mm,CE,pq=(CE=class extends o1{constructor(t={}){super();Qt(this,Js);Qt(this,Mm);this.config=t,Mt(this,Js,new Map),Mt(this,Mm,Date.now())}build(t,r,n){const s=new hq({mutationCache:this,mutationId:++ny(this,Mm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=jy(t),n=Me(this,Js).get(r)??[];n.push(t),Me(this,Js).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=jy(t);if(Me(this,Js).has(r)){const s=(n=Me(this,Js).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?Me(this,Js).delete(r):Me(this,Js).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=Me(this,Js).get(jy(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=Me(this,Js).get(jy(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){fs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Me(this,Js).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>uC(r,n))}findAll(t={}){return this.getAll().filter(r=>uC(t,r))}notify(t){fs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return fs.batch(()=>Promise.all(t.map(r=>r.continue().catch(ei))))}},Js=new WeakMap,Mm=new WeakMap,CE);function jy(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function fC(e){return{onFetch:(t,r)=>{var d,h,f,p,g;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const S=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},b=oL(t.options,t.fetchOptions),w=async(N,C,P)=>{if(y)return Promise.reject();if(C==null&&N.pages.length)return Promise.resolve(N);const M={queryKey:t.queryKey,pageParam:C,direction:P?"backward":"forward",meta:t.options.meta};S(M);const R=await b(M),{maxPages:T}=t.options,H=P?rq:tq;return{pages:H(N.pages,R,T),pageParams:H(N.pageParams,C,T)}};if(s&&a.length){const N=s==="backward",C=N?mq:pC,P={pages:a,pageParams:i},M=C(n,P);o=await w(P,M,N)}else{const N=e??a.length;do{const C=c===0?i[0]??n.initialPageParam:pC(n,o);if(c>0&&C==null)break;o=await w(o,C),c++}while(c<N)}return o};t.options.persister?t.fetchFn=()=>{var y,S;return(S=(y=t.options).persister)==null?void 0:S.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function pC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mq(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var qr,El,Al,uh,dh,Tl,hh,fh,kE,gq=(kE=class{constructor(e={}){Qt(this,qr);Qt(this,El);Qt(this,Al);Qt(this,uh);Qt(this,dh);Qt(this,Tl);Qt(this,hh);Qt(this,fh);Mt(this,qr,e.queryCache||new dq),Mt(this,El,e.mutationCache||new pq),Mt(this,Al,e.defaultOptions||{}),Mt(this,uh,new Map),Mt(this,dh,new Map),Mt(this,Tl,0)}mount(){ny(this,Tl)._++,Me(this,Tl)===1&&(Mt(this,hh,lL.subscribe(async e=>{e&&(await this.resumePausedMutations(),Me(this,qr).onFocus())})),Mt(this,fh,Gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),Me(this,qr).onOnline())})))}unmount(){var e,t;ny(this,Tl)._--,Me(this,Tl)===0&&((e=Me(this,hh))==null||e.call(this),Mt(this,hh,void 0),(t=Me(this,fh))==null||t.call(this),Mt(this,fh,void 0))}isFetching(e){return Me(this,qr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Me(this,El).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Me(this,qr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=Me(this,qr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(lC(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Me(this,qr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Me(this,qr).get(n.queryHash),a=s==null?void 0:s.state.data,i=Kz(t,a);if(i!==void 0)return Me(this,qr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return fs.batch(()=>Me(this,qr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Me(this,qr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Me(this,qr);fs.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Me(this,qr),n={type:"active",...e};return fs.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=fs.batch(()=>Me(this,qr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ei).catch(ei)}invalidateQueries(e={},t={}){return fs.batch(()=>{if(Me(this,qr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=fs.batch(()=>Me(this,qr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ei)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ei)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Me(this,qr).build(this,t);return r.isStaleByTime(lC(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ei).catch(ei)}fetchInfiniteQuery(e){return e.behavior=fC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ei).catch(ei)}ensureInfiniteQueryData(e){return e.behavior=fC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gv.isOnline()?Me(this,El).resumePausedMutations():Promise.resolve()}getQueryCache(){return Me(this,qr)}getMutationCache(){return Me(this,El)}getDefaultOptions(){return Me(this,Al)}setDefaultOptions(e){Mt(this,Al,e)}setQueryDefaults(e,t){Me(this,uh).set(Xp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Me(this,uh).values()];let r={};return t.forEach(n=>{Zp(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){Me(this,dh).set(Xp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Me(this,dh).values()];let r={};return t.forEach(n=>{Zp(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Me(this,Al).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=h_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===f_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Me(this,Al).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Me(this,qr).clear(),Me(this,El).clear()}},qr=new WeakMap,El=new WeakMap,Al=new WeakMap,uh=new WeakMap,dh=new WeakMap,Tl=new WeakMap,hh=new WeakMap,fh=new WeakMap,kE),yq=v.createContext(void 0),vq=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(yq.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jp.apply(this,arguments)}var Rl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rl||(Rl={}));const mC="popstate";function xq(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:i,hash:o}=n.location;return Mb("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Yv(s)}return bq(t,r,null,e)}function on(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wq(){return Math.random().toString(36).substr(2,8)}function gC(e,t){return{usr:e.state,key:e.key,idx:t}}function Mb(e,t,r,n){return r===void 0&&(r=null),Jp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Uh(t):t,{state:r,key:t&&t.key||n||wq()})}function Yv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Uh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bq(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,o=Rl.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Jp({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){o=Rl.Pop;let S=d(),b=S==null?null:S-u;u=S,c&&c({action:o,location:y.location,delta:b})}function f(S,b){o=Rl.Push;let w=Mb(y.location,S,b);u=d()+1;let N=gC(w,u),C=y.createHref(w);try{i.pushState(N,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(C)}a&&c&&c({action:o,location:y.location,delta:1})}function p(S,b){o=Rl.Replace;let w=Mb(y.location,S,b);u=d();let N=gC(w,u),C=y.createHref(w);i.replaceState(N,"",C),a&&c&&c({action:o,location:y.location,delta:0})}function g(S){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof S=="string"?S:Yv(S);return w=w.replace(/ $/,"%20"),on(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let y={get action(){return o},get location(){return e(s,i)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(mC,h),c=S,()=>{s.removeEventListener(mC,h),c=null}},createHref(S){return t(s,S)},createURL:g,encodeLocation(S){let b=g(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(S){return i.go(S)}};return y}var yC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yC||(yC={}));function Sq(e,t,r){return r===void 0&&(r="/"),_q(e,t,r,!1)}function _q(e,t,r,n){let s=typeof t=="string"?Uh(t):t,a=p_(s.pathname||"/",r);if(a==null)return null;let i=pL(e);Nq(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=Oq(a);o=Dq(i[c],u,n)}return o}function pL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(on(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ql([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(on(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pL(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Tq(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of mL(a.path))s(a,i,c)}),t}function mL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=mL(n.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jq=/^:[\w-]+$/,Cq=3,kq=2,Pq=1,Eq=10,Aq=-2,vC=e=>e==="*";function Tq(e,t){let r=e.split("/"),n=r.length;return r.some(vC)&&(n+=Aq),t&&(n+=kq),r.filter(s=>!vC(s)).reduce((s,a)=>s+(jq.test(a)?Cq:a===""?Pq:Eq),n)}function Lq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Dq(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=xC({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=xC({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:ql([a,h.pathname]),pathnameBase:Bq(ql([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=ql([a,h.pathnameBase]))}return i}function xC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Rq(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function Rq(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Oq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function p_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Mq(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Uh(e):e;return{pathname:r?r.startsWith("/")?r:Iq(r,t):t,search:$q(n),hash:Uq(s)}}function Iq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function m_(e,t){let r=Fq(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function g_(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Uh(e):(s=Jp({},e),on(!s.pathname||!s.pathname.includes("?"),yw("?","pathname","search",s)),on(!s.pathname||!s.pathname.includes("#"),yw("#","pathname","hash",s)),on(!s.search||!s.search.includes("#"),yw("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=Mq(s,o),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ql=e=>e.join("/").replace(/\/\/+/g,"/"),Bq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$q=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Uq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gL=["post","put","patch","delete"];new Set(gL);const zq=["get",...gL];new Set(zq);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(this,arguments)}const y_=v.createContext(null),qq=v.createContext(null),dc=v.createContext(null),c1=v.createContext(null),qo=v.createContext({outlet:null,matches:[],isDataRoute:!1}),yL=v.createContext(null);function Wq(e,t){let{relative:r}=t===void 0?{}:t;Vh()||on(!1);let{basename:n,navigator:s}=v.useContext(dc),{hash:a,pathname:i,search:o}=xL(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:ql([n,i])),s.createHref({pathname:c,search:o,hash:a})}function Vh(){return v.useContext(c1)!=null}function zh(){return Vh()||on(!1),v.useContext(c1).location}function vL(e){v.useContext(dc).static||v.useLayoutEffect(e)}function xs(){let{isDataRoute:e}=v.useContext(qo);return e?aW():Hq()}function Hq(){Vh()||on(!1);let e=v.useContext(y_),{basename:t,future:r,navigator:n}=v.useContext(dc),{matches:s}=v.useContext(qo),{pathname:a}=zh(),i=JSON.stringify(m_(s,r.v7_relativeSplatPath)),o=v.useRef(!1);return vL(()=>{o.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=g_(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ql([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,i,a,e])}function Gq(){let{matches:e}=v.useContext(qo),t=e[e.length-1];return t?t.params:{}}function xL(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(dc),{matches:s}=v.useContext(qo),{pathname:a}=zh(),i=JSON.stringify(m_(s,n.v7_relativeSplatPath));return v.useMemo(()=>g_(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function Yq(e,t){return Kq(e,t)}function Kq(e,t,r,n){Vh()||on(!1);let{navigator:s}=v.useContext(dc),{matches:a}=v.useContext(qo),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=zh(),d;if(t){var h;let S=typeof t=="string"?Uh(t):t;c==="/"||(h=S.pathname)!=null&&h.startsWith(c)||on(!1),d=S}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let S=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=Sq(e,{pathname:p}),y=eW(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:ql([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:ql([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,r,n);return t&&y?v.createElement(c1.Provider,{value:{location:Qp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rl.Pop}},y):y}function Xq(){let e=sW(),t=Vq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const Zq=v.createElement(Xq,null);class Jq extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(qo.Provider,{value:this.props.routeContext},v.createElement(yL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qq(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(y_);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(qo.Provider,{value:t},n)}function eW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||on(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let p,g=!1,y=null,S=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||Zq,c&&(u<0&&f===0?(g=!0,S=null):u===f&&(g=!0,S=h.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,f+1)),w=()=>{let N;return p?N=y:g?N=S:h.route.Component?N=v.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,v.createElement(Qq,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:N})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?v.createElement(Jq,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var wL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wL||{}),Kv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kv||{});function tW(e){let t=v.useContext(y_);return t||on(!1),t}function rW(e){let t=v.useContext(qq);return t||on(!1),t}function nW(e){let t=v.useContext(qo);return t||on(!1),t}function bL(e){let t=nW(),r=t.matches[t.matches.length-1];return r.route.id||on(!1),r.route.id}function sW(){var e;let t=v.useContext(yL),r=rW(Kv.UseRouteError),n=bL(Kv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function aW(){let{router:e}=tW(wL.UseNavigateStable),t=bL(Kv.UseNavigateStable),r=v.useRef(!1);return vL(()=>{r.current=!0}),v.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Qp({fromRouteId:t},a)))},[e,t])}function v_(e){let{to:t,replace:r,state:n,relative:s}=e;Vh()||on(!1);let{future:a,static:i}=v.useContext(dc),{matches:o}=v.useContext(qo),{pathname:c}=zh(),u=xs(),d=g_(t,m_(o,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Xs(e){on(!1)}function iW(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rl.Pop,navigator:a,static:i=!1,future:o}=e;Vh()&&on(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:i,future:Qp({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof n=="string"&&(n=Uh(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,y=v.useMemo(()=>{let S=p_(d,c);return S==null?null:{location:{pathname:S,search:h,hash:f,state:p,key:g},navigationType:s}},[c,d,h,f,p,g,s]);return y==null?null:v.createElement(dc.Provider,{value:u},v.createElement(c1.Provider,{children:r,value:y}))}function oW(e){let{children:t,location:r}=e;return Yq(Ib(t),r)}new Promise(()=>{});function Ib(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let a=[...t,s];if(n.type===v.Fragment){r.push.apply(r,Ib(n.props.children,a));return}n.type!==Xs&&on(!1),!n.props.index||!n.props.children||on(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ib(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(this,arguments)}function lW(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function cW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uW(e,t){return e.button===0&&(!t||t==="_self")&&!cW(e)}const dW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hW="6";try{window.__reactRouterVersion=hW}catch{}const fW="startTransition",wC=BE[fW];function pW(e){let{basename:t,children:r,future:n,window:s}=e,a=v.useRef();a.current==null&&(a.current=xq({window:s,v5Compat:!0}));let i=a.current,[o,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&wC?wC(()=>c(h)):c(h)},[c,u]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.createElement(iW,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const mW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yW=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=lW(t,dW),{basename:p}=v.useContext(dc),g,y=!1;if(typeof u=="string"&&gW.test(u)&&(g=u,mW))try{let N=new URL(window.location.href),C=u.startsWith("//")?new URL(N.protocol+u):new URL(u),P=p_(C.pathname,p);C.origin===N.origin&&P!=null?u=P+C.search+C.hash:y=!0}catch{}let S=Wq(u,{relative:s}),b=vW(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(N){n&&n(N),N.defaultPrevented||b(N)}return v.createElement("a",Fb({},f,{href:g||S,onClick:y||a?n:w,ref:r,target:c}))});var bC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bC||(bC={}));var SC;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(SC||(SC={}));function vW(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,c=xs(),u=zh(),d=xL(e,{relative:i});return v.useCallback(h=>{if(uW(h,r)){h.preventDefault();let f=n!==void 0?n:Yv(u)===Yv(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[u,c,d,n,s,r,e,a,i,o])}const x_=v.createContext({});function w_(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const b_=typeof window<"u",SL=b_?v.useLayoutEffect:v.useEffect,u1=v.createContext(null),S_=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class xW extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wW({children:e,isPresent:t,anchorX:r}){const n=v.useId(),s=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=v.useContext(S_);return v.useInsertionEffect(()=>{const{width:o,height:c,top:u,left:d,right:h}=a.current;if(t||!s.current||!o||!c)return;const f=r==="left"?`left: ${d}`:`right: ${h}`;s.current.dataset.motionPopId=n;const p=document.createElement("style");return i&&(p.nonce=i),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),l.jsx(xW,{isPresent:t,childRef:s,sizeRef:a,children:v.cloneElement(e,{ref:s})})}const bW=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:i,anchorX:o})=>{const c=w_(SW),u=v.useId(),d=v.useCallback(f=>{c.set(f,!0);for(const p of c.values())if(!p)return;n&&n()},[c,n]),h=v.useMemo(()=>({id:u,initial:t,isPresent:r,custom:s,onExitComplete:d,register:f=>(c.set(f,!1),()=>c.delete(f))}),a?[Math.random(),d]:[r,d]);return v.useMemo(()=>{c.forEach((f,p)=>c.set(p,!1))},[r]),v.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),i==="popLayout"&&(e=l.jsx(wW,{isPresent:r,anchorX:o,children:e})),l.jsx(u1.Provider,{value:h,children:e})};function SW(){return new Map}function _L(e=!0){const t=v.useContext(u1);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=v.useId();v.useEffect(()=>{if(e)return s(a)},[e]);const i=v.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,i]:[!0]}const Cy=e=>e.key||"";function _C(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const __=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:i=!1,anchorX:o="left"})=>{const[c,u]=_L(i),d=v.useMemo(()=>_C(e),[e]),h=i&&!c?[]:d.map(Cy),f=v.useRef(!0),p=v.useRef(d),g=w_(()=>new Map),[y,S]=v.useState(d),[b,w]=v.useState(d);SL(()=>{f.current=!1,p.current=d;for(let P=0;P<b.length;P++){const M=Cy(b[P]);h.includes(M)?g.delete(M):g.get(M)!==!0&&g.set(M,!1)}},[b,h.length,h.join("-")]);const N=[];if(d!==y){let P=[...d];for(let M=0;M<b.length;M++){const R=b[M],T=Cy(R);h.includes(T)||(P.splice(M,0,R),N.push(R))}return a==="wait"&&N.length&&(P=N),w(_C(P)),S(d),null}const{forceRender:C}=v.useContext(x_);return l.jsx(l.Fragment,{children:b.map(P=>{const M=Cy(P),R=i&&!c?!1:d===b||h.includes(M),T=()=>{if(g.has(M))g.set(M,!0);else return;let H=!0;g.forEach(Q=>{Q||(H=!1)}),H&&(C==null||C(),w(p.current),i&&(u==null||u()),n&&n())};return l.jsx(bW,{isPresent:R,initial:!f.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:R?void 0:T,anchorX:o,children:P},M)})})};function N_(e,t){e.indexOf(t)===-1&&e.push(t)}function j_(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const oa=e=>e;let Bb=oa;const _W={skipAnimations:!1,useManualTiming:!1};function C_(e){let t;return()=>(t===void 0&&(t=e()),t)}const _h=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class k_{constructor(){this.subscriptions=[]}add(t){return N_(this.subscriptions,t),()=>j_(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ao=e=>e*1e3,To=e=>e/1e3;function NL(e,t){return t?e*(1e3/t):0}const NW=C_(()=>window.ScrollTimeline!==void 0);class jW{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(NW()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class CW extends jW{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function P_(e,t){return e?e[t]||e.default||e:void 0}const $b=2e4;function jL(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<$b;)t+=r,n=e.next(t);return t>=$b?1/0:t}function E_(e){return typeof e=="function"}function NC(e,t){e.timeline=t,e.onfinish=null}const A_=e=>Array.isArray(e)&&typeof e[0]=="number",kW={linearEasing:void 0};function PW(e,t){const r=C_(e);return()=>{var n;return(n=kW[t])!==null&&n!==void 0?n:r()}}const Xv=PW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),CL=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=e(_h(0,s-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function kL(e){return!!(typeof e=="function"&&Xv()||!e||typeof e=="string"&&(e in Ub||Xv())||A_(e)||Array.isArray(e)&&e.every(kL))}const Qf=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Ub={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qf([0,.65,.55,1]),circOut:Qf([.55,0,1,.45]),backIn:Qf([.31,.01,.66,-.59]),backOut:Qf([.33,1.53,.69,.99])};function PL(e,t){if(e)return typeof e=="function"&&Xv()?CL(e,t):A_(e)?Qf(e):Array.isArray(e)?e.map(r=>PL(r,t)||Ub.easeOut):Ub[e]}const ky=["read","resolveKeyframes","update","preRender","render","postRender"],jC={value:null,addProjectionMetrics:null};function EW(e,t){let r=new Set,n=new Set,s=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){i.has(h)&&(d.schedule(h),e()),c++,h(o)}const d={schedule:(h,f=!1,p=!1)=>{const y=p&&s?r:n;return f&&i.add(h),y.has(h)||y.add(h),h},cancel:h=>{n.delete(h),i.delete(h)},process:h=>{if(o=h,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&jC.value&&jC.value.frameloop[t].push(c),c=0,r.clear(),s=!1,a&&(a=!1,d.process(h))}};return d}const AW=40;function EL(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=ky.reduce((b,w)=>(b[w]=EW(a,t?w:void 0),b),{}),{read:o,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=i,p=()=>{const b=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,AW),1),s.timestamp=b,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(p))},g=()=>{r=!0,n=!0,s.isProcessing||e(p)};return{schedule:ky.reduce((b,w)=>{const N=i[w];return b[w]=(C,P=!1,M=!1)=>(r||g(),N.schedule(C,P,M)),b},{}),cancel:b=>{for(let w=0;w<ky.length;w++)i[ky[w]].cancel(b)},state:s,steps:i}}const{schedule:xr,cancel:Ql,state:In,steps:vw}=EL(typeof requestAnimationFrame<"u"?requestAnimationFrame:oa,!0),{schedule:T_,cancel:Zue}=EL(queueMicrotask,!1);let iv;function TW(){iv=void 0}const Yi={now:()=>(iv===void 0&&Yi.set(In.isProcessing||_W.useManualTiming?In.timestamp:performance.now()),iv),set:e=>{iv=e,queueMicrotask(TW)}},Za={x:!1,y:!1};function AL(){return Za.x||Za.y}function LW(e){return e==="x"||e==="y"?Za[e]?null:(Za[e]=!0,()=>{Za[e]=!1}):Za.x||Za.y?null:(Za.x=Za.y=!0,()=>{Za.x=Za.y=!1})}function DW(e,t,r){var n;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function TL(e,t){const r=DW(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function CC(e){return!(e.pointerType==="touch"||AL())}function RW(e,t,r={}){const[n,s,a]=TL(e,r),i=o=>{if(!CC(o))return;const{target:c}=o,u=t(c,o);if(typeof u!="function"||!c)return;const d=h=>{CC(h)&&(u(h),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(o=>{o.addEventListener("pointerenter",i,s)}),a}function kC(e,t){const r=`${t}PointerCapture`;if(e.target instanceof Element&&r in e.target&&e.pointerId!==void 0)try{e.target[r](e.pointerId)}catch{}}const LL=(e,t)=>t?e===t?!0:LL(e,t.parentElement):!1,L_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,OW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MW(e){return OW.has(e.tagName)||e.tabIndex!==-1}const ep=new WeakSet;function PC(e){return t=>{t.key==="Enter"&&e(t)}}function xw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const IW=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=PC(()=>{if(ep.has(r))return;xw(r,"down");const s=PC(()=>{xw(r,"up")}),a=()=>xw(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function EC(e){return L_(e)&&!AL()}function FW(e,t,r={}){const[n,s,a]=TL(e,r),i=o=>{const c=o.currentTarget;if(!c||!EC(o)||ep.has(c))return;ep.add(c),kC(o,"set");const u=t(c,o),d=(p,g)=>{c.removeEventListener("pointerup",h),c.removeEventListener("pointercancel",f),kC(p,"release"),!(!EC(p)||!ep.has(c))&&(ep.delete(c),typeof u=="function"&&u(p,{success:g}))},h=p=>{(p.isTrusted?BW(p,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(p,!1):d(p,!(c instanceof Element)||LL(c,p.target))},f=p=>{d(p,!1)};c.addEventListener("pointerup",h,s),c.addEventListener("pointercancel",f,s),c.addEventListener("lostpointercapture",f,s)};return n.forEach(o=>{o=r.useGlobalTarget?window:o;let c=!1;o instanceof HTMLElement&&(c=!0,!MW(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0)),o.addEventListener("pointerdown",i,s),c&&o.addEventListener("focus",u=>IW(u,s),s)}),a}function BW(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}const AC=30,$W=e=>!isNaN(parseFloat(e));class UW{constructor(t,r={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=Yi.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Yi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$W(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new k_);const n=this.events[t].add(r);return t==="change"?()=>{n(),xr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Yi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,AC);return NL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function em(e,t){return new UW(e,t)}const DL=v.createContext({strict:!1}),TC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nh={};for(const e in TC)Nh[e]={isEnabled:t=>TC[e].some(r=>!!t[r])};function VW(e){for(const t in e)Nh[t]={...Nh[t],...e[t]}}const zW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zW.has(e)}let RL=e=>!Zv(e);function qW(e){e&&(RL=t=>t.startsWith("on")?!Zv(t):e(t))}try{qW(require("@emotion/is-prop-valid").default)}catch{}function WW(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(RL(s)||r===!0&&Zv(s)||!t&&!Zv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function HW(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const d1=v.createContext({});function h1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tm(e){return typeof e=="string"||Array.isArray(e)}const D_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],R_=["initial",...D_];function f1(e){return h1(e.animate)||R_.some(t=>tm(e[t]))}function OL(e){return!!(f1(e)||e.variants)}function GW(e,t){if(f1(e)){const{initial:r,animate:n}=e;return{initial:r===!1||tm(r)?r:void 0,animate:tm(n)?n:void 0}}return e.inherit!==!1?t:{}}function YW(e){const{initial:t,animate:r}=GW(e,v.useContext(d1));return v.useMemo(()=>({initial:t,animate:r}),[LC(t),LC(r)])}function LC(e){return Array.isArray(e)?e.join(" "):e}const KW=Symbol.for("motionComponentSymbol");function Ad(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XW(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ad(r)&&(r.current=n))},[t])}const O_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZW="framerAppearId",ML="data-"+O_(ZW),IL=v.createContext({});function JW(e,t,r,n,s){var a,i;const{visualElement:o}=v.useContext(d1),c=v.useContext(DL),u=v.useContext(u1),d=v.useContext(S_).reducedMotion,h=v.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=v.useContext(IL);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&QW(h.current,r,s,p);const g=v.useRef(!1);v.useInsertionEffect(()=>{f&&g.current&&f.update(r,u)});const y=r[ML],S=v.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,y)));return SL(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),T_.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),S.current=!1))}),f}function QW(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:o,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:FL(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||o&&Ad(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function FL(e){if(e)return e.options.allowProjection!==!1?e.projection:FL(e.parent)}function eH({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var a,i;e&&VW(e);function o(u,d){let h;const f={...v.useContext(S_),...u,layoutId:tH(u)},{isStatic:p}=f,g=YW(u),y=n(u,p);if(!p&&b_){rH();const S=nH(f);h=S.MeasureLayout,g.visualElement=JW(s,y,f,t,S.ProjectionNode)}return l.jsxs(d1.Provider,{value:g,children:[h&&g.visualElement?l.jsx(h,{visualElement:g.visualElement,...f}):null,r(s,u,XW(y,g.visualElement,d),y,p,g.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(i=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&i!==void 0?i:""})`}`;const c=v.forwardRef(o);return c[KW]=s,c}function tH({layoutId:e}){const t=v.useContext(x_).id;return t&&e!==void 0?t+"-"+e:e}function rH(e,t){v.useContext(DL).strict}function nH(e){const{drag:t,layout:r}=Nh;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const BL=e=>t=>typeof t=="string"&&t.startsWith(e),M_=BL("--"),sH=BL("var(--"),I_=e=>sH(e)?aH.test(e.split("/*")[0].trim()):!1,aH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rm={};function iH(e){for(const t in e)rm[t]=e[t],M_(t)&&(rm[t].isCSSVariable=!0)}const qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Su=new Set(qh);function $L(e,{layout:t,layoutId:r}){return Su.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!rm[e]||e==="opacity")}const ts=e=>!!(e&&e.getVelocity),UL=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Fo=(e,t,r)=>r>t?t:r<e?e:r,Wh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nm={...Wh,transform:e=>Fo(0,1,e)},Py={...Wh,default:1},Hm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ml=Hm("deg"),Ki=Hm("%"),yt=Hm("px"),oH=Hm("vh"),lH=Hm("vw"),DC={...Ki,parse:e=>Ki.parse(e)/100,transform:e=>Ki.transform(e*100)},cH={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt},uH={rotate:ml,rotateX:ml,rotateY:ml,rotateZ:ml,scale:Py,scaleX:Py,scaleY:Py,scaleZ:Py,skew:ml,skewX:ml,skewY:ml,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:nm,originX:DC,originY:DC,originZ:yt},RC={...Wh,transform:Math.round},F_={...cH,...uH,zIndex:RC,size:yt,fillOpacity:nm,strokeOpacity:nm,numOctaves:RC},dH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hH=qh.length;function fH(e,t,r){let n="",s=!0;for(let a=0;a<hH;a++){const i=qh[a],o=e[i];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(i.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const u=UL(o,F_[i]);if(!c){s=!1;const d=dH[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function B_(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,o=!1;for(const c in t){const u=t[c];if(Su.has(c)){i=!0;continue}else if(M_(c)){s[c]=u;continue}else{const d=UL(u,F_[c]);c.startsWith("origin")?(o=!0,a[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=fH(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const $_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VL(e,t,r){for(const n in t)!ts(t[n])&&!$L(n,r)&&(e[n]=t[n])}function pH({transformTemplate:e},t){return v.useMemo(()=>{const r=$_();return B_(r,t,e),Object.assign({},r.vars,r.style)},[t])}function mH(e,t){const r=e.style||{},n={};return VL(n,r,e),Object.assign(n,pH(e,t)),n}function gH(e,t){const r={},n=mH(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const yH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function U_(e){return typeof e!="string"||e.includes("-")?!1:!!(yH.indexOf(e)>-1||/[A-Z]/u.test(e))}const vH={offset:"stroke-dashoffset",array:"stroke-dasharray"},xH={offset:"strokeDashoffset",array:"strokeDasharray"};function wH(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?vH:xH;e[a.offset]=yt.transform(-n);const i=yt.transform(t),o=yt.transform(r);e[a.array]=`${i} ${o}`}function OC(e,t,r){return typeof e=="string"?e:yt.transform(t+r*e)}function bH(e,t,r){const n=OC(t,e.x,e.width),s=OC(r,e.y,e.height);return`${n} ${s}`}function V_(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...u},d,h){if(B_(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:g}=e;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(s!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=bH(g,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&wH(f,i,o,c,!1)}const zL=()=>({...$_(),attrs:{}}),z_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function SH(e,t,r,n){const s=v.useMemo(()=>{const a=zL();return V_(a,t,z_(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};VL(a,e.style,e),s.style={...a,...s.style}}return s}function _H(e=!1){return(r,n,s,{latestValues:a},i)=>{const c=(U_(r)?SH:gH)(n,a,i,r),u=WW(n,typeof r=="string",e),d=r!==v.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=v.useMemo(()=>ts(h)?h.get():h,[h]);return v.createElement(r,{...d,children:f})}}function MC(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function q_(e,t,r,n){if(typeof t=="function"){const[s,a]=MC(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=MC(n);t=t(r!==void 0?r:e.custom,s,a)}return t}const Vb=e=>Array.isArray(e),NH=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),jH=e=>Vb(e)?e[e.length-1]||0:e;function ov(e){const t=ts(e)?e.get():e;return NH(t)?t.toValue():t}function CH({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,a){const i={latestValues:kH(n,s,a,e),renderState:t()};return r&&(i.onMount=o=>r({props:n,current:o,...i}),i.onUpdate=o=>r(o)),i}const qL=e=>(t,r)=>{const n=v.useContext(d1),s=v.useContext(u1),a=()=>CH(e,t,n,s);return r?a():w_(a)};function kH(e,t,r,n){const s={},a=n(e,{});for(const f in a)s[f]=ov(a[f]);let{initial:i,animate:o}=e;const c=f1(e),u=OL(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const h=d?o:i;if(h&&typeof h!="boolean"&&!h1(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const g=q_(e,f[p]);if(g){const{transitionEnd:y,transition:S,...b}=g;for(const w in b){let N=b[w];if(Array.isArray(N)){const C=d?N.length-1:0;N=N[C]}N!==null&&(s[w]=N)}for(const w in y)s[w]=y[w]}}}return s}function W_(e,t,r){var n;const{style:s}=e,a={};for(const i in s)(ts(s[i])||t.style&&ts(t.style[i])||$L(i,e)||((n=r==null?void 0:r.getValue(i))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[i]=s[i]);return a}const PH={useVisualState:qL({scrapeMotionValuesFromProps:W_,createRenderState:$_})};function WL(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function HL(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const GL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YL(e,t,r,n){HL(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(GL.has(s)?s:O_(s),t.attrs[s])}function KL(e,t,r){const n=W_(e,t,r);for(const s in e)if(ts(e[s])||ts(t[s])){const a=qh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}const IC=["x","y","width","height","cx","cy","r"],EH={useVisualState:qL({scrapeMotionValuesFromProps:KL,createRenderState:zL,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let a=!!e.drag;if(!a){for(const o in s)if(Su.has(o)){a=!0;break}}if(!a)return;let i=!t;if(t)for(let o=0;o<IC.length;o++){const c=IC[o];e[c]!==t[c]&&(i=!0)}i&&xr.read(()=>{WL(r,n),xr.render(()=>{V_(n,s,z_(r.tagName),e.transformTemplate),YL(r,n)})})}})};function AH(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...U_(n)?EH:PH,preloadedFeatures:e,useRender:_H(s),createVisualElement:t,Component:n};return eH(i)}}function sm(e,t,r){const n=e.getProps();return q_(n,t,r!==void 0?r:n.custom,e)}const XL=new Set(["width","height","top","left","right","bottom",...qh]);function TH(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,em(r))}function LH(e,t){const r=sm(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const i in a){const o=jH(a[i]);TH(e,i,o)}}function DH(e){return!!(ts(e)&&e.add)}function zb(e,t){const r=e.getValue("willChange");if(DH(r))return r.add(t)}function ZL(e){return e.props[ML]}const JL=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,RH=1e-7,OH=12;function MH(e,t,r,n,s){let a,i,o=0;do i=t+(r-t)/2,a=JL(i,n,s)-e,a>0?r=i:t=i;while(Math.abs(a)>RH&&++o<OH);return i}function Gm(e,t,r,n){if(e===t&&r===n)return oa;const s=a=>MH(a,0,1,e,r);return a=>a===0||a===1?a:JL(s(a),t,n)}const QL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,e6=e=>t=>1-e(1-t),t6=Gm(.33,1.53,.69,.99),H_=e6(t6),r6=QL(H_),n6=e=>(e*=2)<1?.5*H_(e):.5*(2-Math.pow(2,-10*(e-1))),G_=e=>1-Math.sin(Math.acos(e)),s6=e6(G_),a6=QL(G_),i6=e=>/^0[^.\s]+$/u.test(e);function IH(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||i6(e):!0}const vp=e=>Math.round(e*1e5)/1e5,Y_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FH(e){return e==null}const BH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,K_=(e,t)=>r=>!!(typeof r=="string"&&BH.test(r)&&r.startsWith(e)||t&&!FH(r)&&Object.prototype.hasOwnProperty.call(r,t)),o6=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,i,o]=n.match(Y_);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},$H=e=>Fo(0,255,e),ww={...Wh,transform:e=>Math.round($H(e))},Hc={test:K_("rgb","red"),parse:o6("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+ww.transform(e)+", "+ww.transform(t)+", "+ww.transform(r)+", "+vp(nm.transform(n))+")"};function UH(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const qb={test:K_("#"),parse:UH,transform:Hc.transform},Td={test:K_("hsl","hue"),parse:o6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ki.transform(vp(t))+", "+Ki.transform(vp(r))+", "+vp(nm.transform(n))+")"},Jn={test:e=>Hc.test(e)||qb.test(e)||Td.test(e),parse:e=>Hc.test(e)?Hc.parse(e):Td.test(e)?Td.parse(e):qb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hc.transform(e):Td.transform(e)},VH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zH(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Y_))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(VH))===null||r===void 0?void 0:r.length)||0)>0}const l6="number",c6="color",qH="var",WH="var(",FC="${}",HH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function am(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const o=t.replace(HH,c=>(Jn.test(c)?(n.color.push(a),s.push(c6),r.push(Jn.parse(c))):c.startsWith(WH)?(n.var.push(a),s.push(qH),r.push(c)):(n.number.push(a),s.push(l6),r.push(parseFloat(c))),++a,FC)).split(FC);return{values:r,split:o,indexes:n,types:s}}function u6(e){return am(e).values}function d6(e){const{split:t,types:r}=am(e),n=t.length;return s=>{let a="";for(let i=0;i<n;i++)if(a+=t[i],s[i]!==void 0){const o=r[i];o===l6?a+=vp(s[i]):o===c6?a+=Jn.transform(s[i]):a+=s[i]}return a}}const GH=e=>typeof e=="number"?0:e;function YH(e){const t=u6(e);return d6(e)(t.map(GH))}const ec={test:zH,parse:u6,createTransformer:d6,getAnimatableNone:YH},KH=new Set(["brightness","contrast","saturate","opacity"]);function XH(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Y_)||[];if(!n)return e;const s=r.replace(n,"");let a=KH.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const ZH=/\b([a-z-]*)\(.*?\)/gu,Wb={...ec,getAnimatableNone:e=>{const t=e.match(ZH);return t?t.map(XH).join(" "):e}},JH={...F_,color:Jn,backgroundColor:Jn,outlineColor:Jn,fill:Jn,stroke:Jn,borderColor:Jn,borderTopColor:Jn,borderRightColor:Jn,borderBottomColor:Jn,borderLeftColor:Jn,filter:Wb,WebkitFilter:Wb},h6=e=>JH[e];function f6(e,t){let r=h6(e);return r!==Wb&&(r=ec),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const QH=new Set(["auto","none","0"]);function eG(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!QH.has(a)&&am(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=f6(r,s)}const Gc=e=>e*180/Math.PI,Hb=e=>{const t=Gc(Math.atan2(e[1],e[0]));return Gb(t)},tG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Hb,rotateZ:Hb,skewX:e=>Gc(Math.atan(e[1])),skewY:e=>Gc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gb=e=>(e=e%360,e<0&&(e+=360),e),BC=Hb,$C=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),UC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$C,scaleY:UC,scale:e=>($C(e)+UC(e))/2,rotateX:e=>Gb(Gc(Math.atan2(e[6],e[5]))),rotateY:e=>Gb(Gc(Math.atan2(-e[2],e[0]))),rotateZ:BC,rotate:BC,skewX:e=>Gc(Math.atan(e[4])),skewY:e=>Gc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function VC(e){return e.includes("scale")?1:0}function Yb(e,t){if(!e||e==="none")return VC(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=rG,s=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=tG,s=o}if(!s)return VC(t);const a=n[t],i=s[1].split(",").map(sG);return typeof a=="function"?a(i):i[a]}const nG=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Yb(r,t)};function sG(e){return parseFloat(e.trim())}const zC=e=>e===Wh||e===yt,aG=new Set(["x","y","z"]),iG=qh.filter(e=>!aG.has(e));function oG(e){const t=[];return iG.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const jh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Yb(t,"x"),y:(e,{transform:t})=>Yb(t,"y")};jh.translateX=jh.x;jh.translateY=jh.y;const tu=new Set;let Kb=!1,Xb=!1;function p6(){if(Xb){const e=Array.from(tu).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=oG(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,i])=>{var o;(o=n.getValue(a))===null||o===void 0||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Xb=!1,Kb=!1,tu.forEach(e=>e.complete()),tu.clear()}function m6(){tu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xb=!0)})}function lG(){m6(),p6()}class X_{constructor(t,r,n,s,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tu.add(this),Kb||(Kb=!0,xr.read(m6),xr.resolveKeyframes(p6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const g6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),cG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uG(e){const t=cG.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function y6(e,t,r=1){const[n,s]=uG(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const i=a.trim();return g6(i)?parseFloat(i):i}return I_(s)?y6(s,t,r+1):s}const v6=e=>t=>t.test(e),dG={test:e=>e==="auto",parse:e=>e},x6=[Wh,yt,Ki,ml,lH,oH,dG],qC=e=>x6.find(v6(e));class w6 extends X_{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),I_(u))){const d=y6(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!XL.has(n)||t.length!==2)return;const[s,a]=t,i=qC(s),o=qC(a);if(i!==o)if(zC(i)&&zC(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)IH(t[s])&&n.push(s);n.length&&eG(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=jh[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const WC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ec.test(e)||e==="0")&&!e.startsWith("url("));function hG(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function fG(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=WC(s,t),o=WC(a,t);return!i||!o?!1:hG(e)||(r==="spring"||E_(r))&&n}const pG=e=>e!==null;function p1(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(pG),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const mG=40;class b6{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yi.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:i,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lG(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Yi.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:i,onComplete:o,onUpdate:c,isGenerator:u}=this.options;if(!u&&!fG(t,n,s,a))if(i)this.options.duration=0;else{c&&c(p1(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Or=(e,t,r)=>e+(t-e)*r;function bw(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function gG({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,i=0;if(!t)s=a=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;s=bw(c,o,e+1/3),a=bw(c,o,e),i=bw(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:n}}function Jv(e,t){return r=>r>0?t:e}const Sw=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},yG=[qb,Hc,Td],vG=e=>yG.find(t=>t.test(e));function HC(e){const t=vG(e);if(!t)return!1;let r=t.parse(e);return t===Td&&(r=gG(r)),r}const GC=(e,t)=>{const r=HC(e),n=HC(t);if(!r||!n)return Jv(e,t);const s={...r};return a=>(s.red=Sw(r.red,n.red,a),s.green=Sw(r.green,n.green,a),s.blue=Sw(r.blue,n.blue,a),s.alpha=Or(r.alpha,n.alpha,a),Hc.transform(s))},xG=(e,t)=>r=>t(e(r)),Ym=(...e)=>e.reduce(xG),Zb=new Set(["none","hidden"]);function wG(e,t){return Zb.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function bG(e,t){return r=>Or(e,t,r)}function Z_(e){return typeof e=="number"?bG:typeof e=="string"?I_(e)?Jv:Jn.test(e)?GC:NG:Array.isArray(e)?S6:typeof e=="object"?Jn.test(e)?GC:SG:Jv}function S6(e,t){const r=[...e],n=r.length,s=e.map((a,i)=>Z_(a)(a,t[i]));return a=>{for(let i=0;i<n;i++)r[i]=s[i](a);return r}}function SG(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Z_(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function _G(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],c=(r=e.values[o])!==null&&r!==void 0?r:0;n[a]=c,s[i]++}return n}const NG=(e,t)=>{const r=ec.createTransformer(t),n=am(e),s=am(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Zb.has(e)&&!s.values.length||Zb.has(t)&&!n.values.length?wG(e,t):Ym(S6(_G(n,s),s.values),r):Jv(e,t)};function _6(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Or(e,t,r):Z_(e)(e,t)}const jG=5;function N6(e,t,r){const n=Math.max(t-jG,0);return NL(r-e(n),t-n)}const Hr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_w=.001;function CG({duration:e=Hr.duration,bounce:t=Hr.bounce,velocity:r=Hr.velocity,mass:n=Hr.mass}){let s,a,i=1-t;i=Fo(Hr.minDamping,Hr.maxDamping,i),e=Fo(Hr.minDuration,Hr.maxDuration,To(e)),i<1?(s=u=>{const d=u*i,h=d*e,f=d-r,p=Jb(u,i),g=Math.exp(-h);return _w-f/p*g},a=u=>{const h=u*i*e,f=h*r+r,p=Math.pow(i,2)*Math.pow(u,2)*e,g=Math.exp(-h),y=Jb(Math.pow(u,2),i);return(-s(u)+_w>0?-1:1)*((f-p)*g)/y}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-_w+d*h},a=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,c=PG(s,a,o);if(e=Ao(e),isNaN(c))return{stiffness:Hr.stiffness,damping:Hr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const kG=12;function PG(e,t,r){let n=r;for(let s=1;s<kG;s++)n=n-e(n)/t(n);return n}function Jb(e,t){return e*Math.sqrt(1-t*t)}const EG=["duration","bounce"],AG=["stiffness","damping","mass"];function YC(e,t){return t.some(r=>e[r]!==void 0)}function TG(e){let t={velocity:Hr.velocity,stiffness:Hr.stiffness,damping:Hr.damping,mass:Hr.mass,isResolvedFromDuration:!1,...e};if(!YC(e,AG)&&YC(e,EG))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Fo(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Hr.mass,stiffness:s,damping:a}}else{const r=CG(e);t={...t,...r,mass:Hr.mass},t.isResolvedFromDuration=!0}return t}function j6(e=Hr.visualDuration,t=Hr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=TG({...r,velocity:-To(r.velocity||0)}),g=f||0,y=u/(2*Math.sqrt(c*d)),S=i-a,b=To(Math.sqrt(c/d)),w=Math.abs(S)<5;n||(n=w?Hr.restSpeed.granular:Hr.restSpeed.default),s||(s=w?Hr.restDelta.granular:Hr.restDelta.default);let N;if(y<1){const P=Jb(b,y);N=M=>{const R=Math.exp(-y*b*M);return i-R*((g+y*b*S)/P*Math.sin(P*M)+S*Math.cos(P*M))}}else if(y===1)N=P=>i-Math.exp(-b*P)*(S+(g+b*S)*P);else{const P=b*Math.sqrt(y*y-1);N=M=>{const R=Math.exp(-y*b*M),T=Math.min(P*M,300);return i-R*((g+y*b*S)*Math.sinh(T)+P*S*Math.cosh(T))/P}}const C={calculatedDuration:p&&h||null,next:P=>{const M=N(P);if(p)o.done=P>=h;else{let R=0;y<1&&(R=P===0?Ao(g):N6(N,P,M));const T=Math.abs(R)<=n,H=Math.abs(i-M)<=s;o.done=T&&H}return o.value=o.done?i:M,o},toString:()=>{const P=Math.min(jL(C),$b),M=CL(R=>C.next(P*R).value,P,30);return P+"ms "+M}};return C}function KC({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=T=>o!==void 0&&T<o||c!==void 0&&T>c,g=T=>o===void 0?c:c===void 0||Math.abs(o-T)<Math.abs(c-T)?o:c;let y=r*t;const S=h+y,b=i===void 0?S:i(S);b!==S&&(y=b-h);const w=T=>-y*Math.exp(-T/n),N=T=>b+w(T),C=T=>{const H=w(T),Q=N(T);f.done=Math.abs(H)<=u,f.value=f.done?b:Q};let P,M;const R=T=>{p(f.value)&&(P=T,M=j6({keyframes:[f.value,g(f.value)],velocity:N6(N,T,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return R(0),{calculatedDuration:null,next:T=>{let H=!1;return!M&&P===void 0&&(H=!0,C(T),R(T)),P!==void 0&&T>=P?M.next(T-P):(!H&&C(T),f)}}}const LG=Gm(.42,0,1,1),DG=Gm(0,0,.58,1),C6=Gm(.42,0,.58,1),RG=e=>Array.isArray(e)&&typeof e[0]!="number",XC={linear:oa,easeIn:LG,easeInOut:C6,easeOut:DG,circIn:G_,circInOut:a6,circOut:s6,backIn:H_,backInOut:r6,backOut:t6,anticipate:n6},ZC=e=>{if(A_(e)){Bb(e.length===4);const[t,r,n,s]=e;return Gm(t,r,n,s)}else if(typeof e=="string")return Bb(XC[e]!==void 0),XC[e];return e};function OG(e,t,r){const n=[],s=r||_6,a=e.length-1;for(let i=0;i<a;i++){let o=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||oa:t;o=Ym(c,o)}n.push(o)}return n}function MG(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(Bb(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=OG(t,n,s),c=o.length,u=d=>{if(i&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=_h(e[h],e[h+1],d);return o[h](f)};return r?d=>u(Fo(e[0],e[a-1],d)):u}function IG(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=_h(0,t,n);e.push(Or(r,1,s))}}function FG(e){const t=[0];return IG(t,e.length-1),t}function BG(e,t){return e.map(r=>r*t)}function $G(e,t){return e.map(()=>t||C6).splice(0,e.length-1)}function Qv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=RG(n)?n.map(ZC):ZC(n),a={done:!1,value:t[0]},i=BG(r&&r.length===t.length?r:FG(t),e),o=MG(i,t,{ease:Array.isArray(s)?s:$G(t,s)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const UG=e=>{const t=({timestamp:r})=>e(r);return{start:()=>xr.update(t,!0),stop:()=>Ql(t),now:()=>In.isProcessing?In.timestamp:Yi.now()}},VG={decay:KC,inertia:KC,tween:Qv,keyframes:Qv,spring:j6},zG=e=>e/100;class J_ extends b6{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:a}=this.options,i=(s==null?void 0:s.KeyframeResolver)||X_,o=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new i(a,o,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=this.options,o=E_(r)?r:VG[r]||Qv;let c,u;o!==Qv&&typeof t[0]!="number"&&(c=Ym(zG,_6(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});a==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=jL(d));const{calculatedDuration:h}=d,f=h+s,p=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:i,mapPercentToKeyframes:o,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:p,repeatType:g,repeatDelay:y,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let N=this.currentTime,C=a;if(p){const T=Math.min(this.currentTime,d)/h;let H=Math.floor(T),Q=T%1;!Q&&T>=1&&(Q=1),Q===1&&H--,H=Math.min(H,p+1),!!(H%2)&&(g==="reverse"?(Q=1-Q,y&&(Q-=y/h)):g==="mirror"&&(C=i)),N=Fo(0,1,Q)*h}const P=w?{done:!1,value:c[0]}:C.next(N);o&&(P.value=o(P.value));let{done:M}=P;!w&&u!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return R&&s!==void 0&&(P.value=p1(c,this.options,s)),S&&S(P.value),R&&this.finish(),P}get duration(){const{resolved:t}=this;return t?To(t.calculatedDuration):0}get time(){return To(this.currentTime)}set time(t){t=Ao(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=To(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=UG,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qG=new Set(["opacity","clipPath","filter","transform"]);function WG(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:o="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=PL(o,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}const HG=C_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),e0=10,GG=2e4;function YG(e){return E_(e.type)||e.type==="spring"||!kL(e.ease)}function KG(e,t){const r=new J_({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let a=0;for(;!n.done&&a<GG;)n=r.sample(a),s.push(n.value),a+=e0;return{times:void 0,keyframes:s,duration:a-e0,ease:"linear"}}const k6={anticipate:n6,backInOut:r6,circInOut:a6};function XG(e){return e in k6}class JC extends b6{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new w6(a,(i,o)=>this.onKeyframesResolved(i,o),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:a,type:i,motionValue:o,name:c,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof a=="string"&&Xv()&&XG(a)&&(a=k6[a]),YG(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:g,...y}=this.options,S=KG(t,y);t=S.keyframes,t.length===1&&(t[1]=t[0]),n=S.duration,s=S.times,a=S.ease,i="keyframes"}const d=WG(o.owner.current,c,t,{...this.options,duration:n,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(NC(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;o.set(p1(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:i,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return To(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return To(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Ao(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return oa;const{animation:n}=r;NC(n,t)}return oa}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:a,ease:i,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,g=new J_({...p,keyframes:n,duration:s,type:a,ease:i,times:o,isGenerator:!0}),y=Ao(this.time);u.setWithVelocity(g.sample(y-e0).value,g.sample(y).value,e0)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:a,damping:i,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return HG()&&n&&qG.has(n)&&!c&&!u&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}}const ZG={type:"spring",stiffness:500,damping:25,restSpeed:10},JG=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QG={type:"keyframes",duration:.8},eY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tY=(e,{keyframes:t})=>t.length>2?QG:Su.has(e)?e.startsWith("scale")?JG(t[1]):ZG:eY;function rY({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Q_=(e,t,r,n={},s,a)=>i=>{const o=P_(n,e)||{},c=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ao(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:s};rY(o)||(d={...d,...tY(e,d)}),d.duration&&(d.duration=Ao(d.duration)),d.repeatDelay&&(d.repeatDelay=Ao(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),d.allowFlatten=!o.type&&!o.ease,h&&!a&&t.get()!==void 0){const f=p1(d.keyframes,o);if(f!==void 0)return xr.update(()=>{d.onUpdate(f),d.onComplete()}),new CW([])}return!a&&JC.supports(d)?new JC(d):new J_(d)};function nY({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function P6(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var a;let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),p=c[h];if(p===void 0||d&&nY(d,h))continue;const g={delay:r,...P_(i||{},h)};let y=!1;if(window.MotionHandoffAnimation){const b=ZL(e);if(b){const w=window.MotionHandoffAnimation(b,h,xr);w!==null&&(g.startTime=w,y=!0)}}zb(e,h),f.start(Q_(h,f,p,e.shouldReduceMotion&&XL.has(h)?{type:!1}:g,e,y));const S=f.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{xr.update(()=>{o&&LH(e,o)})}),u}function Qb(e,t,r={}){var n;const s=sm(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(P6(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return sY(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function sY(e,t,r=0,n=0,s=1,a){const i=[],o=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(aY).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Qb(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function aY(e,t){return e.sortNodePosition(t)}function iY(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>Qb(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=Qb(e,t,r);else{const s=typeof t=="function"?sm(e,t,r.custom):t;n=Promise.all(P6(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function E6(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const oY=R_.length;function A6(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?A6(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<oY;r++){const n=R_[r],s=e.props[n];(tm(s)||s===!1)&&(t[n]=s)}return t}const lY=[...D_].reverse(),cY=D_.length;function uY(e){return t=>Promise.all(t.map(({animation:r,options:n})=>iY(e,r,n)))}function dY(e){let t=uY(e),r=QC(),n=!0;const s=c=>(u,d)=>{var h;const f=sm(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...y}=f;u={...u,...y,...g}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=A6(e.parent)||{},h=[],f=new Set;let p={},g=1/0;for(let S=0;S<cY;S++){const b=lY[S],w=r[b],N=u[b]!==void 0?u[b]:d[b],C=tm(N),P=b===c?w.isActive:null;P===!1&&(g=S);let M=N===d[b]&&N!==u[b]&&C;if(M&&n&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...p},!w.isActive&&P===null||!N&&!w.prevProp||h1(N)||typeof N=="boolean")continue;const R=hY(w.prevProp,N);let T=R||b===c&&w.isActive&&!M&&C||S>g&&C,H=!1;const Q=Array.isArray(N)?N:[N];let L=Q.reduce(s(b),{});P===!1&&(L={});const{prevResolvedValues:E={}}=w,W={...E,...L},F=Y=>{T=!0,f.has(Y)&&(H=!0,f.delete(Y)),w.needsAnimating[Y]=!0;const I=e.getValue(Y);I&&(I.liveStyle=!1)};for(const Y in W){const I=L[Y],G=E[Y];if(p.hasOwnProperty(Y))continue;let ie=!1;Vb(I)&&Vb(G)?ie=!E6(I,G):ie=I!==G,ie?I!=null?F(Y):f.add(Y):I!==void 0&&f.has(Y)?F(Y):w.protectedKeys[Y]=!0}w.prevProp=N,w.prevResolvedValues=L,w.isActive&&(p={...p,...L}),n&&e.blockInitialAnimation&&(T=!1),T&&(!(M&&R)||H)&&h.push(...Q.map(Y=>({animation:Y,options:{type:b}})))}if(f.size){const S={};if(typeof u.initial!="boolean"){const b=sm(e,Array.isArray(u.initial)?u.initial[0]:u.initial);b&&b.transition&&(S.transition=b.transition)}f.forEach(b=>{const w=e.getBaseTarget(b),N=e.getValue(b);N&&(N.liveStyle=!0),S[b]=w??null}),h.push({animation:S})}let y=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(h):Promise.resolve()}function o(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const h=i(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:i,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=QC(),n=!0}}}function hY(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!E6(t,e):!1}function Ac(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QC(){return{animate:Ac(!0),whileInView:Ac(),whileHover:Ac(),whileTap:Ac(),whileDrag:Ac(),whileFocus:Ac(),exit:Ac()}}class hc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fY extends hc{constructor(t){super(t),t.animationState||(t.animationState=dY(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();h1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let pY=0;class mY extends hc{constructor(){super(...arguments),this.id=pY++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const gY={animation:{Feature:fY},exit:{Feature:mY}};function im(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Km(e){return{point:{x:e.pageX,y:e.pageY}}}const yY=e=>t=>L_(t)&&e(t,Km(t));function xp(e,t,r,n){return im(e,t,yY(r),n)}function T6({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function vY({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xY(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const L6=1e-4,wY=1-L6,bY=1+L6,D6=.01,SY=0-D6,_Y=0+D6;function ps(e){return e.max-e.min}function NY(e,t,r){return Math.abs(e-t)<=r}function ek(e,t,r,n=.5){e.origin=n,e.originPoint=Or(t.min,t.max,e.origin),e.scale=ps(r)/ps(t),e.translate=Or(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wY&&e.scale<=bY||isNaN(e.scale))&&(e.scale=1),(e.translate>=SY&&e.translate<=_Y||isNaN(e.translate))&&(e.translate=0)}function wp(e,t,r,n){ek(e.x,t.x,r.x,n?n.originX:void 0),ek(e.y,t.y,r.y,n?n.originY:void 0)}function tk(e,t,r){e.min=r.min+t.min,e.max=e.min+ps(t)}function jY(e,t,r){tk(e.x,t.x,r.x),tk(e.y,t.y,r.y)}function rk(e,t,r){e.min=t.min-r.min,e.max=e.min+ps(t)}function bp(e,t,r){rk(e.x,t.x,r.x),rk(e.y,t.y,r.y)}const nk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ld=()=>({x:nk(),y:nk()}),sk=()=>({min:0,max:0}),en=()=>({x:sk(),y:sk()});function Na(e){return[e("x"),e("y")]}function Nw(e){return e===void 0||e===1}function e5({scale:e,scaleX:t,scaleY:r}){return!Nw(e)||!Nw(t)||!Nw(r)}function Rc(e){return e5(e)||R6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function R6(e){return ak(e.x)||ak(e.y)}function ak(e){return e&&e!=="0%"}function t0(e,t,r){const n=e-r,s=t*n;return r+s}function ik(e,t,r,n,s){return s!==void 0&&(e=t0(e,s,n)),t0(e,r,n)+t}function t5(e,t=0,r=1,n,s){e.min=ik(e.min,t,r,n,s),e.max=ik(e.max,t,r,n,s)}function O6(e,{x:t,y:r}){t5(e.x,t.translate,t.scale,t.originPoint),t5(e.y,r.translate,r.scale,r.originPoint)}const ok=.999999999999,lk=1.0000000000001;function CY(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,i;for(let o=0;o<s;o++){a=r[o],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Rd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,O6(e,i)),n&&Rc(a.latestValues)&&Rd(e,a.latestValues))}t.x<lk&&t.x>ok&&(t.x=1),t.y<lk&&t.y>ok&&(t.y=1)}function Dd(e,t){e.min=e.min+t,e.max=e.max+t}function ck(e,t,r,n,s=.5){const a=Or(e.min,e.max,s);t5(e,t,r,a,n)}function Rd(e,t){ck(e.x,t.x,t.scaleX,t.scale,t.originX),ck(e.y,t.y,t.scaleY,t.scale,t.originY)}function M6(e,t){return T6(xY(e.getBoundingClientRect(),t))}function kY(e,t,r){const n=M6(e,r),{scroll:s}=t;return s&&(Dd(n.x,s.offset.x),Dd(n.y,s.offset.y)),n}const I6=({current:e})=>e?e.ownerDocument.defaultView:null,uk=(e,t)=>Math.abs(e-t);function PY(e,t){const r=uk(e.x,t.x),n=uk(e.y,t.y);return Math.sqrt(r**2+n**2)}class F6{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Cw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=PY(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:g}=h,{timestamp:y}=In;this.history.push({...g,timestamp:y});const{onStart:S,onMove:b}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=jw(f,this.transformPagePoint),xr.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Cw(h.type==="pointercancel"?this.lastMoveEventInfo:jw(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,S),g&&g(h,S)},!L_(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const i=Km(t),o=jw(i,this.transformPagePoint),{point:c}=o,{timestamp:u}=In;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Cw(o,this.history)),this.removeListeners=Ym(xp(this.contextWindow,"pointermove",this.handlePointerMove),xp(this.contextWindow,"pointerup",this.handlePointerUp),xp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ql(this.updatePoint)}}function jw(e,t){return t?{point:t(e.point)}:e}function dk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Cw({point:e},t){return{point:e,delta:dk(e,B6(t)),offset:dk(e,EY(t)),velocity:AY(t,.1)}}function EY(e){return e[0]}function B6(e){return e[e.length-1]}function AY(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=B6(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Ao(t)));)r--;if(!n)return{x:0,y:0};const a=To(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function TY(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Or(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Or(r,e,n.max):Math.min(e,r)),e}function hk(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function LY(e,{top:t,left:r,bottom:n,right:s}){return{x:hk(e.x,r,s),y:hk(e.y,t,n)}}function fk(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function DY(e,t){return{x:fk(e.x,t.x),y:fk(e.y,t.y)}}function RY(e,t){let r=.5;const n=ps(e),s=ps(t);return s>n?r=_h(t.min,t.max-n,e.min):n>s&&(r=_h(e.min,e.max-s,t.min)),Fo(0,1,r)}function OY(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const r5=.35;function MY(e=r5){return e===!1?e=0:e===!0&&(e=r5),{x:pk(e,"left","right"),y:pk(e,"top","bottom")}}function pk(e,t,r){return{min:mk(e,t),max:mk(e,r)}}function mk(e,t){return typeof e=="number"?e:e[t]||0}const IY=new WeakMap;class FY{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Km(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:g}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LW(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Na(S=>{let b=this.getAxisMotionValue(S).get()||0;if(Ki.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[S];N&&(b=ps(N)*(parseFloat(b)/100))}}this.originPoint[S]=b}),g&&xr.postRender(()=>g(d,h)),zb(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:S}=h;if(p&&this.currentDirection===null){this.currentDirection=BY(S),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),y&&y(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Na(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new F6(t,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:I6(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&xr.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ey(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=TY(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&Ad(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=LY(s.layoutBox,r):this.constraints=!1,this.elastic=MY(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Na(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=OY(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ad(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=kY(n,s.root,this.visualElement.getTransformPagePoint());let i=DY(s.layout.layoutBox,a);if(r){const o=r(vY(i));this.hasMutatedConstraints=!!o,o&&(i=T6(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Na(d=>{if(!Ey(d,r,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return zb(this.visualElement,t),n.start(Q_(t,n,0,r,this.visualElement,!1))}stopAnimation(){Na(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Na(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Na(r=>{const{drag:n}=this.getProps();if(!Ey(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:o}=s.layout.layoutBox[r];a.set(t[r]-Or(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ad(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Na(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const c=o.get();s[i]=RY({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Na(i=>{if(!Ey(i,t,null))return;const o=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];o.set(Or(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;IY.set(this.visualElement,this);const t=this.visualElement.current,r=xp(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ad(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xr.read(n);const i=im(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Na(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=r5,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:o}}}function Ey(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function BY(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class $Y extends hc{constructor(t){super(t),this.removeGroupControls=oa,this.removeListeners=oa,this.controls=new FY(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oa}unmount(){this.removeGroupControls(),this.removeListeners()}}const gk=e=>(t,r)=>{e&&xr.postRender(()=>e(t,r))};class UY extends hc{constructor(){super(...arguments),this.removePointerDownListener=oa}onPointerDown(t){this.session=new F6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:gk(t),onStart:gk(r),onMove:n,onEnd:(a,i)=>{delete this.session,s&&xr.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=xp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ff={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(yt.test(e))e=parseFloat(e);else return e;const r=yk(e,t.target.x),n=yk(e,t.target.y);return`${r}% ${n}%`}},VY={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=ec.parse(e);if(s.length>5)return n;const a=ec.createTransformer(e),i=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=o,s[1+i]/=c;const u=Or(o,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}};class zY extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;iH(qY),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),lv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,i=n.projection;return i&&(i.isPresent=a,s||t.layoutDependency!==r||r===void 0||t.isPresent!==a?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||xr.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),T_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $6(e){const[t,r]=_L(),n=v.useContext(x_);return l.jsx(zY,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(IL),isPresent:t,safeToRemove:r})}const qY={borderRadius:{...Ff,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ff,borderTopRightRadius:Ff,borderBottomLeftRadius:Ff,borderBottomRightRadius:Ff,boxShadow:VY};function WY(e,t,r){const n=ts(e)?e:em(e);return n.start(Q_("",n,t,r)),n.animation}function HY(e){return e instanceof SVGElement&&e.tagName!=="svg"}const GY=(e,t)=>e.depth-t.depth;class YY{constructor(){this.children=[],this.isDirty=!1}add(t){N_(this.children,t),this.isDirty=!0}remove(t){j_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GY),this.isDirty=!1,this.children.forEach(t)}}function KY(e,t){const r=Yi.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(Ql(n),e(a-t))};return xr.read(n,!0),()=>Ql(n)}const U6=["TopLeft","TopRight","BottomLeft","BottomRight"],XY=U6.length,vk=e=>typeof e=="string"?parseFloat(e):e,xk=e=>typeof e=="number"||yt.test(e);function ZY(e,t,r,n,s,a){s?(e.opacity=Or(0,r.opacity!==void 0?r.opacity:1,JY(n)),e.opacityExit=Or(t.opacity!==void 0?t.opacity:1,0,QY(n))):a&&(e.opacity=Or(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let i=0;i<XY;i++){const o=`border${U6[i]}Radius`;let c=wk(t,o),u=wk(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||xk(c)===xk(u)?(e[o]=Math.max(Or(vk(c),vk(u),n),0),(Ki.test(u)||Ki.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=Or(t.rotate||0,r.rotate||0,n))}function wk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JY=V6(0,.5,s6),QY=V6(.5,.95,oa);function V6(e,t,r){return n=>n<e?0:n>t?1:r(_h(e,t,n))}function bk(e,t){e.min=t.min,e.max=t.max}function Sa(e,t){bk(e.x,t.x),bk(e.y,t.y)}function Sk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _k(e,t,r,n,s){return e-=t,e=t0(e,1/r,n),s!==void 0&&(e=t0(e,1/s,n)),e}function eK(e,t=0,r=1,n=.5,s,a=e,i=e){if(Ki.test(t)&&(t=parseFloat(t),t=Or(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=Or(a.min,a.max,n);e===a&&(o-=t),e.min=_k(e.min,t,r,o,s),e.max=_k(e.max,t,r,o,s)}function Nk(e,t,[r,n,s],a,i){eK(e,t[r],t[n],t[s],t.scale,a,i)}const tK=["x","scaleX","originX"],rK=["y","scaleY","originY"];function jk(e,t,r,n){Nk(e.x,t,tK,r?r.x:void 0,n?n.x:void 0),Nk(e.y,t,rK,r?r.y:void 0,n?n.y:void 0)}function Ck(e){return e.translate===0&&e.scale===1}function z6(e){return Ck(e.x)&&Ck(e.y)}function kk(e,t){return e.min===t.min&&e.max===t.max}function nK(e,t){return kk(e.x,t.x)&&kk(e.y,t.y)}function Pk(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function q6(e,t){return Pk(e.x,t.x)&&Pk(e.y,t.y)}function Ek(e){return ps(e.x)/ps(e.y)}function Ak(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sK{constructor(){this.members=[]}add(t){N_(this.members,t),t.scheduleRender()}remove(t){if(j_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aK(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const kw=["","X","Y","Z"],iK={visibility:"hidden"},Tk=1e3;let oK=0;function Pw(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function W6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=ZL(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",xr,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&W6(n)}function H6({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},o=t==null?void 0:t()){this.id=oK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uK),this.nodes.forEach(mK),this.nodes.forEach(gK),this.nodes.forEach(dK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YY)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new k_),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=HY(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=KY(f,250),lv.hasAnimatedSinceResize&&(lv.hasAnimatedSinceResize=!1,this.nodes.forEach(Dk))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||bK,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=d.getProps(),w=!this.targetLayout||!q6(this.targetLayout,g),N=!f&&p;if(this.options.layoutRoot||this.resumeFrom||N||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,N);const C={...P_(y,"layout"),onPlay:S,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||Dk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ql(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yK),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&W6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lk);return}this.isUpdating||this.nodes.forEach(fK),this.isUpdating=!1,this.nodes.forEach(pK),this.nodes.forEach(lK),this.nodes.forEach(cK),this.clearAllSnapshots();const o=Yi.now();In.delta=Fo(0,1e3/60,o-In.timestamp),In.timestamp=o,In.isProcessing=!0,vw.update.process(In),vw.preRender.process(In),vw.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hK),this.sharedNodes.forEach(vK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ps(this.snapshot.measuredBox.x)&&!ps(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!z6(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(o||Rc(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),SK(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return en();const c=o.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(_K))){const{scroll:d}=this.root;d&&(Dd(c.x,d.offset.x),Dd(c.y,d.offset.y))}return c}removeElementScroll(i){var o;const c=en();if(Sa(c,i),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Sa(c,i),Dd(c.x,h.offset.x),Dd(c.y,h.offset.y))}return c}applyTransform(i,o=!1){const c=en();Sa(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Rc(d.latestValues)&&Rd(c,d.latestValues)}return Rc(this.latestValues)&&Rd(c,this.latestValues),c}removeTransform(i){const o=en();Sa(o,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Rc(u.latestValues))continue;e5(u.latestValues)&&u.updateSnapshot();const d=en(),h=u.measurePageBox();Sa(d,h),jk(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Rc(this.latestValues)&&jk(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),bp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Sa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sa(this.target,this.layout.layoutBox),O6(this.target,this.targetDelta)):Sa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),bp(this.relativeTargetOrigin,this.target,p.target),Sa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||e5(this.parent.latestValues)||R6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===In.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Sa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;CY(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=en());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sk(this.prevProjectionDelta.x,this.projectionDelta.x),Sk(this.prevProjectionDelta.y,this.projectionDelta.y)),wp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Ak(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ak(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ld(),this.projectionDelta=Ld(),this.projectionDeltaWithTransform=Ld()}setAnimationOrigin(i,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ld();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=en(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,S=this.getStack(),b=!S||S.members.length<=1,w=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(wK));this.animationProgress=0;let N;this.mixTargetDelta=C=>{const P=C/1e3;Rk(h.x,i.x,P),Rk(h.y,i.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xK(this.relativeTarget,this.relativeTargetOrigin,f,P),N&&nK(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=en()),Sa(N,this.relativeTarget)),y&&(this.animationValues=d,ZY(d,u,this.latestValues,P,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ql(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xr.update(()=>{lv.hasAnimatedSinceResize=!0,this.currentAnimation=WY(0,Tk,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=i;if(!(!o||!c||!u)){if(this!==i&&this.layout&&u&&G6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||en();const h=ps(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const f=ps(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}Sa(o,c),Rd(o,d),wp(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new sK),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&Pw("z",i,u,this.animationValues);for(let d=0;d<kw.length;d++)Pw(`rotate${kw[d]}`,i,u,this.animationValues),Pw(`skew${kw[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return iK;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ov(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ov(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Rc(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=aK(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in rm){if(f[y]===void 0)continue;const{correct:S,applyTo:b,isCSSVariable:w}=rm[y],N=u.transform==="none"?f[y]:S(f[y],h);if(b){const C=b.length;for(let P=0;P<C;P++)u[b[P]]=N}else w?this.options.visualElement.renderState.vars[y]=N:u[y]=N}return this.options.layoutId&&(u.pointerEvents=h===this?ov(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Lk),this.root.sharedNodes.clear()}}}function lK(e){e.updateLayout()}function cK(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,i=r.source!==e.layout.source;a==="size"?Na(h=>{const f=i?r.measuredBox[h]:r.layoutBox[h],p=ps(f);f.min=n[h].min,f.max=f.min+p}):G6(a,r.layoutBox,n)&&Na(h=>{const f=i?r.measuredBox[h]:r.layoutBox[h],p=ps(n[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const o=Ld();wp(o,n,r.layoutBox);const c=Ld();i?wp(c,e.applyTransform(s,!0),r.measuredBox):wp(c,n,r.layoutBox);const u=!z6(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=en();bp(g,r.layoutBox,f.layoutBox);const y=en();bp(y,n,p.layoutBox),q6(g,y)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function uK(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dK(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hK(e){e.clearSnapshot()}function Lk(e){e.clearMeasurements()}function fK(e){e.isLayoutDirty=!1}function pK(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Dk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mK(e){e.resolveTargetDelta()}function gK(e){e.calcProjection()}function yK(e){e.resetSkewAndRotation()}function vK(e){e.removeLeadSnapshot()}function Rk(e,t,r){e.translate=Or(t.translate,0,r),e.scale=Or(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Ok(e,t,r,n){e.min=Or(t.min,r.min,n),e.max=Or(t.max,r.max,n)}function xK(e,t,r,n){Ok(e.x,t.x,r.x,n),Ok(e.y,t.y,r.y,n)}function wK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bK={duration:.45,ease:[.4,0,.1,1]},Mk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ik=Mk("applewebkit/")&&!Mk("chrome/")?Math.round:oa;function Fk(e){e.min=Ik(e.min),e.max=Ik(e.max)}function SK(e){Fk(e.x),Fk(e.y)}function G6(e,t,r){return e==="position"||e==="preserve-aspect"&&!NY(Ek(t),Ek(r),.2)}function _K(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const NK=H6({attachResizeListener:(e,t)=>im(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ew={current:void 0},Y6=H6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ew.current){const e=new NK({});e.mount(window),e.setOptions({layoutScroll:!0}),Ew.current=e}return Ew.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jK={pan:{Feature:UY},drag:{Feature:$Y,ProjectionNode:Y6,MeasureLayout:$6}};function Bk(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&xr.postRender(()=>a(t,Km(t)))}class CK extends hc{mount(){const{current:t}=this.node;t&&(this.unmount=RW(t,(r,n)=>(Bk(this.node,n,"Start"),s=>Bk(this.node,s,"End"))))}unmount(){}}class kK extends hc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ym(im(this.node.current,"focus",()=>this.onFocus()),im(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $k(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&xr.postRender(()=>a(t,Km(t)))}class PK extends hc{mount(){const{current:t}=this.node;t&&(this.unmount=FW(t,(r,n)=>($k(this.node,n,"Start"),(s,{success:a})=>$k(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const n5=new WeakMap,Aw=new WeakMap,EK=e=>{const t=n5.get(e.target);t&&t(e)},AK=e=>{e.forEach(EK)};function TK({root:e,...t}){const r=e||document;Aw.has(r)||Aw.set(r,{});const n=Aw.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(AK,{root:e,...t})),n[s]}function LK(e,t,r){const n=TK(t);return n5.set(e,r),n.observe(e),()=>{n5.delete(e),n.unobserve(e)}}const DK={some:0,all:1};class RK extends hc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:DK[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return LK(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(OK(t,r))&&this.startObserver()}unmount(){}}function OK({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const MK={inView:{Feature:RK},tap:{Feature:PK},focus:{Feature:kK},hover:{Feature:CK}},IK={layout:{ProjectionNode:Y6,MeasureLayout:$6}},s5={current:null},K6={current:!1};function FK(){if(K6.current=!0,!!b_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>s5.current=e.matches;e.addListener(t),t()}else s5.current=!1}const BK=[...x6,Jn,ec],$K=e=>BK.find(v6(e)),UK=new WeakMap;function VK(e,t,r){for(const n in t){const s=t[n],a=r[n];if(ts(s))e.addValue(n,s);else if(ts(a))e.addValue(n,em(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,em(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Uk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zK{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=X_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Yi.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,xr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=i;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=f1(r),this.isVariantNode=OL(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];c[p]!==void 0&&ts(g)&&g.set(c[p],!1)}}mount(t){this.current=t,UK.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),K6.current||FK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s5.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ql(this.notifyUpdate),Ql(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Su.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&xr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Nh){const r=Nh[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Uk.length;n++){const s=Uk[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=VK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=em(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(g6(s)||i6(s))?s=parseFloat(s):!$K(s)&&ec.test(r)&&(s=f6(t,r)),this.setBaseTarget(t,ts(s)?s.get():s)),ts(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const i=q_(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);i&&(s=i[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ts(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new k_),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class X6 extends zK{constructor(){super(...arguments),this.KeyframeResolver=w6}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ts(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qK(e){return window.getComputedStyle(e)}class WK extends X6{constructor(){super(...arguments),this.type="html",this.renderInstance=HL}readValueFromInstance(t,r){if(Su.has(r))return nG(t,r);{const n=qK(t),s=(M_(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return M6(t,r)}build(t,r,n){B_(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return W_(t,r,n)}}class HK extends X6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&WL(this.current,this.renderState)}}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Su.has(r)){const n=h6(r);return n&&n.default||0}return r=GL.has(r)?r:O_(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return KL(t,r,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&xr.postRender(this.updateDimensions)}build(t,r,n){V_(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){YL(t,r,n,s)}mount(t){this.isSVGTag=z_(t.tagName),super.mount(t)}}const GK=(e,t)=>U_(e)?new HK(t):new WK(t,{allowProjection:e!==v.Fragment}),YK=AH({...gY,...MK,...jK,...IK},GK),Us=HW(YK),KK=({message:e="Loading application...",timeout:t=15e3})=>{const[r,n]=v.useState(0),[s,a]=v.useState(!1),[i,o]=v.useState("");return v.useEffect(()=>{const c=setInterval(()=>{n(u=>{const d=Math.max(1,10-Math.floor(u/10));return Math.min(99,u+d)})},300);return()=>clearInterval(c)},[]),v.useEffect(()=>{const c=setInterval(()=>{o(u=>u.length>=3?"":u+".")},500);return()=>clearInterval(c)},[]),v.useEffect(()=>{const c=setTimeout(()=>{a(!0),n(100)},t);return()=>clearTimeout(c)},[t]),l.jsx(Us.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 flex flex-col items-center justify-center bg-background z-50",children:l.jsxs("div",{className:"w-full max-w-md px-4 flex flex-col items-center",children:[l.jsx(K0,{className:"h-12 w-12 text-primary animate-spin mb-4"}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mb-4 overflow-hidden",children:l.jsx(Us.div,{className:"bg-primary h-2.5 rounded-full",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.3}})}),l.jsxs("p",{className:"text-center text-muted-foreground mb-2",children:[e,i]}),s&&l.jsxs("div",{className:"mt-4 text-center",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"This is taking longer than expected. You can:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside",children:[l.jsx("li",{children:"Check your internet connection"}),l.jsx("li",{children:"Refresh the page"}),l.jsx("li",{children:"Try again later"})]})]})]})})},om=zm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-md px-3 sm:h-9",lg:"h-10 rounded-md px-6 sm:h-11 sm:px-8",icon:"h-9 w-9 sm:h-10 sm:w-10"},hasIcon:{true:"",false:""}},compoundVariants:[{hasIcon:!0,size:"default",className:"gap-2"},{hasIcon:!0,size:"sm",className:"gap-1.5"},{hasIcon:!0,size:"lg",className:"gap-2.5"}],defaultVariants:{variant:"default",size:"default",hasIcon:!1}}),Se=v.forwardRef(({className:e,variant:t,size:r,hasIcon:n,asChild:s=!1,...a},i)=>{const o=v.useRef(null),[c,u]=v.useState(!1);v.useEffect(()=>{if(o.current){const h=o.current.querySelector("svg")!==null;u(h)}},[a.children]);const d=s?Ji:"button";return l.jsx(d,{className:Ue(om({variant:t,size:r,hasIcon:n!==void 0?n:c,className:e})),ref:h=>{typeof i=="function"?i(h):i&&(i.current=h),o.current=h},...a})});Se.displayName="Button";const kr=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));kr.displayName="Card";const Ir=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ue("flex flex-col space-y-1.5 p-6",e),...t}));Ir.displayName="CardHeader";const Fr=v.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:Ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fr.displayName="CardTitle";const Fs=v.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));Fs.displayName="CardDescription";const vr=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ue("p-6 pt-0",e),...t}));vr.displayName="CardContent";const Bo=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ue("flex items-center p-6 pt-0",e),...t}));Bo.displayName="CardFooter";const XK="modulepreload",ZK=function(e){return"/"+e},Vk={},$o=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ZK(c),c in Vk)return;Vk[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":XK,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},JK=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:n}=await Promise.resolve().then(()=>Hh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class eN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class QK extends eN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eX extends eN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tX extends eN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var a5;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(a5||(a5={}));var rX=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class nX{constructor(t,{headers:r={},customFetch:n,region:s=a5.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JK(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return rX(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(o["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(o["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:u}).catch(g=>{throw new QK(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new eX(d);if(!d.ok)throw new tX(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ls={},tN={},m1={},Xm={},g1={},y1={},sX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ch=sX();const aX=Ch.fetch,Z6=Ch.fetch.bind(Ch),J6=Ch.Headers,iX=Ch.Request,oX=Ch.Response,Hh=Object.freeze(Object.defineProperty({__proto__:null,Headers:J6,Request:iX,Response:oX,default:Z6,fetch:aX},Symbol.toStringTag,{value:"Module"})),lX=f7(Hh);var v1={};Object.defineProperty(v1,"__esModule",{value:!0});let cX=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};v1.default=cX;var Q6=Da&&Da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y1,"__esModule",{value:!0});const uX=Q6(lX),dX=Q6(v1);let hX=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uX.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,o,c;let u=null,d=null,h=null,f=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),S=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await a.text();try{u=JSON.parse(y),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,p="OK")}catch{a.status===404&&y===""?(f=204,p="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new dX.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,o,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};y1.default=hX;var fX=Da&&Da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(g1,"__esModule",{value:!0});const pX=fX(y1);let mX=class extends pX.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};g1.default=mX;var gX=Da&&Da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xm,"__esModule",{value:!0});const yX=gX(g1);let vX=class extends yX.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Xm.default=vX;var xX=Da&&Da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m1,"__esModule",{value:!0});const Bf=xX(Xm);let wX=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Bf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(i.length>0){const o=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Bf.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Bf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Bf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Bf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};m1.default=wX;var x1={},w1={};Object.defineProperty(w1,"__esModule",{value:!0});w1.version=void 0;w1.version="0.0.0-automated";Object.defineProperty(x1,"__esModule",{value:!0});x1.DEFAULT_HEADERS=void 0;const bX=w1;x1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${bX.version}`};var eD=Da&&Da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tN,"__esModule",{value:!0});const SX=eD(m1),_X=eD(Xm),NX=x1;let jX=class tD{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},NX.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new SX.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new _X.default({method:i,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};tN.default=jX;var Gh=Da&&Da.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.PostgrestError=Ls.PostgrestBuilder=Ls.PostgrestTransformBuilder=Ls.PostgrestFilterBuilder=Ls.PostgrestQueryBuilder=Ls.PostgrestClient=void 0;const rD=Gh(tN);Ls.PostgrestClient=rD.default;const nD=Gh(m1);Ls.PostgrestQueryBuilder=nD.default;const sD=Gh(Xm);Ls.PostgrestFilterBuilder=sD.default;const aD=Gh(g1);Ls.PostgrestTransformBuilder=aD.default;const iD=Gh(y1);Ls.PostgrestBuilder=iD.default;const oD=Gh(v1);Ls.PostgrestError=oD.default;var CX=Ls.default={PostgrestClient:rD.default,PostgrestQueryBuilder:nD.default,PostgrestFilterBuilder:sD.default,PostgrestTransformBuilder:aD.default,PostgrestBuilder:iD.default,PostgrestError:oD.default};const{PostgrestClient:kX,PostgrestQueryBuilder:sde,PostgrestFilterBuilder:ade,PostgrestTransformBuilder:ide,PostgrestBuilder:ode,PostgrestError:lde}=CX,PX="2.11.2",EX={"X-Client-Info":`realtime-js/${PX}`},AX="1.0.0",lD=1e4,TX=1e3;var Wd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wd||(Wd={}));var Zs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zs||(Zs={}));var si;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(si||(si={}));var i5;(function(e){e.websocket="websocket"})(i5||(i5={}));var Uc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Uc||(Uc={}));class LX{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class cD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(gr||(gr={}));const zk=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=DX(i,e,t,s),a),{})},DX=(e,t,r,n)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?uD(a,i):o5(i)},uD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IX(t,r)}switch(e){case gr.bool:return RX(t);case gr.float4:case gr.float8:case gr.int2:case gr.int4:case gr.int8:case gr.numeric:case gr.oid:return OX(t);case gr.json:case gr.jsonb:return MX(t);case gr.timestamp:return FX(t);case gr.abstime:case gr.date:case gr.daterange:case gr.int4range:case gr.int8range:case gr.money:case gr.reltime:case gr.text:case gr.time:case gr.timestamptz:case gr.timetz:case gr.tsrange:case gr.tstzrange:return o5(t);default:return o5(t)}},o5=e=>e,RX=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OX=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MX=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IX=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>uD(t,o))}return e},FX=e=>typeof e=="string"?e.replace(" ","T"):e,dD=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tw{constructor(t,r,n={},s=lD){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qk||(qk={}));class Sp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sp.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Sp.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Sp.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=a[u];if(h){const f=d.map(S=>S.presence_ref),p=h.map(S=>S.presence_ref),g=d.filter(S=>p.indexOf(S.presence_ref)<0),y=h.filter(S=>f.indexOf(S.presence_ref)<0);g.length>0&&(o[u]=g),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[o].unshift(...f)}n(o,d,c)}),this.map(i,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wk||(Wk={}));var Hk;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hk||(Hk={}));var So;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(So||(So={}));class rN{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Zs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tw(this,si.join,this.params,this.timeout),this.rejoinTimer=new cD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zs.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Zs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(si.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Sp(this),this.broadcastEndpointURL=dD(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:o}}=this.params;this._onError(d=>t==null?void 0:t(So.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(So.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(So.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<p;y++){const S=f[y],{filter:{event:b,schema:w,table:N,filter:C}}=S,P=d&&d[y];if(P&&P.event===b&&P.schema===w&&P.table===N&&P.filter===C)g.push(Object.assign(Object.assign({},S),{id:P.id}));else{this.unsubscribe(),t==null||t(So.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(So.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(So.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(So.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(si.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Tw(this,si.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Tw(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=si;if(n&&[o,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,y,S;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((S=(y=p.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var g,y,S,b,w,N;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const C=p.id,P=(g=p.filter)===null||g===void 0?void 0:g.event;return C&&((y=r.ids)===null||y===void 0?void 0:y.includes(C))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return C==="*"||C===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:y,table:S,commit_timestamp:b,type:w,errors:N}=g;f=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:b,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Zs.closed}_isJoined(){return this.state===Zs.joined}_isJoining(){return this.state===Zs.joining}_isLeaving(){return this.state===Zs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&rN.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(si.close,{},t)}_onError(t){this._on(si.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zk(t.columns,t.old_record)),r}}const BX=()=>{},$X=typeof WebSocket<"u",UX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VX{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=EX,this.params={},this.timeout=lD,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=BX,this.conn=null,this.sendBuffer=[],this.serializer=new LX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>$o(async()=>{const{default:c}=await Promise.resolve().then(()=>Hh);return{default:c}},void 0).then(({default:c})=>c(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${t}/${i5.websocket}`,this.httpEndpoint=dD(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cD(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if($X){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new zX(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$o(async()=>{const{default:t}=await import("./browser-D-eRpv_B.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:AX}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wd.connecting:return Uc.Connecting;case Wd.open:return Uc.Open;case Wd.closing:return Uc.Closing;default:return Uc.Closed}}isConnected(){return this.connectionState()===Uc.Open}channel(t,r={config:{}}){const n=new rN(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(si.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(TX,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(si.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([UX],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class zX{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class nN extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function jn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qX extends nN{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class l5 extends nN{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var WX=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const hD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:n}=await Promise.resolve().then(()=>Hh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},HX=()=>WX(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $o(()=>Promise.resolve().then(()=>Hh),void 0)).Response:Response}),c5=e=>{if(Array.isArray(e))return e.map(r=>c5(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=c5(n)}),t};var _u=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Lw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GX=(e,t,r)=>_u(void 0,void 0,void 0,function*(){const n=yield HX();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new qX(Lw(s),e.status||500))}).catch(s=>{t(new l5(Lw(s),s))}):t(new l5(Lw(e),e))}),YX=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Zm(e,t,r,n,s,a){return _u(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(r,YX(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>GX(c,o,n))})})}function r0(e,t,r,n){return _u(this,void 0,void 0,function*(){return Zm(e,"GET",t,r,n)})}function bl(e,t,r,n,s){return _u(this,void 0,void 0,function*(){return Zm(e,"POST",t,n,s,r)})}function KX(e,t,r,n,s){return _u(this,void 0,void 0,function*(){return Zm(e,"PUT",t,n,s,r)})}function XX(e,t,r,n){return _u(this,void 0,void 0,function*(){return Zm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fD(e,t,r,n,s){return _u(this,void 0,void 0,function*(){return Zm(e,"DELETE",t,n,s,r)})}var ks=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const ZX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JX{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=hD(s)}uploadOrUpdate(t,r,n,s){return ks(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Gk),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(jn(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ks(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ks(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Gk.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(jn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ks(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield bl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new nN("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(n){if(jn(n))return{data:null,error:n};throw n}})}update(t,r,n){return ks(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ks(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(jn(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ks(this,void 0,void 0,function*(){try{return{data:{path:(yield bl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(jn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ks(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield bl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(jn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ks(this,void 0,void 0,function*(){try{const s=yield bl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(jn(s))return{data:null,error:s};throw s}})}download(t,r){return ks(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield r0(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(jn(o))return{data:null,error:o};throw o}})}info(t){return ks(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield r0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:c5(n),error:null}}catch(n){if(jn(n))return{data:null,error:n};throw n}})}exists(t){return ks(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield XX(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(jn(n)&&n instanceof l5){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return ks(this,void 0,void 0,function*(){try{return{data:yield fD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}list(t,r,n){return ks(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ZX),r),{prefix:t||""});return{data:yield bl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(jn(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const QX="2.7.1",eZ={"X-Client-Info":`storage-js/${QX}`};var sd=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class tZ{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},eZ),r),this.fetch=hD(n)}listBuckets(){return sd(this,void 0,void 0,function*(){try{return{data:yield r0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(jn(t))return{data:null,error:t};throw t}})}getBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield r0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return sd(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(jn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return sd(this,void 0,void 0,function*(){try{return{data:yield KX(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(jn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return sd(this,void 0,void 0,function*(){try{return{data:yield fD(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}})}}class rZ extends tZ{constructor(t,r={},n){super(t,r,n)}from(t){return new JX(this.url,this.headers,t,this.fetch)}}const nZ="2.49.3";let tp="";typeof Deno<"u"?tp="deno":typeof document<"u"?tp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tp="react-native":tp="node";const sZ={"X-Client-Info":`supabase-js-${tp}/${nZ}`},aZ={headers:sZ},iZ={schema:"public"},oZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lZ={};var cZ=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const uZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=Z6:t=fetch,(...r)=>t(...r)},dZ=()=>typeof Headers>"u"?J6:Headers,hZ=(e,t,r)=>{const n=uZ(r),s=dZ();return(a,i)=>cZ(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var fZ=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function pZ(e){return e.replace(/\/$/,"")}function mZ(e,t){const{db:r,auth:n,realtime:s,global:a}=e,{db:i,auth:o,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),a),accessToken:()=>fZ(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const pD="2.69.1",pd=30*1e3,u5=3,Dw=u5*pd,gZ="http://localhost:9999",yZ="supabase.auth.token",vZ={"X-Client-Info":`gotrue-js/${pD}`},d5="X-Supabase-Api-Version",mD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wZ=6e5;class sN extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bZ extends sN{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function SZ(e){return Rt(e)&&e.name==="AuthApiError"}class gD extends sN{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fc extends sN{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class gl extends fc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _Z(e){return Rt(e)&&e.name==="AuthSessionMissingError"}class Rw extends fc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ay extends fc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ty extends fc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function NZ(e){return Rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yk extends fc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class h5 extends fc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ow(e){return Rt(e)&&e.name==="AuthRetryableFetchError"}class Kk extends fc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _p extends fc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zk=` 	
\r=`.split(""),jZ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zk.length;t+=1)e[Zk[t].charCodeAt(0)]=-2;for(let t=0;t<Xk.length;t+=1)e[Xk[t].charCodeAt(0)]=t;return e})();function yD(e,t,r){const n=jZ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Jk(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{PZ(i,n,r)};for(let i=0;i<e.length;i+=1)yD(e.charCodeAt(i),s,a);return t.join("")}function CZ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kZ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}CZ(n,t)}}function PZ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function EZ(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yD(e.charCodeAt(s),r,n);return new Uint8Array(t)}function AZ(e){const t=[];return kZ(e,r=>t.push(r)),new Uint8Array(t)}function TZ(e){return Math.round(Date.now()/1e3)+e}function LZ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Oi=()=>typeof window<"u"&&typeof document<"u",Tc={tested:!1,writable:!1},Np=()=>{if(!Oi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tc.tested)return Tc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tc.tested=!0,Tc.writable=!0}catch{Tc.tested=!0,Tc.writable=!1}return Tc.writable};function DZ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const vD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$o(async()=>{const{default:n}=await Promise.resolve().then(()=>Hh);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},RZ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xD=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ly=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dy=async(e,t)=>{await e.removeItem(t)};class b1{constructor(){this.promise=new b1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}b1.promiseConstructor=Promise;function Mw(e){const t=e.split(".");if(t.length!==3)throw new _p("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!xZ.test(t[n]))throw new _p("JWT not in base64url format");return{header:JSON.parse(Jk(t[0])),payload:JSON.parse(Jk(t[1])),signature:EZ(t[2]),raw:{header:t[0],payload:t[1]}}}async function OZ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function MZ(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function IZ(e){return("0"+e.toString(16)).substr(-2)}function FZ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,IZ).join("")}async function BZ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function $Z(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await BZ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ad(e,t,r=!1){const n=FZ();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await xD(e,`${t}-code-verifier`,s);const a=await $Z(n);return[a,n===a?"plain":"s256"]}const UZ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VZ(e){const t=e.headers.get(d5);if(!t||!t.match(UZ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var WZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Oc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HZ=[502,503,504];async function Qk(e){var t;if(!RZ(e))throw new h5(Oc(e),0);if(HZ.includes(e.status))throw new h5(Oc(e),e.status);let r;try{r=await e.json()}catch(a){throw new gD(Oc(a),a)}let n;const s=VZ(e);if(s&&s.getTime()>=mD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Kk(Oc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Kk(Oc(r),e.status,r.weak_password.reasons);throw new bZ(Oc(r),e.status||500,n)}const GZ=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ut(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[d5]||(a[d5]=mD["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await YZ(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function YZ(e,t,r,n,s,a){const i=GZ(t,n,s,a);let o;try{o=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new h5(Oc(c),0)}if(o.ok||await Qk(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Qk(c)}}function yl(e){var t;let r=null;JZ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TZ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eP(e){const t=yl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function KZ(e){return{data:e,error:null}}function XZ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=WZ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function ZZ(e){return e}function JZ(e){return e.access_token&&e.refresh_token&&e.expires_in}var QZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class eJ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nl})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=QZ(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:XZ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nl})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:ZZ});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(g.split(";")[1].split("=")[1]);u[`${S}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nl})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Nl})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nl})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}}const tJ={getItem:e=>Np()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Np()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Np()&&globalThis.localStorage.removeItem(e)}};function tP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function rJ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const id={debug:!!(globalThis&&Np()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class nJ extends wD{}async function sJ(e,t,r){id.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),id.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){id.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{id.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw id.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nJ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(id.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}rJ();const aJ={url:gZ,storageKey:yZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rP(e,t,r){return await r()}class lm{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=lm.nextInstanceID,lm.nextInstanceID+=1,this.instanceID>0&&Oi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},aJ),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eJ({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vD(s.fetch),this.lock=s.lock||rP,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Oi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=sJ:this.lock=rP,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Np()?this.storage=tJ:(this.memoryStorage={},this.storage=tP(this.memoryStorage)):(this.memoryStorage={},this.storage=tP(this.memoryStorage)),Oi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pD}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=DZ(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Oi()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),NZ(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Rt(r)?{error:r}:{error:new gD("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:yl}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Rt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ad(this.storage,this.storageKey)),a=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:yl})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:yl})}else throw new Ay("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:o}=t;r=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:eP})}else if("phone"in t){const{phone:a,password:i,options:o}=t;r=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:eP})}else throw new Ay("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Rw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Ly(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:yl});if(await Dy(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Rw}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(Rt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,o=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yl}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Rw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ad(this.storage,this.storageKey));const{error:h}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ay("You must provide either an email or phone number.")}catch(o){if(Rt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:yl});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Rt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await ad(this.storage,this.storageKey)),await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:KZ})}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gl;const{error:s}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await Ut(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:o}=await Ut(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new Ay("You must provide either an email or phone number and a type")}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ly(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Dw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nl}):await this._useSession(async r=>{var n,s,a;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gl}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Nl})})}catch(r){if(Rt(r))return _Z(r)&&(await this._removeSession(),await Dy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new gl;const i=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ad(this.storage,this.storageKey));const{data:u,error:d}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:Nl});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gl;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Mw(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Rt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gl;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Oi())throw new Ty("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ty(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ty("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yk("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!i||!u)throw new Ty("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=pd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:y,error:S}=await this._getUser(a);if(S)throw S;const b={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Rt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ly(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(SZ(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Dy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=LZ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ad(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,o,c,u,d;const{data:h,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Oi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Rt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await MZ(async s=>(s>0&&await OZ(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yl})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Ow(a)&&Date.now()+i-n<pd})}catch(n){if(this._debug(r,"error",n),Rt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Oi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ly(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Dw;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Dw}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Ow(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new b1;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new gl;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),Rt(a)){const i={session:null,error:a};return Ow(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await xD(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Dy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Oi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/pd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pd}ms, refresh threshold is ${u5} ticks`),s<=u5&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await ad(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ut(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:o}=await Ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Mw(s.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+wZ>Date.now()))return n;const{data:s,error:a}=await Ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new _p("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new _p("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:s,payload:a,signature:i,raw:{header:o,payload:c}}=Mw(n);if(zZ(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:i},error:null}}const u=qZ(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,AZ(`${o}.${c}`)))throw new _p("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}lm.nextInstanceID=0;const iJ=lm;class oJ extends iJ{constructor(t){super(t)}}var lJ=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function o(d){try{u(n.next(d))}catch(h){i(h)}}function c(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class cJ{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=pZ(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:iZ,realtime:lZ,auth:Object.assign(Object.assign({},oZ),{storageKey:c}),global:aZ},d=mZ(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=hZ(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new kX(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new nX(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rZ(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return lJ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oJ({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new VX(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uJ=(e,t,r)=>new cJ(e,t,r),dJ="https://unwisxczcoeoshwybktg.supabase.co",hJ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVud2lzeGN6Y29lb3Nod3lia3RnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI5MTE2MzEsImV4cCI6MjA1ODQ4NzYzMX0.CQWn7zkuEHAIPCNPB8nIGCaZE1hut2umQEMdRkq3IFk",We=uJ(dJ,hJ),bD={async checkConnection(){try{const{data:e,error:t}=await We.auth.getSession();if(t)return console.error("Session error:",t),{success:!1,message:`Session error: ${t.message}`};if(!e.session)return console.warn("No active session found"),{success:!1,message:"No active session found. Please log in again."};const r=e.session.expires_at,n=Math.floor(Date.now()/1e3);if(r&&r<n){console.warn("Session expired, attempting to refresh");const{data:a,error:i}=await We.auth.refreshSession();if(i)return console.error("Failed to refresh session:",i),{success:!1,message:`Session expired and refresh failed: ${i.message}`};if(!a.session)return console.error("Session refresh did not return a new session"),{success:!1,message:"Session expired and could not be refreshed. Please log in again."};console.log("Session refreshed successfully")}const{error:s}=await We.from("profiles").select("id").limit(1);return s?(console.error("Test query error:",s),s.code==="PGRST301"||s.message.includes("permission denied")?(console.warn("Permission error detected, might be an RLS issue"),{success:!1,message:"Database permission error. This might be due to Row Level Security settings."}):{success:!1,message:`Database connection error: ${s.message}`}):{success:!0,message:"Supabase connection is valid"}}catch(e){return console.error("Unexpected error checking Supabase connection:",e),{success:!1,message:`Unexpected error: ${e instanceof Error?e.message:String(e)}`}}},async fixConnectionIssues(){try{const e=await this.checkConnection();if(e.success)return e;const{data:t,error:r}=await We.auth.refreshSession();if(r){console.error("Failed to refresh session:",r);const{data:a,error:i}=await We.auth.getUser();if(i||!a.user)return console.error("Failed to get user:",i),{success:!1,message:"Authentication issues detected. Please log out and log in again."}}const{data:n}=await We.auth.getSession();return n.session?await this.checkConnection():{success:!1,message:"Could not establish a valid session. Please log out and log in again."}}catch(e){return console.error("Error fixing Supabase connection:",e),{success:!1,message:`Error fixing connection: ${e instanceof Error?e.message:String(e)}`}}},getErrorMessage(e){if(!e)return"Unknown error";const t=e.message||e.error_description||String(e);return t.includes("JWT expired")?"Your session has expired. Please log in again.":t.includes("permission denied")?"You do not have permission to perform this action.":t.includes("does not exist")?"The requested resource does not exist.":t.includes("duplicate key")?"This record already exists.":t.includes("network error")?"Network error. Please check your internet connection.":t}};window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason),e.reason&&(e.reason.error_description||e.reason.message&&e.reason.message.includes("supabase"))&&console.error("Supabase error detected:",bD.getErrorMessage(e.reason))});class fJ extends v.Component{constructor(r){super(r);ry(this,"handleTryAgain",()=>{this.setState({hasError:!1,error:null,errorInfo:null,fixResult:null})});ry(this,"handleFixIssues",async()=>{this.setState({isFixing:!0});try{const r=await bD.fixConnectionIssues();this.setState({isFixing:!1,fixResult:r.message}),r.success&&setTimeout(()=>{this.handleTryAgain()},1500)}catch(r){console.error("Error fixing issues:",r),this.setState({isFixing:!1,fixResult:`Failed to fix issues: ${r instanceof Error?r.message:String(r)}`})}});this.state={hasError:!1,error:null,errorInfo:null,isFixing:!1,fixResult:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null,isFixing:!1,fixResult:null}}componentDidCatch(r,n){console.error("Error caught by ErrorBoundary:",r,n),this.setState({error:r,errorInfo:n}),(r.message.includes("supabase")||r.message.includes("auth")||r.message.includes("database"))&&console.log("Supabase-related error detected")}render(){const{hasError:r,error:n,errorInfo:s,isFixing:a,fixResult:i}=this.state,{children:o,fallback:c}=this.props;return r?c||l.jsx("div",{className:"flex items-center justify-center min-h-[300px] p-4",children:l.jsxs(kr,{className:"w-full max-w-md",children:[l.jsx(Ir,{className:"bg-red-50 dark:bg-red-900/20",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bT,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),l.jsx(Fr,{className:"text-red-600 dark:text-red-400",children:"Something went wrong"})]})}),l.jsx(vr,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Error details:"}),l.jsx("div",{className:"bg-muted p-2 rounded-md overflow-auto max-h-[200px]",children:l.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:n==null?void 0:n.toString()})}),s&&l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Component stack:"}),l.jsx("div",{className:"bg-muted p-2 rounded-md overflow-auto max-h-[200px]",children:l.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:s.componentStack})})]}),i&&l.jsx("div",{className:`mt-2 p-2 rounded-md ${i.includes("success")?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-yellow-50 text-yellow-700 dark:bg-yellow-900/20 dark:text-yellow-400"}`,children:l.jsx("p",{className:"text-xs",children:i})})]})}),l.jsxs(Bo,{className:"flex justify-between gap-2",children:[l.jsx(Se,{variant:"outline",onClick:this.handleTryAgain,disabled:a,children:"Try again"}),l.jsx(Se,{onClick:this.handleFixIssues,disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(du,{className:"mr-2 h-4 w-4 animate-spin"}),"Fixing..."]}):"Fix Issues"})]})]})}):o}}class pJ extends v.Component{constructor(r){super(r);ry(this,"handleRefresh",()=>{window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Error caught by SimpleErrorBoundary:",r,n)}render(){const{hasError:r,error:n}=this.state,{children:s}=this.props;return r?l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:l.jsxs("div",{className:"w-full max-w-md p-6 bg-white rounded-lg shadow-lg",children:[l.jsx("h1",{className:"text-xl font-bold text-center mb-4",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"We encountered an error while loading the application. This might be due to recent changes or database issues."}),l.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-md mb-4 text-sm overflow-auto max-h-[200px]",children:l.jsx("pre",{className:"whitespace-pre-wrap",children:n==null?void 0:n.toString()})}),l.jsx(Se,{onClick:this.handleRefresh,className:"w-full",children:"Refresh Page"}),l.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[l.jsx("p",{children:"If the issue persists, please try:"}),l.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[l.jsx("li",{children:"Clearing your browser cache"}),l.jsx("li",{children:"Checking your internet connection"}),l.jsx("li",{children:"Logging out and logging back in"})]})]})]})}):s}}const f5=(e,t)=>t.some(r=>e instanceof r);let nP,sP;function mJ(){return nP||(nP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gJ(){return sP||(sP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p5=new WeakMap,Iw=new WeakMap,S1=new WeakMap;function yJ(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",i)},a=()=>{r(ru(e.result)),s()},i=()=>{n(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",i)});return S1.set(t,e),t}function vJ(e){if(p5.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=()=>{r(),s()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)});p5.set(e,t)}let m5={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return p5.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ru(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function SD(e){m5=e(m5)}function xJ(e){return gJ().includes(e)?function(...t){return e.apply(g5(this),t),ru(this.request)}:function(...t){return ru(e.apply(g5(this),t))}}function wJ(e){return typeof e=="function"?xJ(e):(e instanceof IDBTransaction&&vJ(e),f5(e,mJ())?new Proxy(e,m5):e)}function ru(e){if(e instanceof IDBRequest)return yJ(e);if(Iw.has(e))return Iw.get(e);const t=wJ(e);return t!==e&&(Iw.set(e,t),S1.set(t,e)),t}const g5=e=>S1.get(e);function _1(e,t,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const i=indexedDB.open(e,t),o=ru(i);return n&&i.addEventListener("upgradeneeded",c=>{n(ru(i.result),c.oldVersion,c.newVersion,ru(i.transaction),c)}),r&&i.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const bJ=["get","getKey","getAll","getAllKeys","count"],SJ=["put","add","delete","clear"],Fw=new Map;function aP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Fw.get(t))return Fw.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=SJ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||bJ.includes(r)))return;const a=async function(i,...o){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),s&&c.done]))[0]};return Fw.set(t,a),a}SD(e=>({...e,get:(t,r,n)=>aP(t,r)||e.get(t,r,n),has:(t,r)=>!!aP(t,r)||e.has(t,r)}));const _J=["continue","continuePrimaryKey","advance"],iP={},y5=new WeakMap,_D=new WeakMap,NJ={get(e,t){if(!_J.includes(t))return e[t];let r=iP[t];return r||(r=iP[t]=function(...n){y5.set(this,_D.get(this)[t](...n))}),r}};async function*jJ(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,NJ);for(_D.set(r,t),S1.set(r,g5(t));t;)yield r,t=await(y5.get(r)||t.continue()),y5.delete(r)}function oP(e,t){return t===Symbol.asyncIterator&&f5(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&f5(e,[IDBIndex,IDBObjectStore])}SD(e=>({...e,get(t,r,n){return oP(t,r)?jJ:e.get(t,r,n)},has(t,r){return oP(t,r)||e.has(t,r)}}));const On=[];for(let e=0;e<256;++e)On.push((e+256).toString(16).slice(1));function CJ(e,t=0){return(On[e[t+0]]+On[e[t+1]]+On[e[t+2]]+On[e[t+3]]+"-"+On[e[t+4]]+On[e[t+5]]+"-"+On[e[t+6]]+On[e[t+7]]+"-"+On[e[t+8]]+On[e[t+9]]+"-"+On[e[t+10]]+On[e[t+11]]+On[e[t+12]]+On[e[t+13]]+On[e[t+14]]+On[e[t+15]]).toLowerCase()}let Bw;const kJ=new Uint8Array(16);function PJ(){if(!Bw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bw=crypto.getRandomValues.bind(crypto)}return Bw(kJ)}const EJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lP={randomUUID:EJ};function Nu(e,t,r){var s;if(lP.randomUUID&&!t&&!e)return lP.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??PJ();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,CJ(n)}const AJ="business-sales-db",TJ=1,Wo=async()=>_1(AJ,TJ,{upgrade(e){e.objectStoreNames.contains("users")||e.createObjectStore("users",{keyPath:"id"}).createIndex("by-email","email"),e.objectStoreNames.contains("transactions")||e.createObjectStore("transactions",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("purchases")||e.createObjectStore("purchases",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("transportation")||e.createObjectStore("transportation",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("sales")||e.createObjectStore("sales",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("payments")||e.createObjectStore("payments",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("transaction_notes")||e.createObjectStore("transaction_notes",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("attachments")||e.createObjectStore("attachments",{keyPath:"id"}).createIndex("by-transaction-id","transaction_id"),e.objectStoreNames.contains("daily_logs")||e.createObjectStore("daily_logs",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("buyers")||e.createObjectStore("buyers",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("sellers")||e.createObjectStore("sellers",{keyPath:"id"}).createIndex("by-user-id","user_id"),e.objectStoreNames.contains("sync_status")||e.createObjectStore("sync_status",{keyPath:"table"})}}),Ga=async(e,t)=>{const r=await Wo(),n=r.transaction(e,"readwrite");return await n.objectStore(e).add(t),await n.done,r.close(),t},_a=async(e,t)=>{const r=await Wo(),a=await r.transaction(e,"readonly").objectStore(e).get(t);return r.close(),a||null},LJ=async e=>{const t=await Wo(),s=await t.transaction(e,"readonly").objectStore(e).getAll();return t.close(),s},Ya=async(e,t)=>{const r=await Wo(),n=r.transaction(e,"readwrite");return await n.objectStore(e).put(t),await n.done,r.close(),t},Hn=async(e,t)=>{const r=await Wo(),n=r.transaction(e,"readwrite");await n.objectStore(e).delete(t),await n.done,r.close()},zr=async(e,t,r)=>{const n=await Wo(),o=await n.transaction(e,"readonly").objectStore(e).index(t).getAll(r);return n.close(),o},DJ=async e=>{const t=await Wo(),r=t.transaction("sync_status","readwrite");await r.objectStore("sync_status").put({table:e,lastSyncTime:Date.now()}),await r.done,t.close()},RJ=async e=>{const t=await Wo(),s=await t.transaction("sync_status","readonly").objectStore("sync_status").get(e);return t.close(),s?s.lastSyncTime:null},Ri=()=>Nu(),Be={getUser:async e=>{try{return await _a("users",e)}catch(t){return console.error("Error getting user:",t),null}},getUserByEmail:async e=>{try{const t=await Wo(),a=await t.transaction("users","readonly").objectStore("users").index("by-email").getAll(e);return t.close(),a.length>0?a[0]:null}catch(t){return console.error("Error getting user by email:",t),null}},addUser:async e=>{try{return await Ga("users",e)}catch(t){throw console.error("Error adding user:",t),t}},updateUser:async e=>{try{return await Ya("users",e)}catch(t){throw console.error("Error updating user:",t),t}},getTransaction:async e=>{try{return await _a("transactions",e)}catch(t){return console.error("Error getting transaction:",t),null}},getAllTransactions:async e=>{try{return e?await zr("transactions","by-user-id",e):await LJ("transactions")}catch(t){return console.error("Error getting all transactions:",t),[]}},addTransaction:async e=>{try{const t={...e,id:Ri()};return await Ga("transactions",t)}catch(t){throw console.error("Error adding transaction:",t),t}},updateTransaction:async e=>{try{return await Ya("transactions",e)}catch(t){throw console.error("Error updating transaction:",t),t}},deleteTransaction:async e=>{try{const t=await zr("purchases","by-transaction-id",e),r=await zr("transportation","by-transaction-id",e),n=await zr("sales","by-transaction-id",e),s=await zr("payments","by-transaction-id",e),a=await zr("transaction_notes","by-transaction-id",e),i=await zr("attachments","by-transaction-id",e);for(const o of t)await Hn("purchases",o.id);for(const o of r)await Hn("transportation",o.id);for(const o of n)await Hn("sales",o.id);for(const o of s)await Hn("payments",o.id);for(const o of a)await Hn("transaction_notes",o.id);for(const o of i)await Hn("attachments",o.id);await Hn("transactions",e)}catch(t){throw console.error("Error deleting transaction:",t),t}},getCompleteTransaction:async e=>{try{const t=await _a("transactions",e);if(!t)return null;const r=await zr("purchases","by-transaction-id",e),n=await zr("transportation","by-transaction-id",e),s=await zr("sales","by-transaction-id",e),a=await zr("payments","by-transaction-id",e),i=await zr("transaction_notes","by-transaction-id",e),o=await zr("attachments","by-transaction-id",e);return{transaction:t,purchases:r,transportation:n.length>0?n[0]:void 0,sales:s,payments:a,notes:i,attachments:o}}catch(t){return console.error("Error getting complete transaction:",t),null}},getPurchase:async e=>{try{return await _a("purchases",e)}catch(t){return console.error("Error getting purchase:",t),null}},getPurchasesByTransaction:async e=>{try{return await zr("purchases","by-transaction-id",e)}catch(t){return console.error("Error getting purchases by transaction:",t),[]}},addPurchase:async e=>{try{const t={...e,id:Ri()};return await Ga("purchases",t)}catch(t){throw console.error("Error adding purchase:",t),t}},updatePurchase:async e=>{try{return await Ya("purchases",e)}catch(t){throw console.error("Error updating purchase:",t),t}},deletePurchase:async e=>{try{await Hn("purchases",e)}catch(t){throw console.error("Error deleting purchase:",t),t}},getTransportation:async e=>{try{return await _a("transportation",e)}catch(t){return console.error("Error getting transportation:",t),null}},getTransportationByTransaction:async e=>{try{const t=await zr("transportation","by-transaction-id",e);return t.length>0?t[0]:null}catch(t){return console.error("Error getting transportation by transaction:",t),null}},addTransportation:async e=>{try{const t={...e,id:Ri()};return await Ga("transportation",t)}catch(t){throw console.error("Error adding transportation:",t),t}},updateTransportation:async e=>{try{return await Ya("transportation",e)}catch(t){throw console.error("Error updating transportation:",t),t}},deleteTransportation:async e=>{try{await Hn("transportation",e)}catch(t){throw console.error("Error deleting transportation:",t),t}},getSale:async e=>{try{return await _a("sales",e)}catch(t){return console.error("Error getting sale:",t),null}},getSalesByTransaction:async e=>{try{return await zr("sales","by-transaction-id",e)}catch(t){return console.error("Error getting sales by transaction:",t),[]}},addSale:async e=>{try{const t={...e,id:Ri()};return await Ga("sales",t)}catch(t){throw console.error("Error adding sale:",t),t}},updateSale:async e=>{try{return await Ya("sales",e)}catch(t){throw console.error("Error updating sale:",t),t}},deleteSale:async e=>{try{await Hn("sales",e)}catch(t){throw console.error("Error deleting sale:",t),t}},getPayment:async e=>{try{return await _a("payments",e)}catch(t){return console.error("Error getting payment:",t),null}},getPaymentsByTransaction:async e=>{try{return await zr("payments","by-transaction-id",e)}catch(t){return console.error("Error getting payments by transaction:",t),[]}},addPayment:async e=>{try{const t={...e,id:Ri()};return await Ga("payments",t)}catch(t){throw console.error("Error adding payment:",t),t}},updatePayment:async e=>{try{return await Ya("payments",e)}catch(t){throw console.error("Error updating payment:",t),t}},deletePayment:async e=>{try{await Hn("payments",e)}catch(t){throw console.error("Error deleting payment:",t),t}},getTransactionNote:async e=>{try{return await _a("transaction_notes",e)}catch(t){return console.error("Error getting transaction note:",t),null}},getNotesByTransaction:async e=>{try{return await zr("transaction_notes","by-transaction-id",e)}catch(t){return console.error("Error getting notes by transaction:",t),[]}},addTransactionNote:async e=>{try{const t={...e,id:Ri(),created_at:new Date().toISOString()};return await Ga("transaction_notes",t)}catch(t){throw console.error("Error adding transaction note:",t),t}},updateTransactionNote:async e=>{try{return await Ya("transaction_notes",e)}catch(t){throw console.error("Error updating transaction note:",t),t}},deleteTransactionNote:async e=>{try{await Hn("transaction_notes",e)}catch(t){throw console.error("Error deleting transaction note:",t),t}},getAttachment:async e=>{try{return await _a("attachments",e)}catch(t){return console.error("Error getting attachment:",t),null}},getAttachmentsByTransaction:async e=>{try{return await zr("attachments","by-transaction-id",e)}catch(t){return console.error("Error getting attachments by transaction:",t),[]}},addAttachment:async e=>{try{const t={...e,id:Ri(),created_at:new Date().toISOString()};return await Ga("attachments",t)}catch(t){throw console.error("Error adding attachment:",t),t}},updateAttachment:async e=>{try{return await Ya("attachments",e)}catch(t){throw console.error("Error updating attachment:",t),t}},deleteAttachment:async e=>{try{await Hn("attachments",e)}catch(t){throw console.error("Error deleting attachment:",t),t}},getDailyLog:async e=>{try{return await _a("daily_logs",e)}catch(t){return console.error("Error getting daily log:",t),null}},getDailyLogsByUser:async e=>{try{return await zr("daily_logs","by-user-id",e)}catch(t){return console.error("Error getting daily logs by user:",t),[]}},addDailyLog:async e=>{try{const t={...e,id:Ri(),created_at:new Date().toISOString()};return await Ga("daily_logs",t)}catch(t){throw console.error("Error adding daily log:",t),t}},updateDailyLog:async e=>{try{return await Ya("daily_logs",e)}catch(t){throw console.error("Error updating daily log:",t),t}},deleteDailyLog:async e=>{try{await Hn("daily_logs",e)}catch(t){throw console.error("Error deleting daily log:",t),t}},getBuyer:async e=>{try{return await _a("buyers",e)}catch(t){return console.error("Error getting buyer:",t),null}},getBuyersByUser:async e=>{try{return await zr("buyers","by-user-id",e)}catch(t){return console.error("Error getting buyers by user:",t),[]}},addBuyer:async e=>{try{const t={...e,id:Ri()};return await Ga("buyers",t)}catch(t){throw console.error("Error adding buyer:",t),t}},updateBuyer:async e=>{try{return await Ya("buyers",e)}catch(t){throw console.error("Error updating buyer:",t),t}},deleteBuyer:async e=>{try{await Hn("buyers",e)}catch(t){throw console.error("Error deleting buyer:",t),t}},getSeller:async e=>{try{return await _a("sellers",e)}catch(t){return console.error("Error getting seller:",t),null}},getSellersByUser:async e=>{try{return await zr("sellers","by-user-id",e)}catch(t){return console.error("Error getting sellers by user:",t),[]}},addSeller:async e=>{try{const t={...e,id:Ri()};return await Ga("sellers",t)}catch(t){throw console.error("Error adding seller:",t),t}},updateSeller:async e=>{try{return await Ya("sellers",e)}catch(t){throw console.error("Error updating seller:",t),t}},deleteSeller:async e=>{try{await Hn("sellers",e)}catch(t){throw console.error("Error deleting seller:",t),t}},updateSyncStatus:DJ,getSyncStatus:RJ},Qe={getCurrentUser:async()=>{try{const{data:{user:e}}=await We.auth.getUser();if(!e)return null;const{data:t,error:r}=await We.from("users").select("*").eq("id",e.id).single();return r?(console.error("Error fetching user:",r),null):t}catch(e){return console.error("Error getting current user:",e),null}},createUserProfile:async e=>{try{const{data:t,error:r}=await We.from("users").insert(e).select().single();return r?(console.error("Error creating user profile:",r),null):t}catch(t){return console.error("Error creating user profile:",t),null}},updateUserProfile:async e=>{try{const{data:t,error:r}=await We.from("users").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating user profile:",r),null):t}catch(t){return console.error("Error updating user profile:",t),null}},getTransactions:async e=>{try{const{data:t,error:r}=await We.from("transactions").select("*").eq("user_id",e);return r?(console.error("Error fetching transactions:",r),[]):t}catch(t){return console.error("Error getting transactions:",t),[]}},getTransaction:async e=>{try{const{data:t,error:r}=await We.from("transactions").select("*").eq("id",e).single();return r?(console.error("Error fetching transaction:",r),null):t}catch(t){return console.error("Error getting transaction:",t),null}},createTransaction:async e=>{try{const{data:t,error:r}=await We.from("transactions").insert(e).select().single();return r?(console.error("Error creating transaction:",r),null):t}catch(t){return console.error("Error creating transaction:",t),null}},updateTransaction:async e=>{try{const{data:t,error:r}=await We.from("transactions").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating transaction:",r),null):t}catch(t){return console.error("Error updating transaction:",t),null}},deleteTransaction:async e=>{try{const{error:t}=await We.from("transactions").delete().eq("id",e);return t?(console.error("Error deleting transaction:",t),!1):!0}catch(t){return console.error("Error deleting transaction:",t),!1}},getPurchases:async e=>{try{const{data:t,error:r}=await We.from("purchases").select("*").eq("transaction_id",e);return r?(console.error("Error fetching purchases:",r),[]):t}catch(t){return console.error("Error getting purchases:",t),[]}},createPurchase:async e=>{try{const{data:t,error:r}=await We.from("purchases").insert(e).select().single();return r?(console.error("Error creating purchase:",r),null):t}catch(t){return console.error("Error creating purchase:",t),null}},updatePurchase:async e=>{try{const{data:t,error:r}=await We.from("purchases").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating purchase:",r),null):t}catch(t){return console.error("Error updating purchase:",t),null}},deletePurchase:async e=>{try{const{error:t}=await We.from("purchases").delete().eq("id",e);return t?(console.error("Error deleting purchase:",t),!1):!0}catch(t){return console.error("Error deleting purchase:",t),!1}},getTransportation:async e=>{try{const{data:t,error:r}=await We.from("transportation").select("*").eq("transaction_id",e).single();return r&&r.code!=="PGRST116"?(console.error("Error fetching transportation:",r),null):t}catch(t){return console.error("Error getting transportation:",t),null}},createTransportation:async e=>{try{console.log("Creating transportation in Supabase:",e);const t=await Qe.getTransportation(e.transaction_id);if(t)return console.log("Transportation already exists, updating instead:",t),await Qe.updateTransportation({...t,...e});const{data:r,error:n}=await We.from("transportation").insert(e).select().single();return n?(console.error("Error creating transportation:",n),console.error("Error details:",JSON.stringify(n,null,2)),console.error("Transportation data:",JSON.stringify(e,null,2)),null):(console.log("Transportation created successfully:",r),r)}catch(t){return console.error("Error creating transportation:",t),null}},updateTransportation:async e=>{try{console.log("Updating transportation in Supabase:",e);const{data:t,error:r}=await We.from("transportation").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating transportation:",r),console.error("Error details:",JSON.stringify(r,null,2)),console.error("Transportation data:",JSON.stringify(e,null,2)),null):(console.log("Transportation updated successfully:",t),t)}catch(t){return console.error("Error updating transportation:",t),null}},deleteTransportation:async e=>{try{const{error:t}=await We.from("transportation").delete().eq("id",e);return t?(console.error("Error deleting transportation:",t),!1):!0}catch(t){return console.error("Error deleting transportation:",t),!1}},getSales:async e=>{try{const{data:t,error:r}=await We.from("sales").select("*").eq("transaction_id",e);return r?(console.error("Error fetching sales:",r),[]):t}catch(t){return console.error("Error getting sales:",t),[]}},createSale:async e=>{try{const{data:t,error:r}=await We.from("sales").insert(e).select().single();return r?(console.error("Error creating sale:",r),null):t}catch(t){return console.error("Error creating sale:",t),null}},updateSale:async e=>{try{const{data:t,error:r}=await We.from("sales").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating sale:",r),null):t}catch(t){return console.error("Error updating sale:",t),null}},deleteSale:async e=>{try{const{error:t}=await We.from("sales").delete().eq("id",e);return t?(console.error("Error deleting sale:",t),!1):!0}catch(t){return console.error("Error deleting sale:",t),!1}},getPayments:async e=>{try{const{data:t,error:r}=await We.from("payments").select("*").eq("transaction_id",e);return r?(console.error("Error fetching payments:",r),[]):t}catch(t){return console.error("Error getting payments:",t),[]}},createPayment:async e=>{try{const{data:t,error:r}=await We.from("payments").insert(e).select().single();return r?(console.error("Error creating payment:",r),null):t}catch(t){return console.error("Error creating payment:",t),null}},updatePayment:async e=>{try{const{data:t,error:r}=await We.from("payments").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating payment:",r),null):t}catch(t){return console.error("Error updating payment:",t),null}},deletePayment:async e=>{try{const{error:t}=await We.from("payments").delete().eq("id",e);return t?(console.error("Error deleting payment:",t),!1):!0}catch(t){return console.error("Error deleting payment:",t),!1}},getNotes:async e=>{try{const{data:t,error:r}=await We.from("transaction_notes").select("*").eq("transaction_id",e);return r?(console.error("Error fetching notes:",r),[]):t}catch(t){return console.error("Error getting notes:",t),[]}},createNote:async e=>{try{const{data:t,error:r}=await We.from("transaction_notes").insert(e).select().single();return r?(console.error("Error creating note:",r),null):t}catch(t){return console.error("Error creating note:",t),null}},updateNote:async e=>{try{const{data:t,error:r}=await We.from("transaction_notes").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating note:",r),null):t}catch(t){return console.error("Error updating note:",t),null}},deleteNote:async e=>{try{const{error:t}=await We.from("transaction_notes").delete().eq("id",e);return t?(console.error("Error deleting note:",t),!1):!0}catch(t){return console.error("Error deleting note:",t),!1}},getAttachments:async e=>{try{const{data:t,error:r}=await We.from("attachments").select("*").eq("transaction_id",e);return r?(console.error("Error fetching attachments:",r),[]):t}catch(t){return console.error("Error getting attachments:",t),[]}},createAttachment:async e=>{try{const{data:t,error:r}=await We.from("attachments").insert(e).select().single();return r?(console.error("Error creating attachment:",r),null):t}catch(t){return console.error("Error creating attachment:",t),null}},updateAttachment:async e=>{try{const{data:t,error:r}=await We.from("attachments").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating attachment:",r),null):t}catch(t){return console.error("Error updating attachment:",t),null}},deleteAttachment:async e=>{try{const{error:t}=await We.from("attachments").delete().eq("id",e);return t?(console.error("Error deleting attachment:",t),!1):!0}catch(t){return console.error("Error deleting attachment:",t),!1}},uploadAttachmentFile:async(e,t,r)=>{try{const n=`${e}/${r}`,{data:s,error:a}=await We.storage.from("attachments").upload(n,t,{cacheControl:"3600",upsert:!0});if(a)return console.error("Error uploading file:",a),null;const{data:{publicUrl:i}}=We.storage.from("attachments").getPublicUrl(s.path);return i}catch(n){return console.error("Error uploading attachment file:",n),null}},getDailyLogs:async e=>{try{console.log(`Fetching daily logs for user ${e}`);const{data:t,error:r}=await We.from("daily_logs").select("*").eq("user_id",e);return r?(console.error("Error fetching daily logs:",r),console.error("Error details:",JSON.stringify(r,null,2)),[]):(console.log(`Successfully fetched ${(t==null?void 0:t.length)||0} daily logs`),t)}catch(t){return console.error("Error getting daily logs:",t),[]}},createDailyLog:async e=>{try{console.log("Creating daily log in Supabase:",e);const{error:t}=await We.from("daily_logs").select("id").limit(1);if(t)return console.error("Error checking daily_logs table:",t),console.error("The daily_logs table might not exist in Supabase"),null;const{data:r,error:n}=await We.from("daily_logs").insert(e).select().single();return n?(console.error("Error creating daily log:",n),console.error("Error details:",JSON.stringify(n,null,2)),console.error("Log data:",JSON.stringify(e,null,2)),null):(console.log("Daily log created successfully:",r),r)}catch(t){return console.error("Error creating daily log:",t),null}},updateDailyLog:async e=>{try{console.log("Updating daily log in Supabase:",e);const{data:t,error:r}=await We.from("daily_logs").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating daily log:",r),console.error("Error details:",JSON.stringify(r,null,2)),console.error("Log data:",JSON.stringify(e,null,2)),null):(console.log("Daily log updated successfully:",t),t)}catch(t){return console.error("Error updating daily log:",t),null}},deleteDailyLog:async e=>{try{console.log(`Deleting daily log with ID ${e} from Supabase`);const{error:t}=await We.from("daily_logs").delete().eq("id",e);return t?(console.error("Error deleting daily log:",t),console.error("Error details:",JSON.stringify(t,null,2)),!1):(console.log("Daily log deleted successfully"),!0)}catch(t){return console.error("Error deleting daily log:",t),!1}},getBuyers:async e=>{try{console.log(`Fetching buyers for user ${e}`);const{error:t}=await We.from("buyers").select("id").limit(1);if(t)return console.error("Error checking buyers table:",t),console.error("The buyers table might not exist in Supabase"),[];const{data:r,error:n}=await We.from("buyers").select("*").eq("user_id",e);return n?(console.error("Error fetching buyers:",n),console.error("Error details:",JSON.stringify(n,null,2)),[]):(console.log(`Successfully fetched ${(r==null?void 0:r.length)||0} buyers`),r)}catch(t){return console.error("Error getting buyers:",t),[]}},createBuyer:async e=>{try{if(console.log("Creating buyer in Supabase:",e),!e.user_id)return console.error("Cannot create buyer: Missing user_id"),null;const{data:t,error:r}=await We.from("buyers").select("*").eq("id",e.id).maybeSingle();if(r)return r.message.includes("does not exist")?(console.error("The buyers table does not exist in Supabase!"),console.error("Please run the SQL migration script to create the table"),null):(console.error("Error checking if buyer exists:",r),null);if(t)return console.log("Buyer already exists, updating instead:",t),await Qe.updateBuyer(e);const n={...e,created_at:e.created_at||new Date().toISOString()};console.log("Inserting buyer into Supabase:",n);const{data:s,error:a}=await We.from("buyers").insert(n).select().single();if(a){console.error("Error creating buyer:",a),console.error("Error details:",JSON.stringify(a,null,2)),console.error("Buyer data:",JSON.stringify(n,null,2));try{console.log("Trying fallback method with RPC call...");const{data:i,error:o}=await We.rpc("insert_buyer",{buyer_id:n.id,buyer_user_id:n.user_id,buyer_name:n.name,buyer_email:n.email||null,buyer_phone:n.phone||null});return o?(console.error("RPC fallback also failed:",o),null):(console.log("RPC call successful:",i),n)}catch(i){return console.error("Error in RPC fallback:",i),null}}return console.log("Buyer created successfully:",s),s}catch(t){return console.error("Error creating buyer:",t),null}},updateBuyer:async e=>{try{console.log("Updating buyer in Supabase:",e);const{data:t,error:r}=await We.from("buyers").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating buyer:",r),console.error("Error details:",JSON.stringify(r,null,2)),console.error("Buyer data:",JSON.stringify(e,null,2)),null):(console.log("Buyer updated successfully:",t),t)}catch(t){return console.error("Error updating buyer:",t),null}},deleteBuyer:async e=>{try{console.log(`Deleting buyer with ID ${e} from Supabase`);const{error:t}=await We.from("buyers").delete().eq("id",e);return t?(console.error("Error deleting buyer:",t),console.error("Error details:",JSON.stringify(t,null,2)),!1):(console.log("Buyer deleted successfully"),!0)}catch(t){return console.error("Error deleting buyer:",t),!1}},getSellers:async e=>{try{console.log(`Fetching sellers for user ${e}`);const{error:t}=await We.from("sellers").select("id").limit(1);if(t)return console.error("Error checking sellers table:",t),console.error("The sellers table might not exist in Supabase"),[];const{data:r,error:n}=await We.from("sellers").select("*").eq("user_id",e);return n?(console.error("Error fetching sellers:",n),console.error("Error details:",JSON.stringify(n,null,2)),[]):(console.log(`Successfully fetched ${(r==null?void 0:r.length)||0} sellers`),r)}catch(t){return console.error("Error getting sellers:",t),[]}},createSeller:async e=>{try{if(console.log("Creating seller in Supabase:",e),!e.user_id)return console.error("Cannot create seller: Missing user_id"),null;const{data:t,error:r}=await We.from("sellers").select("*").eq("id",e.id).maybeSingle();if(r)return r.message.includes("does not exist")?(console.error("The sellers table does not exist in Supabase!"),console.error("Please run the SQL migration script to create the table"),null):(console.error("Error checking if seller exists:",r),null);if(t)return console.log("Seller already exists, updating instead:",t),await Qe.updateSeller(e);const n={...e,created_at:e.created_at||new Date().toISOString()};console.log("Inserting seller into Supabase:",n);const{data:s,error:a}=await We.from("sellers").insert(n).select().single();if(a){console.error("Error creating seller:",a),console.error("Error details:",JSON.stringify(a,null,2)),console.error("Seller data:",JSON.stringify(n,null,2));try{console.log("Trying fallback method with RPC call...");const{data:i,error:o}=await We.rpc("insert_seller",{seller_id:n.id,seller_user_id:n.user_id,seller_name:n.name,seller_email:n.email||null,seller_phone:n.phone||null});return o?(console.error("RPC fallback also failed:",o),null):(console.log("RPC call successful:",i),n)}catch(i){return console.error("Error in RPC fallback:",i),null}}return console.log("Seller created successfully:",s),s}catch(t){return console.error("Error creating seller:",t),null}},updateSeller:async e=>{try{console.log("Updating seller in Supabase:",e);const{data:t,error:r}=await We.from("sellers").update(e).eq("id",e.id).select().single();return r?(console.error("Error updating seller:",r),console.error("Error details:",JSON.stringify(r,null,2)),console.error("Seller data:",JSON.stringify(e,null,2)),null):(console.log("Seller updated successfully:",t),t)}catch(t){return console.error("Error updating seller:",t),null}},deleteSeller:async e=>{try{console.log(`Deleting seller with ID ${e} from Supabase`);const{error:t}=await We.from("sellers").delete().eq("id",e);return t?(console.error("Error deleting seller:",t),console.error("Error details:",JSON.stringify(t,null,2)),!1):(console.log("Seller deleted successfully"),!0)}catch(t){return console.error("Error deleting seller:",t),!1}},getCompleteTransaction:async e=>{try{const t=await Qe.getTransaction(e);if(!t)return null;const r=await Qe.getPurchases(e),n=await Qe.getTransportation(e),s=await Qe.getSales(e),a=await Qe.getPayments(e),i=await Qe.getNotes(e),o=await Qe.getAttachments(e);return{transaction:t,purchases:r,transportation:n,sales:s,payments:a,notes:i,attachments:o}}catch(t){return console.error("Error getting complete transaction:",t),null}}},Ps=()=>navigator.onLine,Yt={getSyncStatus:async()=>{try{const e=["transactions","purchases","transportation","sales","payments","transaction_notes","attachments","daily_logs","buyers","sellers"],t=await Promise.all(e.map(async s=>{const a=await Be.getSyncStatus(s);return{table:s,lastSyncTime:a}})),r=t.every(s=>s.lastSyncTime!==null);return{lastSyncTime:t.reduce((s,a)=>a.lastSyncTime===null?null:s===null?a.lastSyncTime:Math.min(s,a.lastSyncTime),null),isAllSynced:r}}catch(e){return console.error("Error getting sync status:",e),{lastSyncTime:null,isAllSynced:!1}}},syncUserData:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;const t=await Qe.getCurrentUser();return t&&(await Be.getUser(e)?await Be.updateUser(t):await Be.addUser(t)),!0}catch(t){return console.error("Error syncing user data:",t),!1}},syncTransactions:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;const t=await Qe.getTransactions(e),r=await Be.getAllTransactions(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Be.updateTransaction(a):await Be.addTransaction(a);for(const a of r)s.get(a.id)||await Qe.createTransaction(a);return await Be.updateSyncStatus("transactions"),!0}catch(t){return console.error("Error syncing transactions:",t),!1}},syncPurchases:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;const t=await Qe.getPurchases(e),r=await Be.getPurchasesByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Be.updatePurchase(a):await Be.addPurchase(a);for(const a of r)s.get(a.id)||await Qe.createPurchase(a);return await Be.updateSyncStatus("purchases"),!0}catch(t){return console.error("Error syncing purchases:",t),!1}},syncTransportation:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;console.log(`Syncing transportation for transaction ${e}`);const t=await Qe.getTransportation(e);console.log("Supabase transportation:",t);const r=await Be.getTransportationByTransaction(e);if(console.log("Local transportation:",r),t&&r)console.log("Both Supabase and local have transportation, updating local with Supabase data"),await Be.updateTransportation(t);else if(t&&!r)console.log("Only Supabase has transportation, adding to local"),await Be.addTransportation(t);else if(!t&&r){console.log("Only local has transportation, adding to Supabase");const n=await Qe.createTransportation(r);console.log("Result of adding transportation to Supabase:",n)}else console.log("Neither Supabase nor local have transportation for this transaction");return await Be.updateSyncStatus("transportation"),console.log("Transportation sync status updated"),!0}catch(t){return console.error("Error syncing transportation:",t),!1}},syncSales:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;const t=await Qe.getSales(e),r=await Be.getSalesByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Be.updateSale(a):await Be.addSale(a);for(const a of r)s.get(a.id)||await Qe.createSale(a);return await Be.updateSyncStatus("sales"),!0}catch(t){return console.error("Error syncing sales:",t),!1}},syncPayments:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;const t=await Qe.getPayments(e),r=await Be.getPaymentsByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Be.updatePayment(a):await Be.addPayment(a);for(const a of r)s.get(a.id)||await Qe.createPayment(a);return await Be.updateSyncStatus("payments"),!0}catch(t){return console.error("Error syncing payments:",t),!1}},syncNotes:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;const t=await Qe.getNotes(e),r=await Be.getNotesByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Be.updateTransactionNote(a):await Be.addTransactionNote({id:a.id,transaction_id:a.transaction_id,note:a.note});for(const a of r)s.get(a.id)||await Qe.createNote({id:a.id,transaction_id:a.transaction_id,note:a.note});return await Be.updateSyncStatus("transaction_notes"),!0}catch(t){return console.error("Error syncing notes:",t),!1}},syncAttachments:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;const t=await Qe.getAttachments(e),r=await Be.getAttachmentsByTransaction(e),n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)});for(const a of t)n.get(a.id)?await Be.updateAttachment(a):await Be.addAttachment({id:a.id,transaction_id:a.transaction_id,name:a.name,file_type:a.file_type,uri:a.uri});for(const a of r)s.get(a.id)||await Qe.createAttachment({id:a.id,transaction_id:a.transaction_id,name:a.name,file_type:a.file_type,uri:a.uri});return await Be.updateSyncStatus("attachments"),!0}catch(t){return console.error("Error syncing attachments:",t),!1}},syncDailyLogs:async e=>{try{if(!Ps())return console.log("Offline, skipping daily logs sync"),!1;console.log(`Starting daily logs sync for user ${e}`);const t=await Qe.getDailyLogs(e);console.log(`Retrieved ${t.length} daily logs from Supabase`);const r=await Be.getDailyLogsByUser(e);console.log(`Retrieved ${r.length} daily logs from local database`);const n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)}),console.log("Syncing logs from Supabase to local...");for(const a of t)if(n.get(a.id)){console.log(`Updating local log ${a.id} with Supabase data`);try{await Be.updateDailyLog(a),console.log(`Successfully updated log ${a.id} in local database`)}catch(o){console.error(`Error updating log ${a.id} in local database:`,o)}}else{console.log(`Adding Supabase log ${a.id} to local database`);try{await Be.addDailyLog({id:a.id,user_id:a.user_id,direction:a.direction,payment_type:a.payment_type,date:a.date,recipient_name:a.recipient_name,amount:a.amount,is_third_party:a.is_third_party,third_party_name:a.third_party_name,notes:a.notes,attachment_url:a.attachment_url}),console.log(`Successfully added log ${a.id} to local database`)}catch(o){console.error(`Error adding log ${a.id} to local database:`,o)}}console.log("Syncing logs from local to Supabase...");for(const a of r)if(!s.get(a.id)){console.log(`Adding local log ${a.id} to Supabase`);try{await Qe.createDailyLog({id:a.id,user_id:a.user_id,direction:a.direction,payment_type:a.payment_type,date:a.date,recipient_name:a.recipient_name,amount:a.amount,is_third_party:a.is_third_party,third_party_name:a.third_party_name,notes:a.notes,attachment_url:a.attachment_url})?console.log(`Successfully added log ${a.id} to Supabase`):console.error(`Failed to add log ${a.id} to Supabase, result was null`)}catch(o){console.error(`Error adding log ${a.id} to Supabase:`,o)}}return await Be.updateSyncStatus("daily_logs"),console.log("Daily logs sync status updated"),!0}catch(t){return console.error("Error syncing daily logs:",t),!1}},syncBuyers:async e=>{try{if(!Ps())return console.log("Offline, skipping buyers sync"),!1;console.log(`Starting buyers sync for user ${e}`);const t=await Qe.getBuyers(e);console.log(`Retrieved ${t.length} buyers from Supabase`);const r=await Be.getBuyersByUser(e);console.log(`Retrieved ${r.length} buyers from local database`);const n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)}),console.log("Syncing buyers from Supabase to local...");for(const a of t)if(n.get(a.id)){console.log(`Updating local buyer ${a.id} with Supabase data`);try{await Be.updateBuyer(a),console.log(`Successfully updated buyer ${a.id} in local database`)}catch(o){console.error(`Error updating buyer ${a.id} in local database:`,o)}}else{console.log(`Adding Supabase buyer ${a.id} to local database`);try{await Be.addBuyer(a),console.log(`Successfully added buyer ${a.id} to local database`)}catch(o){console.error(`Error adding buyer ${a.id} to local database:`,o)}}console.log("Syncing buyers from local to Supabase...");for(const a of r)if(!s.get(a.id)){console.log(`Adding local buyer ${a.id} to Supabase`);try{await Qe.createBuyer(a)?console.log(`Successfully added buyer ${a.id} to Supabase`):console.error(`Failed to add buyer ${a.id} to Supabase, result was null`)}catch(o){console.error(`Error adding buyer ${a.id} to Supabase:`,o)}}return await Be.updateSyncStatus("buyers"),console.log("Buyers sync status updated"),!0}catch(t){return console.error("Error syncing buyers:",t),!1}},syncSellers:async e=>{try{if(!Ps())return console.log("Offline, skipping sellers sync"),!1;console.log(`Starting sellers sync for user ${e}`);const t=await Qe.getSellers(e);console.log(`Retrieved ${t.length} sellers from Supabase`);const r=await Be.getSellersByUser(e);console.log(`Retrieved ${r.length} sellers from local database`);const n=new Map;r.forEach(a=>{n.set(a.id,a)});const s=new Map;t.forEach(a=>{s.set(a.id,a)}),console.log("Syncing sellers from Supabase to local...");for(const a of t)if(n.get(a.id)){console.log(`Updating local seller ${a.id} with Supabase data`);try{await Be.updateSeller(a),console.log(`Successfully updated seller ${a.id} in local database`)}catch(o){console.error(`Error updating seller ${a.id} in local database:`,o)}}else{console.log(`Adding Supabase seller ${a.id} to local database`);try{await Be.addSeller(a),console.log(`Successfully added seller ${a.id} to local database`)}catch(o){console.error(`Error adding seller ${a.id} to local database:`,o)}}console.log("Syncing sellers from local to Supabase...");for(const a of r)if(!s.get(a.id)){console.log(`Adding local seller ${a.id} to Supabase`);try{await Qe.createSeller(a)?console.log(`Successfully added seller ${a.id} to Supabase`):console.error(`Failed to add seller ${a.id} to Supabase, result was null`)}catch(o){console.error(`Error adding seller ${a.id} to Supabase:`,o)}}return await Be.updateSyncStatus("sellers"),console.log("Sellers sync status updated"),!0}catch(t){return console.error("Error syncing sellers:",t),!1}},forceSyncContacts:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;console.log("Force syncing contacts..."),console.log("Force syncing buyers...");const t=await Be.getBuyersByUser(e);console.log(`Found ${t.length} local buyers to sync`);try{console.log("Checking if buyers table exists...");const{error:c}=await We.from("buyers").select("id").limit(1);c&&c.message.includes("does not exist")?(console.log("Buyers table does not exist in Supabase"),console.log("Please create the buyers table in Supabase using the SQL editor"),console.log(`
            CREATE TABLE IF NOT EXISTS public.buyers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.buyers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own buyers"
              ON public.buyers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.buyers TO authenticated;
          `)):console.log("Buyers table exists in Supabase")}catch(c){console.error("Error checking buyers table:",c)}let r=0,n=0;for(const c of t)try{console.log(`Processing buyer ${c.id} (${c.name})`),console.log(`Trying direct upsert for buyer ${c.id}...`);const{data:u,error:d}=await We.from("buyers").select("id").eq("id",c.id).maybeSingle();let h=null;if(d)console.error(`Error checking if buyer ${c.id} exists:`,d),h=d;else if(u){const{error:f}=await We.from("buyers").update({name:c.name,email:c.email,phone:c.phone}).eq("id",c.id);f?(console.error(`Error updating buyer ${c.id}:`,f),h=f):(console.log(`Successfully updated buyer ${c.id} directly`),r++)}else{const{error:f}=await We.from("buyers").insert({id:c.id,user_id:e,name:c.name,email:c.email,phone:c.phone,created_at:c.created_at||new Date().toISOString()});f?(console.error(`Error inserting buyer ${c.id}:`,f),h=f):(console.log(`Successfully inserted buyer ${c.id} directly`),r++)}if(h){console.error(`Error upserting buyer ${c.id} via SQL:`,h);try{await Qe.createBuyer(c)?(console.log(`Successfully synced buyer ${c.id} via API`),r++):(console.error(`Failed to sync buyer ${c.id} via API`),n++)}catch(f){console.error(`Error syncing buyer ${c.id} via API:`,f),n++}}else console.log(`Successfully upserted buyer ${c.id} via SQL`),r++}catch(u){console.error(`Error syncing buyer ${c.id} to Supabase:`,u),n++}console.log(`Buyer sync summary: ${r} succeeded, ${n} failed`),console.log("Force syncing sellers...");const s=await Be.getSellersByUser(e);console.log(`Found ${s.length} local sellers to sync`);try{console.log("Checking if sellers table exists...");const{error:c}=await We.from("sellers").select("id").limit(1);c&&c.message.includes("does not exist")?(console.log("Sellers table does not exist in Supabase"),console.log("Please create the sellers table in Supabase using the SQL editor"),console.log(`
            CREATE TABLE IF NOT EXISTS public.sellers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.sellers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own sellers"
              ON public.sellers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.sellers TO authenticated;
          `)):console.log("Sellers table exists in Supabase")}catch(c){console.error("Error checking sellers table:",c)}let a=0,i=0;for(const c of s)try{console.log(`Processing seller ${c.id} (${c.name})`),console.log(`Trying direct insert for seller ${c.id}...`);const{data:u,error:d}=await We.from("sellers").select("id").eq("id",c.id).maybeSingle();let h=null;if(d)console.error(`Error checking if seller ${c.id} exists:`,d),h=d;else if(u){const{error:f}=await We.from("sellers").update({name:c.name,email:c.email,phone:c.phone}).eq("id",c.id);f?(console.error(`Error updating seller ${c.id}:`,f),h=f):(console.log(`Successfully updated seller ${c.id} directly`),a++)}else{const{error:f}=await We.from("sellers").insert({id:c.id,user_id:e,name:c.name,email:c.email,phone:c.phone,created_at:c.created_at||new Date().toISOString()});f?(console.error(`Error inserting seller ${c.id}:`,f),h=f):(console.log(`Successfully inserted seller ${c.id} directly`),a++)}if(h){console.error(`Error upserting seller ${c.id} via SQL:`,h);try{await Qe.createSeller(c)?(console.log(`Successfully synced seller ${c.id} via API`),a++):(console.error(`Failed to sync seller ${c.id} via API`),i++)}catch(f){console.error(`Error syncing seller ${c.id} via API:`,f),i++}}else console.log(`Successfully upserted seller ${c.id} via SQL`),a++}catch(u){console.error(`Error syncing seller ${c.id} to Supabase:`,u),i++}console.log(`Seller sync summary: ${a} succeeded, ${i} failed`),console.log("Force syncing daily logs...");const o=await Be.getDailyLogsByUser(e);console.log(`Found ${o.length} local daily logs to sync`);for(const c of o)try{console.log(`Processing daily log ${c.id}`),(await Qe.getDailyLogs(e)).some(h=>h.id===c.id)?(console.log(`Daily log ${c.id} exists in Supabase, updating...`),await Qe.updateDailyLog(c)?console.log(`Successfully updated daily log ${c.id} in Supabase`):console.error(`Failed to update daily log ${c.id} in Supabase`)):(console.log(`Daily log ${c.id} does not exist in Supabase, creating...`),await Qe.createDailyLog(c)?console.log(`Successfully created daily log ${c.id} in Supabase`):console.error(`Failed to create daily log ${c.id} in Supabase`))}catch(u){console.error(`Error syncing daily log ${c.id} to Supabase:`,u)}return!0}catch(t){return console.error("Error force syncing contacts and logs:",t),!1}},syncAll:async e=>{try{if(!Ps())return console.log("Offline, skipping sync"),!1;await Yt.syncUserData(e),await Yt.syncTransactions(e);const t=await Be.getAllTransactions(e);for(const r of t)await Yt.syncPurchases(r.id),await Yt.syncTransportation(r.id),await Yt.syncSales(r.id),await Yt.syncPayments(r.id),await Yt.syncNotes(r.id),await Yt.syncAttachments(r.id);return await Yt.syncDailyLogs(e),await Yt.syncBuyers(e),await Yt.syncSellers(e),!0}catch(t){return console.error("Error syncing all data:",t),!1}},syncCompleteTransaction:async e=>{try{return Ps()?await Be.getTransaction(e)?(await Yt.syncPurchases(e),await Yt.syncTransportation(e),await Yt.syncSales(e),await Yt.syncPayments(e),await Yt.syncNotes(e),await Yt.syncAttachments(e),!0):(console.error("Transaction not found:",e),!1):(console.log("Offline, skipping sync"),!1)}catch(t){return console.error("Error syncing complete transaction:",t),!1}}},OJ=async e=>{try{console.log("Starting data migration...");const r=await(await _1("transactly-db",1)).getAll("transactions");console.log(`Found ${r.length} transactions to migrate`);for(const n of r)await MJ(n,e);return console.log("Data migration completed successfully"),!0}catch(t){return console.error("Error migrating data:",t),!1}},MJ=async(e,t)=>{try{console.log(`Migrating transaction: ${e.id}`);const r={id:e.id,user_id:t,name:e.name,status:e.status,created_at:e.updatedAt||new Date().toISOString()};if(await Be.updateTransaction(r),e.loadBuy&&await IJ(e.id,e.loadBuy),e.suppliers&&e.suppliers.length>0)for(const n of e.suppliers)await FJ(e.id,n);if(e.transportation&&await BJ(e.id,e.transportation),e.loadSold&&await $J(e.id,e.loadSold),e.buyers&&e.buyers.length>0)for(const n of e.buyers)await UJ(e.id,n);if(e.payments&&e.payments.length>0)for(const n of e.payments)await VJ(e.id,n);if(e.notes&&e.notes.length>0)for(const n of e.notes)await zJ(e.id,n);if(e.attachments&&e.attachments.length>0)for(const n of e.attachments)await qJ(e.id,n);console.log(`Transaction ${e.id} migrated successfully`)}catch(r){throw console.error(`Error migrating transaction ${e.id}:`,r),r}},IJ=async(e,t)=>{try{const r={id:Nu(),transaction_id:e,supplier_name:t.supplierName,contact_number:t.supplierContact,goods_name:t.goodsName,quantity:t.quantity,rate:t.purchaseRate,total_cost:t.totalCost,amount_paid:t.amountPaid,balance_due:t.balance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Be.addPurchase(r)}catch(r){throw console.error(`Error migrating purchase for transaction ${e}:`,r),r}},FJ=async(e,t)=>{try{const r={id:Nu(),transaction_id:e,supplier_name:t.name,contact_number:t.contact,goods_name:t.goodsName,quantity:t.quantity,rate:t.purchaseRate,total_cost:t.totalCost,amount_paid:t.amountPaid,balance_due:t.balance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Be.addPurchase(r)}catch(r){throw console.error(`Error migrating supplier for transaction ${e}:`,r),r}},BJ=async(e,t)=>{try{const r={id:Nu(),transaction_id:e,vehicle_type:t.vehicleType,number_plate:t.vehicleNumber,empty_weight:t.emptyWeight,loaded_weight:t.loadedWeight,origin:t.origin,distance:0,departure_date:t.departureDate,departure_time:t.departureTime,expected_arrival_date:t.arrivalDate,expected_arrival_time:t.arrivalTime,transportation_charges:t.charges,notes:t.notes};await Be.addTransportation(r)}catch(r){throw console.error(`Error migrating transportation for transaction ${e}:`,r),r}},$J=async(e,t)=>{try{const r={id:Nu(),transaction_id:e,buyer_name:t.buyerName,contact_number:t.buyerContact,quantity:t.quantitySold,rate:t.saleRate,total_amount:t.totalSaleAmount,amount_received:t.amountReceived,balance_due:t.pendingBalance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Be.addSale(r)}catch(r){throw console.error(`Error migrating sale for transaction ${e}:`,r),r}},UJ=async(e,t)=>{try{const r={id:Nu(),transaction_id:e,buyer_name:t.name,contact_number:t.contact,quantity:t.quantitySold,rate:t.saleRate,total_amount:t.totalSaleAmount,amount_received:t.amountReceived,balance_due:t.pendingBalance,payment_due_date:t.paymentDueDate,payment_frequency:t.paymentFrequency};await Be.addSale(r)}catch(r){throw console.error(`Error migrating buyer for transaction ${e}:`,r),r}},VJ=async(e,t)=>{try{const r={id:t.id,transaction_id:e,amount:t.amount,payment_mode:t.mode,counterparty:t.counterparty,direction:t.isIncoming?"incoming":"outgoing",payment_date:t.date,notes:t.notes,installment_number:t.installmentNumber,total_installments:t.totalInstallments};await Be.addPayment(r)}catch(r){throw console.error(`Error migrating payment for transaction ${e}:`,r),r}},zJ=async(e,t)=>{try{const r={id:t.id,transaction_id:e,note:t.content,created_at:t.date};await Be.addTransactionNote(r)}catch(r){throw console.error(`Error migrating note for transaction ${e}:`,r),r}},qJ=async(e,t)=>{try{const r={id:t.id,transaction_id:e,name:t.name,file_type:t.type,uri:t.uri,created_at:t.date};await Be.addAttachment(r)}catch(r){throw console.error(`Error migrating attachment for transaction ${e}:`,r),r}},WJ=async()=>{try{return(await _1("transactly-db",1,{upgrade(t){}})).close(),!0}catch{return!1}},$w=async(e,t=!1)=>{try{console.log("Initializing database..."),await WJ()&&(console.log("Old database found, migrating data..."),await OJ(e),console.log("Data migration completed")),navigator.onLine?t?(console.log("Online, performing minimal sync with Supabase..."),await Yt.syncUserData(e),setTimeout(()=>{console.log("Performing full background sync..."),Yt.syncAll(e).then(()=>console.log("Background sync completed")).catch(n=>console.error("Background sync error:",n))},5e3),console.log("Minimal sync completed")):(console.log("Online, syncing with Supabase..."),await Yt.syncAll(e),console.log("Full sync completed")):console.log("Offline, skipping sync"),console.log("Database initialization completed")}catch(r){throw console.error("Error initializing database:",r),r}},Uw=async(e,t,r,n,s)=>{try{await Be.getUser(e)||(console.log("User not found in local database, creating..."),await Be.addUser({id:e,full_name:r||t.split("@")[0],email:t,phone:n||"",business_name:s||""}),navigator.onLine&&(console.log("Online, creating user in Supabase..."),await Qe.getCurrentUser()||await Qe.createUserProfile({id:e,full_name:r||t.split("@")[0],email:t,phone:n||"",business_name:s||""})))}catch(a){throw console.error("Error ensuring user profile:",a),a}},ND=v.createContext(void 0),jD=({children:e})=>{const[t,r]=v.useState(null),[n,s]=v.useState(null),[a,i]=v.useState(!0),{toast:o}=ir();v.useEffect(()=>{(async()=>{try{const{data:{subscription:w}}=We.auth.onAuthStateChange(async(M,R)=>{s(R),r((R==null?void 0:R.user)||null)}),N=setTimeout(()=>{console.log("Auth initialization timed out after 10 seconds"),i(!1)},1e4),{data:{session:C},error:P}=await We.auth.getSession();if(P)console.error("Error retrieving session:",P);else if(s(C),r((C==null?void 0:C.user)||null),C!=null&&C.user)try{const M=C.user.user_metadata||{};await Uw(C.user.id,C.user.email||"",M.full_name,M.phone,M.business_name),await $w(C.user.id,!0)}catch(M){console.error("Error initializing database:",M)}return clearTimeout(N),()=>{w.unsubscribe(),clearTimeout(N)}}catch(w){console.error("Auth initialization error:",w)}finally{i(!1)}})()},[]);const c=async(b,w)=>{try{i(!0);const{data:N,error:C}=await We.auth.signInWithPassword({email:b,password:w});if(C)throw C;if(N.user)try{const P=N.user.user_metadata||{};await Uw(N.user.id,N.user.email||"",P.full_name,P.phone,P.business_name),await $w(N.user.id,!0)}catch(P){console.error("Error initializing database:",P)}o({title:"Welcome back!",description:"You have successfully signed in."})}catch(N){throw console.error("Sign in error:",N),o({title:"Sign in failed",description:N.message||"Could not sign in. Please try again.",variant:"destructive"}),N}finally{i(!1)}},u=async(b,w,N,C)=>{try{i(!0);const P={email:b,password:w,options:{data:{full_name:N||"",phone:C||""}}},{data:M,error:R}=await We.auth.signUp(P);if(R)throw R;if(M.user)try{await Uw(M.user.id,b,N,C),await $w(M.user.id,!0)}catch(T){console.error("Error initializing database:",T)}o({title:"Account created",description:"Please check your email to confirm your account."})}catch(P){throw console.error("Sign up error:",P),o({title:"Sign up failed",description:P.message||"Could not create account. Please try again.",variant:"destructive"}),P}finally{i(!1)}},d=async()=>{try{i(!0),await We.auth.signOut(),o({title:"Signed out",description:"You have been successfully signed out."})}catch(b){throw console.error("Sign out error:",b),o({title:"Sign out failed",description:b.message||"Could not sign out. Please try again.",variant:"destructive"}),b}finally{i(!1)}},h=async b=>{try{i(!0);const w=window.location.origin,{error:N}=await We.auth.resetPasswordForEmail(b,{redirectTo:`${w}/reset-password`});if(N)throw N;o({title:"Password reset email sent",description:"Check your inbox for a password reset link."})}catch(w){throw console.error("Password reset error:",w),o({title:"Password reset failed",description:w.message||"Could not send reset email. Please try again.",variant:"destructive"}),w}finally{i(!1)}},f=async b=>{try{i(!0);const{error:w}=await We.auth.updateUser({password:b});if(w)throw w;o({title:"Password updated",description:"Your password has been successfully updated."})}catch(w){throw console.error("Password update error:",w),o({title:"Password update failed",description:w.message||"Could not update password. Please try again.",variant:"destructive"}),w}finally{i(!1)}},p=async b=>{try{i(!0);const w={},N={};if(b.name&&(N.full_name=b.name),b.phone&&(N.phone=b.phone),b.business_name&&(N.business_name=b.business_name),Object.keys(N).length>0){const C=(t==null?void 0:t.user_metadata)||{};w.data={...C,...N}}if(b.email&&(w.email=b.email),Object.keys(w).length>0){const{error:C}=await We.auth.updateUser(w);if(C)throw C;o({title:"Profile updated",description:"Your profile has been successfully updated."})}}catch(w){throw console.error("Profile update error:",w),o({title:"Profile update failed",description:w.message||"Could not update profile. Please try again.",variant:"destructive"}),w}finally{i(!1)}},g=async b=>{try{return i(!0),setTimeout(()=>{o({title:"OTP Sent",description:"A verification code has been sent to your phone."})},1e3),Promise.resolve()}catch(w){throw console.error("Phone sign in error:",w),o({title:"Sign in failed",description:w.message||"Could not send verification code. Please try again.",variant:"destructive"}),w}finally{i(!1)}},y=async(b,w)=>{try{if(i(!0),w.length===6){const N=`${b.replace(/\D/g,"")}@example.com`;return await c(N,"phone-auth-password"),Promise.resolve()}else throw new Error("Invalid verification code")}catch(N){throw console.error("OTP verification error:",N),o({title:"Verification failed",description:N.message||"Could not verify code. Please try again.",variant:"destructive"}),N}finally{i(!1)}},S=async b=>{try{return i(!0),setTimeout(()=>{o({title:"OTP Resent",description:"A new verification code has been sent to your phone."})},1e3),Promise.resolve()}catch(w){throw console.error("Resend OTP error:",w),o({title:"Failed to resend code",description:w.message||"Could not resend verification code. Please try again.",variant:"destructive"}),w}finally{i(!1)}};return l.jsx(ND.Provider,{value:{user:t,session:n,isLoading:a,signIn:c,signUp:u,signOut:d,resetPassword:h,updatePassword:f,updateProfile:p,signInWithPhone:g,verifyOTP:y,resendOTP:S},children:e})},Ar=()=>{const e=v.useContext(ND);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},HJ=()=>{const{user:e,signOut:t}=Ar(),[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState([]),c=y=>{o(S=>[...S,y]),console.log(y)},u=async()=>{n(!0),c("Starting to fix application issues...");try{c("Clearing localStorage..."),localStorage.clear(),c("Clearing sessionStorage..."),sessionStorage.clear(),c("Clearing IndexedDB..."),await d(),c("Clearing service worker caches..."),await h(),c("Unregistering service workers..."),await f(),c("All issues fixed successfully!"),a(!0)}catch(y){c(`Error fixing issues: ${y instanceof Error?y.message:String(y)}`)}finally{n(!1)}},d=async()=>new Promise((y,S)=>{try{const b=["app-db","buyers-db","sellers-db","transactions-db","daily-logs-db"];let w=0,N=!1;b.forEach(C=>{try{const P=indexedDB.deleteDatabase(C);P.onsuccess=function(){c(`Database ${C} deleted successfully`),w++,w===b.length&&!N&&y()},P.onerror=function(M){c(`Error deleting database ${C}`),N=!0,S(new Error(`Error deleting database ${C}`))}}catch(P){c(`Error attempting to delete database ${C}`),N=!0,S(P)}}),b.length===0&&y()}catch(b){S(b)}}),h=async()=>{if("caches"in window)try{const y=await caches.keys();await Promise.all(y.map(S=>(c(`Deleting cache ${S}`),caches.delete(S))))}catch(y){c(`Error clearing caches: ${y instanceof Error?y.message:String(y)}`)}},f=async()=>{if("serviceWorker"in navigator)try{const y=await navigator.serviceWorker.getRegistrations();await Promise.all(y.map(S=>(c("Unregistering service worker"),S.unregister())))}catch(y){c(`Error unregistering service workers: ${y instanceof Error?y.message:String(y)}`)}},p=()=>{window.location.href="/"},g=async()=>{try{await t(),window.location.href="/auth"}catch(y){c(`Error signing out: ${y instanceof Error?y.message:String(y)}`)}};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:l.jsxs(kr,{className:"w-full max-w-md",children:[l.jsx(Ir,{className:"bg-yellow-50 border-b border-yellow-100",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bT,{className:"h-6 w-6 text-yellow-500"}),l.jsx(Fr,{children:"Safe Mode"})]})}),l.jsxs(vr,{className:"pt-6",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"The application is running in safe mode due to an error. This mode provides limited functionality to help recover from issues."}),e?l.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Logged in as: ",e.email]}):l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Not logged in"}),l.jsxs("div",{className:"space-y-4",children:[s?l.jsxs("div",{className:"p-3 bg-green-50 text-green-700 rounded-md flex items-center gap-2",children:[l.jsx(vT,{className:"h-5 w-5"}),l.jsx("span",{children:"Issues fixed successfully!"})]}):l.jsx(Se,{className:"w-full",onClick:u,disabled:r,children:r?l.jsxs(l.Fragment,{children:[l.jsx(K0,{className:"mr-2 h-4 w-4 animate-spin"}),"Fixing Issues..."]}):l.jsxs(l.Fragment,{children:[l.jsx(du,{className:"mr-2 h-4 w-4"}),"Fix Application Issues"]})}),l.jsxs(Se,{variant:"outline",className:"w-full",onClick:p,children:[l.jsx(Y$,{className:"mr-2 h-4 w-4"}),"Return to Application"]}),l.jsx(Se,{variant:"ghost",className:"w-full",onClick:g,children:"Sign Out"})]}),i.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"text-sm font-medium mb-2",children:"Logs:"}),l.jsx("div",{className:"bg-gray-100 p-2 rounded-md max-h-40 overflow-y-auto text-xs font-mono",children:i.map((y,S)=>l.jsx("div",{className:"py-1",children:y},S))})]})]})]})})},GJ=()=>{const[e,t]=v.useState(null),[r,n]=v.useState([]),[s,a]=v.useState(!1),[i,o]=v.useState(null),c=g=>{console.log(g),n(y=>[...y,g])};v.useEffect(()=>{new URLSearchParams(window.location.search).get("fallback")},[]);const u=()=>{try{localStorage.clear(),c("Local storage cleared successfully")}catch(g){const y=g instanceof Error?g.message:String(g);c(`Error clearing local storage: ${y}`)}},d=async()=>{try{c("Attempting to clear IndexedDB...");const g=await window.indexedDB.databases();if(g.length===0){c("No IndexedDB databases found");return}let y=0,S=0;for(const b of g)try{await new Promise((w,N)=>{const C=window.indexedDB.deleteDatabase(b.name||"");C.onsuccess=()=>w(),C.onerror=()=>N(new Error(`Failed to delete database ${b.name}`))}),c(`Deleted database: ${b.name}`),y++}catch(w){const N=w instanceof Error?w.message:String(w);c(`Error deleting database ${b.name}: ${N}`),S++}c(`IndexedDB cleanup: ${y} databases deleted, ${S} failed`)}catch(g){const y=g instanceof Error?g.message:String(g);c(`Error clearing IndexedDB: ${y}`)}},h=async()=>{if(!i){c("Not authenticated, cannot fix tables");return}a(!0);try{c("Fixing buyers and sellers tables..."),c("Checking buyers table...");try{const{error:g}=await We.from("buyers").select("id").limit(1);if(g&&g.message.includes("does not exist")){c("Buyers table does not exist, creating it...");const y=`
            CREATE TABLE IF NOT EXISTS public.buyers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.buyers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own buyers"
              ON public.buyers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.buyers TO authenticated;
          `,{error:S}=await We.rpc("execute_sql",{sql_query:y});c(S?`Error creating buyers table: ${S.message}`:"Successfully created buyers table")}else if(g)c(`Error checking buyers table: ${g.message}`);else{c("Buyers table exists, checking for created_at column...");const y=`
            DO $$
            BEGIN
              BEGIN
                ALTER TABLE public.buyers ADD COLUMN created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL;
              EXCEPTION
                WHEN duplicate_column THEN
                  -- Column already exists, do nothing
                WHEN others THEN
                  RAISE;
              END;
            END
            $$;
          `,{error:S}=await We.rpc("execute_sql",{sql_query:y});c(S?`Error adding created_at column to buyers table: ${S.message}`:"Successfully ensured created_at column exists in buyers table")}}catch(g){const y=g instanceof Error?g.message:String(g);c(`Unexpected error checking buyers table: ${y}`)}c("Checking sellers table...");try{const{error:g}=await We.from("sellers").select("id").limit(1);if(g&&g.message.includes("does not exist")){c("Sellers table does not exist, creating it...");const y=`
            CREATE TABLE IF NOT EXISTS public.sellers (
              id TEXT PRIMARY KEY,
              user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
              name TEXT NOT NULL,
              email TEXT,
              phone TEXT,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL
            );

            ALTER TABLE public.sellers ENABLE ROW LEVEL SECURITY;

            CREATE POLICY "Users can manage their own sellers"
              ON public.sellers
              USING (user_id = auth.uid());

            GRANT SELECT, INSERT, UPDATE, DELETE ON public.sellers TO authenticated;
          `,{error:S}=await We.rpc("execute_sql",{sql_query:y});c(S?`Error creating sellers table: ${S.message}`:"Successfully created sellers table")}else if(g)c(`Error checking sellers table: ${g.message}`);else{c("Sellers table exists, checking for created_at column...");const y=`
            DO $$
            BEGIN
              BEGIN
                ALTER TABLE public.sellers ADD COLUMN created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL;
              EXCEPTION
                WHEN duplicate_column THEN
                  -- Column already exists, do nothing
                WHEN others THEN
                  RAISE;
              END;
            END
            $$;
          `,{error:S}=await We.rpc("execute_sql",{sql_query:y});c(S?`Error adding created_at column to sellers table: ${S.message}`:"Successfully ensured created_at column exists in sellers table")}}catch(g){const y=g instanceof Error?g.message:String(g);c(`Unexpected error checking sellers table: ${y}`)}c("Table fixes completed")}catch(g){const y=g instanceof Error?g.message:String(g);c(`Error fixing tables: ${y}`)}finally{a(!1)}};return new URLSearchParams(window.location.search).get("fallback")==="true"?l.jsx("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif',maxWidth:"800px",margin:"0 auto",padding:"20px"},children:l.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",marginBottom:"20px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[l.jsx("h1",{style:{marginTop:0},children:"Application Recovery"}),e&&l.jsxs("div",{style:{backgroundColor:"#fee2e2",color:"#ef4444",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:[l.jsx("strong",{children:"Error:"})," ",e]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h2",{children:"1. Authentication Status"}),i?l.jsxs("p",{style:{color:"#10b981"},children:["✅ Authenticated as ",i.email]}):l.jsx("p",{style:{color:"#ef4444"},children:"❌ Not authenticated"})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h2",{children:"2. Recovery Actions"}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"10px"},children:[l.jsx("button",{onClick:u,style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer"},children:"Clear Local Storage"}),l.jsx("button",{onClick:d,style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer"},children:"Clear IndexedDB"}),l.jsx("button",{onClick:h,disabled:s||!i,style:{backgroundColor:i?"#10b981":"#d1d5db",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:i?"pointer":"not-allowed"},children:s?"Fixing Tables...":"Fix Database Tables"})]})]}),l.jsxs("div",{style:{marginBottom:"20px"},children:[l.jsx("h2",{children:"3. Return to Application"}),l.jsxs("div",{style:{display:"flex",gap:"10px"},children:[l.jsx("a",{href:"/",style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",display:"inline-block"},children:"Return to App"}),l.jsx("a",{href:"/login",style:{backgroundColor:"#4f46e5",color:"white",border:"none",padding:"10px 15px",borderRadius:"4px",cursor:"pointer",textDecoration:"none",display:"inline-block"},children:"Go to Login"})]})]}),l.jsxs("div",{children:[l.jsx("h2",{children:"4. Logs"}),l.jsx("div",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"4px",maxHeight:"300px",overflowY:"auto",fontFamily:"monospace",fontSize:"14px",whiteSpace:"pre-wrap"},children:r.map((g,y)=>l.jsx("div",{children:g},y))})]})]})}):null},_r=()=>navigator.onLine,Xr={getAllTransactions:async e=>{try{const t=await Be.getAllTransactions(e);if(_r())try{return await Yt.syncTransactions(e),await Be.getAllTransactions(e)}catch(r){return console.error("Error syncing transactions:",r),t}return t}catch(t){return console.error("Error getting all transactions:",t),[]}},getTransaction:async e=>{try{const t=await Be.getTransaction(e);if(_r()&&t)try{return await Yt.syncCompleteTransaction(e),await Be.getTransaction(e)}catch(r){return console.error("Error syncing transaction:",r),t}return t}catch(t){return console.error("Error getting transaction:",t),null}},getCompleteTransaction:async e=>{try{const t=await Be.getCompleteTransaction(e);if(_r()&&t)try{return await Yt.syncCompleteTransaction(e),await Be.getCompleteTransaction(e)}catch(r){return console.error("Error syncing complete transaction:",r),t}return t}catch(t){return console.error("Error getting complete transaction:",t),null}},createTransaction:async(e,t)=>{try{const r={user_id:e,name:t,status:"pending",created_at:new Date().toISOString()},n=await Be.addTransaction(r);if(_r())try{await Qe.createTransaction(n)}catch(s){console.error("Error syncing new transaction to Supabase:",s)}return n}catch(r){return console.error("Error creating transaction:",r),null}},updateTransaction:async e=>{try{const t=await Be.updateTransaction(e);if(_r())try{await Qe.updateTransaction(e)}catch(r){console.error("Error syncing updated transaction to Supabase:",r)}return t}catch(t){return console.error("Error updating transaction:",t),null}},deleteTransaction:async e=>{try{if(await Be.deleteTransaction(e),_r())try{await Qe.deleteTransaction(e)}catch(t){console.error("Error syncing deleted transaction to Supabase:",t)}return!0}catch(t){return console.error("Error deleting transaction:",t),!1}},addPurchase:async e=>{try{const t=await Be.addPurchase(e);if(_r())try{await Qe.createPurchase(t)}catch(r){console.error("Error syncing new purchase to Supabase:",r)}return t}catch(t){return console.error("Error adding purchase:",t),null}},updatePurchase:async e=>{try{const t=await Be.updatePurchase(e);if(_r())try{await Qe.updatePurchase(e)}catch(r){console.error("Error syncing updated purchase to Supabase:",r)}return t}catch(t){return console.error("Error updating purchase:",t),null}},deletePurchase:async e=>{try{if(await Be.deletePurchase(e),_r())try{await Qe.deletePurchase(e)}catch(t){console.error("Error syncing deleted purchase to Supabase:",t)}return!0}catch(t){return console.error("Error deleting purchase:",t),!1}},saveTransportation:async e=>{try{let t;if("id"in e){if(t=await Be.updateTransportation(e),_r())try{await Qe.updateTransportation(e)}catch(r){console.error("Error syncing updated transportation to Supabase:",r)}}else{const r={...e,id:Nu()};if(t=await Be.addTransportation(r),_r())try{await Qe.createTransportation(r)}catch(n){console.error("Error syncing new transportation to Supabase:",n)}}return t}catch(t){return console.error("Error saving transportation:",t),null}},deleteTransportation:async e=>{try{if(await Be.deleteTransportation(e),_r())try{await Qe.deleteTransportation(e)}catch(t){console.error("Error syncing deleted transportation to Supabase:",t)}return!0}catch(t){return console.error("Error deleting transportation:",t),!1}},addSale:async e=>{try{const t=await Be.addSale(e);if(_r())try{await Qe.createSale(t)}catch(r){console.error("Error syncing new sale to Supabase:",r)}return t}catch(t){return console.error("Error adding sale:",t),null}},updateSale:async e=>{try{const t=await Be.updateSale(e);if(_r())try{await Qe.updateSale(e)}catch(r){console.error("Error syncing updated sale to Supabase:",r)}return t}catch(t){return console.error("Error updating sale:",t),null}},deleteSale:async e=>{try{if(await Be.deleteSale(e),_r())try{await Qe.deleteSale(e)}catch(t){console.error("Error syncing deleted sale to Supabase:",t)}return!0}catch(t){return console.error("Error deleting sale:",t),!1}},addPayment:async e=>{try{const t=await Be.addPayment(e);if(_r())try{await Qe.createPayment(t)}catch(r){console.error("Error syncing new payment to Supabase:",r)}return t}catch(t){return console.error("Error adding payment:",t),null}},updatePayment:async e=>{try{const t=await Be.updatePayment(e);if(_r())try{await Qe.updatePayment(e)}catch(r){console.error("Error syncing updated payment to Supabase:",r)}return t}catch(t){return console.error("Error updating payment:",t),null}},deletePayment:async e=>{try{if(await Be.deletePayment(e),_r())try{await Qe.deletePayment(e)}catch(t){console.error("Error syncing deleted payment to Supabase:",t)}return!0}catch(t){return console.error("Error deleting payment:",t),!1}},addNote:async(e,t)=>{try{const r={transaction_id:e,note:t},n=await Be.addTransactionNote(r);if(_r())try{await Qe.createNote(n)}catch(s){console.error("Error syncing new note to Supabase:",s)}return n}catch(r){return console.error("Error adding note:",r),null}},updateNote:async e=>{try{const t=await Be.updateTransactionNote(e);if(_r())try{await Qe.updateNote(e)}catch(r){console.error("Error syncing updated note to Supabase:",r)}return t}catch(t){return console.error("Error updating note:",t),null}},deleteNote:async e=>{try{if(await Be.deleteTransactionNote(e),_r())try{await Qe.deleteNote(e)}catch(t){console.error("Error syncing deleted note to Supabase:",t)}return!0}catch(t){return console.error("Error deleting note:",t),!1}},addAttachment:async(e,t,r,n,s)=>{try{let a=URL.createObjectURL(r);if(_r())try{const c=await Qe.uploadAttachmentFile(t,r,`${Date.now()}_${n}`);c&&(a=c)}catch(c){console.error("Error uploading attachment to Supabase storage:",c)}const i={transaction_id:e,name:n,file_type:s,uri:a},o=await Be.addAttachment(i);if(_r())try{await Qe.createAttachment(o)}catch(c){console.error("Error syncing new attachment to Supabase:",c)}return o}catch(a){return console.error("Error adding attachment:",a),null}},deleteAttachment:async e=>{try{const t=await Be.getAttachment(e);if(await Be.deleteAttachment(e),_r())try{await Qe.deleteAttachment(e)}catch(r){console.error("Error syncing deleted attachment to Supabase:",r)}return!0}catch(t){return console.error("Error deleting attachment:",t),!1}},syncTransaction:async e=>{try{return _r()?await Yt.syncCompleteTransaction(e):(console.log("Offline, skipping sync"),!1)}catch(t){return console.error("Error syncing transaction:",t),!1}},getSyncStatus:async()=>{try{return(await Yt.getSyncStatus()).isAllSynced}catch(e){return console.error("Error getting sync status:",e),!1}}},YJ=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(""),[c,u]=v.useState(null),{toast:d}=ir(),{user:h}=Ar(),f=async()=>{try{if(!(h!=null&&h.id))return;a(!0);const p=await Xr.getAllTransactions(h.id);t(p),n(p)}catch(p){console.error("Failed to load transactions:",p),d({title:"Error",description:"Failed to load transactions",variant:"destructive"})}finally{a(!1)}};return v.useEffect(()=>{let p=e;if(c&&(p=p.filter(g=>g.status===c)),i.trim()){const g=i.toLowerCase();g==="pending"||g==="pending transaction"?p=p.filter(y=>y.status==="pending"):g==="completed"||g==="success"||g==="successful"||g==="successful transaction"?p=p.filter(y=>y.status==="completed"):g==="cancelled"||g==="canceled"||g==="cancelled transaction"?p=p.filter(y=>y.status==="cancelled"):p=p.filter(y=>{var S;return((S=y.name)==null?void 0:S.toLowerCase().includes(g))||y.id.toLowerCase().includes(g)})}n(p)},[i,c,e]),v.useEffect(()=>{h&&f()},[h]),{transactions:e,filteredTransactions:r,loading:s,searchQuery:i,setSearchQuery:o,statusFilter:c,setStatusFilter:u,loadTransactions:f}};var aN="Avatar",[KJ,cde]=ha(aN),[XJ,CD]=KJ(aN),kD=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=v.useState("idle");return l.jsx(XJ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:l.jsx(ct.span,{...n,ref:t})})});kD.displayName=aN;var PD="AvatarImage",ED=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,i=CD(PD,r),o=ZJ(n,a.referrerPolicy),c=$n(u=>{s(u),i.onImageLoadingStatusChange(u)});return Tn(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(ct.img,{...a,ref:t,src:n}):null});ED.displayName=PD;var AD="AvatarFallback",TD=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=CD(AD,r),[i,o]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&a.imageLoadingStatus!=="loaded"?l.jsx(ct.span,{...s,ref:t}):null});TD.displayName=AD;function ZJ(e,t){const[r,n]=v.useState("idle");return Tn(()=>{if(!e){n("error");return}let s=!0;const a=new window.Image,i=o=>()=>{s&&n(o)};return n("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var LD=kD,DD=ED,RD=TD;const cm=v.forwardRef(({className:e,...t},r)=>l.jsx(LD,{ref:r,className:Ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));cm.displayName=LD.displayName;const n0=v.forwardRef(({className:e,...t},r)=>l.jsx(DD,{ref:r,className:Ue("aspect-square h-full w-full",e),...t}));n0.displayName=DD.displayName;const um=v.forwardRef(({className:e,...t},r)=>l.jsx(RD,{ref:r,className:Ue("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));um.displayName=RD.displayName;var JJ=v.createContext(void 0);function Yh(e){const t=v.useContext(JJ);return e||t||"ltr"}var Vw=0;function N1(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cP()),document.body.insertAdjacentElement("beforeend",e[1]??cP()),Vw++,()=>{Vw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Vw--}},[])}function cP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zw="focusScope.autoFocusOnMount",qw="focusScope.autoFocusOnUnmount",uP={bubbles:!1,cancelable:!0},QJ="FocusScope",Jm=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[o,c]=v.useState(null),u=$n(s),d=$n(a),h=v.useRef(null),f=Ft(t,y=>c(y)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let y=function(N){if(p.paused||!o)return;const C=N.target;o.contains(C)?h.current=C:vl(h.current,{select:!0})},S=function(N){if(p.paused||!o)return;const C=N.relatedTarget;C!==null&&(o.contains(C)||vl(h.current,{select:!0}))},b=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&vl(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const w=new MutationObserver(b);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),w.disconnect()}}},[n,o,p.paused]),v.useEffect(()=>{if(o){hP.add(p);const y=document.activeElement;if(!o.contains(y)){const b=new CustomEvent(zw,uP);o.addEventListener(zw,u),o.dispatchEvent(b),b.defaultPrevented||(eQ(aQ(OD(o)),{select:!0}),document.activeElement===y&&vl(o))}return()=>{o.removeEventListener(zw,u),setTimeout(()=>{const b=new CustomEvent(qw,uP);o.addEventListener(qw,d),o.dispatchEvent(b),b.defaultPrevented||vl(y??document.body,{select:!0}),o.removeEventListener(qw,d),hP.remove(p)},0)}}},[o,u,d,p]);const g=v.useCallback(y=>{if(!r&&!n||p.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(S&&b){const w=y.currentTarget,[N,C]=tQ(w);N&&C?!y.shiftKey&&b===C?(y.preventDefault(),r&&vl(N,{select:!0})):y.shiftKey&&b===N&&(y.preventDefault(),r&&vl(C,{select:!0})):b===w&&y.preventDefault()}},[r,n,p.paused]);return l.jsx(ct.div,{tabIndex:-1,...i,ref:f,onKeyDown:g})});Jm.displayName=QJ;function eQ(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(vl(n,{select:t}),document.activeElement!==r)return}function tQ(e){const t=OD(e),r=dP(t,e),n=dP(t.reverse(),e);return[r,n]}function OD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dP(e,t){for(const r of e)if(!rQ(r,{upTo:t}))return r}function rQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nQ(e){return e instanceof HTMLInputElement&&"select"in e}function vl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&nQ(e)&&t&&e.select()}}var hP=sQ();function sQ(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=fP(e,t),e.unshift(t)},remove(t){var r;e=fP(e,t),(r=e[0])==null||r.resume()}}}function fP(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aQ(e){return e.filter(t=>t.tagName!=="A")}function iQ(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,oQ(s,...t)]}function oQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ww="rovingFocusGroup.onEntryFocus",lQ={bubbles:!1,cancelable:!0},j1="RovingFocusGroup",[v5,MD,cQ]=H0(j1),[uQ,pc]=iQ(j1,[cQ]),[dQ,hQ]=uQ(j1),ID=v.forwardRef((e,t)=>l.jsx(v5.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(v5.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(fQ,{...e,ref:t})})}));ID.displayName=j1;var fQ=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=v.useRef(null),p=Ft(t,f),g=Yh(a),[y=null,S]=$s({prop:i,defaultProp:o,onChange:c}),[b,w]=v.useState(!1),N=$n(u),C=MD(r),P=v.useRef(!1),[M,R]=v.useState(0);return v.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Ww,N),()=>T.removeEventListener(Ww,N)},[N]),l.jsx(dQ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(T=>S(T),[S]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>R(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>R(T=>T-1),[]),children:l.jsx(ct.div,{tabIndex:b||M===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:Ge(e.onMouseDown,()=>{P.current=!0}),onFocus:Ge(e.onFocus,T=>{const H=!P.current;if(T.target===T.currentTarget&&H&&!b){const Q=new CustomEvent(Ww,lQ);if(T.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const L=C().filter(ne=>ne.focusable),E=L.find(ne=>ne.active),W=L.find(ne=>ne.id===y),K=[E,W,...L].filter(Boolean).map(ne=>ne.ref.current);$D(K,d)}}P.current=!1}),onBlur:Ge(e.onBlur,()=>w(!1))})})}),FD="RovingFocusGroupItem",BD=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...i}=e,o=Ta(),c=a||o,u=hQ(FD,r),d=u.currentTabStopId===c,h=MD(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return v.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),l.jsx(v5.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(ct.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:Ge(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:Ge(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ge(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=gQ(g,u.orientation,u.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(g.currentTarget);b=u.loop?yQ(b,w+1):b.slice(w+1)}setTimeout(()=>$D(b))}})})})});BD.displayName=FD;var pQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gQ(e,t,r){const n=mQ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return pQ[n]}function $D(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yQ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var C1=ID,k1=BD,vQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},od=new WeakMap,Ry=new WeakMap,Oy={},Hw=0,UD=function(e){return e&&(e.host||UD(e.parentNode))},xQ=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=UD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},wQ=function(e,t,r,n){var s=xQ(t,Array.isArray(e)?e:[e]);Oy[r]||(Oy[r]=new WeakMap);var a=Oy[r],i=[],o=new Set,c=new Set(s),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",y=(od.get(f)||0)+1,S=(a.get(f)||0)+1;od.set(f,y),a.set(f,S),i.push(f),y===1&&g&&Ry.set(f,!0),S===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(t),o.clear(),Hw++,function(){i.forEach(function(h){var f=od.get(h)-1,p=a.get(h)-1;od.set(h,f),a.set(h,p),f||(Ry.has(h)||h.removeAttribute(n),Ry.delete(h)),p||h.removeAttribute(r)}),Hw--,Hw||(od=new WeakMap,od=new WeakMap,Ry=new WeakMap,Oy={})}},P1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=vQ(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),wQ(n,s,r,"aria-hidden")):function(){return null}},Vi=function(){return Vi=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Vi.apply(this,arguments)};function VD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function bQ(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var cv="right-scroll-bar-position",uv="width-before-scroll-bar",SQ="with-scroll-bars-hidden",_Q="--removed-body-scroll-bar-size";function Gw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function NQ(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var jQ=typeof window<"u"?v.useLayoutEffect:v.useEffect,pP=new WeakMap;function CQ(e,t){var r=NQ(null,function(n){return e.forEach(function(s){return Gw(s,n)})});return jQ(function(){var n=pP.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(o){a.has(o)||Gw(o,null)}),a.forEach(function(o){s.has(o)||Gw(o,i)})}pP.set(r,e)},[e]),r}function kQ(e){return e}function PQ(e,t){t===void 0&&(t=kQ);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function EQ(e){e===void 0&&(e={});var t=PQ(null);return t.options=Vi({async:!0,ssr:!1},e),t}var zD=function(e){var t=e.sideCar,r=VD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Vi({},r))};zD.isSideCarExport=!0;function AQ(e,t){return e.useMedium(t),zD}var qD=EQ(),Yw=function(){},E1=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Yw,onWheelCapture:Yw,onTouchMoveCapture:Yw}),s=n[0],a=n[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,g=e.inert,y=e.allowPinchZoom,S=e.as,b=S===void 0?"div":S,w=e.gapMode,N=VD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,P=CQ([r,t]),M=Vi(Vi({},N),s);return v.createElement(v.Fragment,null,d&&v.createElement(C,{sideCar:qD,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:w}),i?v.cloneElement(v.Children.only(o),Vi(Vi({},M),{ref:P})):v.createElement(b,Vi({},M,{className:c,ref:P}),o))});E1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};E1.classNames={fullWidth:uv,zeroRight:cv};var TQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function LQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=TQ();return t&&e.setAttribute("nonce",t),e}function DQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function RQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var OQ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=LQ())&&(DQ(t,r),RQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},MQ=function(){var e=OQ();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},WD=function(){var e=MQ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},IQ={left:0,top:0,right:0,gap:0},Kw=function(e){return parseInt(e||"",10)||0},FQ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Kw(r),Kw(n),Kw(s)]},BQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return IQ;var t=FQ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},$Q=WD(),Hd="data-scroll-locked",UQ=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(SQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Hd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cv,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(uv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(cv," .").concat(cv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(uv," .").concat(uv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hd,`] {
    `).concat(_Q,": ").concat(o,`px;
  }
`)},mP=function(){var e=parseInt(document.body.getAttribute(Hd)||"0",10);return isFinite(e)?e:0},VQ=function(){v.useEffect(function(){return document.body.setAttribute(Hd,(mP()+1).toString()),function(){var e=mP()-1;e<=0?document.body.removeAttribute(Hd):document.body.setAttribute(Hd,e.toString())}},[])},zQ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;VQ();var a=v.useMemo(function(){return BQ(s)},[s]);return v.createElement($Q,{styles:UQ(a,!t,s,r?"":"!important")})},x5=!1;if(typeof window<"u")try{var My=Object.defineProperty({},"passive",{get:function(){return x5=!0,!0}});window.addEventListener("test",My,My),window.removeEventListener("test",My,My)}catch{x5=!1}var ld=x5?{passive:!1}:!1,qQ=function(e){return e.tagName==="TEXTAREA"},HD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!qQ(e)&&r[t]==="visible")},WQ=function(e){return HD(e,"overflowY")},HQ=function(e){return HD(e,"overflowX")},gP=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=GD(e,n);if(s){var a=YD(e,n),i=a[1],o=a[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GQ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},YQ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},GD=function(e,t){return e==="v"?WQ(t):HQ(t)},YD=function(e,t){return e==="v"?GQ(t):YQ(t)},KQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},XQ=function(e,t,r,n,s){var a=KQ(e,window.getComputedStyle(t).direction),i=a*n,o=r.target,c=t.contains(o),u=!1,d=i>0,h=0,f=0;do{var p=YD(e,o),g=p[0],y=p[1],S=p[2],b=y-S-a*g;(g||b)&&GD(e,o)&&(h+=b,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Iy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yP=function(e){return[e.deltaX,e.deltaY]},vP=function(e){return e&&"current"in e?e.current:e},ZQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},JQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QQ=0,cd=[];function eee(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(QQ++)[0],a=v.useState(WD)[0],i=v.useRef(e);v.useEffect(function(){i.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=bQ([e.lockRef.current],(e.shards||[]).map(vP),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=v.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var b=Iy(y),w=r.current,N="deltaX"in y?y.deltaX:w[0]-b[0],C="deltaY"in y?y.deltaY:w[1]-b[1],P,M=y.target,R=Math.abs(N)>Math.abs(C)?"h":"v";if("touches"in y&&R==="h"&&M.type==="range")return!1;var T=gP(R,M);if(!T)return!0;if(T?P=R:(P=R==="v"?"h":"v",T=gP(R,M)),!T)return!1;if(!n.current&&"changedTouches"in y&&(N||C)&&(n.current=P),!P)return!0;var H=n.current||P;return XQ(H,S,y,H==="h"?N:C,!0)},[]),c=v.useCallback(function(y){var S=y;if(!(!cd.length||cd[cd.length-1]!==a)){var b="deltaY"in S?yP(S):Iy(S),w=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&ZQ(P.delta,b)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var N=(i.current.shards||[]).map(vP).filter(Boolean).filter(function(P){return P.contains(S.target)}),C=N.length>0?o(S,N[0]):!i.current.noIsolation;C&&S.cancelable&&S.preventDefault()}}},[]),u=v.useCallback(function(y,S,b,w){var N={name:y,delta:S,target:b,should:w,shadowParent:tee(b)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(C){return C!==N})},1)},[]),d=v.useCallback(function(y){r.current=Iy(y),n.current=void 0},[]),h=v.useCallback(function(y){u(y.type,yP(y),y.target,o(y,e.lockRef.current))},[]),f=v.useCallback(function(y){u(y.type,Iy(y),y.target,o(y,e.lockRef.current))},[]);v.useEffect(function(){return cd.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ld),document.addEventListener("touchmove",c,ld),document.addEventListener("touchstart",d,ld),function(){cd=cd.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,ld),document.removeEventListener("touchmove",c,ld),document.removeEventListener("touchstart",d,ld)}},[]);var p=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(a,{styles:JQ(s)}):null,p?v.createElement(zQ,{gapMode:e.gapMode}):null)}function tee(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ree=AQ(qD,eee);var Qm=v.forwardRef(function(e,t){return v.createElement(E1,Vi({},e,{ref:t,sideCar:ree}))});Qm.classNames=E1.classNames;var w5=["Enter"," "],nee=["ArrowDown","PageUp","Home"],KD=["ArrowUp","PageDown","End"],see=[...nee,...KD],aee={ltr:[...w5,"ArrowRight"],rtl:[...w5,"ArrowLeft"]},iee={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eg="Menu",[dm,oee,lee]=H0(eg),[ju,XD]=ha(eg,[lee,uc,pc]),A1=uc(),ZD=pc(),[cee,Cu]=ju(eg),[uee,tg]=ju(eg),JD=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,o=A1(t),[c,u]=v.useState(null),d=v.useRef(!1),h=$n(a),f=Yh(s);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(e1,{...o,children:l.jsx(cee,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(uee,{scope:t,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:i,children:n})})})};JD.displayName=eg;var dee="MenuAnchor",iN=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=A1(r);return l.jsx(Wm,{...s,...n,ref:t})});iN.displayName=dee;var oN="MenuPortal",[hee,QD]=ju(oN,{forceMount:void 0}),eR=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Cu(oN,t);return l.jsx(hee,{scope:t,forceMount:r,children:l.jsx(zs,{present:r||a.open,children:l.jsx(Ih,{asChild:!0,container:s,children:n})})})};eR.displayName=oN;var La="MenuContent",[fee,lN]=ju(La),tR=v.forwardRef((e,t)=>{const r=QD(La,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Cu(La,e.__scopeMenu),i=tg(La,e.__scopeMenu);return l.jsx(dm.Provider,{scope:e.__scopeMenu,children:l.jsx(zs,{present:n||a.open,children:l.jsx(dm.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(pee,{...s,ref:t}):l.jsx(mee,{...s,ref:t})})})})}),pee=v.forwardRef((e,t)=>{const r=Cu(La,e.__scopeMenu),n=v.useRef(null),s=Ft(t,n);return v.useEffect(()=>{const a=n.current;if(a)return P1(a)},[]),l.jsx(cN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ge(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),mee=v.forwardRef((e,t)=>{const r=Cu(La,e.__scopeMenu);return l.jsx(cN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),cN=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...y}=e,S=Cu(La,r),b=tg(La,r),w=A1(r),N=ZD(r),C=oee(r),[P,M]=v.useState(null),R=v.useRef(null),T=Ft(t,R,S.onContentChange),H=v.useRef(0),Q=v.useRef(""),L=v.useRef(0),E=v.useRef(null),W=v.useRef("right"),F=v.useRef(0),K=g?Qm:v.Fragment,ne=g?{as:Ji,allowPinchZoom:!0}:void 0,Y=G=>{var se,ue;const ie=Q.current+G,me=C().filter(fe=>!fe.disabled),A=document.activeElement,V=(se=me.find(fe=>fe.ref.current===A))==null?void 0:se.textValue,X=me.map(fe=>fe.textValue),ae=kee(X,ie,V),q=(ue=me.find(fe=>fe.textValue===ae))==null?void 0:ue.ref.current;(function fe(Ce){Q.current=Ce,window.clearTimeout(H.current),Ce!==""&&(H.current=window.setTimeout(()=>fe(""),1e3))})(ie),q&&setTimeout(()=>q.focus())};v.useEffect(()=>()=>window.clearTimeout(H.current),[]),N1();const I=v.useCallback(G=>{var me,A;return W.current===((me=E.current)==null?void 0:me.side)&&Eee(G,(A=E.current)==null?void 0:A.area)},[]);return l.jsx(fee,{scope:r,searchRef:Q,onItemEnter:v.useCallback(G=>{I(G)&&G.preventDefault()},[I]),onItemLeave:v.useCallback(G=>{var ie;I(G)||((ie=R.current)==null||ie.focus(),M(null))},[I]),onTriggerLeave:v.useCallback(G=>{I(G)&&G.preventDefault()},[I]),pointerGraceTimerRef:L,onPointerGraceIntentChange:v.useCallback(G=>{E.current=G},[]),children:l.jsx(K,{...ne,children:l.jsx(Jm,{asChild:!0,trapped:s,onMountAutoFocus:Ge(a,G=>{var ie;G.preventDefault(),(ie=R.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(bu,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:l.jsx(C1,{asChild:!0,...N,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:P,onCurrentTabStopIdChange:M,onEntryFocus:Ge(c,G=>{b.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(t1,{role:"menu","aria-orientation":"vertical","data-state":yR(S.open),"data-radix-menu-content":"",dir:b.dir,...w,...y,ref:T,style:{outline:"none",...y.style},onKeyDown:Ge(y.onKeyDown,G=>{const me=G.target.closest("[data-radix-menu-content]")===G.currentTarget,A=G.ctrlKey||G.altKey||G.metaKey,V=G.key.length===1;me&&(G.key==="Tab"&&G.preventDefault(),!A&&V&&Y(G.key));const X=R.current;if(G.target!==X||!see.includes(G.key))return;G.preventDefault();const q=C().filter(se=>!se.disabled).map(se=>se.ref.current);KD.includes(G.key)&&q.reverse(),jee(q)}),onBlur:Ge(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(H.current),Q.current="")}),onPointerMove:Ge(e.onPointerMove,hm(G=>{const ie=G.target,me=F.current!==G.clientX;if(G.currentTarget.contains(ie)&&me){const A=G.clientX>F.current?"right":"left";W.current=A,F.current=G.clientX}}))})})})})})})});tR.displayName=La;var gee="MenuGroup",uN=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ct.div,{role:"group",...n,ref:t})});uN.displayName=gee;var yee="MenuLabel",rR=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ct.div,{...n,ref:t})});rR.displayName=yee;var s0="MenuItem",xP="menu.itemSelect",T1=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=v.useRef(null),i=tg(s0,e.__scopeMenu),o=lN(s0,e.__scopeMenu),c=Ft(t,a),u=v.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const f=new CustomEvent(xP,{bubbles:!0,cancelable:!0});h.addEventListener(xP,p=>n==null?void 0:n(p),{once:!0}),GS(h,f),f.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(nR,{...s,ref:c,disabled:r,onClick:Ge(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:Ge(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Ge(e.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||w5.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});T1.displayName=s0;var nR=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=lN(s0,r),o=ZD(r),c=v.useRef(null),u=Ft(t,c),[d,h]=v.useState(!1),[f,p]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),l.jsx(dm.ItemSlot,{scope:r,disabled:n,textValue:s??f,children:l.jsx(k1,{asChild:!0,...o,focusable:!n,children:l.jsx(ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Ge(e.onPointerMove,hm(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ge(e.onPointerLeave,hm(g=>i.onItemLeave(g))),onFocus:Ge(e.onFocus,()=>h(!0)),onBlur:Ge(e.onBlur,()=>h(!1))})})})}),vee="MenuCheckboxItem",sR=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(cR,{scope:e.__scopeMenu,checked:r,children:l.jsx(T1,{role:"menuitemcheckbox","aria-checked":a0(r)?"mixed":r,...s,ref:t,"data-state":hN(r),onSelect:Ge(s.onSelect,()=>n==null?void 0:n(a0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sR.displayName=vee;var aR="MenuRadioGroup",[xee,wee]=ju(aR,{value:void 0,onValueChange:()=>{}}),iR=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=$n(n);return l.jsx(xee,{scope:e.__scopeMenu,value:r,onValueChange:a,children:l.jsx(uN,{...s,ref:t})})});iR.displayName=aR;var oR="MenuRadioItem",lR=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=wee(oR,e.__scopeMenu),a=r===s.value;return l.jsx(cR,{scope:e.__scopeMenu,checked:a,children:l.jsx(T1,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":hN(a),onSelect:Ge(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});lR.displayName=oR;var dN="MenuItemIndicator",[cR,bee]=ju(dN,{checked:!1}),uR=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=bee(dN,r);return l.jsx(zs,{present:n||a0(a.checked)||a.checked===!0,children:l.jsx(ct.span,{...s,ref:t,"data-state":hN(a.checked)})})});uR.displayName=dN;var See="MenuSeparator",dR=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});dR.displayName=See;var _ee="MenuArrow",hR=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=A1(r);return l.jsx(r1,{...s,...n,ref:t})});hR.displayName=_ee;var Nee="MenuSub",[ude,fR]=ju(Nee),rp="MenuSubTrigger",pR=v.forwardRef((e,t)=>{const r=Cu(rp,e.__scopeMenu),n=tg(rp,e.__scopeMenu),s=fR(rp,e.__scopeMenu),a=lN(rp,e.__scopeMenu),i=v.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),c(null)}},[o,c]),l.jsx(iN,{asChild:!0,...u,children:l.jsx(nR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":yR(r.open),...e,ref:W0(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ge(e.onPointerMove,hm(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ge(e.onPointerLeave,hm(h=>{var p,g;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const y=(g=r.content)==null?void 0:g.dataset.side,S=y==="right",b=S?-5:5,w=f[S?"left":"right"],N=f[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:f.top},{x:N,y:f.top},{x:N,y:f.bottom},{x:w,y:f.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ge(e.onKeyDown,h=>{var p;const f=a.searchRef.current!=="";e.disabled||f&&h.key===" "||aee[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});pR.displayName=rp;var mR="MenuSubContent",gR=v.forwardRef((e,t)=>{const r=QD(La,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Cu(La,e.__scopeMenu),i=tg(La,e.__scopeMenu),o=fR(mR,e.__scopeMenu),c=v.useRef(null),u=Ft(t,c);return l.jsx(dm.Provider,{scope:e.__scopeMenu,children:l.jsx(zs,{present:n||a.open,children:l.jsx(dm.Slot,{scope:e.__scopeMenu,children:l.jsx(cN,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ge(e.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ge(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ge(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=iee[i.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});gR.displayName=mR;function yR(e){return e?"open":"closed"}function a0(e){return e==="indeterminate"}function hN(e){return a0(e)?"indeterminate":e?"checked":"unchecked"}function jee(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Cee(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function kee(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Cee(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Pee(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const o=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-o)*(n-c)/(d-c)+o&&(s=!s)}return s}function Eee(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Pee(r,t)}function hm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Aee=JD,Tee=iN,Lee=eR,Dee=tR,Ree=uN,Oee=rR,Mee=T1,Iee=sR,Fee=iR,Bee=lR,$ee=uR,Uee=dR,Vee=hR,zee=pR,qee=gR,fN="DropdownMenu",[Wee,dde]=ha(fN,[XD]),ws=XD(),[Hee,vR]=Wee(fN),xR=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=ws(t),u=v.useRef(null),[d=!1,h]=$s({prop:s,defaultProp:a,onChange:i});return l.jsx(Hee,{scope:t,triggerId:Ta(),triggerRef:u,contentId:Ta(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:o,children:l.jsx(Aee,{...c,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};xR.displayName=fN;var wR="DropdownMenuTrigger",bR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=vR(wR,r),i=ws(r);return l.jsx(Tee,{asChild:!0,...i,children:l.jsx(ct.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:W0(t,a.triggerRef),onPointerDown:Ge(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:Ge(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});bR.displayName=wR;var Gee="DropdownMenuPortal",SR=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ws(t);return l.jsx(Lee,{...n,...r})};SR.displayName=Gee;var _R="DropdownMenuContent",NR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=vR(_R,r),a=ws(r),i=v.useRef(!1);return l.jsx(Dee,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Ge(e.onCloseAutoFocus,o=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,o.preventDefault()}),onInteractOutside:Ge(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NR.displayName=_R;var Yee="DropdownMenuGroup",Kee=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Ree,{...s,...n,ref:t})});Kee.displayName=Yee;var Xee="DropdownMenuLabel",jR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Oee,{...s,...n,ref:t})});jR.displayName=Xee;var Zee="DropdownMenuItem",CR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Mee,{...s,...n,ref:t})});CR.displayName=Zee;var Jee="DropdownMenuCheckboxItem",kR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Iee,{...s,...n,ref:t})});kR.displayName=Jee;var Qee="DropdownMenuRadioGroup",ete=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Fee,{...s,...n,ref:t})});ete.displayName=Qee;var tte="DropdownMenuRadioItem",PR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Bee,{...s,...n,ref:t})});PR.displayName=tte;var rte="DropdownMenuItemIndicator",ER=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx($ee,{...s,...n,ref:t})});ER.displayName=rte;var nte="DropdownMenuSeparator",AR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Uee,{...s,...n,ref:t})});AR.displayName=nte;var ste="DropdownMenuArrow",ate=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(Vee,{...s,...n,ref:t})});ate.displayName=ste;var ite="DropdownMenuSubTrigger",TR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(zee,{...s,...n,ref:t})});TR.displayName=ite;var ote="DropdownMenuSubContent",LR=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ws(r);return l.jsx(qee,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LR.displayName=ote;var lte=xR,cte=bR,ute=SR,DR=NR,RR=jR,OR=CR,MR=kR,IR=PR,FR=ER,BR=AR,$R=TR,UR=LR;const i0=lte,o0=cte,dte=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs($R,{ref:s,className:Ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(yT,{className:"ml-auto h-4 w-4"})]}));dte.displayName=$R.displayName;const hte=v.forwardRef(({className:e,...t},r)=>l.jsx(UR,{ref:r,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));hte.displayName=UR.displayName;const fm=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(ute,{children:l.jsx(DR,{ref:n,sideOffset:t,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));fm.displayName=DR.displayName;const No=v.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(OR,{ref:n,className:Ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));No.displayName=OR.displayName;const fte=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(MR,{ref:s,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(FR,{children:l.jsx(ZS,{className:"h-4 w-4"})})}),t]}));fte.displayName=MR.displayName;const pte=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(IR,{ref:n,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(FR,{children:l.jsx(xT,{className:"h-2 w-2 fill-current"})})}),t]}));pte.displayName=IR.displayName;const b5=v.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(RR,{ref:n,className:Ue("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));b5.displayName=RR.displayName;const Gd=v.forwardRef(({className:e,...t},r)=>l.jsx(BR,{ref:r,className:Ue("-mx-1 my-1 h-px bg-muted",e),...t}));Gd.displayName=BR.displayName;const VR=({children:e,variant:t="default",size:r="md",className:n,...s})=>{const a={default:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground"},i={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"};return l.jsx("button",{className:Ue("inline-flex items-center justify-center rounded-full text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","disabled:opacity-50 disabled:pointer-events-none",a[t],i[r],n),...s,children:e})},pm=()=>{const[e,t]=v.useState(()=>{const n=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches;return n||(s?"dark":"light")});v.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{t(n=>n==="light"?"dark":"light")};return l.jsx(VR,{variant:"ghost",size:"md",onClick:r,"aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,className:"relative",children:l.jsxs("div",{className:"relative w-5 h-5",children:[l.jsxs(Us.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute inset-0 w-full h-full",initial:{opacity:e==="dark"?0:1,rotate:e==="dark"?-45:0},animate:{opacity:e==="dark"?0:1,rotate:e==="dark"?-45:0},transition:{duration:.3},children:[l.jsx("circle",{cx:"12",cy:"12",r:"5"}),l.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),l.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),l.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),l.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),l.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),l.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),l.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),l.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),l.jsx(Us.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute inset-0 w-full h-full",initial:{opacity:e==="light"?0:1,rotate:e==="light"?45:0},animate:{opacity:e==="light"?0:1,rotate:e==="light"?45:0},transition:{duration:.3},children:l.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})]})})},zR=({className:e=""})=>{const[t,r]=v.useState(navigator.onLine),[n,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(null),{user:u}=Ar(),{toast:d}=ir();v.useEffect(()=>{const f=()=>r(!0),p=()=>r(!1);return window.addEventListener("online",f),window.addEventListener("offline",p),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",p)}},[]),v.useEffect(()=>{const f=async()=>{try{const g=await Yt.getSyncStatus();s(g.isAllSynced);const y=localStorage.getItem("lastSyncTime");y&&c(new Date(y))}catch(g){console.error("Error checking sync status:",g),s(!1)}};f();const p=setInterval(f,3e4);return()=>clearInterval(p)},[]),v.useEffect(()=>{(async()=>{if(t&&(u!=null&&u.id)&&!n)try{i(!0),await Yt.syncAll(u.id),s(!0);const p=new Date;c(p),localStorage.setItem("lastSyncTime",p.toISOString())}catch(p){console.error("Error syncing data:",p)}finally{i(!1)}})()},[t,u,n]);const h=async()=>{if(!(!t||!(u!=null&&u.id)||a))try{i(!0),await Yt.syncAll(u.id),s(!0);const f=new Date;c(f),localStorage.setItem("lastSyncTime",f.toISOString()),d({title:"Sync Complete",description:"All data has been synchronized with the cloud"})}catch(f){console.error("Error syncing data:",f)}finally{i(!1)}};return l.jsx(sL,{children:l.jsxs(Gz,{children:[l.jsx(Yz,{asChild:!0,children:l.jsx("div",{className:`flex items-center gap-2 ${e}`,children:t?a?l.jsxs(Se,{variant:"ghost",size:"sm",className:"h-8 px-2 text-yellow-500",disabled:!0,children:[l.jsx(du,{className:"h-4 w-4 mr-1 animate-spin"}),l.jsx("span",{className:"text-xs",children:"Syncing..."})]}):n?l.jsxs(Se,{variant:"ghost",size:"sm",className:"h-8 px-2 text-green-500",onClick:h,children:[l.jsx(vT,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"text-xs",children:"Synced"})]}):l.jsxs(Se,{variant:"ghost",size:"sm",className:"h-8 px-2 text-blue-500",onClick:h,children:[l.jsx(du,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"text-xs",children:"Sync Now"})]}):l.jsxs(Se,{variant:"ghost",size:"sm",className:"h-8 px-2 text-gray-500",disabled:!0,children:[l.jsx(oU,{className:"h-4 w-4 mr-1"}),l.jsx("span",{className:"text-xs",children:"Offline"})]})})}),l.jsx(aL,{children:l.jsxs("div",{className:"text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Sync Status:"})," ",t?a?"Syncing...":n?"Synced":"Not synced":"Offline"]}),o&&l.jsxs("p",{children:[l.jsx("strong",{children:"Last Synced:"})," ",o.toLocaleString()]}),l.jsx("p",{className:"text-xs mt-1",children:t?"Click to manually sync data":"Connect to internet to sync"})]})})]})})},mte=({onExport:e,businessName:t})=>{const r=xs(),{toast:n}=ir(),{user:s,signOut:a}=Ar(),[i,o]=v.useState(!1),c=()=>{var f;return s&&(((f=s.user_metadata)==null?void 0:f.full_name)||s.email)||"User"},u=()=>{var p;return s?(((p=s.user_metadata)==null?void 0:p.full_name)||s.email||"").charAt(0).toUpperCase():"U"},d=()=>{var f;return((f=s==null?void 0:s.user_metadata)==null?void 0:f.avatar_url)||""},h=async()=>{try{await a(),n({title:"Logged Out",description:"You have been logged out successfully."}),r("/auth")}catch{n({title:"Error",description:"Failed to log out. Please try again.",variant:"destructive"})}};return l.jsx("header",{className:"glass border-b sticky top-0 z-10",children:l.jsxs("div",{className:"container mx-auto px-4 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("h1",{className:"text-2xl font-bold",children:t})}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[l.jsxs(i0,{children:[l.jsx(o0,{asChild:!0,children:l.jsxs(Se,{variant:"outline",size:"sm",children:[l.jsx(QS,{className:"h-4 w-4 mr-2"}),"Export",l.jsx(JS,{className:"h-4 w-4 ml-2"})]})}),l.jsxs(fm,{align:"end",children:[l.jsx(b5,{children:"Export Options"}),l.jsx(Gd,{}),l.jsxs(No,{onClick:()=>e("csv"),children:[l.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),l.jsxs(No,{onClick:()=>e("json"),children:[l.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Export as JSON"]})]})]}),l.jsx(zR,{className:"mr-2"}),l.jsx(pm,{}),l.jsx("div",{className:"mx-1"}),l.jsxs(i0,{children:[l.jsx(o0,{asChild:!0,children:l.jsx(Se,{variant:"ghost",size:"sm",className:"relative h-8 w-8 rounded-full",children:l.jsxs(cm,{className:"h-8 w-8",children:[l.jsx(n0,{src:d(),alt:c()}),l.jsx(um,{children:u()})]})})}),l.jsxs(fm,{align:"end",children:[l.jsx(b5,{children:c()}),l.jsx(Gd,{}),l.jsxs(No,{onClick:()=>r("/profile"),children:[l.jsx(jb,{className:"h-4 w-4 mr-2"}),"Profile"]}),l.jsxs(No,{onClick:()=>r("/settings"),children:[l.jsx(K4,{className:"h-4 w-4 mr-2"}),"Settings"]}),l.jsx(Gd,{}),l.jsxs(No,{onClick:h,children:[l.jsx(_b,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>o(!i),children:i?l.jsx(X0,{className:"h-6 w-6"}):l.jsx(J$,{className:"h-6 w-6"})})})]}),i&&l.jsxs("div",{className:"md:hidden mt-4 pb-2 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs(cm,{className:"h-8 w-8 mr-2",children:[l.jsx(n0,{src:d(),alt:c()}),l.jsx(um,{children:u()})]}),l.jsx("span",{className:"text-sm font-medium",children:c()})]}),l.jsx(pm,{})]}),l.jsxs("div",{className:"space-y-1 pt-2",children:[l.jsxs(Se,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>r("/profile"),children:[l.jsx(jb,{className:"h-4 w-4 mr-2"}),"Profile"]}),l.jsxs(Se,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>r("/settings"),children:[l.jsx(K4,{className:"h-4 w-4 mr-2"}),"Settings"]}),l.jsxs(Se,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{o(!1),e("csv")},children:[l.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),l.jsxs(Se,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{o(!1),e("json")},children:[l.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Export as JSON"]}),l.jsxs(Se,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-500 hover:text-red-600 hover:bg-red-50",onClick:h,children:[l.jsx(_b,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]})})},Le=v.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Le.displayName="Input";const gte=({searchQuery:e,setSearchQuery:t})=>l.jsx("div",{className:"w-full md:w-80",children:l.jsxs("div",{className:"relative",children:[l.jsx(Le,{type:"text",placeholder:"Search transactions...",value:e,onChange:r=>t(r.target.value),className:"pr-8"}),l.jsxs("svg",{className:"absolute right-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})]})});var pN="Dialog",[qR,WR]=ha(pN),[yte,bi]=qR(pN),HR=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,o=v.useRef(null),c=v.useRef(null),[u=!1,d]=$s({prop:n,defaultProp:s,onChange:a});return l.jsx(yte,{scope:t,triggerRef:o,contentRef:c,contentId:Ta(),titleId:Ta(),descriptionId:Ta(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(h=>!h),[d]),modal:i,children:r})};HR.displayName=pN;var GR="DialogTrigger",YR=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=bi(GR,r),a=Ft(t,s.triggerRef);return l.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yN(s.open),...n,ref:a,onClick:Ge(e.onClick,s.onOpenToggle)})});YR.displayName=GR;var mN="DialogPortal",[vte,KR]=qR(mN,{forceMount:void 0}),XR=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=bi(mN,t);return l.jsx(vte,{scope:t,forceMount:r,children:v.Children.map(n,i=>l.jsx(zs,{present:r||a.open,children:l.jsx(Ih,{asChild:!0,container:s,children:i})}))})};XR.displayName=mN;var l0="DialogOverlay",ZR=v.forwardRef((e,t)=>{const r=KR(l0,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=bi(l0,e.__scopeDialog);return a.modal?l.jsx(zs,{present:n||a.open,children:l.jsx(xte,{...s,ref:t})}):null});ZR.displayName=l0;var xte=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=bi(l0,r);return l.jsx(Qm,{as:Ji,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ct.div,{"data-state":yN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),fu="DialogContent",JR=v.forwardRef((e,t)=>{const r=KR(fu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=bi(fu,e.__scopeDialog);return l.jsx(zs,{present:n||a.open,children:a.modal?l.jsx(wte,{...s,ref:t}):l.jsx(bte,{...s,ref:t})})});JR.displayName=fu;var wte=v.forwardRef((e,t)=>{const r=bi(fu,e.__scopeDialog),n=v.useRef(null),s=Ft(t,r.contentRef,n);return v.useEffect(()=>{const a=n.current;if(a)return P1(a)},[]),l.jsx(QR,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ge(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&a.preventDefault()}),onFocusOutside:Ge(e.onFocusOutside,a=>a.preventDefault())})}),bte=v.forwardRef((e,t)=>{const r=bi(fu,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return l.jsx(QR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),QR=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,o=bi(fu,r),c=v.useRef(null),u=Ft(t,c);return N1(),l.jsxs(l.Fragment,{children:[l.jsx(Jm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(bu,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":yN(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(_te,{titleId:o.titleId}),l.jsx(jte,{contentRef:c,descriptionId:o.descriptionId})]})]})}),gN="DialogTitle",eO=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=bi(gN,r);return l.jsx(ct.h2,{id:s.titleId,...n,ref:t})});eO.displayName=gN;var tO="DialogDescription",rO=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=bi(tO,r);return l.jsx(ct.p,{id:s.descriptionId,...n,ref:t})});rO.displayName=tO;var nO="DialogClose",sO=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=bi(nO,r);return l.jsx(ct.button,{type:"button",...n,ref:t,onClick:Ge(e.onClick,()=>s.onOpenChange(!1))})});sO.displayName=nO;function yN(e){return e?"open":"closed"}var aO="DialogTitleWarning",[Ste,iO]=X9(aO,{contentName:fu,titleName:gN,docsSlug:"dialog"}),_te=({titleId:e})=>{const t=iO(aO),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Nte="DialogDescriptionWarning",jte=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iO(Nte).contentName}}.`;return v.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},oO=HR,lO=YR,cO=XR,vN=ZR,xN=JR,wN=eO,bN=rO,L1=sO;const lr=oO,Wl=lO,Cte=cO,kte=L1,uO=v.forwardRef(({className:e,...t},r)=>l.jsx(vN,{ref:r,className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uO.displayName=vN.displayName;const cr=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Cte,{children:[l.jsx(uO,{}),l.jsxs(xN,{ref:n,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(L1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(X0,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cr.displayName=xN.displayName;const Pr=({className:e,...t})=>l.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Pr.displayName="DialogHeader";const Er=({className:e,...t})=>l.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Er.displayName="DialogFooter";const fr=v.forwardRef(({className:e,...t},r)=>l.jsx(wN,{ref:r,className:Ue("text-lg font-semibold leading-none tracking-tight",e),...t}));fr.displayName=wN.displayName;const S5=v.forwardRef(({className:e,...t},r)=>l.jsx(bN,{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));S5.displayName=bN.displayName;var Pte="Label",dO=v.forwardRef((e,t)=>l.jsx(ct.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));dO.displayName=Pte;var hO=dO;const Ete=zm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),we=v.forwardRef(({className:e,...t},r)=>l.jsx(hO,{ref:r,className:Ue(Ete(),e),...t}));we.displayName=hO.displayName;const fO=({onTransactionCreated:e})=>{const[t,r]=v.useState(""),{toast:n}=ir(),s=xs(),{user:a}=Ar(),i=async()=>{try{if(!(a!=null&&a.id))throw new Error("User not authenticated");const o=t.trim()||`Transaction ${new Date().toLocaleDateString()}`,c=await Xr.createTransaction(a.id,o);if(!c)throw new Error("Failed to create transaction");r(""),n({title:"Success",description:"Transaction created successfully"}),e&&e(),s(`/transaction/${c.id}`)}catch(o){console.error("Failed to create transaction:",o),n({title:"Error",description:"Failed to create transaction",variant:"destructive"})}};return l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Create New Transaction"})}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"transactionName",children:"Transaction Name"}),l.jsx(Le,{id:"transactionName",placeholder:"Enter a name for this transaction",value:t,onChange:o=>r(o.target.value)})]})}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>e(),children:"Cancel"}),l.jsx(Se,{onClick:i,children:"Create"})]})]})},Ate=({hasSearchQuery:e,onCreateTransaction:t})=>l.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:e?l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Results Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"No transactions match your search criteria"}),l.jsxs(Se,{onClick:t,className:"inline-flex items-center justify-center px-4 py-2 rounded-md",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Transaction"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),l.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Transactions Yet"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first transaction to get started"})]})}),Tte=()=>l.jsx(Us.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-pulse-subtle",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),l.jsx("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),l.jsx("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),l.jsx("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),l.jsx("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),l.jsx("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),l.jsx("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]})})}),pO=v.createContext(void 0),Lte=()=>{try{return localStorage.getItem("currency")||"USD"}catch(e){return console.error("Failed to read currency from localStorage:",e),"USD"}},mO=({children:e})=>{const[t,r]=v.useState(Lte);v.useEffect(()=>{try{localStorage.setItem("currency",t)}catch(a){console.error("Failed to save currency to localStorage:",a)}},[t]);const n=a=>{r(a)},s=v.useCallback(a=>{if(isNaN(a))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:t}).format(a)}catch(i){return console.error(`Failed to format currency ${t}:`,i),`${t} ${a.toFixed(2)}`}},[t]);return l.jsx(pO.Provider,{value:{currency:t,setCurrency:n,formatCurrency:s},children:e})},SN=()=>{const e=v.useContext(pO);if(e===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return e},Dte=({status:e})=>{const r={completed:{bg:"bg-success/10",text:"text-success",label:"Completed"},pending:{bg:"bg-amber-500/10",text:"text-amber-500",label:"Pending"},cancelled:{bg:"bg-destructive/10",text:"text-destructive",label:"Cancelled"}}[e];return l.jsx("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded-full ${r.bg} ${r.text}`,children:r.label})},Rte=({transaction:e,index:t})=>{var c,u;const r=xs(),{formatCurrency:n}=SN(),s=new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),a=()=>{r(`/transaction/${e.id}`)},i=e.loadBuy&&!e.loadSold,o=!e.loadBuy&&e.loadSold;return l.jsxs(Us.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:t*.03},whileHover:{y:-2,transition:{duration:.2}},className:"bg-card/50 border border-border/30 shadow-sm rounded-lg p-2 cursor-pointer hover:bg-muted/10 transition-colors",onClick:a,children:[l.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-medium",children:s}),l.jsx(Dte,{status:e.status})]}),l.jsx("h3",{className:"text-xs font-medium truncate mb-0.5",children:e.name||`Transaction ${e.id.slice(0,5)}`}),l.jsxs("div",{className:"flex items-center gap-1 mt-1 mb-0.5 text-[10px] text-muted-foreground",children:[i&&l.jsx(Sb,{className:"h-3 w-3 flex-shrink-0 text-red-500"}),o&&l.jsx(bb,{className:"h-3 w-3 flex-shrink-0 text-green-500"}),l.jsx("span",{className:"truncate",children:e.loadBuy?`From: ${e.loadBuy.supplierName||"N/A"}`:e.loadSold?`To: ${e.loadSold.buyerName||"N/A"}`:"No supplier/buyer info"})]}),l.jsxs("div",{className:"flex justify-between items-center mt-1 pt-0.5 border-t border-border/20",children:[l.jsx("div",{className:"text-[10px] text-muted-foreground truncate max-w-[60%]",children:((c=e.loadBuy)==null?void 0:c.goodsName)||((u=e.loadSold)==null?void 0:u.buyerName)||""}),l.jsx("div",{className:"flex items-center",children:l.jsx("span",{className:"text-xs font-medium",children:n(e.totalAmount)})})]})]})},Ote=({onTransactionCreated:e})=>{const[t,r]=ke.useState(!1);return l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx("div",{className:"bg-muted/30 p-8 rounded-full mb-4",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("h3",{className:"text-xl font-medium mb-2",children:"No transactions yet"}),l.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:"Create your first transaction to start tracking your business deals efficiently."}),l.jsxs(lr,{open:t,onOpenChange:r,children:[l.jsx(Wl,{asChild:!0,children:l.jsxs(Se,{className:"gap-2",children:[l.jsx(q$,{className:"h-4 w-4"}),"Create Your First Transaction"]})}),l.jsx(fO,{onTransactionCreated:()=>{e(),r(!1)}})]})]})},Mte=({transactions:e,loading:t,onRefresh:r,onCreateTransaction:n})=>t?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx(K0,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length===0?l.jsx(Ote,{onTransactionCreated:r}):l.jsx(Us.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map((s,a)=>l.jsx(Rte,{transaction:s,index:a},s.id))});function sr(e){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(e)}var es=Uint8Array,sa=Uint16Array,_N=Int32Array,D1=new es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R1=new es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_5=new es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gO=function(e,t){for(var r=new sa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new _N(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},yO=gO(D1,2),vO=yO.b,N5=yO.r;vO[28]=258,N5[258]=28;var xO=gO(R1,0),Ite=xO.b,wP=xO.r,j5=new sa(32768);for(var jr=0;jr<32768;++jr){var ul=(jr&43690)>>1|(jr&21845)<<1;ul=(ul&52428)>>2|(ul&13107)<<2,ul=(ul&61680)>>4|(ul&3855)<<4,j5[jr]=((ul&65280)>>8|(ul&255)<<8)>>1}var Xi=function(e,t,r){for(var n=e.length,s=0,a=new sa(t);s<n;++s)e[s]&&++a[e[s]-1];var i=new sa(t);for(s=1;s<t;++s)i[s]=i[s-1]+a[s-1]<<1;var o;if(r){o=new sa(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],h=i[e[s]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)o[j5[h]>>c]=u}else for(o=new sa(n),s=0;s<n;++s)e[s]&&(o[s]=j5[i[e[s]-1]++]>>15-e[s]);return o},tc=new es(288);for(var jr=0;jr<144;++jr)tc[jr]=8;for(var jr=144;jr<256;++jr)tc[jr]=9;for(var jr=256;jr<280;++jr)tc[jr]=7;for(var jr=280;jr<288;++jr)tc[jr]=8;var mm=new es(32);for(var jr=0;jr<32;++jr)mm[jr]=5;var Fte=Xi(tc,9,0),Bte=Xi(tc,9,1),$te=Xi(mm,5,0),Ute=Xi(mm,5,1),Xw=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ka=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Zw=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},NN=function(e){return(e+7)/8|0},wO=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new es(e.subarray(t,r))},Vte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ti=function(e,t,r){var n=new Error(t||Vte[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ti),!r)throw n;return n},zte=function(e,t,r,n){var s=e.length,a=0;if(!s||t.f&&!t.l)return r||new es(0);var i=!r,o=i||t.i!=2,c=t.i;i&&(r=new es(s*3));var u=function(Pe){var _e=r.length;if(Pe>_e){var Ae=new es(Math.max(_e*2,Pe));Ae.set(r),r=Ae}},d=t.f||0,h=t.p||0,f=t.b||0,p=t.l,g=t.d,y=t.m,S=t.n,b=s*8;do{if(!p){d=Ka(e,h,1);var w=Ka(e,h+1,3);if(h+=3,w)if(w==1)p=Bte,g=Ute,y=9,S=5;else if(w==2){var M=Ka(e,h,31)+257,R=Ka(e,h+10,15)+4,T=M+Ka(e,h+5,31)+1;h+=14;for(var H=new es(T),Q=new es(19),L=0;L<R;++L)Q[_5[L]]=Ka(e,h+L*3,7);h+=R*3;for(var E=Xw(Q),W=(1<<E)-1,F=Xi(Q,E,1),L=0;L<T;){var K=F[Ka(e,h,W)];h+=K&15;var N=K>>4;if(N<16)H[L++]=N;else{var ne=0,Y=0;for(N==16?(Y=3+Ka(e,h,3),h+=2,ne=H[L-1]):N==17?(Y=3+Ka(e,h,7),h+=3):N==18&&(Y=11+Ka(e,h,127),h+=7);Y--;)H[L++]=ne}}var I=H.subarray(0,M),G=H.subarray(M);y=Xw(I),S=Xw(G),p=Xi(I,y,1),g=Xi(G,S,1)}else ti(1);else{var N=NN(h)+4,C=e[N-4]|e[N-3]<<8,P=N+C;if(P>s){c&&ti(0);break}o&&u(f+C),r.set(e.subarray(N,P),f),t.b=f+=C,t.p=h=P*8,t.f=d;continue}if(h>b){c&&ti(0);break}}o&&u(f+131072);for(var ie=(1<<y)-1,me=(1<<S)-1,A=h;;A=h){var ne=p[Zw(e,h)&ie],V=ne>>4;if(h+=ne&15,h>b){c&&ti(0);break}if(ne||ti(2),V<256)r[f++]=V;else if(V==256){A=h,p=null;break}else{var X=V-254;if(V>264){var L=V-257,ae=D1[L];X=Ka(e,h,(1<<ae)-1)+vO[L],h+=ae}var q=g[Zw(e,h)&me],se=q>>4;q||ti(3),h+=q&15;var G=Ite[se];if(se>3){var ae=R1[se];G+=Zw(e,h)&(1<<ae)-1,h+=ae}if(h>b){c&&ti(0);break}o&&u(f+131072);var ue=f+X;if(f<G){var fe=a-G,Ce=Math.min(G,ue);for(fe+f<0&&ti(3);f<Ce;++f)r[f]=n[fe+f]}for(;f<ue;++f)r[f]=r[f-G]}}t.l=p,t.p=A,t.b=f,t.f=d,p&&(d=1,t.m=y,t.d=g,t.n=S)}while(!d);return f!=r.length&&i?wO(r,0,f):r.subarray(0,f)},go=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$f=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},Jw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:SO,l:0};if(s==1){var i=new es(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(P,M){return P.f-M.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=s-1;)o=r[r[u].f<r[h].f?u++:h++],c=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var f=a[0].s,n=1;n<s;++n)a[n].s>f&&(f=a[n].s);var p=new sa(f+1),g=C5(r[d-1],p,0);if(g>t){var n=0,y=0,S=g-t,b=1<<S;for(a.sort(function(M,R){return p[R.s]-p[M.s]||M.f-R.f});n<s;++n){var w=a[n].s;if(p[w]>t)y+=b-(1<<g-p[w]),p[w]=t;else break}for(y>>=S;y>0;){var N=a[n].s;p[N]<t?y-=1<<t-p[N]++-1:++n}for(;n>=0&&y;--n){var C=a[n].s;p[C]==t&&(--p[C],++y)}g=t}return{t:new es(p),l:g}},C5=function(e,t,r){return e.s==-1?Math.max(C5(e.l,t,r+1),C5(e.r,t,r+1)):t[e.s]=r},bP=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new sa(++t),n=0,s=e[0],a=1,i=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==s&&o!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[o]}return{c:r.subarray(0,n),n:t}},Uf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},bO=function(e,t,r){var n=r.length,s=NN(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<n;++a)e[s+a+4]=r[a];return(s+4+n)*8},SP=function(e,t,r,n,s,a,i,o,c,u,d){go(t,d++,r),++s[256];for(var h=Jw(s,15),f=h.t,p=h.l,g=Jw(a,15),y=g.t,S=g.l,b=bP(f),w=b.c,N=b.n,C=bP(y),P=C.c,M=C.n,R=new sa(19),T=0;T<w.length;++T)++R[w[T]&31];for(var T=0;T<P.length;++T)++R[P[T]&31];for(var H=Jw(R,7),Q=H.t,L=H.l,E=19;E>4&&!Q[_5[E-1]];--E);var W=u+5<<3,F=Uf(s,tc)+Uf(a,mm)+i,K=Uf(s,f)+Uf(a,y)+i+14+3*E+Uf(R,Q)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&W<=F&&W<=K)return bO(t,d,e.subarray(c,c+u));var ne,Y,I,G;if(go(t,d,1+(K<F)),d+=2,K<F){ne=Xi(f,p,0),Y=f,I=Xi(y,S,0),G=y;var ie=Xi(Q,L,0);go(t,d,N-257),go(t,d+5,M-1),go(t,d+10,E-4),d+=14;for(var T=0;T<E;++T)go(t,d+3*T,Q[_5[T]]);d+=3*E;for(var me=[w,P],A=0;A<2;++A)for(var V=me[A],T=0;T<V.length;++T){var X=V[T]&31;go(t,d,ie[X]),d+=Q[X],X>15&&(go(t,d,V[T]>>5&127),d+=V[T]>>12)}}else ne=Fte,Y=tc,I=$te,G=mm;for(var T=0;T<o;++T){var ae=n[T];if(ae>255){var X=ae>>18&31;$f(t,d,ne[X+257]),d+=Y[X+257],X>7&&(go(t,d,ae>>23&31),d+=D1[X]);var q=ae&31;$f(t,d,I[q]),d+=G[q],q>3&&($f(t,d,ae>>5&8191),d+=R1[q])}else $f(t,d,ne[ae]),d+=Y[ae]}return $f(t,d,ne[256]),d+Y[256]},qte=new _N([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SO=new es(0),Wte=function(e,t,r,n,s,a){var i=a.z||e.length,o=new es(n+i+5*(1+Math.ceil(i/7e3))+s),c=o.subarray(n,o.length-s),u=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var h=qte[t-1],f=h>>13,p=h&8191,g=(1<<r)-1,y=a.p||new sa(32768),S=a.h||new sa(g+1),b=Math.ceil(r/3),w=2*b,N=function(Ye){return(e[Ye]^e[Ye+1]<<b^e[Ye+2]<<w)&g},C=new _N(25e3),P=new sa(288),M=new sa(32),R=0,T=0,H=a.i||0,Q=0,L=a.w||0,E=0;H+2<i;++H){var W=N(H),F=H&32767,K=S[W];if(y[F]=K,S[W]=F,L<=H){var ne=i-H;if((R>7e3||Q>24576)&&(ne>423||!u)){d=SP(e,c,0,C,P,M,T,Q,E,H-E,d),Q=R=T=0,E=H;for(var Y=0;Y<286;++Y)P[Y]=0;for(var Y=0;Y<30;++Y)M[Y]=0}var I=2,G=0,ie=p,me=F-K&32767;if(ne>2&&W==N(H-me))for(var A=Math.min(f,ne)-1,V=Math.min(32767,H),X=Math.min(258,ne);me<=V&&--ie&&F!=K;){if(e[H+I]==e[H+I-me]){for(var ae=0;ae<X&&e[H+ae]==e[H+ae-me];++ae);if(ae>I){if(I=ae,G=me,ae>A)break;for(var q=Math.min(me,ae-2),se=0,Y=0;Y<q;++Y){var ue=H-me+Y&32767,fe=y[ue],Ce=ue-fe&32767;Ce>se&&(se=Ce,K=ue)}}}F=K,K=y[F],me+=F-K&32767}if(G){C[Q++]=268435456|N5[I]<<18|wP[G];var Pe=N5[I]&31,_e=wP[G]&31;T+=D1[Pe]+R1[_e],++P[257+Pe],++M[_e],L=H+I,++R}else C[Q++]=e[H],++P[e[H]]}}for(H=Math.max(H,L);H<i;++H)C[Q++]=e[H],++P[e[H]];d=SP(e,c,u,C,P,M,T,Q,E,H-E,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=S,a.p=y,a.i=H,a.w=L)}else{for(var H=a.w||0;H<i+u;H+=65535){var Ae=H+65535;Ae>=i&&(c[d/8|0]=u,Ae=i),d=bO(c,d+1,e.subarray(H,Ae))}a.i=i}return wO(o,0,n+NN(d)+s)},_O=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=r.length|0,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=n+=r[i];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Hte=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),i=new es(a.length+e.length);i.set(a),i.set(e,a.length),e=i,s.w=a.length}return Wte(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},NO=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Gte=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=_O();s.p(t.dictionary),NO(e,2,s.d())}},Yte=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ti(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&ti(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function k5(e,t){t||(t={});var r=_O();r.p(e);var n=Hte(e,t,t.dictionary?6:2,4);return Gte(n,t),NO(n,n.length-4,r.d()),n}function Kte(e,t){return zte(e.subarray(Yte(e,t),-4),{i:2},t,t)}var Xte=typeof TextDecoder<"u"&&new TextDecoder,Zte=0;try{Xte.decode(SO,{stream:!0}),Zte=1}catch{}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Qw(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var hr={log:Qw,warn:function(e){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):Qw.call(null,arguments))},error:function(e){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):Qw(e))}};function e2(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Mc(n.response,t,r)},n.onerror=function(){hr.error("could not download file")},n.send()}function _P(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Fy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var jp,P5,Mc=wt.saveAs||((typeof window>"u"?"undefined":sr(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=wt.URL||wt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?_P(s.href)?e2(e,t,r):Fy(s,s.target="_blank"):Fy(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Fy(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(_P(e))e2(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Fy(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:sr(a)!=="object"&&(hr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return e2(e,t,r);var s=e.type==="application/octet-stream",a=/constructor/i.test(wt.HTMLElement)||wt.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&(typeof FileReader>"u"?"undefined":sr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=wt.URL||wt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function jO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,i=s.exec(e);i&&(t=a(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t2(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=Gn(r,n,s,a,t[0],7,-680876936),a=Gn(a,r,n,s,t[1],12,-389564586),s=Gn(s,a,r,n,t[2],17,606105819),n=Gn(n,s,a,r,t[3],22,-1044525330),r=Gn(r,n,s,a,t[4],7,-176418897),a=Gn(a,r,n,s,t[5],12,1200080426),s=Gn(s,a,r,n,t[6],17,-1473231341),n=Gn(n,s,a,r,t[7],22,-45705983),r=Gn(r,n,s,a,t[8],7,1770035416),a=Gn(a,r,n,s,t[9],12,-1958414417),s=Gn(s,a,r,n,t[10],17,-42063),n=Gn(n,s,a,r,t[11],22,-1990404162),r=Gn(r,n,s,a,t[12],7,1804603682),a=Gn(a,r,n,s,t[13],12,-40341101),s=Gn(s,a,r,n,t[14],17,-1502002290),r=Yn(r,n=Gn(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Yn(a,r,n,s,t[6],9,-1069501632),s=Yn(s,a,r,n,t[11],14,643717713),n=Yn(n,s,a,r,t[0],20,-373897302),r=Yn(r,n,s,a,t[5],5,-701558691),a=Yn(a,r,n,s,t[10],9,38016083),s=Yn(s,a,r,n,t[15],14,-660478335),n=Yn(n,s,a,r,t[4],20,-405537848),r=Yn(r,n,s,a,t[9],5,568446438),a=Yn(a,r,n,s,t[14],9,-1019803690),s=Yn(s,a,r,n,t[3],14,-187363961),n=Yn(n,s,a,r,t[8],20,1163531501),r=Yn(r,n,s,a,t[13],5,-1444681467),a=Yn(a,r,n,s,t[2],9,-51403784),s=Yn(s,a,r,n,t[7],14,1735328473),r=Kn(r,n=Yn(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Kn(a,r,n,s,t[8],11,-2022574463),s=Kn(s,a,r,n,t[11],16,1839030562),n=Kn(n,s,a,r,t[14],23,-35309556),r=Kn(r,n,s,a,t[1],4,-1530992060),a=Kn(a,r,n,s,t[4],11,1272893353),s=Kn(s,a,r,n,t[7],16,-155497632),n=Kn(n,s,a,r,t[10],23,-1094730640),r=Kn(r,n,s,a,t[13],4,681279174),a=Kn(a,r,n,s,t[0],11,-358537222),s=Kn(s,a,r,n,t[3],16,-722521979),n=Kn(n,s,a,r,t[6],23,76029189),r=Kn(r,n,s,a,t[9],4,-640364487),a=Kn(a,r,n,s,t[12],11,-421815835),s=Kn(s,a,r,n,t[15],16,530742520),r=Xn(r,n=Kn(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Xn(a,r,n,s,t[7],10,1126891415),s=Xn(s,a,r,n,t[14],15,-1416354905),n=Xn(n,s,a,r,t[5],21,-57434055),r=Xn(r,n,s,a,t[12],6,1700485571),a=Xn(a,r,n,s,t[3],10,-1894986606),s=Xn(s,a,r,n,t[10],15,-1051523),n=Xn(n,s,a,r,t[1],21,-2054922799),r=Xn(r,n,s,a,t[8],6,1873313359),a=Xn(a,r,n,s,t[15],10,-30611744),s=Xn(s,a,r,n,t[6],15,-1560198380),n=Xn(n,s,a,r,t[13],21,1309151649),r=Xn(r,n,s,a,t[4],6,-145523070),a=Xn(a,r,n,s,t[11],10,-1120210379),s=Xn(s,a,r,n,t[2],15,718787259),n=Xn(n,s,a,r,t[9],21,-343485551),e[0]=Ol(r,e[0]),e[1]=Ol(n,e[1]),e[2]=Ol(s,e[2]),e[3]=Ol(a,e[3])}function O1(e,t,r,n,s,a){return t=Ol(Ol(t,e),Ol(n,a)),Ol(t<<s|t>>>32-s,r)}function Gn(e,t,r,n,s,a,i){return O1(t&r|~t&n,e,t,s,a,i)}function Yn(e,t,r,n,s,a,i){return O1(t&n|r&~n,e,t,s,a,i)}function Kn(e,t,r,n,s,a,i){return O1(t^r^n,e,t,s,a,i)}function Xn(e,t,r,n,s,a,i){return O1(r^(t|~n),e,t,s,a,i)}function CO(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)t2(n,Jte(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(t2(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,t2(n,s),n}function Jte(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}jp=wt.atob.bind(wt),P5=wt.btoa.bind(wt);var NP="0123456789abcdef".split("");function Qte(e){for(var t="",r=0;r<4;r++)t+=NP[e>>8*r+4&15]+NP[e>>8*r&15];return t}function ere(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function E5(e){return CO(e).map(ere).join("")}var tre=function(e){for(var t=0;t<e.length;t++)e[t]=Qte(e[t]);return e.join("")}(CO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ol(e,t){if(tre){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function A5(e,t){var r,n,s,a;if(e!==r){for(var i=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+i.charCodeAt(c))%256,o[c]=o[u],o[u]=d}r=e,n=o}else o=n;var h=t.length,f=0,p=0,g="";for(c=0;c<h;c++)p=(p+(d=o[f=(f+1)%256]))%256,o[f]=o[p],o[p]=d,i=o[(o[f]+o[p])%256],g+=String.fromCharCode(t.charCodeAt(c)^i);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var jP={print:4,modify:8,copy:16,"annot-forms":32};function md(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(o){if(jP.perm!==void 0)throw new Error("Invalid permission: "+o);s+=jP[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=E5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=A5(this.encryptionKey,this.padding)}function gd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function CP(e){if(sr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!s],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var i=t[r][a];try{i[0].apply(e,n)}catch(o){wt.console&&hr.error("jsPDF PubSub Error",o.message,o)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function c0(e){if(!(this instanceof c0))return new c0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function kO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Vc(e,t,r,n,s){if(!(this instanceof Vc))return new Vc(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,kO.call(this,n,s)}function Od(e,t,r,n,s){if(!(this instanceof Od))return new Od(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,kO.call(this,n,s)}function xt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,c=16,u="S",d=null;sr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),i=e.filters||(a===!0?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=CP;var g="1.3",y=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(_){g=_};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var b=p.__private__.getPageFormat=function(_){return S[_]};s=s||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},N=w.COMPAT;function C(){this.saveGraphicsState(),re(new gt(He,0,0,-He,0,Ko()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),u="n",N=w.ADVANCED}function P(){this.restoreGraphicsState(),u="S",N=w.COMPAT}var M=p.__private__.combineFontStyleAndFontWeight=function(_,O){if(_=="bold"&&O=="normal"||_=="bold"&&O==400||_=="normal"&&O=="italic"||_=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(_=O==400||O==="normal"?_==="italic"?"italic":"normal":O!=700&&O!=="bold"||_!=="normal"?(O==700?"bold":O)+""+_:"bold"),_};p.advancedAPI=function(_){var O=N===w.COMPAT;return O&&C.call(this),typeof _!="function"||(_(this),O&&P.call(this)),this},p.compatAPI=function(_){var O=N===w.ADVANCED;return O&&P.call(this),typeof _!="function"||(_(this),O&&C.call(this)),this},p.isAdvancedAPI=function(){return N===w.ADVANCED};var R,T=function(_){if(N!==w.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=p.roundToPrecision=p.__private__.roundToPrecision=function(_,O){var te=t||O;if(isNaN(_)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(te).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof c=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return H(_,c)}:c==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return H(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return H(_,16)};var Q=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return H(_,2)},L=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return H(_,3)},E=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return N===w.COMPAT?_*He:N===w.ADVANCED?_:void 0},W=function(_){return N===w.COMPAT?Ko()-_:N===w.ADVANCED?_:void 0},F=function(_){return E(W(_))};p.__private__.setPrecision=p.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var K,ne="00000000000000000000000000000000",Y=p.__private__.getFileId=function(){return ne},I=p.__private__.setFileId=function(_){return ne=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Un=new md(d.userPermissions,d.userPassword,d.ownerPassword,ne)),ne};p.setFileId=function(_){return I(_),this},p.getFileId=function(){return Y()};var G=p.__private__.convertDateToPDFDate=function(_){var O=_.getTimezoneOffset(),te=O<0?"+":"-",le=Math.floor(Math.abs(O/60)),ge=Math.abs(O%60),Te=[te,X(le),"'",X(ge),"'"].join("");return["D:",_.getFullYear(),X(_.getMonth()+1),X(_.getDate()),X(_.getHours()),X(_.getMinutes()),X(_.getSeconds()),Te].join("")},ie=p.__private__.convertPDFDateToDate=function(_){var O=parseInt(_.substr(2,4),10),te=parseInt(_.substr(6,2),10)-1,le=parseInt(_.substr(8,2),10),ge=parseInt(_.substr(10,2),10),Te=parseInt(_.substr(12,2),10),$e=parseInt(_.substr(14,2),10);return new Date(O,te,le,ge,Te,$e,0)},me=p.__private__.setCreationDate=function(_){var O;if(_===void 0&&(_=new Date),_ instanceof Date)O=G(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=_}return K=O},A=p.__private__.getCreationDate=function(_){var O=K;return _==="jsDate"&&(O=ie(K)),O};p.setCreationDate=function(_){return me(_),this},p.getCreationDate=function(_){return A(_)};var V,X=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ae=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},q=0,se=[],ue=[],fe=0,Ce=[],Pe=[],_e=!1,Ae=ue,Ye=function(){q=0,fe=0,ue=[],se=[],Ce=[],so=un(),Fa=un()};p.__private__.setCustomOutputDestination=function(_){_e=!0,Ae=_};var je=function(_){_e||(Ae=_)};p.__private__.resetCustomOutputDestination=function(){_e=!1,Ae=ue};var re=p.__private__.out=function(_){return _=_.toString(),fe+=_.length+1,Ae.push(_),Ae},Ze=p.__private__.write=function(_){return re(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},J=p.__private__.getArrayBuffer=function(_){for(var O=_.length,te=new ArrayBuffer(O),le=new Uint8Array(te);O--;)le[O]=_.charCodeAt(O);return te},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ee};var oe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return oe=N===w.ADVANCED?_/He:_,this};var Ne,ye=p.__private__.getFontSize=p.getFontSize=function(){return N===w.COMPAT?oe:oe*He},be=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return be=_,this},p.__private__.getR2L=p.getR2L=function(){return be};var Ie,qe=p.__private__.setZoomMode=function(_){var O=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Ne=_;else if(isNaN(_)){if(O.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Ne=_}else Ne=parseInt(_,10)};p.__private__.getZoomMode=function(){return Ne};var it,lt=p.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ie=_};p.__private__.getPageMode=function(){return Ie};var Lt=p.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');it=_};p.__private__.getLayoutMode=function(){return it},p.__private__.setDisplayMode=p.setDisplayMode=function(_,O,te){return qe(_),Lt(O),lt(te),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(Object.keys(ut).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[_]},p.__private__.getDocumentProperties=function(){return ut},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var O in ut)ut.hasOwnProperty(O)&&_[O]&&(ut[O]=_[O]);return this},p.__private__.setDocumentProperty=function(_,O){if(Object.keys(ut).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[_]=O};var Nt,He,br,Ot,as,Vt={},Wt={},fa=[],et={},Ht={},vt={},$r={},cn=null,ur=0,jt=[],Jt=new CP(p),vc=e.hotfixes||[],Ln={},Ni={},ji=[],gt=function _(O,te,le,ge,Te,$e){if(!(this instanceof _))return new _(O,te,le,ge,Te,$e);isNaN(O)&&(O=1),isNaN(te)&&(te=0),isNaN(le)&&(le=0),isNaN(ge)&&(ge=1),isNaN(Te)&&(Te=0),isNaN($e)&&($e=0),this._matrix=[O,te,le,ge,Te,$e]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(_)},gt.prototype.multiply=function(_){var O=_.sx*this.sx+_.shy*this.shx,te=_.sx*this.shy+_.shy*this.sy,le=_.shx*this.sx+_.sy*this.shx,ge=_.shx*this.shy+_.sy*this.sy,Te=_.tx*this.sx+_.ty*this.shx+this.tx,$e=_.tx*this.shy+_.ty*this.sy+this.ty;return new gt(O,te,le,ge,Te,$e)},gt.prototype.decompose=function(){var _=this.sx,O=this.shy,te=this.shx,le=this.sy,ge=this.tx,Te=this.ty,$e=Math.sqrt(_*_+O*O),rt=(_/=$e)*te+(O/=$e)*le;te-=_*rt,le-=O*rt;var pt=Math.sqrt(te*te+le*le);return rt/=pt,_*(le/=pt)<O*(te/=pt)&&(_=-_,O=-O,rt=-rt,$e=-$e),{scale:new gt($e,0,0,pt,0,0),translate:new gt(1,0,0,1,ge,Te),rotate:new gt(_,O,-O,_,0,0),skew:new gt(1,0,rt,1,0,0)}},gt.prototype.toString=function(_){return this.join(" ")},gt.prototype.inversed=function(){var _=this.sx,O=this.shy,te=this.shx,le=this.sy,ge=this.tx,Te=this.ty,$e=1/(_*le-O*te),rt=le*$e,pt=-O*$e,Et=-te*$e,kt=_*$e;return new gt(rt,pt,Et,kt,-rt*ge-Et*Te,-pt*ge-kt*Te)},gt.prototype.applyToPoint=function(_){var O=_.x*this.sx+_.y*this.shx+this.tx,te=_.x*this.shy+_.y*this.sy+this.ty;return new Uu(O,te)},gt.prototype.applyToRectangle=function(_){var O=this.applyToPoint(_),te=this.applyToPoint(new Uu(_.x+_.w,_.y+_.h));return new lf(O.x,O.y,te.x-O.x,te.y-O.y)},gt.prototype.clone=function(){var _=this.sx,O=this.shy,te=this.shx,le=this.sy,ge=this.tx,Te=this.ty;return new gt(_,O,te,le,ge,Te)},p.Matrix=gt;var Ia=p.matrixMult=function(_,O){return O.multiply(_)},Ci=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ci;var bs=function(_,O){if(!Ht[_]){var te=(O instanceof Vc?"Sh":"P")+(Object.keys(et).length+1).toString(10);O.id=te,Ht[_]=te,et[te]=O,Jt.publish("addPattern",O)}};p.ShadingPattern=Vc,p.TilingPattern=Od,p.addShadingPattern=function(_,O){return T("addShadingPattern()"),bs(_,O),this},p.beginTilingPattern=function(_){T("beginTilingPattern()"),Ag(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,O){T("endTilingPattern()"),O.stream=Pe[V].join(`
`),bs(_,O),Jt.publish("endTilingPattern",O),ji.pop().restore()};var mn=p.__private__.newObject=function(){var _=un();return Ws(_,!0),_},un=p.__private__.newObjectDeferred=function(){return q++,se[q]=function(){return fe},q},Ws=function(_,O){return O=typeof O=="boolean"&&O,se[_]=fe,O&&re(_+" 0 obj"),_},Pu=p.__private__.newAdditionalObject=function(){var _={objId:un(),content:""};return Ce.push(_),_},so=un(),Fa=un(),Ba=p.__private__.decodeColorString=function(_){var O=_.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length===5&&(O[4]==="k"||O[4]==="K")&&(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var te=parseFloat(O[0]);O=[te,te,te,"r"]}for(var le="#",ge=0;ge<3;ge++)le+=("0"+Math.floor(255*parseFloat(O[ge])).toString(16)).slice(-2);return le},$a=p.__private__.encodeColorString=function(_){var O;typeof _=="string"&&(_={ch1:_});var te=_.ch1,le=_.ch2,ge=_.ch3,Te=_.ch4,$e=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var rt=new jO(te);if(rt.ok)te=rt.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var pt=parseInt(te.substr(1),16);te=pt>>16&255,le=pt>>8&255,ge=255&pt}if(le===void 0||Te===void 0&&te===le&&le===ge)if(typeof te=="string")O=te+" "+$e[0];else switch(_.precision){case 2:O=Q(te/255)+" "+$e[0];break;case 3:default:O=L(te/255)+" "+$e[0]}else if(Te===void 0||sr(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return O=["1.","1.","1.",$e[1]].join(" ");if(typeof te=="string")O=[te,le,ge,$e[1]].join(" ");else switch(_.precision){case 2:O=[Q(te/255),Q(le/255),Q(ge/255),$e[1]].join(" ");break;default:case 3:O=[L(te/255),L(le/255),L(ge/255),$e[1]].join(" ")}}else if(typeof te=="string")O=[te,le,ge,Te,$e[2]].join(" ");else switch(_.precision){case 2:O=[Q(te),Q(le),Q(ge),Q(Te),$e[2]].join(" ");break;case 3:default:O=[L(te),L(le),L(ge),L(Te),$e[2]].join(" ")}return O},ki=p.__private__.getFilters=function(){return i},pa=p.__private__.putStream=function(_){var O=(_=_||{}).data||"",te=_.filters||ki(),le=_.alreadyAppliedFilters||[],ge=_.addLength1||!1,Te=O.length,$e=_.objectId,rt=function(Vn){return Vn};if(d!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(rt=Un.encryptor($e,0));var pt={};te===!0&&(te=["FlateEncode"]);var Et=_.additionalKeyValues||[],kt=(pt=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(O,te):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(pt.data.length!==0&&(Et.push({key:"Length",value:pt.data.length}),ge===!0&&Et.push({key:"Length1",value:Te})),kt.length!=0)if(kt.split("/").length-1==1)Et.push({key:"Filter",value:kt});else{Et.push({key:"Filter",value:"["+kt+"]"});for(var zt=0;zt<Et.length;zt+=1)if(Et[zt].key==="DecodeParms"){for(var Lr=[],Ur=0;Ur<pt.reverseChain.split("/").length-1;Ur+=1)Lr.push("null");Lr.push(Et[zt].value),Et[zt].value="["+Lr.join(" ")+"]"}}re("<<");for(var dn=0;dn<Et.length;dn++)re("/"+Et[dn].key+" "+Et[dn].value);re(">>"),pt.data.length!==0&&(re("stream"),re(rt(pt.data)),re("endstream"))},Pi=p.__private__.putPage=function(_){var O=_.number,te=_.data,le=_.objId,ge=_.contentsObjId;Ws(le,!0),re("<</Type /Page"),re("/Parent "+_.rootDictionaryObjId+" 0 R"),re("/Resources "+_.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(R(_.mediaBox.bottomLeftX))+" "+parseFloat(R(_.mediaBox.bottomLeftY))+" "+R(_.mediaBox.topRightX)+" "+R(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&re("/CropBox ["+R(_.cropBox.bottomLeftX)+" "+R(_.cropBox.bottomLeftY)+" "+R(_.cropBox.topRightX)+" "+R(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&re("/BleedBox ["+R(_.bleedBox.bottomLeftX)+" "+R(_.bleedBox.bottomLeftY)+" "+R(_.bleedBox.topRightX)+" "+R(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&re("/TrimBox ["+R(_.trimBox.bottomLeftX)+" "+R(_.trimBox.bottomLeftY)+" "+R(_.trimBox.topRightX)+" "+R(_.trimBox.topRightY)+"]"),_.artBox!==null&&re("/ArtBox ["+R(_.artBox.bottomLeftX)+" "+R(_.artBox.bottomLeftY)+" "+R(_.artBox.topRightX)+" "+R(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&re("/UserUnit "+_.userUnit),Jt.publish("putPage",{objId:le,pageContext:jt[O],pageNumber:O,page:te}),re("/Contents "+ge+" 0 R"),re(">>"),re("endobj");var Te=te.join(`
`);return N===w.ADVANCED&&(Te+=`
Q`),Ws(ge,!0),pa({data:Te,filters:ki(),objectId:ge}),re("endobj"),le},xc=p.__private__.putPages=function(){var _,O,te=[];for(_=1;_<=ur;_++)jt[_].objId=un(),jt[_].contentsObjId=un();for(_=1;_<=ur;_++)te.push(Pi({number:_,data:Pe[_],objId:jt[_].objId,contentsObjId:jt[_].contentsObjId,mediaBox:jt[_].mediaBox,cropBox:jt[_].cropBox,bleedBox:jt[_].bleedBox,trimBox:jt[_].trimBox,artBox:jt[_].artBox,userUnit:jt[_].userUnit,rootDictionaryObjId:so,resourceDictionaryObjId:Fa}));Ws(so,!0),re("<</Type /Pages");var le="/Kids [";for(O=0;O<ur;O++)le+=te[O]+" 0 R ";re(le+"]"),re("/Count "+ur),re(">>"),re("endobj"),Jt.publish("postPutPages")},Eu=function(_){Jt.publish("putFont",{font:_,out:re,newObject:mn,putStream:pa}),_.isAlreadyPutted!==!0&&(_.objectNumber=mn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+gd(_.postScriptName)),re("/Subtype /Type1"),typeof _.encoding=="string"&&re("/Encoding /"+_.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Au=function(){for(var _ in Vt)Vt.hasOwnProperty(_)&&(h===!1||h===!0&&f.hasOwnProperty(_))&&Eu(Vt[_])},Tu=function(_){_.objectNumber=mn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[R(_.x),R(_.y),R(_.x+_.width),R(_.y+_.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var te=_.pages[1].join(`
`);pa({data:te,additionalKeyValues:O,objectId:_.objectNumber}),re("endobj")},Lu=function(){for(var _ in Ln)Ln.hasOwnProperty(_)&&Tu(Ln[_])},hg=function(_,O){var te,le=[],ge=1/(O-1);for(te=0;te<1;te+=ge)le.push(te);if(le.push(1),_[0].offset!=0){var Te={offset:0,color:_[0].color};_.unshift(Te)}if(_[_.length-1].offset!=1){var $e={offset:1,color:_[_.length-1].color};_.push($e)}for(var rt="",pt=0,Et=0;Et<le.length;Et++){for(te=le[Et];te>_[pt+1].offset;)pt++;var kt=_[pt].offset,zt=(te-kt)/(_[pt+1].offset-kt),Lr=_[pt].color,Ur=_[pt+1].color;rt+=ae(Math.round((1-zt)*Lr[0]+zt*Ur[0]).toString(16))+ae(Math.round((1-zt)*Lr[1]+zt*Ur[1]).toString(16))+ae(Math.round((1-zt)*Lr[2]+zt*Ur[2]).toString(16))}return rt.trim()},Y1=function(_,O){O||(O=21);var te=mn(),le=hg(_.colors,O),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+O+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pa({data:le,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),re("endobj"),_.objectNumber=mn(),re("<< /ShadingType "+_.type),re("/ColorSpace /DeviceRGB");var Te="/Coords ["+R(parseFloat(_.coords[0]))+" "+R(parseFloat(_.coords[1]))+" ";_.type===2?Te+=R(parseFloat(_.coords[2]))+" "+R(parseFloat(_.coords[3])):Te+=R(parseFloat(_.coords[2]))+" "+R(parseFloat(_.coords[3]))+" "+R(parseFloat(_.coords[4]))+" "+R(parseFloat(_.coords[5])),re(Te+="]"),_.matrix&&re("/Matrix ["+_.matrix.toString()+"]"),re("/Function "+te+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},K1=function(_,O){var te=un(),le=mn();O.push({resourcesOid:te,objectOid:le}),_.objectNumber=le;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+_.boundingBox.map(R).join(" ")+"]"}),ge.push({key:"XStep",value:R(_.xStep)}),ge.push({key:"YStep",value:R(_.yStep)}),ge.push({key:"Resources",value:te+" 0 R"}),_.matrix&&ge.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),pa({data:_.stream,additionalKeyValues:ge,objectId:_.objectNumber}),re("endobj")},Du=function(_){var O;for(O in et)et.hasOwnProperty(O)&&(et[O]instanceof Vc?Y1(et[O]):et[O]instanceof Od&&K1(et[O],_))},fg=function(_){for(var O in _.objectNumber=mn(),re("<<"),_)switch(O){case"opacity":re("/ca "+Q(_[O]));break;case"stroke-opacity":re("/CA "+Q(_[O]))}re(">>"),re("endobj")},X1=function(){var _;for(_ in vt)vt.hasOwnProperty(_)&&fg(vt[_])},Zh=function(){for(var _ in re("/XObject <<"),Ln)Ln.hasOwnProperty(_)&&Ln[_].objectNumber>=0&&re("/"+_+" "+Ln[_].objectNumber+" 0 R");Jt.publish("putXobjectDict"),re(">>")},Z1=function(){Un.oid=mn(),re("<<"),re("/Filter /Standard"),re("/V "+Un.v),re("/R "+Un.r),re("/U <"+Un.toHexString(Un.U)+">"),re("/O <"+Un.toHexString(Un.O)+">"),re("/P "+Un.P),re(">>"),re("endobj")},pg=function(){for(var _ in re("/Font <<"),Vt)Vt.hasOwnProperty(_)&&(h===!1||h===!0&&f.hasOwnProperty(_))&&re("/"+_+" "+Vt[_].objectNumber+" 0 R");re(">>")},J1=function(){if(Object.keys(et).length>0){for(var _ in re("/Shading <<"),et)et.hasOwnProperty(_)&&et[_]instanceof Vc&&et[_].objectNumber>=0&&re("/"+_+" "+et[_].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),re(">>")}},Ru=function(_){if(Object.keys(et).length>0){for(var O in re("/Pattern <<"),et)et.hasOwnProperty(O)&&et[O]instanceof p.TilingPattern&&et[O].objectNumber>=0&&et[O].objectNumber<_&&re("/"+O+" "+et[O].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),re(">>")}},Q1=function(){if(Object.keys(vt).length>0){var _;for(_ in re("/ExtGState <<"),vt)vt.hasOwnProperty(_)&&vt[_].objectNumber>=0&&re("/"+_+" "+vt[_].objectNumber+" 0 R");Jt.publish("putGStateDict"),re(">>")}},Zr=function(_){Ws(_.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pg(),J1(),Ru(_.objectOid),Q1(),Zh(),re(">>"),re("endobj")},mg=function(){var _=[];Au(),X1(),Lu(),Du(_),Jt.publish("putResources"),_.forEach(Zr),Zr({resourcesOid:Fa,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources")},gg=function(){Jt.publish("putAdditionalObjects");for(var _=0;_<Ce.length;_++){var O=Ce[_];Ws(O.objId,!0),re(O.content),re("endobj")}Jt.publish("postPutAdditionalObjects")},yg=function(_){Wt[_.fontName]=Wt[_.fontName]||{},Wt[_.fontName][_.fontStyle]=_.id},Jh=function(_,O,te,le,ge){var Te={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:_,fontName:O,fontStyle:te,encoding:le,isStandardFont:ge||!1,metadata:{}};return Jt.publish("addFont",{font:Te,instance:this}),Vt[Te.id]=Te,yg(Te),Te.id},ex=function(_){for(var O=0,te=ee.length;O<te;O++){var le=Jh.call(this,_[O][0],_[O][1],_[O][2],ee[O][3],!0);h===!1&&(f[le]=!0);var ge=_[O][0].split("-");yg({id:le,fontName:ge[0],fontStyle:ge[1]||""})}Jt.publish("addFonts",{fonts:Vt,dictionary:Wt})},Ua=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(le){var O=le.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var te="Error in function "+O.split(`
`)[0].split("<")[0]+": "+le.message;if(!wt.console)throw new Error(te);wt.console.error(te,le),wt.alert&&alert(te)}},_.foo.bar=_,_.foo},Ou=function(_,O){var te,le,ge,Te,$e,rt,pt,Et,kt;if(ge=(O=O||{}).sourceEncoding||"Unicode",$e=O.outputEncoding,(O.autoencode||$e)&&Vt[Nt].metadata&&Vt[Nt].metadata[ge]&&Vt[Nt].metadata[ge].encoding&&(Te=Vt[Nt].metadata[ge].encoding,!$e&&Vt[Nt].encoding&&($e=Vt[Nt].encoding),!$e&&Te.codePages&&($e=Te.codePages[0]),typeof $e=="string"&&($e=Te[$e]),$e)){for(pt=!1,rt=[],te=0,le=_.length;te<le;te++)(Et=$e[_.charCodeAt(te)])?rt.push(String.fromCharCode(Et)):rt.push(_[te]),rt[te].charCodeAt(0)>>8&&(pt=!0);_=rt.join("")}for(te=_.length;pt===void 0&&te!==0;)_.charCodeAt(te-1)>>8&&(pt=!0),te--;if(!pt)return _;for(rt=O.noBOM?[]:[254,255],te=0,le=_.length;te<le;te++){if((kt=(Et=_.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rt.push(kt),rt.push(Et-(kt<<8))}return String.fromCharCode.apply(void 0,rt)},Ss=p.__private__.pdfEscape=p.pdfEscape=function(_,O){return Ou(_,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qh=p.__private__.beginPage=function(_){Pe[++ur]=[],jt[ur]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},xg(ur),je(Pe[V])},vg=function(_,O){var te,le,ge;switch(r=O||r,typeof _=="string"&&(te=b(_.toLowerCase()),Array.isArray(te)&&(le=te[0],ge=te[1])),Array.isArray(_)&&(le=_[0]*He,ge=_[1]*He),isNaN(le)&&(le=s[0],ge=s[1]),(le>14400||ge>14400)&&(hr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ge=Math.min(14400,ge)),s=[le,ge],r.substr(0,1)){case"l":ge>le&&(s=[ge,le]);break;case"p":le>ge&&(s=[ge,le])}Qh(s),jg(nf),re(Va),af!==0&&re(af+" J"),of!==0&&re(of+" j"),Jt.publish("addPage",{pageNumber:ur})},tx=function(_){_>0&&_<=ur&&(Pe.splice(_,1),jt.splice(_,1),ur--,V>ur&&(V=ur),this.setPage(V))},xg=function(_){_>0&&_<=ur&&(V=_)},rx=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},wg=function(_,O,te){var le,ge=void 0;return te=te||{},_=_!==void 0?_:Vt[Nt].fontName,O=O!==void 0?O:Vt[Nt].fontStyle,le=_.toLowerCase(),Wt[le]!==void 0&&Wt[le][O]!==void 0?ge=Wt[le][O]:Wt[_]!==void 0&&Wt[_][O]!==void 0?ge=Wt[_][O]:te.disableWarning===!1&&hr.warn("Unable to look up font label for font '"+_+"', '"+O+"'. Refer to getFontList() for available fonts."),ge||te.noFallback||(ge=Wt.times[O])==null&&(ge=Wt.times.normal),ge},nx=p.__private__.putInfo=function(){var _=mn(),O=function(le){return le};for(var te in d!==null&&(O=Un.encryptor(_,0)),re("<<"),re("/Producer ("+Ss(O("jsPDF "+xt.version))+")"),ut)ut.hasOwnProperty(te)&&ut[te]&&re("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Ss(O(ut[te]))+")");re("/CreationDate ("+Ss(O(K))+")"),re(">>"),re("endobj")},ef=p.__private__.putCatalog=function(_){var O=(_=_||{}).rootDictionaryObjId||so;switch(mn(),re("<<"),re("/Type /Catalog"),re("/Pages "+O+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+Ne;te.substr(te.length-1)==="%"&&(Ne=parseInt(Ne)/100),typeof Ne=="number"&&re("/OpenAction [3 0 R /XYZ null null "+Q(Ne)+"]")}switch(it||(it="continuous"),it){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Ie&&re("/PageMode /"+Ie),Jt.publish("putCatalog"),re(">>"),re("endobj")},sx=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(q+1)),re("/Root "+q+" 0 R"),re("/Info "+(q-1)+" 0 R"),d!==null&&re("/Encrypt "+Un.oid+" 0 R"),re("/ID [ <"+ne+"> <"+ne+"> ]"),re(">>")},ax=p.__private__.putHeader=function(){re("%PDF-"+g),re("%ºß¬à")},ix=p.__private__.putXRef=function(){var _="0000000000";re("xref"),re("0 "+(q+1)),re("0000000000 65535 f ");for(var O=1;O<=q;O++)typeof se[O]=="function"?re((_+se[O]()).slice(-10)+" 00000 n "):se[O]!==void 0?re((_+se[O]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},ao=p.__private__.buildDocument=function(){Ye(),je(ue),Jt.publish("buildDocument"),ax(),xc(),gg(),mg(),d!==null&&Z1(),nx(),ef();var _=fe;return ix(),sx(),re("startxref"),re(""+_),re("%%EOF"),je(Pe[V]),ue.join(`
`)},Mu=p.__private__.getBlob=function(_){return new Blob([J(_)],{type:"application/pdf"})},Iu=p.output=p.__private__.output=Ua(function(_,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",_){case void 0:return ao();case"save":p.save(O.filename);break;case"arraybuffer":return J(ao());case"blob":return Mu(ao());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(Mu(ao()))||void 0;hr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",le=ao();try{te=P5(le)}catch{te=P5(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+O.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(ge=O.pdfObjectUrl,Te="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",rt=wt.open();return rt!==null&&rt.document.write($e),rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',Et=wt.open();if(Et!==null){Et.document.write(pt);var kt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=O.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(kt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',Lr=wt.open();if(Lr!==null&&(Lr.document.write(zt),Lr.document.title=O.filename),Lr||typeof safari>"u")return Lr;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",O);default:return null}}),bg=function(_){return Array.isArray(vc)===!0&&vc.indexOf(_)>-1};switch(n){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=bg("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);He=n}var Un=null;me(),I();var ox=function(_){return d!==null?Un.encryptor(_,0):function(O){return O}},Sg=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[_].objId,pageNumber:_,pageContext:jt[_]}},Ct=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in jt)if(jt[O].objId===_)break;return Sg(O)},lx=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:jt[V].objId,pageNumber:V,pageContext:jt[V]}};p.addPage=function(){return vg.apply(this,arguments),this},p.setPage=function(){return xg.apply(this,arguments),je.call(this,Pe[V]),this},p.insertPage=function(_){return this.addPage(),this.movePage(V,_),this},p.movePage=function(_,O){var te,le;if(_>O){te=Pe[_],le=jt[_];for(var ge=_;ge>O;ge--)Pe[ge]=Pe[ge-1],jt[ge]=jt[ge-1];Pe[O]=te,jt[O]=le,this.setPage(O)}else if(_<O){te=Pe[_],le=jt[_];for(var Te=_;Te<O;Te++)Pe[Te]=Pe[Te+1],jt[Te]=jt[Te+1];Pe[O]=te,jt[O]=le,this.setPage(O)}return this},p.deletePage=function(){return tx.apply(this,arguments),this},p.__private__.text=p.text=function(_,O,te,le,ge){var Te,$e,rt,pt,Et,kt,zt,Lr,Ur,dn=(le=le||{}).scope||this;if(typeof _=="number"&&typeof O=="number"&&(typeof te=="string"||Array.isArray(te))){var Vn=te;te=O,O=_,_=Vn}if(arguments[3]instanceof gt?(T("The transform parameter of text() with a Matrix value"),Ur=ge):(rt=arguments[4],pt=arguments[5],sr(zt=arguments[3])==="object"&&zt!==null||(typeof rt=="string"&&(pt=rt,rt=null),typeof zt=="string"&&(pt=zt,zt=null),typeof zt=="number"&&(rt=zt,zt=null),le={flags:zt,angle:rt,align:pt})),isNaN(O)||isNaN(te)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return dn;var Sn="",za=!1,Hs=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:bc,Ti=dn.internal.scaleFactor;function Tg(pr){return pr=pr.split("	").join(Array(le.TabLen||9).join(" ")),Ss(pr,zt)}function hf(pr){for(var mr,Qr=pr.concat(),gn=[],uo=Qr.length;uo--;)typeof(mr=Qr.shift())=="string"?gn.push(mr):Array.isArray(pr)&&(mr.length===1||mr[1]===void 0&&mr[2]===void 0)?gn.push(mr[0]):gn.push([mr[0],mr[1],mr[2]]);return gn}function ff(pr,mr){var Qr;if(typeof pr=="string")Qr=mr(pr)[0];else if(Array.isArray(pr)){for(var gn,uo,bf=pr.concat(),Ju=[],Mg=bf.length;Mg--;)typeof(gn=bf.shift())=="string"?Ju.push(mr(gn)[0]):Array.isArray(gn)&&typeof gn[0]=="string"&&(uo=mr(gn[0],gn[1],gn[2]),Ju.push([uo[0],uo[1],uo[2]]));Qr=Ju}return Qr}var zu=!1,pf=!0;if(typeof _=="string")zu=!0;else if(Array.isArray(_)){var mf=_.concat();$e=[];for(var qu,Dn=mf.length;Dn--;)(typeof(qu=mf.shift())!="string"||Array.isArray(qu)&&typeof qu[0]!="string")&&(pf=!1);zu=pf}if(zu===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Wu=oe/dn.internal.scaleFactor,Hu=Wu*(Hs-1);switch(le.baseline){case"bottom":te-=Hu;break;case"top":te+=Wu-Hu;break;case"hanging":te+=Wu-2*Hu;break;case"middle":te+=Wu/2-Hu}if((kt=le.maxWidth||0)>0&&(typeof _=="string"?_=dn.splitTextToSize(_,kt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(pr,mr){return pr.concat(dn.splitTextToSize(mr,kt))},[]))),Te={text:_,x:O,y:te,options:le,mutex:{pdfEscape:Ss,activeFontKey:Nt,fonts:Vt,activeFontSize:oe}},Jt.publish("preProcessText",Te),_=Te.text,rt=(le=Te.options).angle,!(Ur instanceof gt)&&rt&&typeof rt=="number"){rt*=Math.PI/180,le.rotationDirection===0&&(rt=-rt),N===w.ADVANCED&&(rt=-rt);var Gu=Math.cos(rt),gf=Math.sin(rt);Ur=new gt(Gu,gf,-gf,Gu,0,0)}else rt&&rt instanceof gt&&(Ur=rt);N!==w.ADVANCED||Ur||(Ur=Ci),(Et=le.charSpace||$u)!==void 0&&(Sn+=R(E(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Lr=le.horizontalScale)!==void 0&&(Sn+=R(100*Lr)+` Tz
`),le.lang;var _s=-1,vx=le.renderingMode!==void 0?le.renderingMode:le.stroke,yf=dn.internal.getCurrentPageInfo().pageContext;switch(vx){case 0:case!1:case"fill":_s=0;break;case 1:case!0:case"stroke":_s=1;break;case 2:case"fillThenStroke":_s=2;break;case 3:case"invisible":_s=3;break;case 4:case"fillAndAddForClipping":_s=4;break;case 5:case"strokeAndAddPathForClipping":_s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_s=6;break;case 7:case"addToPathForClipping":_s=7}var Lg=yf.usedRenderingMode!==void 0?yf.usedRenderingMode:-1;_s!==-1?Sn+=_s+` Tr
`:Lg!==-1&&(Sn+=`0 Tr
`),_s!==-1&&(yf.usedRenderingMode=_s),pt=le.align||"left";var ma,Yu=oe*Hs,Dg=dn.internal.pageSize.getWidth(),Rg=Vt[Nt];Et=le.charSpace||$u,kt=le.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Xo=[],Nc=function(pr){return dn.getStringUnitWidth(pr,{font:Rg,charSpace:Et,fontSize:oe,doKerning:!1})*oe/Ti};if(Object.prototype.toString.call(_)==="[object Array]"){var Ns;$e=hf(_),pt!=="left"&&(ma=$e.map(Nc));var is,Zo=0;if(pt==="right"){O-=ma[0],_=[],Dn=$e.length;for(var oo=0;oo<Dn;oo++)oo===0?(is=Ai(O),Ns=io(te)):(is=E(Zo-ma[oo]),Ns=-Yu),_.push([$e[oo],is,Ns]),Zo=ma[oo]}else if(pt==="center"){O-=ma[0]/2,_=[],Dn=$e.length;for(var lo=0;lo<Dn;lo++)lo===0?(is=Ai(O),Ns=io(te)):(is=E((Zo-ma[lo])/2),Ns=-Yu),_.push([$e[lo],is,Ns]),Zo=ma[lo]}else if(pt==="left"){_=[],Dn=$e.length;for(var Ku=0;Ku<Dn;Ku++)_.push($e[Ku])}else if(pt==="justify"&&Rg.encoding==="Identity-H"){_=[],Dn=$e.length,kt=kt!==0?kt:Dg;for(var co=0,Jr=0;Jr<Dn;Jr++)if(Ns=Jr===0?io(te):-Yu,is=Jr===0?Ai(O):co,Jr<Dn-1){var vf=E((kt-ma[Jr])/($e[Jr].split(" ").length-1)),os=$e[Jr].split(" ");_.push([os[0]+" ",is,Ns]),co=0;for(var ga=1;ga<os.length;ga++){var Xu=(Nc(os[ga-1]+" "+os[ga])-Nc(os[ga]))*Ti+vf;ga==os.length-1?_.push([os[ga],Xu,0]):_.push([os[ga]+" ",Xu,0]),co-=Xu}}else _.push([$e[Jr],is,Ns]);_.push(["",co,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Dn=$e.length,kt=kt!==0?kt:Dg,Jr=0;Jr<Dn;Jr++)Ns=Jr===0?io(te):-Yu,is=Jr===0?Ai(O):0,Jr<Dn-1?Xo.push(R(E((kt-ma[Jr])/($e[Jr].split(" ").length-1)))):Xo.push(0),_.push([$e[Jr],is,Ns])}}var Og=typeof le.R2L=="boolean"?le.R2L:be;Og===!0&&(_=ff(_,function(pr,mr,Qr){return[pr.split("").reverse().join(""),mr,Qr]})),Te={text:_,x:O,y:te,options:le,mutex:{pdfEscape:Ss,activeFontKey:Nt,fonts:Vt,activeFontSize:oe}},Jt.publish("postProcessText",Te),_=Te.text,za=Te.mutex.isHex||!1;var xf=Vt[Nt].encoding;xf!=="WinAnsiEncoding"&&xf!=="StandardEncoding"||(_=ff(_,function(pr,mr,Qr){return[Tg(pr),mr,Qr]})),$e=hf(_),_=[];for(var jc,Cc,Jo,kc=0,Zu=1,Pc=Array.isArray($e[0])?Zu:kc,Qo="",wf=function(pr,mr,Qr){var gn="";return Qr instanceof gt?(Qr=typeof le.angle=="number"?Ia(Qr,new gt(1,0,0,1,pr,mr)):Ia(new gt(1,0,0,1,pr,mr),Qr),N===w.ADVANCED&&(Qr=Ia(new gt(1,0,0,-1,0,0),Qr)),gn=Qr.join(" ")+` Tm
`):gn=R(pr)+" "+R(mr)+` Td
`,gn},ya=0;ya<$e.length;ya++){switch(Qo="",Pc){case Zu:Jo=(za?"<":"(")+$e[ya][0]+(za?">":")"),jc=parseFloat($e[ya][1]),Cc=parseFloat($e[ya][2]);break;case kc:Jo=(za?"<":"(")+$e[ya]+(za?">":")"),jc=Ai(O),Cc=io(te)}Xo!==void 0&&Xo[ya]!==void 0&&(Qo=Xo[ya]+` Tw
`),ya===0?_.push(Qo+wf(jc,Cc,Ur)+Jo):Pc===kc?_.push(Qo+Jo):Pc===Zu&&_.push(Qo+wf(jc,Cc,Ur)+Jo)}_=Pc===kc?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var va=`BT
/`;return va+=Nt+" "+oe+` Tf
`,va+=R(oe*Hs)+` TL
`,va+=Sc+`
`,va+=Sn,va+=_,re(va+="ET"),f[Nt]=!0,dn};var cx=p.__private__.clip=p.clip=function(_){return re(_==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return cx("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Ei=p.__private__.isValidStyle=function(_){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(O=!0),O};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return Ei(_)&&(u=_),this};var _g=p.__private__.getStyle=p.getStyle=function(_){var O=u;switch(_){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=_}return O},Ng=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(_){return Fu("f",_),this},p.fillEvenOdd=function(_){return Fu("f*",_),this},p.fillStroke=function(_){return Fu("B",_),this},p.fillStrokeEvenOdd=function(_){return Fu("B*",_),this};var Fu=function(_,O){sr(O)==="object"?dx(O,_):re(_)},tf=function(_){_===null||N===w.ADVANCED&&_===void 0||(_=_g(_),re(_))};function ux(_,O,te,le,ge){var Te=new Od(O||this.boundingBox,te||this.xStep,le||this.yStep,this.gState,ge||this.matrix);Te.stream=this.stream;var $e=_+"$$"+this.cloneIndex+++"$$";return bs($e,Te),Te}var dx=function(_,O){var te=Ht[_.key],le=et[te];if(le instanceof Vc)re("q"),re(hx(O)),le.gState&&p.setGState(le.gState),re(_.matrix.toString()+" cm"),re("/"+te+" sh"),re("Q");else if(le instanceof Od){var ge=new gt(1,0,0,-1,0,Ko());_.matrix&&(ge=ge.multiply(_.matrix||Ci),te=ux.call(le,_.key,_.boundingBox,_.xStep,_.yStep,ge).id),re("q"),re("/Pattern cs"),re("/"+te+" scn"),le.gState&&p.setGState(le.gState),re(O),re("Q")}},hx=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},rf=p.moveTo=function(_,O){return re(R(E(_))+" "+R(F(O))+" m"),this},wc=p.lineTo=function(_,O){return re(R(E(_))+" "+R(F(O))+" l"),this},Go=p.curveTo=function(_,O,te,le,ge,Te){return re([R(E(_)),R(F(O)),R(E(te)),R(F(le)),R(E(ge)),R(F(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,O,te,le,ge){if(isNaN(_)||isNaN(O)||isNaN(te)||isNaN(le)||!Ei(ge))throw new Error("Invalid arguments passed to jsPDF.line");return N===w.COMPAT?this.lines([[te-_,le-O]],_,O,[1,1],ge||"S"):this.lines([[te-_,le-O]],_,O,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,O,te,le,ge,Te){var $e,rt,pt,Et,kt,zt,Lr,Ur,dn,Vn,Sn,za;if(typeof _=="number"&&(za=te,te=O,O=_,_=za),le=le||[1,1],Te=Te||!1,isNaN(O)||isNaN(te)||!Array.isArray(_)||!Array.isArray(le)||!Ei(ge)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(rf(O,te),$e=le[0],rt=le[1],Et=_.length,Vn=O,Sn=te,pt=0;pt<Et;pt++)(kt=_[pt]).length===2?(Vn=kt[0]*$e+Vn,Sn=kt[1]*rt+Sn,wc(Vn,Sn)):(zt=kt[0]*$e+Vn,Lr=kt[1]*rt+Sn,Ur=kt[2]*$e+Vn,dn=kt[3]*rt+Sn,Vn=kt[4]*$e+Vn,Sn=kt[5]*rt+Sn,Go(zt,Lr,Ur,dn,Vn,Sn));return Te&&Ng(),tf(ge),this},p.path=function(_){for(var O=0;O<_.length;O++){var te=_[O],le=te.c;switch(te.op){case"m":rf(le[0],le[1]);break;case"l":wc(le[0],le[1]);break;case"c":Go.apply(this,le);break;case"h":Ng()}}return this},p.__private__.rect=p.rect=function(_,O,te,le,ge){if(isNaN(_)||isNaN(O)||isNaN(te)||isNaN(le)||!Ei(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w.COMPAT&&(le=-le),re([R(E(_)),R(F(O)),R(E(te)),R(E(le)),"re"].join(" ")),tf(ge),this},p.__private__.triangle=p.triangle=function(_,O,te,le,ge,Te,$e){if(isNaN(_)||isNaN(O)||isNaN(te)||isNaN(le)||isNaN(ge)||isNaN(Te)||!Ei($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-_,le-O],[ge-te,Te-le],[_-ge,O-Te]],_,O,[1,1],$e,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,O,te,le,ge,Te,$e){if(isNaN(_)||isNaN(O)||isNaN(te)||isNaN(le)||isNaN(ge)||isNaN(Te)||!Ei($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rt=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*te),Te=Math.min(Te,.5*le),this.lines([[te-2*ge,0],[ge*rt,0,ge,Te-Te*rt,ge,Te],[0,le-2*Te],[0,Te*rt,-ge*rt,Te,-ge,Te],[2*ge-te,0],[-ge*rt,0,-ge,-Te*rt,-ge,-Te],[0,2*Te-le],[0,-Te*rt,ge*rt,-Te,ge,-Te]],_+ge,O,[1,1],$e,!0),this},p.__private__.ellipse=p.ellipse=function(_,O,te,le,ge){if(isNaN(_)||isNaN(O)||isNaN(te)||isNaN(le)||!Ei(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*te,$e=4/3*(Math.SQRT2-1)*le;return rf(_+te,O),Go(_+te,O-$e,_+Te,O-le,_,O-le),Go(_-Te,O-le,_-te,O-$e,_-te,O),Go(_-te,O+$e,_-Te,O+le,_,O+le),Go(_+Te,O+le,_+te,O+$e,_+te,O),tf(ge),this},p.__private__.circle=p.circle=function(_,O,te,le){if(isNaN(_)||isNaN(O)||isNaN(te)||!Ei(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,O,te,te,le)},p.setFont=function(_,O,te){return te&&(O=M(O,te)),Nt=wg(_,O,{disableWarning:!1}),this};var fx=p.__private__.getFont=p.getFont=function(){return Vt[wg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,O,te={};for(_ in Wt)if(Wt.hasOwnProperty(_))for(O in te[_]=[],Wt[_])Wt[_].hasOwnProperty(O)&&te[_].push(O);return te},p.addFont=function(_,O,te,le,ge){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(te=M(te,le)),ge=ge||"Identity-H",Jh.call(this,_,O,te,ge)};var bc,nf=e.lineWidth||.200025,Bu=p.__private__.getLineWidth=p.getLineWidth=function(){return nf},jg=p.__private__.setLineWidth=p.setLineWidth=function(_){return nf=_,re(R(E(_))+" w"),this};p.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(_,O){if(_=_||[],O=O||0,isNaN(O)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(te){return R(E(te))}).join(" "),O=R(E(O)),re("["+_+"] "+O+" d"),this};var Cg=p.__private__.getLineHeight=p.getLineHeight=function(){return oe*bc};p.__private__.getLineHeight=p.getLineHeight=function(){return oe*bc};var kg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(bc=_),this},Pg=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return bc};kg(e.lineHeight);var Ai=p.__private__.getHorizontalCoordinate=function(_){return E(_)},io=p.__private__.getVerticalCoordinate=function(_){return N===w.ADVANCED?_:jt[V].mediaBox.topRightY-jt[V].mediaBox.bottomLeftY-E(_)},px=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return R(Ai(_))},Yo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return R(io(_))},Va=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ba(Va)},p.__private__.setStrokeColor=p.setDrawColor=function(_,O,te,le){return Va=$a({ch1:_,ch2:O,ch3:te,ch4:le,pdfColorType:"draw",precision:2}),re(Va),this};var sf=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ba(sf)},p.__private__.setFillColor=p.setFillColor=function(_,O,te,le){return sf=$a({ch1:_,ch2:O,ch3:te,ch4:le,pdfColorType:"fill",precision:2}),re(sf),this};var Sc=e.textColor||"0 g",mx=p.__private__.getTextColor=p.getTextColor=function(){return Ba(Sc)};p.__private__.setTextColor=p.setTextColor=function(_,O,te,le){return Sc=$a({ch1:_,ch2:O,ch3:te,ch4:le,pdfColorType:"text",precision:3}),this};var $u=e.charSpace,gx=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat($u||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $u=_,this};var af=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var O=p.CapJoinStyles[_];if(O===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return af=O,re(O+" J"),this};var of=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var O=p.CapJoinStyles[_];if(O===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return of=O,re(O+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(R(E(_))+" M"),this},p.GState=c0,p.setGState=function(_){(_=typeof _=="string"?vt[$r[_]]:Eg(null,_)).equals(cn)||(re("/"+_.id+" gs"),cn=_)};var Eg=function(_,O){if(!_||!$r[_]){var te=!1;for(var le in vt)if(vt.hasOwnProperty(le)&&vt[le].equals(O)){te=!0;break}if(te)O=vt[le];else{var ge="GS"+(Object.keys(vt).length+1).toString(10);vt[ge]=O,O.id=ge}return _&&($r[_]=O.id),Jt.publish("addGState",O),O}};p.addGState=function(_,O){return Eg(_,O),this},p.saveGraphicsState=function(){return re("q"),fa.push({key:Nt,size:oe,color:Sc}),this},p.restoreGraphicsState=function(){re("Q");var _=fa.pop();return Nt=_.key,oe=_.size,Sc=_.color,cn=null,this},p.setCurrentTransformationMatrix=function(_){return re(_.toString()+" cm"),this},p.comment=function(_){return re("#"+_),this};var Uu=function(_,O){var te=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Te){isNaN(Te)||(te=parseFloat(Te))}});var le=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Te){isNaN(Te)||(le=parseFloat(Te))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Te){ge=Te.toString()}}),this},lf=function(_,O,te,le){Uu.call(this,_,O),this.type="rect";var ge=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function($e){isNaN($e)||(ge=parseFloat($e))}});var Te=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function($e){isNaN($e)||(Te=parseFloat($e))}}),this},cf=function(){this.page=ur,this.currentPage=V,this.pages=Pe.slice(0),this.pagesContext=jt.slice(0),this.x=br,this.y=Ot,this.matrix=as,this.width=_c(V),this.height=Ko(V),this.outputDestination=Ae,this.id="",this.objectNumber=-1};cf.prototype.restore=function(){ur=this.page,V=this.currentPage,jt=this.pagesContext,Pe=this.pages,br=this.x,Ot=this.y,as=this.matrix,uf(V,this.width),df(V,this.height),Ae=this.outputDestination};var Ag=function(_,O,te,le,ge){ji.push(new cf),ur=V=0,Pe=[],br=_,Ot=O,as=ge,Qh([te,le])},yx=function(_){if(Ni[_])ji.pop().restore();else{var O=new cf,te="Xo"+(Object.keys(Ln).length+1).toString(10);O.id=te,Ni[_]=te,Ln[te]=O,Jt.publish("addFormObject",O),ji.pop().restore()}};for(var Vu in p.beginFormObject=function(_,O,te,le,ge){return Ag(_,O,te,le,ge),this},p.endFormObject=function(_){return yx(_),this},p.doFormObject=function(_,O){var te=Ln[Ni[_]];return re("q"),re(O.toString()+" cm"),re("/"+te.id+" Do"),re("Q"),this},p.getFormObject=function(_){var O=Ln[Ni[_]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},p.save=function(_,O){return _=_||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Mc(Mu(ao()),_),typeof Mc.unload=="function"&&wt.setTimeout&&setTimeout(Mc.unload,911),this):new Promise(function(te,le){try{var ge=Mc(Mu(ao()),_);typeof Mc.unload=="function"&&wt.setTimeout&&setTimeout(Mc.unload,911),te(ge)}catch(Te){le(Te.message)}})},xt.API)xt.API.hasOwnProperty(Vu)&&(Vu==="events"&&xt.API.events.length?function(_,O){var te,le,ge;for(ge=O.length-1;ge!==-1;ge--)te=O[ge][0],le=O[ge][1],_.subscribe.apply(_,[te].concat(typeof le=="function"?[le]:le))}(Jt,xt.API.events):p[Vu]=xt.API[Vu]);var _c=p.getPageWidth=function(_){return(jt[_=_||V].mediaBox.topRightX-jt[_].mediaBox.bottomLeftX)/He},uf=p.setPageWidth=function(_,O){jt[_].mediaBox.topRightX=O*He+jt[_].mediaBox.bottomLeftX},Ko=p.getPageHeight=function(_){return(jt[_=_||V].mediaBox.topRightY-jt[_].mediaBox.bottomLeftY)/He},df=p.setPageHeight=function(_,O){jt[_].mediaBox.topRightY=O*He+jt[_].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ss,getStyle:_g,getFont:fx,getFontSize:ye,getCharSpace:gx,getTextColor:mx,getLineHeight:Cg,getLineHeightFactor:Pg,getLineWidth:Bu,write:Ze,getHorizontalCoordinate:Ai,getVerticalCoordinate:io,getCoordinateString:px,getVerticalCoordinateString:Yo,collections:{},newObject:mn,newAdditionalObject:Pu,newObjectDeferred:un,newObjectDeferredBegin:Ws,getFilters:ki,putStream:pa,events:Jt,scaleFactor:He,pageSize:{getWidth:function(){return _c(V)},setWidth:function(_){uf(V,_)},getHeight:function(){return Ko(V)},setHeight:function(_){df(V,_)}},encryptionOptions:d,encryption:Un,getEncryptor:ox,output:Iu,getNumberOfPages:rx,pages:Pe,out:re,f2:Q,f3:L,getPageInfo:Sg,getPageInfoByObjId:Ct,getCurrentPageInfo:lx,getPDFVersion:y,Point:Uu,Rectangle:lf,Matrix:gt,hasHotfix:bg},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return _c(V)},set:function(_){uf(V,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ko(V)},set:function(_){df(V,_)},enumerable:!0,configurable:!0}),ex.call(p,ee),Nt="F1",vg(s,r),Jt.publish("initialized"),p}md.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},md.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},md.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},md.prototype.processOwnerPassword=function(e,t){return A5(E5(t).substr(0,5),e)},md.prototype.encryptor=function(e,t){var r=E5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return A5(r,n)}},c0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||sr(e)!==sr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},xt.API={events:[]},xt.version="3.0.1";var Wr=xt.API,jN=1,ku=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ud=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(e){return e.toFixed(2)},dl=function(e){return e.toFixed(5)};Wr.__acroform__={};var qs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kP=function(e){return e*jN},Mi=function(e){var t=new EO,r=ot.internal.getHeight(e)||0,n=ot.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Pt(n)),Number(Pt(r))],t},rre=Wr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},nre=Wr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},sre=Wr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},nn=Wr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sre(e,t-1)},sn=Wr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rre(e,t-1)},an=Wr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nre(e,t-1)},are=Wr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],i=e[2],o=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(a+o)||0,c.upperRight_X=r(s+i)||0,c.upperRight_Y=n(a)||0,[Number(Pt(c.lowerLeft_X)),Number(Pt(c.lowerLeft_Y)),Number(Pt(c.upperRight_X)),Number(Pt(c.upperRight_Y))]},ire=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=T5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Pt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Mi(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},T5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var a=r,i=ot.internal.getHeight(e)||0;i=i<0?-i:i;var o=ot.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(L,E,W){if(L+1<s.length){var F=E+" "+s[L+1][0];return By(F,e,W).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,h=By("3",e,a).height,f=e.multiline?i-a:(i-h)/2,p=f+=2,g=0,y=0,S=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+By(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var b="",w=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var C=!1;if(s[N].length!==1&&S!==s[N].length-1){if((h+2)*(w+2)+2>i)continue e;b+=s[N][S],C=!0,y=N,N--}else{b=(b+=s[N][S]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var P=parseInt(N),M=c(P,b,a),R=N>=s.length-1;if(M&&!R){b+=" ",S=0;continue}if(M||R){if(R)y=P;else if(e.multiline&&(h+2)*(w+2)+2>i)continue e}else{if(!e.multiline||(h+2)*(w+2)+2>i)continue e;y=P}}for(var T="",H=g;H<=y;H++){var Q=s[H];if(e.multiline){if(H===y){T+=Q[S]+" ",S=(S+1)%Q.length;continue}if(H===g){T+=Q[Q.length-1]+" ";continue}}T+=Q[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,d=By(T,e,a).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=Pt(u)+" "+Pt(p)+` Td
`,t+="("+ku(T)+`) Tj
`,t+=-Pt(u)+` 0 Td
`,p=-(a+2),d=0,g=C?y:y+1,w++,b=""}break}return n.text=t,n.fontSize=a,n},By=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},ore={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lre=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},cre=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),sr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},ure=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Si.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ore)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");jN=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new AO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&lre(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var a=!n;for(var i in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(i)){var o=n[i],c=[],u=o.Rect;if(o.Rect&&(o.Rect=are(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ot.createDefaultAppearanceStream(o),sr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=ire(o);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var p=o.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var g=p[i];typeof g=="function"&&(g=g.call(s,o)),h+="/"+i+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(s,o)),h+="/"+i+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}a&&cre(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},PO=Wr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(i){return i};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),sr(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+ku(n(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},r2=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ku(n(e))+")"},zi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zi.prototype.toString=function(){return this.objId+" 0 R"},zi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},zi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:PO(s,this.objId,this.scope)}):s instanceof zi?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var EO=function(){zi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};qs(EO,zi);var AO=function(){zi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ku(r(e))+")"}},set:function(r){e=r}})};qs(AO,zi);var Si=function e(){zi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nn(t,3)},set:function(b){b?this.F=sn(t,3):this.F=an(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof u0)return;a="FieldObject"+e.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+ku(b(a))+")"},set:function(b){a=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(b){a=b}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(b){i=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/jN:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof u0||this instanceof nu))return r2(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof kn?f:r2(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=this instanceof kn?b:b.substr(0,1)==="("?ud(b.substr(1,b.length-2)):ud(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn?ud(f.substr(1,f.length-1)):f},set:function(b){b=b.toString(),f=this instanceof kn?"/"+b:b}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof kn?p:r2(p,this.objId,this.scope)},set:function(b){b=b.toString(),p=this instanceof kn?b:b.substr(0,1)==="("?ud(b.substr(1,b.length-2)):ud(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof kn?ud(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof kn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(b){b=!!b,y=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(b){g=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,1)},set:function(b){b?this.Ff=sn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,2)},set:function(b){b?this.Ff=sn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,3)},set:function(b){b?this.Ff=sn(this.Ff,3):this.Ff=an(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');S=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(S){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};qs(Si,zi);var Yd=function(){Si.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return PO(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(a,i,o){o||(o=1);for(var c,u=[];c=i.exec(a);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,18)},set:function(r){r?this.Ff=sn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,20)},set:function(r){r?(this.Ff=sn(this.Ff,20),t.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,22)},set:function(r){r?this.Ff=sn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(r){r?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,27)},set:function(r){r?this.Ff=sn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};qs(Yd,Si);var Kd=function(){Yd.call(this),this.fontName="helvetica",this.combo=!1};qs(Kd,Yd);var Xd=function(){Kd.call(this),this.combo=!0};qs(Xd,Kd);var dv=function(){Xd.call(this),this.edit=!0};qs(dv,Xd);var kn=function(){Si.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,15)},set:function(r){r?this.Ff=sn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,16)},set:function(r){r?this.Ff=sn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,17)},set:function(r){r?this.Ff=sn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(r){r?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+ku(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){sr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};qs(kn,Si);var hv=function(){kn.call(this),this.pushButton=!0};qs(hv,kn);var Zd=function(){kn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};qs(Zd,kn);var u0=function(){var e,t;Si.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,i=[];for(a in i.push("<<"),n)i.push("/"+a+" ("+ku(s(n[a]))+")");return i.push(">>"),i.join(`
`)},set:function(s){sr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qs(u0,Si),Zd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Zd.prototype.createOption=function(e){var t=new u0;return t.Parent=this,t.optionName=e,this.Kids.push(t),dre.call(this.scope,t),t};var fv=function(){kn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};qs(fv,kn);var nu=function(){Si.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,13)},set:function(t){t?this.Ff=sn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,21)},set:function(t){t?this.Ff=sn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(t){t?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,24)},set:function(t){t?this.Ff=sn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,25)},set:function(t){t?this.Ff=sn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(t){t?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qs(nu,Si);var pv=function(){nu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,14)},set:function(e){e?this.Ff=sn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};qs(pv,nu);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Mi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=T5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Pt(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Mi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=ot.internal.getHeight(e),i=ot.internal.getWidth(e),o=T5(e,e.caption);return s.push("1 g"),s.push("0 0 "+Pt(i)+" "+Pt(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Pt(i-1)+" "+Pt(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Pt(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Mi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Circle.YesNormal,t.D[e]=ot.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Mi(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=ot.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+dl(ot.internal.getWidth(e)/2)+" "+dl(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Mi(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*ot.internal.Bezier_C).toFixed(5)),i=Number((n*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+dl(ot.internal.getWidth(e)/2)+" "+dl(ot.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+dl(ot.internal.getWidth(e)/2)+" "+dl(ot.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Mi(e);t.scope=e.scope;var r=[],n=ot.internal.getWidth(e)<=ot.internal.getHeight(e)?ot.internal.getWidth(e)/4:ot.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*ot.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+dl(ot.internal.getWidth(e)/2)+" "+dl(ot.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ot.RadioButton.Cross.YesNormal,t.D[e]=ot.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Mi(e);t.scope=e.scope;var r=[],n=ot.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Pt(ot.internal.getWidth(e)-2)+" "+Pt(ot.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(n.x1.x)+" "+Pt(n.x1.y)+" m"),r.push(Pt(n.x2.x)+" "+Pt(n.x2.y)+" l"),r.push(Pt(n.x4.x)+" "+Pt(n.x4.y)+" m"),r.push(Pt(n.x3.x)+" "+Pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Mi(e);t.scope=e.scope;var r=ot.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Pt(ot.internal.getWidth(e)-2)+" "+Pt(ot.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),n.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),n.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),n.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Mi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(ot.internal.getWidth(e))+" "+Pt(ot.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ot.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ot.internal.getWidth(e),r=ot.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ot.internal.getWidth=function(e){var t=0;return sr(e)==="object"&&(t=kP(e.Rect[2])),t},ot.internal.getHeight=function(e){var t=0;return sr(e)==="object"&&(t=kP(e.Rect[3])),t};var dre=Wr.addField=function(e){if(ure(this,e),!(e instanceof Si))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Wr.AcroFormChoiceField=Yd,Wr.AcroFormListBox=Kd,Wr.AcroFormComboBox=Xd,Wr.AcroFormEditBox=dv,Wr.AcroFormButton=kn,Wr.AcroFormPushButton=hv,Wr.AcroFormRadioButton=Zd,Wr.AcroFormCheckBox=fv,Wr.AcroFormTextField=nu,Wr.AcroFormPasswordField=pv,Wr.AcroFormAppearance=ot,Wr.AcroForm={ChoiceField:Yd,ListBox:Kd,ComboBox:Xd,EditBox:dv,Button:kn,PushButton:hv,RadioButton:Zd,CheckBox:fv,TextField:nu,PasswordField:pv,Appearance:ot},xt.AcroForm={ChoiceField:Yd,ListBox:Kd,ComboBox:Xd,EditBox:dv,Button:kn,PushButton:hv,RadioButton:Zd,CheckBox:fv,TextField:nu,PasswordField:pv,Appearance:ot};function TO(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(L,E){var W,F,K,ne,Y,I=t;if((E=E||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(M(L))for(Y in r)for(K=r[Y],W=0;W<K.length;W+=1){for(ne=!0,F=0;F<K[W].length;F+=1)if(K[W][F]!==void 0&&K[W][F]!==L[F]){ne=!1;break}if(ne===!0){I=Y;break}}else for(Y in r)for(K=r[Y],W=0;W<K.length;W+=1){for(ne=!0,F=0;F<K[W].length;F+=1)if(K[W][F]!==void 0&&K[W][F]!==L.charCodeAt(F)){ne=!1;break}if(ne===!0){I=Y;break}}return I===t&&E!==t&&(I=E),I},s=function L(E){for(var W=this.internal.write,F=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:E.width}),ne.push({key:"Height",value:E.height}),E.colorSpace===S.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===S.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var Y="",I=0,G=E.transparency.length;I<G;I++)Y+=E.transparency[I]+" "+E.transparency[I]+" ";ne.push({key:"Mask",value:"["+Y+"]"})}E.sMask!==void 0&&ne.push({key:"SMask",value:E.objectId+1+" 0 R"});var ie=E.filter!==void 0?["/"+E.filter]:void 0;if(F({data:E.data,additionalKeyValues:ne,alreadyAppliedFilters:ie,objectId:E.objectId}),W("endobj"),"sMask"in E&&E.sMask!==void 0){var me="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,A={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:me,data:E.sMask};"filter"in E&&(A.filter=E.filter),L.call(this,A)}if(E.colorSpace===S.INDEXED){var V=this.internal.newObject();F({data:T(new Uint8Array(E.palette)),objectId:V}),W("endobj")}},a=function(){var L=this.internal.collections.addImage_images;for(var E in L)s.call(this,L[E])},i=function(){var L,E=this.internal.collections.addImage_images,W=this.internal.write;for(var F in E)W("/I"+(L=E[F]).index,L.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",i))},c=function(){var L=this.internal.collections.addImage_images;return o.call(this),L},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(L){return typeof e["process"+L.toUpperCase()]=="function"},h=function(L){return sr(L)==="object"&&L.nodeType===1},f=function(L,E){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var W=""+L.getAttribute("src");if(W.indexOf("data:image/")===0)return jp(unescape(W).split("base64,").pop());var F=e.loadFile(W,!0);if(F!==void 0)return F}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var K;switch(E){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;case"JPEG":case"JPG":default:K="image/jpeg"}return jp(L.toDataURL(K,1).split("base64,").pop())}},p=function(L){var E=this.internal.collections.addImage_images;if(E){for(var W in E)if(L===E[W].alias)return E[W]}},g=function(L,E,W){return L||E||(L=-96,E=-96),L<0&&(L=-1*W.width*72/L/this.internal.scaleFactor),E<0&&(E=-1*W.height*72/E/this.internal.scaleFactor),L===0&&(L=E*W.width/W.height),E===0&&(E=L*W.height/W.width),[L,E]},y=function(L,E,W,F,K,ne){var Y=g.call(this,W,F,K),I=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,ie=c.call(this);if(W=Y[0],F=Y[1],ie[K.index]=K,ne){ne*=Math.PI/180;var me=Math.cos(ne),A=Math.sin(ne),V=function(ae){return ae.toFixed(4)},X=[V(me),V(A),V(-1*A),V(me),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,I(L),G(E+F),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([I(W),"0","0",I(F),"0","0","cm"].join(" "))):this.internal.write([I(W),"0","0",I(F),I(L),G(E+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(L){var E,W,F=0;if(typeof L=="string")for(W=L.length,E=0;E<W;E++)F=(F<<5)-F+L.charCodeAt(E),F|=0;else if(M(L))for(W=L.byteLength/2,E=0;E<W;E++)F=(F<<5)-F+L[E],F|=0;return F},N=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var E=!0;return L.length===0&&(E=!1),L.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(E=!1),E},C=e.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var E=L.indexOf(",");return E<0?null:L.substring(0,E).trim().endsWith("base64")?L.substring(E+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(L){return P()&&L instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(L){return P()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},R=e.__addimage__.binaryStringToUint8Array=function(L){for(var E=L.length,W=new Uint8Array(E),F=0;F<E;F++)W[F]=L.charCodeAt(F);return W},T=e.__addimage__.arrayBufferToBinaryString=function(L){for(var E="",W=M(L)?L:new Uint8Array(L),F=0;F<W.length;F+=8192)E+=String.fromCharCode.apply(null,W.subarray(F,F+8192));return E};e.addImage=function(){var L,E,W,F,K,ne,Y,I,G;if(typeof arguments[1]=="number"?(E=t,W=arguments[1],F=arguments[2],K=arguments[3],ne=arguments[4],Y=arguments[5],I=arguments[6],G=arguments[7]):(E=arguments[1],W=arguments[2],F=arguments[3],K=arguments[4],ne=arguments[5],Y=arguments[6],I=arguments[7],G=arguments[8]),sr(L=arguments[0])==="object"&&!h(L)&&"imageData"in L){var ie=L;L=ie.imageData,E=ie.format||E||t,W=ie.x||W||0,F=ie.y||F||0,K=ie.w||ie.width||K,ne=ie.h||ie.height||ne,Y=ie.alias||Y,I=ie.compression||I,G=ie.rotation||ie.angle||G}var me=this.internal.getFilters();if(I===void 0&&me.indexOf("FlateEncode")!==-1&&(I="SLOW"),isNaN(W)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var A=H.call(this,L,E,Y,I);return y.call(this,W,F,K,ne,A,G),this};var H=function(L,E,W,F){var K,ne,Y;if(typeof L=="string"&&n(L)===t){L=unescape(L);var I=Q(L,!1);(I!==""||(I=e.loadFile(L,!0))!==void 0)&&(L=I)}if(h(L)&&(L=f(L,E)),E=n(L,E),!d(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((Y=W)==null||Y.length===0)&&(W=function(G){return typeof G=="string"||M(G)?w(G):M(G.data)?w(G.data):null}(L)),(K=p.call(this,W))||(P()&&(L instanceof Uint8Array||E==="RGBA"||(ne=L,L=R(L))),K=this["process"+E.toUpperCase()](L,u.call(this),W,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:b.NONE}(F),ne)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},Q=e.__addimage__.convertBase64ToBinaryString=function(L,E){E=typeof E!="boolean"||E;var W,F="";if(typeof L=="string"){var K;W=(K=C(L))!==null&&K!==void 0?K:L;try{F=jp(W)}catch(ne){if(E)throw N(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(L){var E,W,F="";if(h(L)&&(L=f(L)),typeof L=="string"&&n(L)===t&&((F=Q(L,!1))===""&&(F=e.loadFile(L)||""),L=F),W=n(L),!d(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!P()||L instanceof Uint8Array||(L=R(L)),!(E=this["process"+W.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=W,E}})(xt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,a,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){n=u[f];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(y.objId),w=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(b(n.contents))+")",a+=" /Popup "+S.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(b(w))+") >>",y.content=a;var N=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+i(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(a+=" /Open true"),a+=" >>",S.content=a,this.internal.write(y.objId,"0 R",S.objId,"0 R");break;case"freetext":s="/Rect ["+i(n.bounds.x)+" "+o(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var M=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,a,i){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+a)},options:i,type:"link"})},e.textWithLink=function(r,n,s,a){var i,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(r,o).length;i=Math.ceil(u*d)}else o=c,i=u;return this.text(r,n,s,a),s+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,s-u,o,i,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(xt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},i=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return i(y)&&s.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return i(y)&&a(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var S=0,b=r,w="",N=0;for(S=0;S<y.length;S+=1)b[y.charCodeAt(S)]!==void 0?(N++,typeof(b=b[y.charCodeAt(S)])=="number"&&(w+=String.fromCharCode(b),b=r,N=0),S===y.length-1&&(b=r,w+=y.charAt(S-(N-1)),S-=N-1,N=0)):(b=r,w+=y.charAt(S-N),S-=N,N=0);return w};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(y,S,b){return i(y)?a(y)===!1?-1:!u(y)||!i(S)&&!i(b)||!i(b)&&o(S)||o(y)&&!i(S)||o(y)&&c(S)||o(y)&&o(S)?0:d(y)&&i(S)&&!o(S)&&i(b)&&u(b)?3:o(y)||!i(b)?1:2:-1},p=function(y){var S=0,b=0,w=0,N="",C="",P="",M=(y=y||"").split("\\s+"),R=[];for(S=0;S<M.length;S+=1){for(R.push(""),b=0;b<M[S].length;b+=1)N=M[S][b],C=M[S][b-1],P=M[S][b+1],i(N)?(w=f(N,C,P),R[S]+=w!==-1?String.fromCharCode(t[N.charCodeAt(0)][w]):N):R[S]+=N;R[S]=h(R[S])}return R.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var y,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(S)){var w=0;for(b=[],w=0;w<S.length;w+=1)Array.isArray(S[w])?b.push([p(S[w][0]),S[w][1],S[w][2]]):b.push([p(S[w])]);y=b}else y=p(S);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",g])}(xt.API),xt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(xt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,y=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,C){return N.concat(S.splitTextToSize(C,b))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)p<(y=this.getStringUnitWidth(c[w],{font:h})*d)&&(p=y);return p!==0&&(g=c.length),{w:p/=f,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,h,f){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,g,y,S,b=[],w=[],N=[],C={},P={},M=[],R=[],T=(f=f||{}).autoSize||!1,H=f.printHeaders!==!1,Q=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,L=f.margins||Object.assign({width:this.getPageWidth()},t),E=typeof f.padding=="number"?f.padding:3,W=f.headerBackgroundColor||"#c8c8c8",F=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=F,this.setFontSize(Q),h==null)w=b=Object.keys(d[0]),N=b.map(function(){return"left"});else if(Array.isArray(h)&&sr(h[0])==="object")for(b=h.map(function(ie){return ie.name}),w=h.map(function(ie){return ie.prompt||ie.name||""}),N=h.map(function(ie){return ie.align||"left"}),p=0;p<h.length;p+=1)P[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(w=b=h,N=b.map(function(){return"left"}));if(T||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<b.length;p+=1){for(C[S=b[p]]=d.map(function(ie){return ie[S]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[S],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)M.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[S]=Math.max.apply(null,M)+E+E,M=[]}if(H){var K={};for(p=0;p<b.length;p+=1)K[b[p]]={},K[b[p]].text=w[p],K[b[p]].align=N[p];var ne=o.call(this,K,P);R=b.map(function(ie){return new a(c,u,P[ie],ne,K[ie].text,void 0,K[ie].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var Y=h.reduce(function(ie,me){return ie[me.name]=me.align,ie},{});for(p=0;p<d.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:d[p]},this);var I=o.call(this,d[p],P);for(y=0;y<b.length;y+=1){var G=d[p][b[y]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:y,data:G},this),i.call(this,new a(c,u,P[b[y]],I,G,p+2,Y[b[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+d+d},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(xt.API);var LO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},DO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],L5=TO(DO),RO=[100,200,300,400,500,600,700,800,900],hre=TO(RO);function D5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return LO[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof L5[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function PP(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var fre={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},EP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AP(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function pre(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},fre,r.genericFontFamilies||{}),a=null,i=null,o=0;o<t.length;++o)if(s[(a=D5(t[o])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){i=e[a.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+AP(a)+"' and default family '"+n+"'.");if(i=function(c,u){if(u[c])return u[c];var d=L5[c],h=d<=L5.normal?-1:1,f=PP(u,DO,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(a.stretch,i),i=function(c,u){if(u[c])return u[c];for(var d=LO[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(a.style,i),!(i=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=hre[c],h=PP(u,RO,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+AP(a)+"'.");return i}function TP(e){return e.trimLeft()}function mre(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function gre(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $y,LP,DP,n2=["times"];(function(e){var t,r,n,s,a,i,o,c,u,d=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new c,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new i,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new i,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=A;Object.defineProperty(this,"pdf",{get:function(){return V}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(je){X=!!je}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(je){ae=!!je}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(je){isNaN(je)||(q=je)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(je){isNaN(je)||(se=je)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(je){var re;typeof je=="number"?re=[je,je,je,je]:((re=new Array(4))[0]=je[0],re[1]=je.length>=2?je[1]:re[0],re[2]=je.length>=3?je[2]:re[0],re[3]=je.length>=4?je[3]:re[1]),u.margin=re}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(je){ue=je}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(je){fe=je}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(je){Ce=je}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(je){je instanceof d&&(u=je)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(je){u.path=je}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(je){Pe=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var re;re=f(je),this.ctx.fillStyle=re.style,this.ctx.isFillTransparent=re.a===0,this.ctx.fillOpacity=re.a,this.pdf.setFillColor(re.r,re.g,re.b,{a:re.a}),this.pdf.setTextColor(re.r,re.g,re.b,{a:re.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var re=f(je);this.ctx.strokeStyle=re.style,this.ctx.isStrokeTransparent=re.a===0,this.ctx.strokeOpacity=re.a,re.a===0?this.pdf.setDrawColor(255,255,255):(re.a,this.pdf.setDrawColor(re.r,re.g,re.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var _e=null;function Ae(je,re){if(_e===null){var Ze=function(J){var ee=[];return Object.keys(J).forEach(function(oe){J[oe].forEach(function(Ne){var ye=null;switch(Ne){case"bold":ye={family:oe,weight:"bold"};break;case"italic":ye={family:oe,style:"italic"};break;case"bolditalic":ye={family:oe,weight:"bold",style:"italic"};break;case"":case"normal":ye={family:oe}}ye!==null&&(ye.ref={name:oe,style:Ne},ee.push(ye))})}),ee}(je.getFontList());_e=function(J){for(var ee={},oe=0;oe<J.length;++oe){var Ne=D5(J[oe]),ye=Ne.family,be=Ne.stretch,Ie=Ne.style,qe=Ne.weight;ee[ye]=ee[ye]||{},ee[ye][be]=ee[ye][be]||{},ee[ye][be][Ie]=ee[ye][be][Ie]||{},ee[ye][be][Ie][qe]=Ne}return ee}(Ze.concat(re))}return _e}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(je){_e=null,Ye=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var re;if(this.ctx.font=je,(re=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var Ze=re[1];re[2];var J=re[3],ee=re[4];re[5];var oe=re[6],Ne=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ee)[2];ee=Math.floor(Ne==="px"?parseFloat(ee)*this.pdf.internal.scaleFactor:Ne==="em"?parseFloat(ee)*this.pdf.getFontSize():parseFloat(ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ee);var ye=function(ut){var Nt,He,br=[],Ot=ut.trim();if(Ot==="")return n2;if(Ot in EP)return[EP[Ot]];for(;Ot!=="";){switch(He=null,Nt=(Ot=TP(Ot)).charAt(0)){case'"':case"'":He=mre(Ot.substring(1),Nt);break;default:He=gre(Ot)}if(He===null||(br.push(He[0]),(Ot=TP(He[1]))!==""&&Ot.charAt(0)!==","))return n2;Ot=Ot.replace(/^,/,"")}return br}(oe);if(this.fontFaces){var be=pre(Ae(this.pdf,this.fontFaces),ye.map(function(ut){return{family:ut,stretch:"normal",weight:J,style:Ze}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var Ie="";(J==="bold"||parseInt(J,10)>=700||Ze==="bold")&&(Ie="bold"),Ze==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var qe="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<ye.length;lt++){if(this.pdf.internal.getFont(ye[lt],Ie,{noFallback:!0,disableWarning:!0})!==void 0){qe=ye[lt];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(ye[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=ye[lt],Ie="bold";else if(this.pdf.internal.getFont(ye[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=ye[lt],Ie="normal";break}}if(qe===""){for(var Lt=0;Lt<ye.length;Lt++)if(it[ye[Lt]]){qe=it[ye[Lt]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};h.prototype.setLineDash=function(A){this.lineDash=A},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){C.call(this,"fill",!1)},h.prototype.stroke=function(){C.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(A,V){if(isNaN(A)||isNaN(V))throw hr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new i(A,V));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new i(A,V)},h.prototype.closePath=function(){var A=new i(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&sr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){A=new i(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(A.x,A.y)},h.prototype.lineTo=function(A,V){if(isNaN(A)||isNaN(V))throw hr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new i(A,V));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new i(X.x,X.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},h.prototype.quadraticCurveTo=function(A,V,X,ae){if(isNaN(X)||isNaN(ae)||isNaN(A)||isNaN(V))throw hr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new i(X,ae)),se=this.ctx.transform.applyToPoint(new i(A,V));this.path.push({type:"qct",x1:se.x,y1:se.y,x:q.x,y:q.y}),this.ctx.lastPoint=new i(q.x,q.y)},h.prototype.bezierCurveTo=function(A,V,X,ae,q,se){if(isNaN(q)||isNaN(se)||isNaN(A)||isNaN(V)||isNaN(X)||isNaN(ae))throw hr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new i(q,se)),fe=this.ctx.transform.applyToPoint(new i(A,V)),Ce=this.ctx.transform.applyToPoint(new i(X,ae));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ce.x,y2:Ce.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new i(ue.x,ue.y)},h.prototype.arc=function(A,V,X,ae,q,se){if(isNaN(A)||isNaN(V)||isNaN(X)||isNaN(ae)||isNaN(q))throw hr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new i(A,V));A=ue.x,V=ue.y;var fe=this.ctx.transform.applyToPoint(new i(0,X)),Ce=this.ctx.transform.applyToPoint(new i(0,0));X=Math.sqrt(Math.pow(fe.x-Ce.x,2)+Math.pow(fe.y-Ce.y,2))}Math.abs(q-ae)>=2*Math.PI&&(ae=0,q=2*Math.PI),this.path.push({type:"arc",x:A,y:V,radius:X,startAngle:ae,endAngle:q,counterclockwise:se})},h.prototype.arcTo=function(A,V,X,ae,q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(A,V,X,ae){if(isNaN(A)||isNaN(V)||isNaN(X)||isNaN(ae))throw hr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,V),this.lineTo(A+X,V),this.lineTo(A+X,V+ae),this.lineTo(A,V+ae),this.lineTo(A,V),this.lineTo(A+X,V),this.lineTo(A,V)},h.prototype.fillRect=function(A,V,X,ae){if(isNaN(A)||isNaN(V)||isNaN(X)||isNaN(ae))throw hr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,V,X,ae),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},h.prototype.strokeRect=function(A,V,X,ae){if(isNaN(A)||isNaN(V)||isNaN(X)||isNaN(ae))throw hr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(A,V,X,ae),this.stroke())},h.prototype.clearRect=function(A,V,X,ae){if(isNaN(A)||isNaN(V)||isNaN(X)||isNaN(ae))throw hr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,V,X,ae))},h.prototype.save=function(A){A=typeof A!="boolean"||A;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},h.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(V),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(A){var V,X,ae,q;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))V=0,X=0,ae=0,q=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(se!==null)V=parseInt(se[1]),X=parseInt(se[2]),ae=parseInt(se[3]),q=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)V=parseInt(se[1]),X=parseInt(se[2]),ae=parseInt(se[3]),q=parseFloat(se[4]);else{if(q=1,typeof A=="string"&&A.charAt(0)!=="#"){var ue=new jO(A);A=ue.ok?ue.toHex():"#000000"}A.length===4?(V=A.substring(1,2),V+=V,X=A.substring(2,3),X+=X,ae=A.substring(3,4),ae+=ae):(V=A.substring(1,3),X=A.substring(3,5),ae=A.substring(5,7)),V=parseInt(V,16),X=parseInt(X,16),ae=parseInt(ae,16)}}return{r:V,g:X,b:ae,a:q,style:A}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(A,V,X,ae){if(isNaN(V)||isNaN(X)||typeof A!="string")throw hr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!p.call(this)){var q=I(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;E.call(this,{text:A,x:V,y:X,scale:se,angle:q,align:this.textAlign,maxWidth:ae})}},h.prototype.strokeText=function(A,V,X,ae){if(isNaN(V)||isNaN(X)||typeof A!="string")throw hr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ae=isNaN(ae)?void 0:ae;var q=I(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;E.call(this,{text:A,x:V,y:X,scale:se,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:ae})}},h.prototype.measureText=function(A){if(typeof A!="string")throw hr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,X=this.pdf.internal.scaleFactor,ae=V.internal.getFontSize(),q=V.getStringUnitWidth(A)*ae/V.internal.scaleFactor,se=function(ue){var fe=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new se({width:q*=Math.round(96*X/72*1e4)/1e4})},h.prototype.scale=function(A,V){if(isNaN(A)||isNaN(V))throw hr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(A,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.rotate=function(A){if(isNaN(A))throw hr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new c(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.translate=function(A,V){if(isNaN(A)||isNaN(V))throw hr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,A,V);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.transform=function(A,V,X,ae,q,se){if(isNaN(A)||isNaN(V)||isNaN(X)||isNaN(ae)||isNaN(q)||isNaN(se))throw hr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(A,V,X,ae,q,se);this.ctx.transform=this.ctx.transform.multiply(ue)},h.prototype.setTransform=function(A,V,X,ae,q,se){A=isNaN(A)?1:A,V=isNaN(V)?0:V,X=isNaN(X)?0:X,ae=isNaN(ae)?1:ae,q=isNaN(q)?0:q,se=isNaN(se)?0:se,this.ctx.transform=new c(A,V,X,ae,q,se)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(A,V,X,ae,q,se,ue,fe,Ce){var Pe=this.pdf.getImageProperties(A),_e=1,Ae=1,Ye=1,je=1;ae!==void 0&&fe!==void 0&&(Ye=fe/ae,je=Ce/q,_e=Pe.width/ae*fe/ae,Ae=Pe.height/q*Ce/q),se===void 0&&(se=V,ue=X,V=0,X=0),ae!==void 0&&fe===void 0&&(fe=ae,Ce=q),ae===void 0&&fe===void 0&&(fe=Pe.width,Ce=Pe.height);for(var re,Ze=this.ctx.transform.decompose(),J=I(Ze.rotate.shx),ee=new c,oe=(ee=(ee=(ee=ee.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new o(se-V*Ye,ue-X*je,ae*_e,q*Ae)),Ne=S.call(this,oe),ye=[],be=0;be<Ne.length;be+=1)ye.indexOf(Ne[be])===-1&&ye.push(Ne[be]);if(N(ye),this.autoPaging)for(var Ie=ye[0],qe=ye[ye.length-1],it=Ie;it<qe+1;it++){this.pdf.setPage(it);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=it===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=it===1?0:ut+(it-2)*Nt;if(this.ctx.clip_path.length!==0){var br=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(re,this.posX+this.margin[3],-He+Lt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=br}var Ot=JSON.parse(JSON.stringify(oe));Ot=w([Ot],this.posX+this.margin[3],-He+Lt+this.ctx.prevPageLastElemOffset)[0];var as=(it>Ie||it<qe)&&y.call(this);as&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Nt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,J),as&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",oe.x,oe.y,oe.w,oe.h,null,null,J)};var S=function(A,V,X){var ae=[];V=V||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":ae.push(Math.floor((A.y+q)/X)+1);break;case"arc":ae.push(Math.floor((A.y+q-A.radius)/X)+1),ae.push(Math.floor((A.y+q+A.radius)/X)+1);break;case"qct":var se=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);ae.push(Math.floor((se.y+q)/X)+1),ae.push(Math.floor((se.y+se.h+q)/X)+1);break;case"bct":var ue=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);ae.push(Math.floor((ue.y+q)/X)+1),ae.push(Math.floor((ue.y+ue.h+q)/X)+1);break;case"rect":ae.push(Math.floor((A.y+q)/X)+1),ae.push(Math.floor((A.y+A.h+q)/X)+1)}for(var fe=0;fe<ae.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<ae[fe];)b.call(this);return ae},b=function(){var A=this.fillStyle,V=this.strokeStyle,X=this.font,ae=this.lineCap,q=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=V,this.font=X,this.lineCap=ae,this.lineWidth=q,this.lineJoin=se},w=function(A,V,X){for(var ae=0;ae<A.length;ae++)switch(A[ae].type){case"bct":A[ae].x2+=V,A[ae].y2+=X;case"qct":A[ae].x1+=V,A[ae].y1+=X;case"mt":case"lt":case"arc":default:A[ae].x+=V,A[ae].y+=X}return A},N=function(A){return A.sort(function(V,X){return V-X})},C=function(A,V){for(var X,ae,q=this.fillStyle,se=this.strokeStyle,ue=this.lineCap,fe=this.lineWidth,Ce=Math.abs(fe*this.ctx.transform.scaleX),Pe=this.lineJoin,_e=JSON.parse(JSON.stringify(this.path)),Ae=JSON.parse(JSON.stringify(this.path)),Ye=[],je=0;je<Ae.length;je++)if(Ae[je].x!==void 0)for(var re=S.call(this,Ae[je]),Ze=0;Ze<re.length;Ze+=1)Ye.indexOf(re[Ze])===-1&&Ye.push(re[Ze]);for(var J=0;J<Ye.length;J++)for(;this.pdf.internal.getNumberOfPages()<Ye[J];)b.call(this);if(N(Ye),this.autoPaging)for(var ee=Ye[0],oe=Ye[Ye.length-1],Ne=ee;Ne<oe+1;Ne++){this.pdf.setPage(Ne),this.fillStyle=q,this.strokeStyle=se,this.lineCap=ue,this.lineWidth=Ce,this.lineJoin=Pe;var ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=Ne===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Ne===1?0:Ie+(Ne-2)*qe;if(this.ctx.clip_path.length!==0){var lt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(X,this.posX+this.margin[3],-it+be+this.ctx.prevPageLastElemOffset),P.call(this,A,!0),this.path=lt}if(ae=JSON.parse(JSON.stringify(_e)),this.path=w(ae,this.posX+this.margin[3],-it+be+this.ctx.prevPageLastElemOffset),V===!1||Ne===0){var Lt=(Ne>ee||Ne<oe)&&y.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ye,qe,null).clip().discardPath()),P.call(this,A,V),Lt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ce,P.call(this,A,V),this.lineWidth=fe;this.path=_e},P=function(A,V){if((A!=="stroke"||V||!g.call(this))&&(A==="stroke"||V||!p.call(this))){for(var X,ae,q=[],se=this.path,ue=0;ue<se.length;ue++){var fe=se[ue];switch(fe.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ce=q.length;if(se[ue-1]&&!isNaN(se[ue-1].x)&&(X=[fe.x-se[ue-1].x,fe.y-se[ue-1].y],Ce>0)){for(;Ce>=0;Ce--)if(q[Ce-1].close!==!0&&q[Ce-1].begin!==!0){q[Ce-1].deltas.push(X),q[Ce-1].abs.push(fe);break}}break;case"bct":X=[fe.x1-se[ue-1].x,fe.y1-se[ue-1].y,fe.x2-se[ue-1].x,fe.y2-se[ue-1].y,fe.x-se[ue-1].x,fe.y-se[ue-1].y],q[q.length-1].deltas.push(X);break;case"qct":var Pe=se[ue-1].x+2/3*(fe.x1-se[ue-1].x),_e=se[ue-1].y+2/3*(fe.y1-se[ue-1].y),Ae=fe.x+2/3*(fe.x1-fe.x),Ye=fe.y+2/3*(fe.y1-fe.y),je=fe.x,re=fe.y;X=[Pe-se[ue-1].x,_e-se[ue-1].y,Ae-se[ue-1].x,Ye-se[ue-1].y,je-se[ue-1].x,re-se[ue-1].y],q[q.length-1].deltas.push(X);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(fe)}}ae=V?null:A==="stroke"?"stroke":"fill";for(var Ze=!1,J=0;J<q.length;J++)if(q[J].arc)for(var ee=q[J].abs,oe=0;oe<ee.length;oe++){var Ne=ee[oe];Ne.type==="arc"?T.call(this,Ne.x,Ne.y,Ne.radius,Ne.startAngle,Ne.endAngle,Ne.counterclockwise,void 0,V,!Ze):W.call(this,Ne.x,Ne.y),Ze=!0}else if(q[J].close===!0)this.pdf.internal.out("h"),Ze=!1;else if(q[J].begin!==!0){var ye=q[J].start.x,be=q[J].start.y;F.call(this,q[J].deltas,ye,be),Ze=!0}ae&&H.call(this,ae),V&&Q.call(this)}},M=function(A){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-X;case"top":return A+V-X;case"hanging":return A+V-2*X;case"middle":return A+V/2-X;case"ideographic":return A;case"alphabetic":default:return A}},R=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(V,X){this.colorStops.push([V,X])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(A,V,X,ae,q,se,ue,fe,Ce){for(var Pe=ne.call(this,X,ae,q,se),_e=0;_e<Pe.length;_e++){var Ae=Pe[_e];_e===0&&(Ce?L.call(this,Ae.x1+A,Ae.y1+V):W.call(this,Ae.x1+A,Ae.y1+V)),K.call(this,A,V,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}fe?Q.call(this):H.call(this,ue)},H=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(A,V){this.pdf.internal.out(r(A)+" "+n(V)+" m")},E=function(A){var V;switch(A.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var X=this.pdf.getTextDimensions(A.text),ae=M.call(this,A.y),q=R.call(this,ae)-X.h,se=this.ctx.transform.applyToPoint(new i(A.x,ae)),ue=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Ce,Pe,_e,Ae=this.ctx.transform.applyToRectangle(new o(A.x,ae,X.w,X.h)),Ye=fe.applyToRectangle(new o(A.x,q,X.w,X.h)),je=S.call(this,Ye),re=[],Ze=0;Ze<je.length;Ze+=1)re.indexOf(je[Ze])===-1&&re.push(je[Ze]);if(N(re),this.autoPaging)for(var J=re[0],ee=re[re.length-1],oe=J;oe<ee+1;oe++){this.pdf.setPage(oe);var Ne=oe===1?this.posY+this.margin[0]:this.margin[0],ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],Ie=be-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],it=qe-this.margin[3],lt=oe===1?0:ye+(oe-2)*Ie;if(this.ctx.clip_path.length!==0){var Lt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ce,this.posX+this.margin[3],-1*lt+Ne),P.call(this,"fill",!0),this.path=Lt}var ut=w([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-lt+Ne+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*A.scale),_e=this.lineWidth,this.lineWidth=_e*A.scale);var Nt=this.autoPaging!=="text";if(Nt||ut.y+ut.h<=be){if(Nt||ut.y>=Ne&&ut.x<=qe){var He=Nt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||qe-ut.x)[0],br=w([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-lt+Ne+this.ctx.prevPageLastElemOffset)[0],Ot=Nt&&(oe>J||oe<ee)&&y.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ie,null).clip().discardPath()),this.pdf.text(He,br.x,br.y,{angle:A.angle,align:V,renderingMode:A.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else ut.y<be&&(this.ctx.prevPageLastElemOffset+=be-ut.y);A.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=_e)}else A.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*A.scale),_e=this.lineWidth,this.lineWidth=_e*A.scale),this.pdf.text(A.text,se.x+this.posX,se.y+this.posY,{angle:A.angle,align:V,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=_e)},W=function(A,V,X,ae){X=X||0,ae=ae||0,this.pdf.internal.out(r(A+X)+" "+n(V+ae)+" l")},F=function(A,V,X){return this.pdf.lines(A,V,X,null,null)},K=function(A,V,X,ae,q,se,ue,fe){this.pdf.internal.out([t(s(X+A)),t(a(ae+V)),t(s(q+A)),t(a(se+V)),t(s(ue+A)),t(a(fe+V)),"c"].join(" "))},ne=function(A,V,X,ae){for(var q=2*Math.PI,se=Math.PI/2;V>X;)V-=q;var ue=Math.abs(X-V);ue<q&&ae&&(ue=q-ue);for(var fe=[],Ce=ae?-1:1,Pe=V;ue>1e-5;){var _e=Pe+Ce*Math.min(ue,se);fe.push(Y.call(this,A,Pe,_e)),ue-=Math.abs(_e-Pe),Pe=_e}return fe},Y=function(A,V,X){var ae=(X-V)/2,q=A*Math.cos(ae),se=A*Math.sin(ae),ue=q,fe=-se,Ce=ue*ue+fe*fe,Pe=Ce+ue*q+fe*se,_e=4/3*(Math.sqrt(2*Ce*Pe)-Pe)/(ue*se-fe*q),Ae=ue-_e*fe,Ye=fe+_e*ue,je=Ae,re=-Ye,Ze=ae+V,J=Math.cos(Ze),ee=Math.sin(Ze);return{x1:A*Math.cos(V),y1:A*Math.sin(V),x2:Ae*J-Ye*ee,y2:Ae*ee+Ye*J,x3:je*J-re*ee,y3:je*ee+re*J,x4:A*Math.cos(X),y4:A*Math.sin(X)}},I=function(A){return 180*A/Math.PI},G=function(A,V,X,ae,q,se){var ue=A+.5*(X-A),fe=V+.5*(ae-V),Ce=q+.5*(X-q),Pe=se+.5*(ae-se),_e=Math.min(A,q,ue,Ce),Ae=Math.max(A,q,ue,Ce),Ye=Math.min(V,se,fe,Pe),je=Math.max(V,se,fe,Pe);return new o(_e,Ye,Ae-_e,je-Ye)},ie=function(A,V,X,ae,q,se,ue,fe){var Ce,Pe,_e,Ae,Ye,je,re,Ze,J,ee,oe,Ne,ye,be,Ie=X-A,qe=ae-V,it=q-X,lt=se-ae,Lt=ue-q,ut=fe-se;for(Pe=0;Pe<41;Pe++)J=(re=(_e=A+(Ce=Pe/40)*Ie)+Ce*((Ye=X+Ce*it)-_e))+Ce*(Ye+Ce*(q+Ce*Lt-Ye)-re),ee=(Ze=(Ae=V+Ce*qe)+Ce*((je=ae+Ce*lt)-Ae))+Ce*(je+Ce*(se+Ce*ut-je)-Ze),Pe==0?(oe=J,Ne=ee,ye=J,be=ee):(oe=Math.min(oe,J),Ne=Math.min(Ne,ee),ye=Math.max(ye,J),be=Math.max(be,ee));return new o(Math.round(oe),Math.round(Ne),Math.round(ye-oe),Math.round(be-Ne))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,V,X=(A=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:V}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(xt.API),function(e){var t=function(a){var i,o,c,u,d,h,f,p,g,y;for(o=[],c=0,u=(a+=i="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(d=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(y=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,o.push(h+33,f+33,p+33,g+33,y+33)):o.push(122);return function(S,b){for(var w=b;w>0;w--)S.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},r=function(a){var i,o,c,u,d,h=String,f="length",p=255,g="charCodeAt",y="slice",S="replace";for(a[y](-2),a=a[y](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],u=0,d=(a+=i="uuuuu"[y](a[f]%5||5))[f];d>u;u+=5)o=52200625*(a[g](u)-33)+614125*(a[g](u+1)-33)+7225*(a[g](u+2)-33)+85*(a[g](u+3)-33)+(a[g](u+4)-33),c.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(b,w){for(var N=w;N>0;N--)b.pop()}(c,i[f]),h.fromCharCode.apply(h,c)},n=function(a){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),i.test(a)===!1)return"";for(var o="",c=0;c<a.length;c+=2)o+=String.fromCharCode("0x"+(a[c]+a[c+1]));return o},s=function(a){for(var i=new Uint8Array(a.length),o=a.length;o--;)i[o]=a.charCodeAt(o);return a=(i=k5(i)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,i){var o=0,c=a||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(xt.API),function(e){e.loadFile=function(t,r,n){return function(s,a,i){a=a!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(c,u,d){var h=new XMLHttpRequest,f=0,p=function(g){var y=g.length,S=[],b=String.fromCharCode;for(f=0;f<y;f+=1)S.push(b(255&g.charCodeAt(f)));return S.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(s,a,i)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(xt.API),function(e){function t(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):$o(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function r(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):$o(()=>import("./purify.es-D-QPbZEk.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var n=function(i){var o=sr(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(i,o){var c=document.createElement(i);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},a=function i(o){var c=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(i,o){return i.__proto__=o||a.prototype,i},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:i,dompurify:c})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},a.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],g=p.src.find(function(y){return y.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(i,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},a.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},a.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},a.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(i){if(n(i)!=="object")return this;var o=Object.keys(i||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=i[c]};switch(c){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[c]=i[c]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(i,o){return this.then(function(){var c=i in a.template.prop?this.prop[i]:this.opt[i];return o?o(c):c})},a.prototype.setMargin=function(i){return this.then(function(){switch(n(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},a.prototype.setPageSize=function(i){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(i=i||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},a.prototype.setProgress=function(i,o,c,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(i,o,c,u){return this.setProgress(i?this.progress.val+i:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(i,o){var c=this;return this.thenCore(i,o,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},a.prototype.thenCore=function(i,o,c){c=c||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),d=c.call(u,i,o);return a.convert(d,this.__proto__)},a.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},a.prototype.thenList=function(i){var o=this;return i.forEach(function(c){o=o.thenCore(c)}),o},a.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return a.convert(o,this)},a.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},a.prototype.error=function(i){return this.then(function(){throw new Error(i)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,xt.getPageSize=function(i,o,c){if(sr(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",i=(""+(i||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,g=0,y=0;if(f.hasOwnProperty(h))g=f[h][1]/d,y=f[h][0]/d;else try{g=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(i==="p"||i==="portrait")i="p",y>g&&(p=y,y=g,g=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",g>y&&(p=y,y=g,g=p)}return{width:y,height:g,unit:o,k:d,orientation:i}},e.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(D5):null;var c=new a(o);return o.worker?c:c.from(i).doCallback()}}(xt.API),xt.API.addJS=function(e){return DP=e,this.internal.events.subscribe("postPutResources",function(){$y=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($y+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),LP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+DP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$y!==void 0&&LP!==void 0&&this.internal.out("/Names <</JavaScript "+$y+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),a=0;a<s.length;a++){var i=s[a],o=n.exec(i);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=r.internal.newObject();d.push(h);var f=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<d.length;a++)r.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,a){var i={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(i),i},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var i=n.children[a];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var c=r.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}(xt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,a,i,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=i||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,y={width:0,height:0,numcomponents:1},S=4;S<g;S+=2){if(S+=p,t.indexOf(h.charCodeAt(S+1))!==-1){f=256*h.charCodeAt(S+5)+h.charCodeAt(S+6),y={width:256*h.charCodeAt(S+7)+h.charCodeAt(S+8),height:f,numcomponents:h.charCodeAt(S+9)};break}p=256*h.charCodeAt(S+2)+h.charCodeAt(S+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(xt.API);var dd,Uy,RP,OP,MP,yre=function(){var e,t,r;function n(a){var i,o,c,u,d,h,f,p,g,y,S,b,w,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(i=this.readUInt32(),g=(function(){var C,P;for(P=[],C=0;C<4;++C)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,i-=4),a=(h!=null?h.data:void 0)||this.imgData,b=0;0<=i?b<i:b>i;0<=i?++b:--b)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(w=0;0<=y?w<y:w>y;0<=y?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":f=(S=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,S.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,S.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var i,o;for(o=[],i=0;0<=a?i<a:i>a;0<=a?++i:--i)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function d(h,f,p,g){var y,S,b,w,N,C,P,M,R,T,H,Q,L,E,W,F,K,ne,Y,I,G,ie=Math.ceil((u.width-h)/p),me=Math.ceil((u.height-f)/g),A=u.width==ie&&u.height==me;for(E=i*ie,Q=A?o:new Uint8Array(E*me),C=a.length,L=0,S=0;L<me&&c<C;){switch(a[c++]){case 0:for(w=K=0;K<E;w=K+=1)Q[S++]=a[c++];break;case 1:for(w=ne=0;ne<E;w=ne+=1)y=a[c++],N=w<i?0:Q[S-i],Q[S++]=(y+N)%256;break;case 2:for(w=Y=0;Y<E;w=Y+=1)y=a[c++],b=(w-w%i)/i,W=L&&Q[(L-1)*E+b*i+w%i],Q[S++]=(W+y)%256;break;case 3:for(w=I=0;I<E;w=I+=1)y=a[c++],b=(w-w%i)/i,N=w<i?0:Q[S-i],W=L&&Q[(L-1)*E+b*i+w%i],Q[S++]=(y+Math.floor((N+W)/2))%256;break;case 4:for(w=G=0;G<E;w=G+=1)y=a[c++],b=(w-w%i)/i,N=w<i?0:Q[S-i],L===0?W=F=0:(W=Q[(L-1)*E+b*i+w%i],F=b&&Q[(L-1)*E+(b-1)*i+w%i]),P=N+W-F,M=Math.abs(P-N),T=Math.abs(P-W),H=Math.abs(P-F),R=M<=T&&M<=H?N:T<=H?W:F,Q[S++]=(y+R)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!A){var V=((f+L*g)*u.width+h)*i,X=L*E;for(w=0;w<ie;w+=1){for(var ae=0;ae<i;ae+=1)o[V++]=Q[X++];V+=(p-1)*i}}L++}}return a=Kte(a),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var a,i,o,c,u,d,h,f,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),c=0,a=0,i=h=0,f=o.length;h<f;i=h+=3)u[c++]=o[i],u[c++]=o[i+1],u[c++]=o[i+2],u[c++]=(p=d[a++])!=null?p:255;return u},n.prototype.copyToImageData=function(a,i){var o,c,u,d,h,f,p,g,y,S,b;if(c=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(u=a.data||a).length,h=y||i,d=f=0,c===1)for(;d<g;)p=y?4*i[d/4]:f,S=h[p++],u[d++]=S,u[d++]=S,u[d++]=S,u[d++]=o?h[p++]:255,f=p;else for(;d<g;)p=y?4*i[d/4]:f,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=o?h[p++]:255,f=p},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(wt)==="[object Window]"){try{t=wt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var i;if(s()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var i,o,c,u,d,h,f,p;if(this.animation){for(p=[],o=d=0,h=(f=this.animation.frames).length;d<h;o=++d)i=f[o],c=a.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(c,u),i.imageData=c,p.push(i.image=e(c));return p}},n.prototype.renderFrame=function(a,i){var o,c,u;return o=(c=this.animation.frames)[i],u=c[i-1],i===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(a){var i,o,c,u,d,h,f=this;return o=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(i=function(){var p,g;if(p=o++%u,g=c[p],f.renderFrame(a,p),u>1&&o/u<d)return f.animation._timeout=setTimeout(i,g.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var i,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,i=a.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function vre(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,i=1<<(7&s)+1;e[t++],e[t++];var o=null,c=null;a&&(o=t,c=i,t+=3*i);var u=!0,d=[],h=0,f=null,p=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,f=e[t++],!(1&y)&&(f=null),p=y>>2&7,t++;break;case 254:for(;;){if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,C=e[t++],P=C>>6&1,M=1<<(7&C)+1,R=o,T=c,H=!1;C>>7&&(H=!0,R=t,T=M,t+=3*M);var Q=t;for(t++;;){var L;if(!((L=e[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}d.push({x:S,y:b,width:w,height:N,has_local_palette:H,palette_offset:R,palette_size:T,data_offset:Q,data_length:t-Q,transparent_index:f,interlaced:!!P,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,W){var F=this.frameInfo(E),K=F.width*F.height,ne=new Uint8Array(K);IP(e,F.data_offset,ne,K);var Y=F.palette_offset,I=F.transparent_index;I===null&&(I=256);var G=F.width,ie=r-G,me=G,A=4*(F.y*r+F.x),V=4*((F.y+F.height)*r+F.x),X=A,ae=4*ie;F.interlaced===!0&&(ae+=4*r*7);for(var q=8,se=0,ue=ne.length;se<ue;++se){var fe=ne[se];if(me===0&&(me=G,(X+=ae)>=V&&(ae=4*ie+4*r*(q-1),X=A+(G+ie)*(q<<1),q>>=1)),fe===I)X+=4;else{var Ce=e[Y+3*fe],Pe=e[Y+3*fe+1],_e=e[Y+3*fe+2];W[X++]=_e,W[X++]=Pe,W[X++]=Ce,W[X++]=255}--me}},this.decodeAndBlitFrameRGBA=function(E,W){var F=this.frameInfo(E),K=F.width*F.height,ne=new Uint8Array(K);IP(e,F.data_offset,ne,K);var Y=F.palette_offset,I=F.transparent_index;I===null&&(I=256);var G=F.width,ie=r-G,me=G,A=4*(F.y*r+F.x),V=4*((F.y+F.height)*r+F.x),X=A,ae=4*ie;F.interlaced===!0&&(ae+=4*r*7);for(var q=8,se=0,ue=ne.length;se<ue;++se){var fe=ne[se];if(me===0&&(me=G,(X+=ae)>=V&&(ae=4*ie+4*r*(q-1),X=A+(G+ie)*(q<<1),q>>=1)),fe===I)X+=4;else{var Ce=e[Y+3*fe],Pe=e[Y+3*fe+1],_e=e[Y+3*fe+2];W[X++]=Ce,W[X++]=Pe,W[X++]=_e,W[X++]=255}--me}}}function IP(e,t,r,n){for(var s=e[t++],a=1<<s,i=a+1,o=i+1,c=s+1,u=(1<<c)-1,d=0,h=0,f=0,p=e[t++],g=new Int32Array(4096),y=null;;){for(;d<16&&p!==0;)h|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var S=h&u;if(h>>=c,d-=c,S!==a){if(S===i)break;for(var b=S<o?S:y,w=0,N=b;N>a;)N=g[N]>>8,++w;var C=N;if(f+w+(b!==S?1:0)>n)return void hr.log("Warning, gif stream longer than expected.");r[f++]=C;var P=f+=w;for(b!==S&&(r[f++]=C),N=b;w--;)N=g[N],r[--P]=255&N,N>>=8;y!==null&&o<4096&&(g[o++]=y<<8|C,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=S}else o=i+1,u=(1<<(c=s+1))-1,y=null}return f!==n&&hr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function s2(e){var t,r,n,s,a,i=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),g=new Array(64),y=[],S=0,b=7,w=new Array(64),N=new Array(64),C=new Array(64),P=new Array(256),M=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(A,V){for(var X=0,ae=0,q=new Array,se=1;se<=16;se++){for(var ue=1;ue<=A[se];ue++)q[V[ae]]=[],q[V[ae]][0]=X,q[V[ae]][1]=se,ae++,X++;X*=2}return q}function Y(A){for(var V=A[0],X=A[1]-1;X>=0;)V&1<<X&&(S|=1<<b),X--,--b<0&&(S==255?(I(255),I(0)):I(S),b=7,S=0)}function I(A){y.push(A)}function G(A){I(A>>8&255),I(255&A)}function ie(A,V,X,ae,q){for(var se,ue=q[0],fe=q[240],Ce=function(ee,oe){var Ne,ye,be,Ie,qe,it,lt,Lt,ut,Nt,He=0;for(ut=0;ut<8;++ut){Ne=ee[He],ye=ee[He+1],be=ee[He+2],Ie=ee[He+3],qe=ee[He+4],it=ee[He+5],lt=ee[He+6];var br=Ne+(Lt=ee[He+7]),Ot=Ne-Lt,as=ye+lt,Vt=ye-lt,Wt=be+it,fa=be-it,et=Ie+qe,Ht=Ie-qe,vt=br+et,$r=br-et,cn=as+Wt,ur=as-Wt;ee[He]=vt+cn,ee[He+4]=vt-cn;var jt=.707106781*(ur+$r);ee[He+2]=$r+jt,ee[He+6]=$r-jt;var Jt=.382683433*((vt=Ht+fa)-(ur=Vt+Ot)),vc=.5411961*vt+Jt,Ln=1.306562965*ur+Jt,Ni=.707106781*(cn=fa+Vt),ji=Ot+Ni,gt=Ot-Ni;ee[He+5]=gt+vc,ee[He+3]=gt-vc,ee[He+1]=ji+Ln,ee[He+7]=ji-Ln,He+=8}for(He=0,ut=0;ut<8;++ut){Ne=ee[He],ye=ee[He+8],be=ee[He+16],Ie=ee[He+24],qe=ee[He+32],it=ee[He+40],lt=ee[He+48];var Ia=Ne+(Lt=ee[He+56]),Ci=Ne-Lt,bs=ye+lt,mn=ye-lt,un=be+it,Ws=be-it,Pu=Ie+qe,so=Ie-qe,Fa=Ia+Pu,Ba=Ia-Pu,$a=bs+un,ki=bs-un;ee[He]=Fa+$a,ee[He+32]=Fa-$a;var pa=.707106781*(ki+Ba);ee[He+16]=Ba+pa,ee[He+48]=Ba-pa;var Pi=.382683433*((Fa=so+Ws)-(ki=mn+Ci)),xc=.5411961*Fa+Pi,Eu=1.306562965*ki+Pi,Au=.707106781*($a=Ws+mn),Tu=Ci+Au,Lu=Ci-Au;ee[He+40]=Lu+xc,ee[He+24]=Lu-xc,ee[He+8]=Tu+Eu,ee[He+56]=Tu-Eu,He++}for(ut=0;ut<64;++ut)Nt=ee[ut]*oe[ut],p[ut]=Nt>0?Nt+.5|0:Nt-.5|0;return p}(A,V),Pe=0;Pe<64;++Pe)g[R[Pe]]=Ce[Pe];var _e=g[0]-X;X=g[0],_e==0?Y(ae[0]):(Y(ae[f[se=32767+_e]]),Y(h[se]));for(var Ae=63;Ae>0&&g[Ae]==0;)Ae--;if(Ae==0)return Y(ue),X;for(var Ye,je=1;je<=Ae;){for(var re=je;g[je]==0&&je<=Ae;)++je;var Ze=je-re;if(Ze>=16){Ye=Ze>>4;for(var J=1;J<=Ye;++J)Y(fe);Ze&=15}se=32767+g[je],Y(q[(Ze<<4)+f[se]]),Y(h[se]),je++}return Ae!=63&&Y(ue),X}function me(A){A=Math.min(Math.max(A,1),100),a!=A&&(function(V){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var q=i((X[ae]*V+50)/100);q=Math.min(Math.max(q,1),255),o[R[ae]]=q}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var fe=i((se[ue]*V+50)/100);fe=Math.min(Math.max(fe,1),255),c[R[ue]]=fe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,_e=0;_e<8;_e++)for(var Ae=0;Ae<8;Ae++)u[Pe]=1/(o[R[Pe]]*Ce[_e]*Ce[Ae]*8),d[Pe]=1/(c[R[Pe]]*Ce[_e]*Ce[Ae]*8),Pe++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),a=A)}this.encode=function(A,V){V&&me(V),y=new Array,S=0,b=7,G(65496),G(65504),G(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),G(1),G(1),I(0),I(0),function(){G(65499),G(132),I(0);for(var ye=0;ye<64;ye++)I(o[ye]);I(1);for(var be=0;be<64;be++)I(c[be])}(),function(ye,be){G(65472),G(17),I(8),G(be),G(ye),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(A.width,A.height),function(){G(65476),G(418),I(0);for(var ye=0;ye<16;ye++)I(T[ye+1]);for(var be=0;be<=11;be++)I(H[be]);I(16);for(var Ie=0;Ie<16;Ie++)I(Q[Ie+1]);for(var qe=0;qe<=161;qe++)I(L[qe]);I(1);for(var it=0;it<16;it++)I(E[it+1]);for(var lt=0;lt<=11;lt++)I(W[lt]);I(17);for(var Lt=0;Lt<16;Lt++)I(F[Lt+1]);for(var ut=0;ut<=161;ut++)I(K[ut])}(),G(65498),G(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var X=0,ae=0,q=0;S=0,b=7,this.encode.displayName="_encode_";for(var se,ue,fe,Ce,Pe,_e,Ae,Ye,je,re=A.data,Ze=A.width,J=A.height,ee=4*Ze,oe=0;oe<J;){for(se=0;se<ee;){for(Pe=ee*oe+se,Ae=-1,Ye=0,je=0;je<64;je++)_e=Pe+(Ye=je>>3)*ee+(Ae=4*(7&je)),oe+Ye>=J&&(_e-=ee*(oe+1+Ye-J)),se+Ae>=ee&&(_e-=se+Ae-ee+4),ue=re[_e++],fe=re[_e++],Ce=re[_e++],w[je]=(M[ue]+M[fe+256>>0]+M[Ce+512>>0]>>16)-128,N[je]=(M[ue+768>>0]+M[fe+1024>>0]+M[Ce+1280>>0]>>16)-128,C[je]=(M[ue+1280>>0]+M[fe+1536>>0]+M[Ce+1792>>0]>>16)-128;X=ie(w,u,X,t,n),ae=ie(N,d,ae,r,s),q=ie(C,d,q,r,s),se+=32}oe+=8}if(b>=0){var Ne=[];Ne[1]=b+1,Ne[0]=(1<<b+1)-1,Y(Ne)}return G(65497),new Uint8Array(y)},e=e||50,function(){for(var A=String.fromCharCode,V=0;V<256;V++)P[V]=A(V)}(),t=ne(T,H),r=ne(E,W),n=ne(Q,L),s=ne(F,K),function(){for(var A=1,V=2,X=1;X<=15;X++){for(var ae=A;ae<V;ae++)f[32767+ae]=X,h[32767+ae]=[],h[32767+ae][1]=X,h[32767+ae][0]=ae;for(var q=-(V-1);q<=-A;q++)f[32767+q]=X,h[32767+q]=[],h[32767+q][1]=X,h[32767+q][0]=V-1+q;A<<=1,V<<=1}}(),function(){for(var A=0;A<256;A++)M[A]=19595*A,M[A+256>>0]=38470*A,M[A+512>>0]=7471*A+32768,M[A+768>>0]=-11059*A,M[A+1024>>0]=-21709*A,M[A+1280>>0]=32768*A+8421375,M[A+1536>>0]=-27439*A,M[A+1792>>0]=-5329*A}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function FP(e){function t(T){if(!T)throw Error("assert :P")}function r(T,H,Q){for(var L=0;4>L;L++)if(T[H+L]!=Q.charCodeAt(L))return!0;return!1}function n(T,H,Q,L,E){for(var W=0;W<E;W++)T[H+W]=Q[L+W]}function s(T,H,Q,L){for(var E=0;E<L;E++)T[H+E]=Q}function a(T){return new Int32Array(T)}function i(T,H){for(var Q=[],L=0;L<T;L++)Q.push(new H);return Q}function o(T,H){var Q=[];return function L(E,W,F){for(var K=F[W],ne=0;ne<K&&(E.push(F.length>W+1?[]:new H),!(F.length<W+1));ne++)L(E[ne],W+1,F)}(Q,0,T),Q}var c=function(){var T=this;function H(m,x){for(var j=1<<x-1>>>0;m&j;)j>>>=1;return j?(m&j-1)+j:m}function Q(m,x,j,k,D){t(!(k%j));do m[x+(k-=j)]=D;while(0<k)}function L(m,x,j,k,D){if(t(2328>=D),512>=D)var B=a(512);else if((B=a(D))==null)return 0;return function($,U,z,Z,ce,ve){var xe,pe,Oe=U,Ee=1<<z,de=a(16),he=a(16);for(t(ce!=0),t(Z!=null),t($!=null),t(0<z),pe=0;pe<ce;++pe){if(15<Z[pe])return 0;++de[Z[pe]]}if(de[0]==ce)return 0;for(he[1]=0,xe=1;15>xe;++xe){if(de[xe]>1<<xe)return 0;he[xe+1]=he[xe]+de[xe]}for(pe=0;pe<ce;++pe)xe=Z[pe],0<Z[pe]&&(ve[he[xe]++]=pe);if(he[15]==1)return(Z=new E).g=0,Z.value=ve[0],Q($,Oe,1,Ee,Z),Ee;var De,Fe=-1,Re=Ee-1,nt=0,Xe=1,mt=1,Je=1<<z;for(pe=0,xe=1,ce=2;xe<=z;++xe,ce<<=1){if(Xe+=mt<<=1,0>(mt-=de[xe]))return 0;for(;0<de[xe];--de[xe])(Z=new E).g=xe,Z.value=ve[pe++],Q($,Oe+nt,ce,Je,Z),nt=H(nt,xe)}for(xe=z+1,ce=2;15>=xe;++xe,ce<<=1){if(Xe+=mt<<=1,0>(mt-=de[xe]))return 0;for(;0<de[xe];--de[xe]){if(Z=new E,(nt&Re)!=Fe){for(Oe+=Je,De=1<<(Fe=xe)-z;15>Fe&&!(0>=(De-=de[Fe]));)++Fe,De<<=1;Ee+=Je=1<<(De=Fe-z),$[U+(Fe=nt&Re)].g=De+z,$[U+Fe].value=Oe-U-Fe}Z.g=xe-z,Z.value=ve[pe++],Q($,Oe+(nt>>z),ce,Je,Z),nt=H(nt,xe)}}return Xe!=2*he[15]-1?0:Ee}(m,x,j,k,D,B)}function E(){this.value=this.g=0}function W(){this.value=this.g=0}function F(){this.G=i(5,E),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Dn,W)}function K(m,x,j,k){t(m!=null),t(x!=null),t(2147483648>k),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=j,m.Jd=x,m.Yc=j+k,m.Zc=4<=k?j+k-4+1:j,se(m)}function ne(m,x){for(var j=0;0<x--;)j|=fe(m,128)<<x;return j}function Y(m,x){var j=ne(m,x);return ue(m)?-j:j}function I(m,x,j,k){var D,B=0;for(t(m!=null),t(x!=null),t(4294967288>k),m.Sb=k,m.Ra=0,m.u=0,m.h=0,4<k&&(k=4),D=0;D<k;++D)B+=x[j+D]<<8*D;m.Ra=B,m.bb=k,m.oa=x,m.pa=j}function G(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Gu-8>>>0,++m.bb,m.u-=8;X(m)&&(m.h=1,m.u=0)}function ie(m,x){if(t(0<=x),!m.h&&x<=Hu){var j=V(m)&Wu[x];return m.u+=x,G(m),j}return m.h=1,m.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(m){return m.Ra>>>(m.u&Gu-1)>>>0}function X(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Gu}function ae(m,x){m.u=x,m.h=X(m)}function q(m){m.u>=gf&&(t(m.u>=gf),G(m))}function se(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ue(m){return ne(m,1)}function fe(m,x){var j=m.Ca;0>m.b&&se(m);var k=m.b,D=j*x>>>8,B=(m.I>>>k>D)+0;for(B?(j-=D,m.I-=D+1<<k>>>0):j=D+1,k=j,D=0;256<=k;)D+=8,k>>=8;return k=7^D+_s[k],m.b-=k,m.Ca=(j<<k)-1,B}function Ce(m,x,j){m[x+0]=j>>24&255,m[x+1]=j>>16&255,m[x+2]=j>>8&255,m[x+3]=j>>0&255}function Pe(m,x){return m[x+0]<<0|m[x+1]<<8}function _e(m,x){return Pe(m,x)|m[x+2]<<16}function Ae(m,x){return Pe(m,x)|Pe(m,x+2)<<16}function Ye(m,x){var j=1<<x;return t(m!=null),t(0<x),m.X=a(j),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function je(m,x){t(m!=null),t(x!=null),t(m.Xa==x.Xa),n(x.X,0,m.X,0,1<<x.Xa)}function re(){this.X=[],this.Xa=this.Mb=0}function Ze(m,x,j,k){t(j!=null),t(k!=null);var D=j[0],B=k[0];return D==0&&(D=(m*B+x/2)/x),B==0&&(B=(x*D+m/2)/m),0>=D||0>=B?0:(j[0]=D,k[0]=B,1)}function J(m,x){return m+(1<<x)-1>>>x}function ee(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function oe(m,x){T[x]=function(j,k,D,B,$,U,z){var Z;for(Z=0;Z<$;++Z){var ce=T[m](U[z+Z-1],D,B+Z);U[z+Z]=ee(j[k+Z],ce)}}}function Ne(){this.ud=this.hd=this.jd=0}function ye(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function be(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ie(m,x){return be(m+(m-x+.5>>1))}function qe(m,x,j){return Math.abs(x-j)-Math.abs(m-j)}function it(m,x,j,k,D,B,$){for(k=B[$-1],j=0;j<D;++j)B[$+j]=k=ee(m[x+j],k)}function lt(m,x,j,k,D){var B;for(B=0;B<j;++B){var $=m[x+B],U=$>>8&255,z=16711935&(z=(z=16711935&$)+((U<<16)+U));k[D+B]=(4278255360&$)+z>>>0}}function Lt(m,x){x.jd=m>>0&255,x.hd=m>>8&255,x.ud=m>>16&255}function ut(m,x,j,k,D,B){var $;for($=0;$<k;++$){var U=x[j+$],z=U>>>8,Z=U,ce=255&(ce=(ce=U>>>16)+((m.jd<<24>>24)*(z<<24>>24)>>>5));Z=255&(Z=(Z=Z+((m.hd<<24>>24)*(z<<24>>24)>>>5))+((m.ud<<24>>24)*(ce<<24>>24)>>>5)),D[B+$]=(4278255360&U)+(ce<<16)+Z}}function Nt(m,x,j,k,D){T[x]=function(B,$,U,z,Z,ce,ve,xe,pe){for(z=ve;z<xe;++z)for(ve=0;ve<pe;++ve)Z[ce++]=D(U[k(B[$++])])},T[m]=function(B,$,U,z,Z,ce,ve){var xe=8>>B.b,pe=B.Ea,Oe=B.K[0],Ee=B.w;if(8>xe)for(B=(1<<B.b)-1,Ee=(1<<xe)-1;$<U;++$){var de,he=0;for(de=0;de<pe;++de)de&B||(he=k(z[Z++])),ce[ve++]=D(Oe[he&Ee]),he>>=xe}else T["VP8LMapColor"+j](z,Z,Oe,Ee,ce,ve,$,U,pe)}}function He(m,x,j,k,D){for(j=x+j;x<j;){var B=m[x++];k[D++]=B>>16&255,k[D++]=B>>8&255,k[D++]=B>>0&255}}function br(m,x,j,k,D){for(j=x+j;x<j;){var B=m[x++];k[D++]=B>>16&255,k[D++]=B>>8&255,k[D++]=B>>0&255,k[D++]=B>>24&255}}function Ot(m,x,j,k,D){for(j=x+j;x<j;){var B=($=m[x++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;k[D++]=B,k[D++]=$}}function as(m,x,j,k,D){for(j=x+j;x<j;){var B=($=m[x++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;k[D++]=B,k[D++]=$}}function Vt(m,x,j,k,D){for(j=x+j;x<j;){var B=m[x++];k[D++]=B>>0&255,k[D++]=B>>8&255,k[D++]=B>>16&255}}function Wt(m,x,j,k,D,B){if(B==0)for(j=x+j;x<j;)Ce(k,((B=m[x++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),D+=32;else n(k,D,m,x,j)}function fa(m,x){T[x][0]=T[m+"0"],T[x][1]=T[m+"1"],T[x][2]=T[m+"2"],T[x][3]=T[m+"3"],T[x][4]=T[m+"4"],T[x][5]=T[m+"5"],T[x][6]=T[m+"6"],T[x][7]=T[m+"7"],T[x][8]=T[m+"8"],T[x][9]=T[m+"9"],T[x][10]=T[m+"10"],T[x][11]=T[m+"11"],T[x][12]=T[m+"12"],T[x][13]=T[m+"13"],T[x][14]=T[m+"0"],T[x][15]=T[m+"0"]}function et(m){return m==bx||m==Sx||m==Vg||m==_x}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $r(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new vt,this.sd=null}function cn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Jt(m,x){var j=m.T,k=x.ba.f.RGBA,D=k.eb,B=k.fb+m.ka*k.A,$=wa[x.ba.S],U=m.y,z=m.O,Z=m.f,ce=m.N,ve=m.ea,xe=m.W,pe=x.cc,Oe=x.dc,Ee=x.Mc,de=x.Nc,he=m.ka,De=m.ka+m.T,Fe=m.U,Re=Fe+1>>1;for(he==0?$(U,z,null,null,Z,ce,ve,xe,Z,ce,ve,xe,D,B,null,null,Fe):($(x.ec,x.fc,U,z,pe,Oe,Ee,de,Z,ce,ve,xe,D,B-k.A,D,B,Fe),++j);he+2<De;he+=2)pe=Z,Oe=ce,Ee=ve,de=xe,ce+=m.Rc,xe+=m.Rc,B+=2*k.A,$(U,(z+=2*m.fa)-m.fa,U,z,pe,Oe,Ee,de,Z,ce,ve,xe,D,B-k.A,D,B,Fe);return z+=m.fa,m.j+De<m.o?(n(x.ec,x.fc,U,z,Fe),n(x.cc,x.dc,Z,ce,Re),n(x.Mc,x.Nc,ve,xe,Re),j--):1&De||$(U,z,null,null,Z,ce,ve,xe,Z,ce,ve,xe,D,B+k.A,null,null,Fe),j}function vc(m,x,j){var k=m.F,D=[m.J];if(k!=null){var B=m.U,$=x.ba.S,U=$==Ug||$==Vg;x=x.ba.f.RGBA;var z=[0],Z=m.ka;z[0]=m.T,m.Kb&&(Z==0?--z[0]:(--Z,D[0]-=m.width),m.j+m.ka+m.T==m.o&&(z[0]=m.o-m.j-Z));var ce=x.eb;Z=x.fb+Z*x.A,m=mr(k,D[0],m.width,B,z,ce,Z+(U?0:3),x.A),t(j==z),m&&et($)&&va(ce,Z,U,B,z,x.A)}return 0}function Ln(m){var x=m.ma,j=x.ba.S,k=11>j,D=j==Bg||j==$g||j==Ug||j==wx||j==12||et(j);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!pf(x.Oa,m,D?11:12))return 0;if(D&&et(j)&&$e(),m.da)alert("todo:use_scaling");else{if(k){if(x.Ib=jt,m.Kb){if(j=m.U+1>>1,x.memory=a(m.U+2*j),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+j,x.Ib=Jt,$e()}}else alert("todo:EmitYUV");D&&(x.Jb=vc,k&&ge())}if(k&&!dj){for(m=0;256>m;++m)WF[m]=89858*(m-128)+qg>>zg,YF[m]=-22014*(m-128)+qg,GF[m]=-45773*(m-128),HF[m]=113618*(m-128)+qg>>zg;for(m=_f;m<Cx;++m)x=76283*(m-16)+qg>>zg,KF[m-_f]=Hs(x,255),XF[m-_f]=Hs(x+8>>4,15);dj=1}return 1}function Ni(m){var x=m.ma,j=m.U,k=m.T;return t(!(1&m.ka)),0>=j||0>=k?0:(j=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,j),x.Dc+=j,1)}function ji(m){m.ma.memory=null}function gt(m,x,j,k){return ie(m,8)!=47?0:(x[0]=ie(m,14)+1,j[0]=ie(m,14)+1,k[0]=ie(m,1),ie(m,3)!=0?0:!m.h)}function Ia(m,x){if(4>m)return m+1;var j=m-2>>1;return(2+(1&m)<<j)+ie(x,j)+1}function Ci(m,x){return 120<x?x-120:1<=(j=((j=TF[x-1])>>4)*m+(8-(15&j)))?j:1;var j}function bs(m,x,j){var k=V(j),D=m[x+=255&k].g-8;return 0<D&&(ae(j,j.u+8),k=V(j),x+=m[x].value,x+=k&(1<<D)-1),ae(j,j.u+m[x].g),m[x].value}function mn(m,x,j){return j.g+=m.g,j.value+=m.value<<x>>>0,t(8>=j.g),m.g}function un(m,x,j){var k=m.xc;return t((x=k==0?0:m.vc[m.md*(j>>k)+(x>>k)])<m.Wb),m.Ya[x]}function Ws(m,x,j,k){var D=m.ab,B=m.c*x,$=m.C;x=$+x;var U=j,z=k;for(k=m.Ta,j=m.Ua;0<D--;){var Z=m.gc[D],ce=$,ve=x,xe=U,pe=z,Oe=(z=k,U=j,Z.Ea);switch(t(ce<ve),t(ve<=Z.nc),Z.hc){case 2:Lg(xe,pe,(ve-ce)*Oe,z,U);break;case 0:var Ee=ce,de=ve,he=z,De=U,Fe=(Je=Z).Ea;Ee==0&&(vx(xe,pe,null,null,1,he,De),it(xe,pe+1,0,0,Fe-1,he,De+1),pe+=Fe,De+=Fe,++Ee);for(var Re=1<<Je.b,nt=Re-1,Xe=J(Fe,Je.b),mt=Je.K,Je=Je.w+(Ee>>Je.b)*Xe;Ee<de;){var Zt=mt,tr=Je,Gt=1;for(yf(xe,pe,he,De-Fe,1,he,De);Gt<Fe;){var $t=(Gt&~nt)+Re;$t>Fe&&($t=Fe),(0,Xo[Zt[tr++]>>8&15])(xe,pe+ +Gt,he,De+Gt-Fe,$t-Gt,he,De+Gt),Gt=$t}pe+=Fe,De+=Fe,++Ee&nt||(Je+=Xe)}ve!=Z.nc&&n(z,U-Oe,z,U+(ve-ce-1)*Oe,Oe);break;case 1:for(Oe=xe,de=pe,Fe=(xe=Z.Ea)-(De=xe&~(he=(pe=1<<Z.b)-1)),Ee=J(xe,Z.b),Re=Z.K,Z=Z.w+(ce>>Z.b)*Ee;ce<ve;){for(nt=Re,Xe=Z,mt=new Ne,Je=de+De,Zt=de+xe;de<Je;)Lt(nt[Xe++],mt),Nc(mt,Oe,de,pe,z,U),de+=pe,U+=pe;de<Zt&&(Lt(nt[Xe++],mt),Nc(mt,Oe,de,Fe,z,U),de+=Fe,U+=Fe),++ce&he||(Z+=Ee)}break;case 3:if(xe==z&&pe==U&&0<Z.b){for(de=z,xe=Oe=U+(ve-ce)*Oe-(De=(ve-ce)*J(Z.Ea,Z.b)),pe=z,he=U,Ee=[],De=(Fe=De)-1;0<=De;--De)Ee[De]=pe[he+De];for(De=Fe-1;0<=De;--De)de[xe+De]=Ee[De];ma(Z,ce,ve,z,Oe,z,U)}else ma(Z,ce,ve,xe,pe,z,U)}U=k,z=j}z!=j&&n(k,j,U,z,B)}function Pu(m,x){var j=m.V,k=m.Ba+m.c*m.C,D=x-m.C;if(t(x<=m.l.o),t(16>=D),0<D){var B=m.l,$=m.Ta,U=m.Ua,z=B.width;if(Ws(m,D,j,k),D=U=[U],t((j=m.C)<(k=x)),t(B.v<B.va),k>B.o&&(k=B.o),j<B.j){var Z=B.j-j;j=B.j,D[0]+=Z*z}if(j>=k?j=0:(D[0]+=4*B.v,B.ka=j-B.j,B.U=B.va-B.v,B.T=k-j,j=1),j){if(U=U[0],11>(j=m.ca).S){var ce=j.f.RGBA,ve=(k=j.S,D=B.U,B=B.T,Z=ce.eb,ce.A),xe=B;for(ce=ce.fb+m.Ma*ce.A;0<xe--;){var pe=$,Oe=U,Ee=D,de=Z,he=ce;switch(k){case Fg:Ns(pe,Oe,Ee,de,he);break;case Bg:is(pe,Oe,Ee,de,he);break;case bx:is(pe,Oe,Ee,de,he),va(de,he,0,Ee,1,0);break;case tj:lo(pe,Oe,Ee,de,he);break;case $g:Wt(pe,Oe,Ee,de,he,1);break;case Sx:Wt(pe,Oe,Ee,de,he,1),va(de,he,0,Ee,1,0);break;case Ug:Wt(pe,Oe,Ee,de,he,0);break;case Vg:Wt(pe,Oe,Ee,de,he,0),va(de,he,1,Ee,1,0);break;case wx:Zo(pe,Oe,Ee,de,he);break;case _x:Zo(pe,Oe,Ee,de,he),pr(de,he,Ee,1,0);break;case rj:oo(pe,Oe,Ee,de,he);break;default:t(0)}U+=z,ce+=ve}m.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=j.height)}}m.C=x,t(m.C<=m.i)}function so(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var j=m.Ya[x].G,k=m.Ya[x].H;if(0<j[1][k[1]+0].g||0<j[2][k[2]+0].g||0<j[3][k[3]+0].g)return 0}return 1}function Fa(m,x,j,k,D,B){if(m.Z!=0){var $=m.qd,U=m.rd;for(t(tl[m.Z]!=null);x<j;++x)tl[m.Z]($,U,k,D,k,D,B),$=k,U=D,D+=B;m.qd=$,m.rd=U}}function Ba(m,x){var j=m.l.ma,k=j.Z==0||j.Z==1?m.l.j:m.C;if(k=m.C<k?k:m.C,t(x<=m.l.o),x>k){var D=m.l.width,B=j.ca,$=j.tb+D*k,U=m.V,z=m.Ba+m.c*k,Z=m.gc;t(m.ab==1),t(Z[0].hc==3),Dg(Z[0],k,x,U,z,B,$),Fa(j,k,x,B,$,D)}m.C=m.Ma=x}function $a(m,x,j,k,D,B,$){var U=m.$/k,z=m.$%k,Z=m.m,ce=m.s,ve=j+m.$,xe=ve;D=j+k*D;var pe=j+k*B,Oe=280+ce.ua,Ee=m.Pb?U:16777216,de=0<ce.ua?ce.Wa:null,he=ce.wc,De=ve<pe?un(ce,z,U):null;t(m.C<B),t(pe<=D);var Fe=!1;e:for(;;){for(;Fe||ve<pe;){var Re=0;if(U>=Ee){var nt=ve-j;t((Ee=m).Pb),Ee.wd=Ee.m,Ee.xd=nt,0<Ee.s.ua&&je(Ee.s.Wa,Ee.s.vb),Ee=U+DF}if(z&he||(De=un(ce,z,U)),t(De!=null),De.Qb&&(x[ve]=De.qb,Fe=!0),!Fe)if(q(Z),De.jc){Re=Z,nt=x;var Xe=ve,mt=De.pd[V(Re)&Dn-1];t(De.jc),256>mt.g?(ae(Re,Re.u+mt.g),nt[Xe]=mt.value,Re=0):(ae(Re,Re.u+mt.g-256),t(256<=mt.value),Re=mt.value),Re==0&&(Fe=!0)}else Re=bs(De.G[0],De.H[0],Z);if(Z.h)break;if(Fe||256>Re){if(!Fe)if(De.nd)x[ve]=(De.qb|Re<<8)>>>0;else{if(q(Z),Fe=bs(De.G[1],De.H[1],Z),q(Z),nt=bs(De.G[2],De.H[2],Z),Xe=bs(De.G[3],De.H[3],Z),Z.h)break;x[ve]=(Xe<<24|Fe<<16|Re<<8|nt)>>>0}if(Fe=!1,++ve,++z>=k&&(z=0,++U,$!=null&&U<=B&&!(U%16)&&$(m,U),de!=null))for(;xe<ve;)Re=x[xe++],de.X[(506832829*Re&4294967295)>>>de.Mb]=Re}else if(280>Re){if(Re=Ia(Re-256,Z),nt=bs(De.G[4],De.H[4],Z),q(Z),nt=Ci(k,nt=Ia(nt,Z)),Z.h)break;if(ve-j<nt||D-ve<Re)break e;for(Xe=0;Xe<Re;++Xe)x[ve+Xe]=x[ve+Xe-nt];for(ve+=Re,z+=Re;z>=k;)z-=k,++U,$!=null&&U<=B&&!(U%16)&&$(m,U);if(t(ve<=D),z&he&&(De=un(ce,z,U)),de!=null)for(;xe<ve;)Re=x[xe++],de.X[(506832829*Re&4294967295)>>>de.Mb]=Re}else{if(!(Re<Oe))break e;for(Fe=Re-280,t(de!=null);xe<ve;)Re=x[xe++],de.X[(506832829*Re&4294967295)>>>de.Mb]=Re;Re=ve,t(!(Fe>>>(nt=de).Xa)),x[Re]=nt.X[Fe],Fe=!0}Fe||t(Z.h==X(Z))}if(m.Pb&&Z.h&&ve<D)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&je(m.s.vb,m.s.Wa);else{if(Z.h)break e;$!=null&&$(m,U>B?B:U),m.a=0,m.$=ve-j}return 1}return m.a=3,0}function ki(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,t(m!=null)}function pa(){var m=new yx;return m==null?null:(m.a=0,m.xb=aj,fa("Predictor","VP8LPredictors"),fa("Predictor","VP8LPredictors_C"),fa("PredictorAdd","VP8LPredictorsAdd"),fa("PredictorAdd","VP8LPredictorsAdd_C"),Lg=lt,Nc=ut,Ns=He,is=br,Zo=Ot,oo=as,lo=Vt,T.VP8LMapColor32b=Yu,T.VP8LMapColor8b=Rg,m)}function Pi(m,x,j,k,D){var B=1,$=[m],U=[x],z=k.m,Z=k.s,ce=null,ve=0;e:for(;;){if(j)for(;B&&ie(z,1);){var xe=$,pe=U,Oe=k,Ee=1,de=Oe.m,he=Oe.gc[Oe.ab],De=ie(de,2);if(Oe.Oc&1<<De)B=0;else{switch(Oe.Oc|=1<<De,he.hc=De,he.Ea=xe[0],he.nc=pe[0],he.K=[null],++Oe.ab,t(4>=Oe.ab),De){case 0:case 1:he.b=ie(de,3)+2,Ee=Pi(J(he.Ea,he.b),J(he.nc,he.b),0,Oe,he.K),he.K=he.K[0];break;case 3:var Fe,Re=ie(de,8)+1,nt=16<Re?0:4<Re?1:2<Re?2:3;if(xe[0]=J(he.Ea,nt),he.b=nt,Fe=Ee=Pi(Re,1,0,Oe,he.K)){var Xe,mt=Re,Je=he,Zt=1<<(8>>Je.b),tr=a(Zt);if(tr==null)Fe=0;else{var Gt=Je.K[0],$t=Je.w;for(tr[0]=Je.K[0][0],Xe=1;Xe<1*mt;++Xe)tr[Xe]=ee(Gt[$t+Xe],tr[Xe-1]);for(;Xe<4*Zt;++Xe)tr[Xe]=0;Je.K[0]=null,Je.K[0]=tr,Fe=1}}Ee=Fe;break;case 2:break;default:t(0)}B=Ee}}if($=$[0],U=U[0],B&&ie(z,1)&&!(B=1<=(ve=ie(z,4))&&11>=ve)){k.a=3;break e}var dr;if(dr=B)t:{var or,At,hn,js=k,fn=$,Cs=U,rr=ve,Ys=j,Ks=js.m,_n=js.s,Rn=[null],ls=1,ba=0,Li=LF[rr];r:for(;;){if(Ys&&ie(Ks,1)){var Nn=ie(Ks,3)+2,fo=J(fn,Nn),Ec=J(Cs,Nn),Qu=fo*Ec;if(!Pi(fo,Ec,0,js,Rn))break r;for(Rn=Rn[0],_n.xc=Nn,or=0;or<Qu;++or){var rl=Rn[or]>>8&65535;Rn[or]=rl,rl>=ls&&(ls=rl+1)}}if(Ks.h)break r;for(At=0;5>At;++At){var Vr=nj[At];!At&&0<rr&&(Vr+=1<<rr),ba<Vr&&(ba=Vr)}var kx=i(ls*Li,E),pj=ls,mj=i(pj,F);if(mj==null)var Hg=null;else t(65536>=pj),Hg=mj;var Nf=a(ba);if(Hg==null||Nf==null||kx==null){js.a=1;break r}var Gg=kx;for(or=hn=0;or<ls;++or){var Wa=Hg[or],ed=Wa.G,td=Wa.H,gj=0,Yg=1,yj=0;for(At=0;5>At;++At){Vr=nj[At],ed[At]=Gg,td[At]=hn,!At&&0<rr&&(Vr+=1<<rr);s:{var Kg,Px=Vr,Xg=js,jf=Nf,QF=Gg,e7=hn,Ex=0,nl=Xg.m,t7=ie(nl,1);if(s(jf,0,0,Px),t7){var r7=ie(nl,1)+1,n7=ie(nl,1),vj=ie(nl,n7==0?1:8);jf[vj]=1,r7==2&&(jf[vj=ie(nl,8)]=1);var Zg=1}else{var xj=a(19),wj=ie(nl,4)+4;if(19<wj){Xg.a=3;var Jg=0;break s}for(Kg=0;Kg<wj;++Kg)xj[AF[Kg]]=ie(nl,3);var Ax=void 0,Cf=void 0,bj=Xg,s7=xj,Qg=Px,Sj=jf,Tx=0,sl=bj.m,_j=8,Nj=i(128,E);n:for(;L(Nj,0,7,s7,19);){if(ie(sl,1)){var a7=2+2*ie(sl,3);if((Ax=2+ie(sl,a7))>Qg)break n}else Ax=Qg;for(Cf=0;Cf<Qg&&Ax--;){q(sl);var jj=Nj[0+(127&V(sl))];ae(sl,sl.u+jj.g);var rd=jj.value;if(16>rd)Sj[Cf++]=rd,rd!=0&&(_j=rd);else{var i7=rd==16,Cj=rd-16,o7=PF[Cj],kj=ie(sl,kF[Cj])+o7;if(Cf+kj>Qg)break n;for(var l7=i7?_j:0;0<kj--;)Sj[Cf++]=l7}}Tx=1;break n}Tx||(bj.a=3),Zg=Tx}(Zg=Zg&&!nl.h)&&(Ex=L(QF,e7,8,jf,Px)),Zg&&Ex!=0?Jg=Ex:(Xg.a=3,Jg=0)}if(Jg==0)break r;if(Yg&&EF[At]==1&&(Yg=Gg[hn].g==0),gj+=Gg[hn].g,hn+=Jg,3>=At){var kf,Lx=Nf[0];for(kf=1;kf<Vr;++kf)Nf[kf]>Lx&&(Lx=Nf[kf]);yj+=Lx}}if(Wa.nd=Yg,Wa.Qb=0,Yg&&(Wa.qb=(ed[3][td[3]+0].value<<24|ed[1][td[1]+0].value<<16|ed[2][td[2]+0].value)>>>0,gj==0&&256>ed[0][td[0]+0].value&&(Wa.Qb=1,Wa.qb+=ed[0][td[0]+0].value<<8)),Wa.jc=!Wa.Qb&&6>yj,Wa.jc){var ey,po=Wa;for(ey=0;ey<Dn;++ey){var al=ey,il=po.pd[al],ty=po.G[0][po.H[0]+al];256<=ty.value?(il.g=ty.g+256,il.value=ty.value):(il.g=0,il.value=0,al>>=mn(ty,8,il),al>>=mn(po.G[1][po.H[1]+al],16,il),al>>=mn(po.G[2][po.H[2]+al],0,il),mn(po.G[3][po.H[3]+al],24,il))}}}_n.vc=Rn,_n.Wb=ls,_n.Ya=Hg,_n.yc=kx,dr=1;break t}dr=0}if(!(B=dr)){k.a=3;break e}if(0<ve){if(Z.ua=1<<ve,!Ye(Z.Wa,ve)){k.a=1,B=0;break e}}else Z.ua=0;var Dx=k,Pj=$,c7=U,Rx=Dx.s,Ox=Rx.xc;if(Dx.c=Pj,Dx.i=c7,Rx.md=J(Pj,Ox),Rx.wc=Ox==0?-1:(1<<Ox)-1,j){k.xb=$F;break e}if((ce=a($*U))==null){k.a=1,B=0;break e}B=(B=$a(k,ce,0,$,U,U,null))&&!z.h;break e}return B?(D!=null?D[0]=ce:(t(ce==null),t(j)),k.$=0,j||ki(Z)):ki(Z),B}function xc(m,x){var j=m.c*m.i,k=j+x+16*x;return t(m.c<=x),m.V=a(k),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+j+x,1)}function Eu(m,x){var j=m.C,k=x-j,D=m.V,B=m.Ba+m.c*j;for(t(x<=m.l.o);0<k;){var $=16<k?16:k,U=m.l.ma,z=m.l.width,Z=z*$,ce=U.ca,ve=U.tb+z*j,xe=m.Ta,pe=m.Ua;Ws(m,$,D,B),Qr(xe,pe,ce,ve,Z),Fa(U,j,j+$,ce,ve,z),k-=$,D+=$*m.c,j+=$}t(j==x),m.C=m.Ma=x}function Au(){this.ub=this.yd=this.td=this.Rb=0}function Tu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lu(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function hg(){this.Yb=function(){var m=[];return function x(j,k,D){for(var B=D[k],$=0;$<B&&(j.push(D.length>k+1?[]:0),!(D.length<k+1));$++)x(j[$],k+1,D)}(m,0,[3,11]),m}()}function Y1(){this.jb=a(3),this.Wc=o([4,8],hg),this.Xc=o([4,17],hg)}function K1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Du(){this.ld=this.La=this.dd=this.tc=0}function fg(){this.Na=this.la=0}function X1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zh(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Z1(){this.uc=this.M=this.Nb=0,this.wa=Array(new Du),this.Y=0,this.ya=Array(new Zh),this.aa=0,this.l=new Ru}function pg(){this.y=a(16),this.f=a(8),this.ea=a(8)}function J1(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new Au,this.Kc=new Tu,this.ed=new K1,this.Qa=new Lu,this.Ic=this.$c=this.Aa=0,this.D=new Z1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,me),this.ia=0,this.pb=i(4,X1),this.Pa=new Y1,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pg),this.Hd=0,this.rb=Array(new fg),this.sb=0,this.wa=Array(new Du),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zh),this.L=this.aa=0,this.gd=o([4,2],Du),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ru(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Q1(){var m=new J1;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Sf||(Sf=yg)),m}function Zr(m,x,j){return m.a==0&&(m.a=x,m.sc=j,m.cb=0),0}function mg(m,x,j){return 3<=j&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function gg(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return Zr(m,2,"null VP8Io passed to VP8GetHeaders()");var j=x.data,k=x.w,D=x.ha;if(4>D)return Zr(m,7,"Truncated header.");var B=j[k+0]|j[k+1]<<8|j[k+2]<<16,$=m.Od;if($.Rb=!(1&B),$.td=B>>1&7,$.yd=B>>4&1,$.ub=B>>5,3<$.td)return Zr(m,3,"Incorrect keyframe parameters.");if(!$.yd)return Zr(m,4,"Frame not displayable.");k+=3,D-=3;var U=m.Kc;if($.Rb){if(7>D)return Zr(m,7,"cannot parse picture header");if(!mg(j,k,D))return Zr(m,3,"Bad code word");U.c=16383&(j[k+4]<<8|j[k+3]),U.Td=j[k+4]>>6,U.i=16383&(j[k+6]<<8|j[k+5]),U.Ud=j[k+6]>>6,k+=7,D-=7,m.za=U.c+15>>4,m.Ub=U.i+15>>4,x.width=U.c,x.height=U.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,s((B=m.Pa).jb,0,255,B.jb.length),t((B=m.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,s(B.Zb,0,0,B.Zb.length),s(B.Lb,0,0,B.Lb)}if($.ub>D)return Zr(m,7,"bad partition length");K(B=m.m,j,k,$.ub),k+=$.ub,D-=$.ub,$.Rb&&(U.Ld=ue(B),U.Kd=ue(B)),U=m.Qa;var z,Z=m.Pa;if(t(B!=null),t(U!=null),U.Cb=ue(B),U.Cb){if(U.Bb=ue(B),ue(B)){for(U.Fb=ue(B),z=0;4>z;++z)U.Zb[z]=ue(B)?Y(B,7):0;for(z=0;4>z;++z)U.Lb[z]=ue(B)?Y(B,6):0}if(U.Bb)for(z=0;3>z;++z)Z.jb[z]=ue(B)?ne(B,8):255}else U.Bb=0;if(B.Ka)return Zr(m,3,"cannot parse segment header");if((U=m.ed).zd=ue(B),U.Tb=ne(B,6),U.wb=ne(B,3),U.Pc=ue(B),U.Pc&&ue(B)){for(Z=0;4>Z;++Z)ue(B)&&(U.vd[Z]=Y(B,6));for(Z=0;4>Z;++Z)ue(B)&&(U.od[Z]=Y(B,6))}if(m.L=U.Tb==0?0:U.zd?1:2,B.Ka)return Zr(m,3,"cannot parse filter header");var ce=D;if(D=z=k,k=z+ce,U=ce,m.Xb=(1<<ne(m.m,2))-1,ce<3*(Z=m.Xb))j=7;else{for(z+=3*Z,U-=3*Z,ce=0;ce<Z;++ce){var ve=j[D+0]|j[D+1]<<8|j[D+2]<<16;ve>U&&(ve=U),K(m.Jc[+ce],j,z,ve),z+=ve,U-=ve,D+=3}K(m.Jc[+Z],j,z,U),j=z<k?0:5}if(j!=0)return Zr(m,j,"cannot parse partitions");for(j=ne(z=m.m,7),D=ue(z)?Y(z,4):0,k=ue(z)?Y(z,4):0,U=ue(z)?Y(z,4):0,Z=ue(z)?Y(z,4):0,z=ue(z)?Y(z,4):0,ce=m.Qa,ve=0;4>ve;++ve){if(ce.Cb){var xe=ce.Zb[ve];ce.Fb||(xe+=j)}else{if(0<ve){m.pb[ve]=m.pb[0];continue}xe=j}var pe=m.pb[ve];pe.Sc[0]=Nx[Hs(xe+D,127)],pe.Sc[1]=jx[Hs(xe+0,127)],pe.Eb[0]=2*Nx[Hs(xe+k,127)],pe.Eb[1]=101581*jx[Hs(xe+U,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Nx[Hs(xe+Z,117)],pe.Qc[1]=jx[Hs(xe+z,127)],pe.lc=xe+z}if(!$.Rb)return Zr(m,4,"Not a key frame.");for(ue(B),$=m.Pa,j=0;4>j;++j){for(D=0;8>D;++D)for(k=0;3>k;++k)for(U=0;11>U;++U)Z=fe(B,FF[j][D][k][U])?ne(B,8):MF[j][D][k][U],$.Wc[j][D].Yb[k][U]=Z;for(D=0;17>D;++D)$.Xc[j][D]=$.Wc[j][BF[D]]}return m.kc=ue(B),m.kc&&(m.Bd=ne(B,8)),m.cb=1}function yg(m,x,j,k,D,B,$){var U=x[D].Yb[j];for(j=0;16>D;++D){if(!fe(m,U[j+0]))return D;for(;!fe(m,U[j+1]);)if(U=x[++D].Yb[0],j=0,D==16)return 16;var z=x[D+1].Yb;if(fe(m,U[j+2])){var Z=m,ce=0;if(fe(Z,(xe=U)[(ve=j)+3]))if(fe(Z,xe[ve+6])){for(U=0,ve=2*(ce=fe(Z,xe[ve+8]))+(xe=fe(Z,xe[ve+9+ce])),ce=0,xe=RF[ve];xe[U];++U)ce+=ce+fe(Z,xe[U]);ce+=3+(8<<ve)}else fe(Z,xe[ve+7])?(ce=7+2*fe(Z,165),ce+=fe(Z,145)):ce=5+fe(Z,159);else ce=fe(Z,xe[ve+4])?3+fe(Z,xe[ve+5]):2;U=z[2]}else ce=1,U=z[1];z=$+OF[D],0>(Z=m).b&&se(Z);var ve,xe=Z.b,pe=(ve=Z.Ca>>1)-(Z.I>>xe)>>31;--Z.b,Z.Ca+=pe,Z.Ca|=1,Z.I-=(ve+1&pe)<<xe,B[z]=((ce^pe)-pe)*k[(0<D)+0]}return 16}function Jh(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function ex(m,x){if(m==null)return 0;if(x==null)return Zr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!gg(m,x))return 0;if(t(m.cb),x.ac==null||x.ac(x)){x.ob&&(m.L=0);var j=Wg[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=x.v-j>>4,m.zb=x.j-j>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=x.o+15+j>>4,m.Hb=x.va+15+j>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var k=m.ed;for(j=0;4>j;++j){var D;if(m.Qa.Cb){var B=m.Qa.Lb[j];m.Qa.Fb||(B+=k.Tb)}else B=k.Tb;for(D=0;1>=D;++D){var $=m.gd[j][D],U=B;if(k.Pc&&(U+=k.vd[0],D&&(U+=k.od[0])),0<(U=0>U?0:63<U?63:U)){var z=U;0<k.wb&&(z=4<k.wb?z>>2:z>>1)>9-k.wb&&(z=9-k.wb),1>z&&(z=1),$.dd=z,$.tc=2*U+z,$.ld=40<=U?2:15<=U?1:0}else $.tc=0;$.La=D}}}j=0}else Zr(m,6,"Frame setup failed"),j=m.a;if(j=j==0){if(j){m.$c=0,0<m.Aa||(m.Ic=JF);e:{j=m.Ic,k=4*(z=m.za);var Z=32*z,ce=z+1,ve=0<m.L?z*(0<m.Aa?2:1):0,xe=(m.Aa==2?2:1)*z;if(($=k+832+(D=3*(16*j+Wg[m.L])/2*Z)+(B=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=$)j=0;else{if($>m.Vb){if(m.Vb=0,m.Ec=a($),m.Fc=0,m.Ec==null){j=Zr(m,1,"no memory during frame initialization.");break e}m.Vb=$}$=m.Ec,U=m.Fc,m.Ac=$,m.Bc=U,U+=k,m.Gd=i(Z,pg),m.Hd=0,m.rb=i(ce+1,fg),m.sb=1,m.wa=ve?i(ve,Du):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=z),t(!0),m.oc=$,m.pc=U,U+=832,m.ya=i(xe,Zh),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=z),m.R=16*z,m.B=8*z,z=(Z=Wg[m.L])*m.R,Z=Z/2*m.B,m.sa=$,m.ta=U+z,m.qa=m.sa,m.ra=m.ta+16*j*m.R+Z,m.Ha=m.qa,m.Ia=m.ra+8*j*m.B+Z,m.$c=0,U+=D,m.mb=B?$:null,m.nb=B?U:null,t(U+B<=m.Fc+m.Vb),Jh(m),s(m.Ac,m.Bc,0,k),j=1}}if(j){if(x.ka=0,x.y=m.sa,x.O=m.ta,x.f=m.qa,x.N=m.ra,x.ea=m.Ha,x.Vd=m.Ia,x.fa=m.R,x.Rc=m.B,x.F=null,x.J=0,!Mg){for(j=-255;255>=j;++j)gn[255+j]=0>j?-j:j;for(j=-1020;1020>=j;++j)uo[1020+j]=-128>j?-128:127<j?127:j;for(j=-112;112>=j;++j)bf[112+j]=-16>j?-16:15<j?15:j;for(j=-255;510>=j;++j)Ju[255+j]=0>j?0:255<j?255:j;Mg=1}Ku=nx,co=tx,vf=xg,os=rx,ga=wg,Jr=vg,Xu=sf,Og=Sc,xf=gx,jc=af,Cc=mx,Jo=$u,kc=of,Zu=Eg,Pc=Pg,Qo=Ai,wf=io,ya=px,qa[0]=Ei,qa[1]=sx,qa[2]=lx,qa[3]=cx,qa[4]=_g,qa[5]=Fu,qa[6]=Ng,qa[7]=tf,qa[8]=dx,qa[9]=ux,el[0]=bg,el[1]=ix,el[2]=ao,el[3]=Mu,el[4]=Un,el[5]=ox,el[6]=Sg,ho[0]=Go,ho[1]=ax,ho[2]=hx,ho[3]=rf,ho[4]=bc,ho[5]=fx,ho[6]=nf,j=1}else j=0}j&&(j=function(pe,Oe){for(pe.M=0;pe.M<pe.Va;++pe.M){var Ee,de=pe.Jc[pe.M&pe.Xb],he=pe.m,De=pe;for(Ee=0;Ee<De.za;++Ee){var Fe=he,Re=De,nt=Re.Ac,Xe=Re.Bc+4*Ee,mt=Re.zc,Je=Re.ya[Re.aa+Ee];if(Re.Qa.Bb?Je.$b=fe(Fe,Re.Pa.jb[0])?2+fe(Fe,Re.Pa.jb[2]):fe(Fe,Re.Pa.jb[1]):Je.$b=0,Re.kc&&(Je.Ad=fe(Fe,Re.Bd)),Je.Za=!fe(Fe,145)+0,Je.Za){var Zt=Je.Ob,tr=0;for(Re=0;4>Re;++Re){var Gt,$t=mt[0+Re];for(Gt=0;4>Gt;++Gt){$t=IF[nt[Xe+Gt]][$t];for(var dr=sj[fe(Fe,$t[0])];0<dr;)dr=sj[2*dr+fe(Fe,$t[dr])];$t=-dr,nt[Xe+Gt]=$t}n(Zt,tr,nt,Xe,4),tr+=4,mt[0+Re]=$t}}else $t=fe(Fe,156)?fe(Fe,128)?1:3:fe(Fe,163)?2:0,Je.Ob[0]=$t,s(nt,Xe,$t,4),s(mt,0,$t,4);Je.Dd=fe(Fe,142)?fe(Fe,114)?fe(Fe,183)?1:3:2:0}if(De.m.Ka)return Zr(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(De=de,Fe=(he=pe).rb[he.sb-1],nt=he.rb[he.sb+he.ja],Ee=he.ya[he.aa+he.ja],Xe=he.kc?Ee.Ad:0)Fe.la=nt.la=0,Ee.Za||(Fe.Na=nt.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var or,At;if(Fe=nt,nt=De,Xe=he.Pa.Xc,mt=he.ya[he.aa+he.ja],Je=he.pb[mt.$b],Re=mt.ad,Zt=0,tr=he.rb[he.sb-1],$t=Gt=0,s(Re,Zt,0,384),mt.Za)var hn=0,js=Xe[3];else{dr=a(16);var fn=Fe.Na+tr.Na;if(fn=Sf(nt,Xe[1],fn,Je.Eb,0,dr,0),Fe.Na=tr.Na=(0<fn)+0,1<fn)Ku(dr,0,Re,Zt);else{var Cs=dr[0]+3>>3;for(dr=0;256>dr;dr+=16)Re[Zt+dr]=Cs}hn=1,js=Xe[0]}var rr=15&Fe.la,Ys=15&tr.la;for(dr=0;4>dr;++dr){var Ks=1&Ys;for(Cs=At=0;4>Cs;++Cs)rr=rr>>1|(Ks=(fn=Sf(nt,js,fn=Ks+(1&rr),Je.Sc,hn,Re,Zt))>hn)<<7,At=At<<2|(3<fn?3:1<fn?2:Re[Zt+0]!=0),Zt+=16;rr>>=4,Ys=Ys>>1|Ks<<7,Gt=(Gt<<8|At)>>>0}for(js=rr,hn=Ys>>4,or=0;4>or;or+=2){for(At=0,rr=Fe.la>>4+or,Ys=tr.la>>4+or,dr=0;2>dr;++dr){for(Ks=1&Ys,Cs=0;2>Cs;++Cs)fn=Ks+(1&rr),rr=rr>>1|(Ks=0<(fn=Sf(nt,Xe[2],fn,Je.Qc,0,Re,Zt)))<<3,At=At<<2|(3<fn?3:1<fn?2:Re[Zt+0]!=0),Zt+=16;rr>>=2,Ys=Ys>>1|Ks<<5}$t|=At<<4*or,js|=rr<<4<<or,hn|=(240&Ys)<<or}Fe.la=js,tr.la=hn,mt.Hc=Gt,mt.Gc=$t,mt.ia=43690&$t?0:Je.ia,Xe=!(Gt|$t)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[Ee.$b][Ee.Za],he.wa[he.Y+he.ja].La|=!Xe),De.Ka)return Zr(pe,7,"Premature end-of-file encountered.")}if(Jh(pe),he=Oe,De=1,Ee=(de=pe).D,Fe=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(Ee.M=de.M,Ee.uc=Fe,ff(de,Ee),De=1,Ee=(At=de.D).Nb,Fe=($t=Wg[de.L])*de.R,nt=$t/2*de.B,dr=16*Ee*de.R,Cs=8*Ee*de.B,Xe=de.sa,mt=de.ta-Fe+dr,Je=de.qa,Re=de.ra-nt+Cs,Zt=de.Ha,tr=de.Ia-nt+Cs,Ys=(rr=At.M)==0,Gt=rr>=de.Va-1,de.Aa==2&&ff(de,At),At.uc)for(Ks=(fn=de).D.M,t(fn.D.uc),At=fn.yb;At<fn.Hb;++At){hn=At,js=Ks;var _n=(Rn=(Vr=fn).D).Nb;or=Vr.R;var Rn=Rn.wa[Rn.Y+hn],ls=Vr.sa,ba=Vr.ta+16*_n*or+16*hn,Li=Rn.dd,Nn=Rn.tc;if(Nn!=0)if(t(3<=Nn),Vr.L==1)0<hn&&Qo(ls,ba,or,Nn+4),Rn.La&&ya(ls,ba,or,Nn),0<js&&Pc(ls,ba,or,Nn+4),Rn.La&&wf(ls,ba,or,Nn);else{var fo=Vr.B,Ec=Vr.qa,Qu=Vr.ra+8*_n*fo+8*hn,rl=Vr.Ha,Vr=Vr.Ia+8*_n*fo+8*hn;_n=Rn.ld,0<hn&&(Og(ls,ba,or,Nn+4,Li,_n),jc(Ec,Qu,rl,Vr,fo,Nn+4,Li,_n)),Rn.La&&(Jo(ls,ba,or,Nn,Li,_n),Zu(Ec,Qu,rl,Vr,fo,Nn,Li,_n)),0<js&&(Xu(ls,ba,or,Nn+4,Li,_n),xf(Ec,Qu,rl,Vr,fo,Nn+4,Li,_n)),Rn.La&&(Cc(ls,ba,or,Nn,Li,_n),kc(Ec,Qu,rl,Vr,fo,Nn,Li,_n))}}if(de.ia&&alert("todo:DitherRow"),he.put!=null){if(At=16*rr,rr=16*(rr+1),Ys?(he.y=de.sa,he.O=de.ta+dr,he.f=de.qa,he.N=de.ra+Cs,he.ea=de.Ha,he.W=de.Ia+Cs):(At-=$t,he.y=Xe,he.O=mt,he.f=Je,he.N=Re,he.ea=Zt,he.W=tr),Gt||(rr-=$t),rr>he.o&&(rr=he.o),he.F=null,he.J=null,de.Fa!=null&&0<de.Fa.length&&At<rr&&(he.J=df(de,he,At,rr-At),he.F=de.mb,he.F==null&&he.F.length==0)){De=Zr(de,3,"Could not decode alpha data.");break e}At<he.j&&($t=he.j-At,At=he.j,t(!(1&$t)),he.O+=de.R*$t,he.N+=de.B*($t>>1),he.W+=de.B*($t>>1),he.F!=null&&(he.J+=he.width*$t)),At<rr&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=At-he.j,he.U=he.va-he.v,he.T=rr-At,De=he.put(he))}Ee+1!=de.Ic||Gt||(n(de.sa,de.ta-Fe,Xe,mt+16*de.R,Fe),n(de.qa,de.ra-nt,Je,Re+8*de.B,nt),n(de.Ha,de.Ia-nt,Zt,tr+8*de.B,nt))}if(!De)return Zr(pe,6,"Output aborted.")}return 1}(m,x)),x.bc!=null&&x.bc(x),j&=1}return j?(m.cb=0,j):0}function Ua(m,x,j,k,D){D=m[x+j+32*k]+(D>>3),m[x+j+32*k]=-256&D?0>D?0:255:D}function Ou(m,x,j,k,D,B){Ua(m,x,0,j,k+D),Ua(m,x,1,j,k+B),Ua(m,x,2,j,k-B),Ua(m,x,3,j,k-D)}function Ss(m){return(20091*m>>16)+m}function Qh(m,x,j,k){var D,B=0,$=a(16);for(D=0;4>D;++D){var U=m[x+0]+m[x+8],z=m[x+0]-m[x+8],Z=(35468*m[x+4]>>16)-Ss(m[x+12]),ce=Ss(m[x+4])+(35468*m[x+12]>>16);$[B+0]=U+ce,$[B+1]=z+Z,$[B+2]=z-Z,$[B+3]=U-ce,B+=4,x++}for(D=B=0;4>D;++D)U=(m=$[B+0]+4)+$[B+8],z=m-$[B+8],Z=(35468*$[B+4]>>16)-Ss($[B+12]),Ua(j,k,0,0,U+(ce=Ss($[B+4])+(35468*$[B+12]>>16))),Ua(j,k,1,0,z+Z),Ua(j,k,2,0,z-Z),Ua(j,k,3,0,U-ce),B++,k+=32}function vg(m,x,j,k){var D=m[x+0]+4,B=35468*m[x+4]>>16,$=Ss(m[x+4]),U=35468*m[x+1]>>16;Ou(j,k,0,D+$,m=Ss(m[x+1]),U),Ou(j,k,1,D+B,m,U),Ou(j,k,2,D-B,m,U),Ou(j,k,3,D-$,m,U)}function tx(m,x,j,k,D){Qh(m,x,j,k),D&&Qh(m,x+16,j,k+4)}function xg(m,x,j,k){co(m,x+0,j,k,1),co(m,x+32,j,k+128,1)}function rx(m,x,j,k){var D;for(m=m[x+0]+4,D=0;4>D;++D)for(x=0;4>x;++x)Ua(j,k,x,D,m)}function wg(m,x,j,k){m[x+0]&&os(m,x+0,j,k),m[x+16]&&os(m,x+16,j,k+4),m[x+32]&&os(m,x+32,j,k+128),m[x+48]&&os(m,x+48,j,k+128+4)}function nx(m,x,j,k){var D,B=a(16);for(D=0;4>D;++D){var $=m[x+0+D]+m[x+12+D],U=m[x+4+D]+m[x+8+D],z=m[x+4+D]-m[x+8+D],Z=m[x+0+D]-m[x+12+D];B[0+D]=$+U,B[8+D]=$-U,B[4+D]=Z+z,B[12+D]=Z-z}for(D=0;4>D;++D)$=(m=B[0+4*D]+3)+B[3+4*D],U=B[1+4*D]+B[2+4*D],z=B[1+4*D]-B[2+4*D],Z=m-B[3+4*D],j[k+0]=$+U>>3,j[k+16]=Z+z>>3,j[k+32]=$-U>>3,j[k+48]=Z-z>>3,k+=64}function ef(m,x,j){var k,D=x-32,B=Gs,$=255-m[D-1];for(k=0;k<j;++k){var U,z=B,Z=$+m[x-1];for(U=0;U<j;++U)m[x+U]=z[Z+m[D+U]];x+=32}}function sx(m,x){ef(m,x,4)}function ax(m,x){ef(m,x,8)}function ix(m,x){ef(m,x,16)}function ao(m,x){var j;for(j=0;16>j;++j)n(m,x+32*j,m,x-32,16)}function Mu(m,x){var j;for(j=16;0<j;--j)s(m,x,m[x-1],16),x+=32}function Iu(m,x,j){var k;for(k=0;16>k;++k)s(x,j+32*k,m,16)}function bg(m,x){var j,k=16;for(j=0;16>j;++j)k+=m[x-1+32*j]+m[x+j-32];Iu(k>>5,m,x)}function Un(m,x){var j,k=8;for(j=0;16>j;++j)k+=m[x-1+32*j];Iu(k>>4,m,x)}function ox(m,x){var j,k=8;for(j=0;16>j;++j)k+=m[x+j-32];Iu(k>>4,m,x)}function Sg(m,x){Iu(128,m,x)}function Ct(m,x,j){return m+2*x+j+2>>2}function lx(m,x){var j,k=x-32;for(k=new Uint8Array([Ct(m[k-1],m[k+0],m[k+1]),Ct(m[k+0],m[k+1],m[k+2]),Ct(m[k+1],m[k+2],m[k+3]),Ct(m[k+2],m[k+3],m[k+4])]),j=0;4>j;++j)n(m,x+32*j,k,0,k.length)}function cx(m,x){var j=m[x-1],k=m[x-1+32],D=m[x-1+64],B=m[x-1+96];Ce(m,x+0,16843009*Ct(m[x-1-32],j,k)),Ce(m,x+32,16843009*Ct(j,k,D)),Ce(m,x+64,16843009*Ct(k,D,B)),Ce(m,x+96,16843009*Ct(D,B,B))}function Ei(m,x){var j,k=4;for(j=0;4>j;++j)k+=m[x+j-32]+m[x-1+32*j];for(k>>=3,j=0;4>j;++j)s(m,x+32*j,k,4)}function _g(m,x){var j=m[x-1+0],k=m[x-1+32],D=m[x-1+64],B=m[x-1-32],$=m[x+0-32],U=m[x+1-32],z=m[x+2-32],Z=m[x+3-32];m[x+0+96]=Ct(k,D,m[x-1+96]),m[x+1+96]=m[x+0+64]=Ct(j,k,D),m[x+2+96]=m[x+1+64]=m[x+0+32]=Ct(B,j,k),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Ct($,B,j),m[x+3+64]=m[x+2+32]=m[x+1+0]=Ct(U,$,B),m[x+3+32]=m[x+2+0]=Ct(z,U,$),m[x+3+0]=Ct(Z,z,U)}function Ng(m,x){var j=m[x+1-32],k=m[x+2-32],D=m[x+3-32],B=m[x+4-32],$=m[x+5-32],U=m[x+6-32],z=m[x+7-32];m[x+0+0]=Ct(m[x+0-32],j,k),m[x+1+0]=m[x+0+32]=Ct(j,k,D),m[x+2+0]=m[x+1+32]=m[x+0+64]=Ct(k,D,B),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Ct(D,B,$),m[x+3+32]=m[x+2+64]=m[x+1+96]=Ct(B,$,U),m[x+3+64]=m[x+2+96]=Ct($,U,z),m[x+3+96]=Ct(U,z,z)}function Fu(m,x){var j=m[x-1+0],k=m[x-1+32],D=m[x-1+64],B=m[x-1-32],$=m[x+0-32],U=m[x+1-32],z=m[x+2-32],Z=m[x+3-32];m[x+0+0]=m[x+1+64]=B+$+1>>1,m[x+1+0]=m[x+2+64]=$+U+1>>1,m[x+2+0]=m[x+3+64]=U+z+1>>1,m[x+3+0]=z+Z+1>>1,m[x+0+96]=Ct(D,k,j),m[x+0+64]=Ct(k,j,B),m[x+0+32]=m[x+1+96]=Ct(j,B,$),m[x+1+32]=m[x+2+96]=Ct(B,$,U),m[x+2+32]=m[x+3+96]=Ct($,U,z),m[x+3+32]=Ct(U,z,Z)}function tf(m,x){var j=m[x+0-32],k=m[x+1-32],D=m[x+2-32],B=m[x+3-32],$=m[x+4-32],U=m[x+5-32],z=m[x+6-32],Z=m[x+7-32];m[x+0+0]=j+k+1>>1,m[x+1+0]=m[x+0+64]=k+D+1>>1,m[x+2+0]=m[x+1+64]=D+B+1>>1,m[x+3+0]=m[x+2+64]=B+$+1>>1,m[x+0+32]=Ct(j,k,D),m[x+1+32]=m[x+0+96]=Ct(k,D,B),m[x+2+32]=m[x+1+96]=Ct(D,B,$),m[x+3+32]=m[x+2+96]=Ct(B,$,U),m[x+3+64]=Ct($,U,z),m[x+3+96]=Ct(U,z,Z)}function ux(m,x){var j=m[x-1+0],k=m[x-1+32],D=m[x-1+64],B=m[x-1+96];m[x+0+0]=j+k+1>>1,m[x+2+0]=m[x+0+32]=k+D+1>>1,m[x+2+32]=m[x+0+64]=D+B+1>>1,m[x+1+0]=Ct(j,k,D),m[x+3+0]=m[x+1+32]=Ct(k,D,B),m[x+3+32]=m[x+1+64]=Ct(D,B,B),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=B}function dx(m,x){var j=m[x-1+0],k=m[x-1+32],D=m[x-1+64],B=m[x-1+96],$=m[x-1-32],U=m[x+0-32],z=m[x+1-32],Z=m[x+2-32];m[x+0+0]=m[x+2+32]=j+$+1>>1,m[x+0+32]=m[x+2+64]=k+j+1>>1,m[x+0+64]=m[x+2+96]=D+k+1>>1,m[x+0+96]=B+D+1>>1,m[x+3+0]=Ct(U,z,Z),m[x+2+0]=Ct($,U,z),m[x+1+0]=m[x+3+32]=Ct(j,$,U),m[x+1+32]=m[x+3+64]=Ct(k,j,$),m[x+1+64]=m[x+3+96]=Ct(D,k,j),m[x+1+96]=Ct(B,D,k)}function hx(m,x){var j;for(j=0;8>j;++j)n(m,x+32*j,m,x-32,8)}function rf(m,x){var j;for(j=0;8>j;++j)s(m,x,m[x-1],8),x+=32}function wc(m,x,j){var k;for(k=0;8>k;++k)s(x,j+32*k,m,8)}function Go(m,x){var j,k=8;for(j=0;8>j;++j)k+=m[x+j-32]+m[x-1+32*j];wc(k>>4,m,x)}function fx(m,x){var j,k=4;for(j=0;8>j;++j)k+=m[x+j-32];wc(k>>3,m,x)}function bc(m,x){var j,k=4;for(j=0;8>j;++j)k+=m[x-1+32*j];wc(k>>3,m,x)}function nf(m,x){wc(128,m,x)}function Bu(m,x,j){var k=m[x-j],D=m[x+0],B=3*(D-k)+xx[1020+m[x-2*j]-m[x+j]],$=Ig[112+(B+4>>3)];m[x-j]=Gs[255+k+Ig[112+(B+3>>3)]],m[x+0]=Gs[255+D-$]}function jg(m,x,j,k){var D=m[x+0],B=m[x+j];return xa[255+m[x-2*j]-m[x-j]]>k||xa[255+B-D]>k}function Cg(m,x,j,k){return 4*xa[255+m[x-j]-m[x+0]]+xa[255+m[x-2*j]-m[x+j]]<=k}function kg(m,x,j,k,D){var B=m[x-3*j],$=m[x-2*j],U=m[x-j],z=m[x+0],Z=m[x+j],ce=m[x+2*j],ve=m[x+3*j];return 4*xa[255+U-z]+xa[255+$-Z]>k?0:xa[255+m[x-4*j]-B]<=D&&xa[255+B-$]<=D&&xa[255+$-U]<=D&&xa[255+ve-ce]<=D&&xa[255+ce-Z]<=D&&xa[255+Z-z]<=D}function Pg(m,x,j,k){var D=2*k+1;for(k=0;16>k;++k)Cg(m,x+k,j,D)&&Bu(m,x+k,j)}function Ai(m,x,j,k){var D=2*k+1;for(k=0;16>k;++k)Cg(m,x+k*j,1,D)&&Bu(m,x+k*j,1)}function io(m,x,j,k){var D;for(D=3;0<D;--D)Pg(m,x+=4*j,j,k)}function px(m,x,j,k){var D;for(D=3;0<D;--D)Ai(m,x+=4,j,k)}function Yo(m,x,j,k,D,B,$,U){for(B=2*B+1;0<D--;){if(kg(m,x,j,B,$))if(jg(m,x,j,U))Bu(m,x,j);else{var z=m,Z=x,ce=j,ve=z[Z-2*ce],xe=z[Z-ce],pe=z[Z+0],Oe=z[Z+ce],Ee=z[Z+2*ce],de=27*(De=xx[1020+3*(pe-xe)+xx[1020+ve-Oe]])+63>>7,he=18*De+63>>7,De=9*De+63>>7;z[Z-3*ce]=Gs[255+z[Z-3*ce]+De],z[Z-2*ce]=Gs[255+ve+he],z[Z-ce]=Gs[255+xe+de],z[Z+0]=Gs[255+pe-de],z[Z+ce]=Gs[255+Oe-he],z[Z+2*ce]=Gs[255+Ee-De]}x+=k}}function Va(m,x,j,k,D,B,$,U){for(B=2*B+1;0<D--;){if(kg(m,x,j,B,$))if(jg(m,x,j,U))Bu(m,x,j);else{var z=m,Z=x,ce=j,ve=z[Z-ce],xe=z[Z+0],pe=z[Z+ce],Oe=Ig[112+((Ee=3*(xe-ve))+4>>3)],Ee=Ig[112+(Ee+3>>3)],de=Oe+1>>1;z[Z-2*ce]=Gs[255+z[Z-2*ce]+de],z[Z-ce]=Gs[255+ve+Ee],z[Z+0]=Gs[255+xe-Oe],z[Z+ce]=Gs[255+pe-de]}x+=k}}function sf(m,x,j,k,D,B){Yo(m,x,j,1,16,k,D,B)}function Sc(m,x,j,k,D,B){Yo(m,x,1,j,16,k,D,B)}function mx(m,x,j,k,D,B){var $;for($=3;0<$;--$)Va(m,x+=4*j,j,1,16,k,D,B)}function $u(m,x,j,k,D,B){var $;for($=3;0<$;--$)Va(m,x+=4,1,j,16,k,D,B)}function gx(m,x,j,k,D,B,$,U){Yo(m,x,D,1,8,B,$,U),Yo(j,k,D,1,8,B,$,U)}function af(m,x,j,k,D,B,$,U){Yo(m,x,1,D,8,B,$,U),Yo(j,k,1,D,8,B,$,U)}function of(m,x,j,k,D,B,$,U){Va(m,x+4*D,D,1,8,B,$,U),Va(j,k+4*D,D,1,8,B,$,U)}function Eg(m,x,j,k,D,B,$,U){Va(m,x+4,1,D,8,B,$,U),Va(j,k+4,1,D,8,B,$,U)}function Uu(){this.ba=new $r,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ag(){this.ua=0,this.Wa=new re,this.vb=new re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new E}function yx(){this.xb=this.a=0,this.l=new Ru,this.ca=new $r,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ag,this.ab=0,this.gc=i(4,cf),this.Oc=0}function Vu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ru,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _c(m,x,j,k,D,B,$){for(m=m==null?0:m[x+0],x=0;x<$;++x)D[B+x]=m+j[k+x]&255,m=D[B+x]}function uf(m,x,j,k,D,B,$){var U;if(m==null)_c(null,null,j,k,D,B,$);else for(U=0;U<$;++U)D[B+U]=m[x+U]+j[k+U]&255}function Ko(m,x,j,k,D,B,$){if(m==null)_c(null,null,j,k,D,B,$);else{var U,z=m[x+0],Z=z,ce=z;for(U=0;U<$;++U)Z=ce+(z=m[x+U])-Z,ce=j[k+U]+(-256&Z?0>Z?0:255:Z)&255,Z=z,D[B+U]=ce}}function df(m,x,j,k){var D=x.width,B=x.o;if(t(m!=null&&x!=null),0>j||0>=k||j+k>B)return null;if(!m.Cc){if(m.ga==null){var $;if(m.ga=new Vu,($=m.ga==null)||($=x.width*x.o,t(m.Gb.length==0),m.Gb=a($),m.Uc=0,m.Gb==null?$=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,$=1),$=!$),!$){$=m.ga;var U=m.Fa,z=m.P,Z=m.qc,ce=m.mb,ve=m.nb,xe=z+1,pe=Z-1,Oe=$.l;if(t(U!=null&&ce!=null&&x!=null),tl[0]=null,tl[1]=_c,tl[2]=uf,tl[3]=Ko,$.ca=ce,$.tb=ve,$.c=x.width,$.i=x.height,t(0<$.c&&0<$.i),1>=Z)x=0;else if($.$a=U[z+0]>>0&3,$.Z=U[z+0]>>2&3,$.Lc=U[z+0]>>4&3,z=U[z+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||z)x=0;else if(Oe.put=Ni,Oe.ac=Ln,Oe.bc=ji,Oe.ma=$,Oe.width=x.width,Oe.height=x.height,Oe.Da=x.Da,Oe.v=x.v,Oe.va=x.va,Oe.j=x.j,Oe.o=x.o,$.$a)e:{t($.$a==1),x=pa();t:for(;;){if(x==null){x=0;break e}if(t($!=null),$.mc=x,x.c=$.c,x.i=$.i,x.l=$.l,x.l.ma=$,x.l.width=$.c,x.l.height=$.i,x.a=0,I(x.m,U,xe,pe),!Pi($.c,$.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&so(x.s)?($.ic=1,U=x.c*x.i,x.Ta=null,x.Ua=0,x.V=a(U),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):($.ic=0,x=xc(x,$.c)),!x))break t;x=1;break e}$.mc=null,x=0}else x=pe>=$.c*$.i;$=!x}if($)return null;m.ga.Lc!=1?m.Ga=0:k=B-j}t(m.ga!=null),t(j+k<=B);e:{if(x=(U=m.ga).c,B=U.l.o,U.$a==0){if(xe=m.rc,pe=m.Vc,Oe=m.Fa,z=m.P+1+j*x,Z=m.mb,ce=m.nb+j*x,t(z<=m.P+m.qc),U.Z!=0)for(t(tl[U.Z]!=null),$=0;$<k;++$)tl[U.Z](xe,pe,Oe,z,Z,ce,x),xe=Z,pe=ce,ce+=x,z+=x;else for($=0;$<k;++$)n(Z,ce,Oe,z,x),xe=Z,pe=ce,ce+=x,z+=x;m.rc=xe,m.Vc=pe}else{if(t(U.mc!=null),x=j+k,t(($=U.mc)!=null),t(x<=$.i),$.C>=x)x=1;else if(U.ic||ge(),U.ic){U=$.V,xe=$.Ba,pe=$.c;var Ee=$.i,de=(Oe=1,z=$.$/pe,Z=$.$%pe,ce=$.m,ve=$.s,$.$),he=pe*Ee,De=pe*x,Fe=ve.wc,Re=de<De?un(ve,Z,z):null;t(de<=he),t(x<=Ee),t(so(ve));t:for(;;){for(;!ce.h&&de<De;){if(Z&Fe||(Re=un(ve,Z,z)),t(Re!=null),q(ce),256>(Ee=bs(Re.G[0],Re.H[0],ce)))U[xe+de]=Ee,++de,++Z>=pe&&(Z=0,++z<=x&&!(z%16)&&Ba($,z));else{if(!(280>Ee)){Oe=0;break t}Ee=Ia(Ee-256,ce);var nt,Xe=bs(Re.G[4],Re.H[4],ce);if(q(ce),!(de>=(Xe=Ci(pe,Xe=Ia(Xe,ce)))&&he-de>=Ee)){Oe=0;break t}for(nt=0;nt<Ee;++nt)U[xe+de+nt]=U[xe+de+nt-Xe];for(de+=Ee,Z+=Ee;Z>=pe;)Z-=pe,++z<=x&&!(z%16)&&Ba($,z);de<De&&Z&Fe&&(Re=un(ve,Z,z))}t(ce.h==X(ce))}Ba($,z>x?x:z);break t}!Oe||ce.h&&de<he?(Oe=0,$.a=ce.h?5:3):$.$=de,x=Oe}else x=$a($,$.V,$.Ba,$.c,$.i,x,Eu);if(!x){k=0;break e}}j+k>=B&&(m.Cc=1),k=1}if(!k)return null;if(m.Cc&&((k=m.ga)!=null&&(k.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+j*D}function _(m,x,j,k,D,B){for(;0<D--;){var $,U=m,z=x+(j?1:0),Z=m,ce=x+(j?0:3);for($=0;$<k;++$){var ve=Z[ce+4*$];ve!=255&&(ve*=32897,U[z+4*$+0]=U[z+4*$+0]*ve>>23,U[z+4*$+1]=U[z+4*$+1]*ve>>23,U[z+4*$+2]=U[z+4*$+2]*ve>>23)}x+=B}}function O(m,x,j,k,D){for(;0<k--;){var B;for(B=0;B<j;++B){var $=m[x+2*B+0],U=15&(Z=m[x+2*B+1]),z=4369*U,Z=(240&Z|Z>>4)*z>>16;m[x+2*B+0]=(240&$|$>>4)*z>>16&240|(15&$|$<<4)*z>>16>>4&15,m[x+2*B+1]=240&Z|U}x+=D}}function te(m,x,j,k,D,B,$,U){var z,Z,ce=255;for(Z=0;Z<D;++Z){for(z=0;z<k;++z){var ve=m[x+z];B[$+4*z]=ve,ce&=ve}x+=j,$+=U}return ce!=255}function le(m,x,j,k,D){var B;for(B=0;B<D;++B)j[k+B]=m[x+B]>>8}function ge(){va=_,pr=O,mr=te,Qr=le}function Te(m,x,j){T[m]=function(k,D,B,$,U,z,Z,ce,ve,xe,pe,Oe,Ee,de,he,De,Fe){var Re,nt=Fe-1>>1,Xe=U[z+0]|Z[ce+0]<<16,mt=ve[xe+0]|pe[Oe+0]<<16;t(k!=null);var Je=3*Xe+mt+131074>>2;for(x(k[D+0],255&Je,Je>>16,Ee,de),B!=null&&(Je=3*mt+Xe+131074>>2,x(B[$+0],255&Je,Je>>16,he,De)),Re=1;Re<=nt;++Re){var Zt=U[z+Re]|Z[ce+Re]<<16,tr=ve[xe+Re]|pe[Oe+Re]<<16,Gt=Xe+Zt+mt+tr+524296,$t=Gt+2*(Zt+mt)>>3;Je=$t+Xe>>1,Xe=(Gt=Gt+2*(Xe+tr)>>3)+Zt>>1,x(k[D+2*Re-1],255&Je,Je>>16,Ee,de+(2*Re-1)*j),x(k[D+2*Re-0],255&Xe,Xe>>16,Ee,de+(2*Re-0)*j),B!=null&&(Je=Gt+mt>>1,Xe=$t+tr>>1,x(B[$+2*Re-1],255&Je,Je>>16,he,De+(2*Re-1)*j),x(B[$+2*Re+0],255&Xe,Xe>>16,he,De+(2*Re+0)*j)),Xe=Zt,mt=tr}1&Fe||(Je=3*Xe+mt+131074>>2,x(k[D+Fe-1],255&Je,Je>>16,Ee,de+(Fe-1)*j),B!=null&&(Je=3*mt+Xe+131074>>2,x(B[$+Fe-1],255&Je,Je>>16,he,De+(Fe-1)*j)))}}function $e(){wa[Fg]=UF,wa[Bg]=ij,wa[tj]=VF,wa[$g]=oj,wa[Ug]=lj,wa[wx]=cj,wa[rj]=zF,wa[bx]=ij,wa[Sx]=oj,wa[Vg]=lj,wa[_x]=cj}function rt(m){return m&~qF?0>m?0:255:m>>uj}function pt(m,x){return rt((19077*m>>8)+(26149*x>>8)-14234)}function Et(m,x,j){return rt((19077*m>>8)-(6419*x>>8)-(13320*j>>8)+8708)}function kt(m,x){return rt((19077*m>>8)+(33050*x>>8)-17685)}function zt(m,x,j,k,D){k[D+0]=pt(m,j),k[D+1]=Et(m,x,j),k[D+2]=kt(m,x)}function Lr(m,x,j,k,D){k[D+0]=kt(m,x),k[D+1]=Et(m,x,j),k[D+2]=pt(m,j)}function Ur(m,x,j,k,D){var B=Et(m,x,j);x=B<<3&224|kt(m,x)>>3,k[D+0]=248&pt(m,j)|B>>5,k[D+1]=x}function dn(m,x,j,k,D){var B=240&kt(m,x)|15;k[D+0]=240&pt(m,j)|Et(m,x,j)>>4,k[D+1]=B}function Vn(m,x,j,k,D){k[D+0]=255,zt(m,x,j,k,D+1)}function Sn(m,x,j,k,D){Lr(m,x,j,k,D),k[D+3]=255}function za(m,x,j,k,D){zt(m,x,j,k,D),k[D+3]=255}function Hs(m,x){return 0>m?0:m>x?x:m}function Ti(m,x,j){T[m]=function(k,D,B,$,U,z,Z,ce,ve){for(var xe=ce+(-2&ve)*j;ce!=xe;)x(k[D+0],B[$+0],U[z+0],Z,ce),x(k[D+1],B[$+0],U[z+0],Z,ce+j),D+=2,++$,++z,ce+=2*j;1&ve&&x(k[D+0],B[$+0],U[z+0],Z,ce)}}function Tg(m,x,j){return j==0?m==0?x==0?6:5:x==0?4:0:j}function hf(m,x,j,k,D){switch(m>>>30){case 3:co(x,j,k,D,0);break;case 2:Jr(x,j,k,D);break;case 1:os(x,j,k,D)}}function ff(m,x){var j,k,D=x.M,B=x.Nb,$=m.oc,U=m.pc+40,z=m.oc,Z=m.pc+584,ce=m.oc,ve=m.pc+600;for(j=0;16>j;++j)$[U+32*j-1]=129;for(j=0;8>j;++j)z[Z+32*j-1]=129,ce[ve+32*j-1]=129;for(0<D?$[U-1-32]=z[Z-1-32]=ce[ve-1-32]=129:(s($,U-32-1,127,21),s(z,Z-32-1,127,9),s(ce,ve-32-1,127,9)),k=0;k<m.za;++k){var xe=x.ya[x.aa+k];if(0<k){for(j=-1;16>j;++j)n($,U+32*j-4,$,U+32*j+12,4);for(j=-1;8>j;++j)n(z,Z+32*j-4,z,Z+32*j+4,4),n(ce,ve+32*j-4,ce,ve+32*j+4,4)}var pe=m.Gd,Oe=m.Hd+k,Ee=xe.ad,de=xe.Hc;if(0<D&&(n($,U-32,pe[Oe].y,0,16),n(z,Z-32,pe[Oe].f,0,8),n(ce,ve-32,pe[Oe].ea,0,8)),xe.Za){var he=$,De=U-32+16;for(0<D&&(k>=m.za-1?s(he,De,pe[Oe].y[15],4):n(he,De,pe[Oe+1].y,0,4)),j=0;4>j;j++)he[De+128+j]=he[De+256+j]=he[De+384+j]=he[De+0+j];for(j=0;16>j;++j,de<<=2)he=$,De=U+hj[j],qa[xe.Ob[j]](he,De),hf(de,Ee,16*+j,he,De)}else if(he=Tg(k,D,xe.Ob[0]),el[he]($,U),de!=0)for(j=0;16>j;++j,de<<=2)hf(de,Ee,16*+j,$,U+hj[j]);for(j=xe.Gc,he=Tg(k,D,xe.Dd),ho[he](z,Z),ho[he](ce,ve),de=Ee,he=z,De=Z,255&(xe=j>>0)&&(170&xe?vf(de,256,he,De):ga(de,256,he,De)),xe=ce,de=ve,255&(j>>=8)&&(170&j?vf(Ee,320,xe,de):ga(Ee,320,xe,de)),D<m.Ub-1&&(n(pe[Oe].y,0,$,U+480,16),n(pe[Oe].f,0,z,Z+224,8),n(pe[Oe].ea,0,ce,ve+224,8)),j=8*B*m.B,pe=m.sa,Oe=m.ta+16*k+16*B*m.R,Ee=m.qa,xe=m.ra+8*k+j,de=m.Ha,he=m.Ia+8*k+j,j=0;16>j;++j)n(pe,Oe+j*m.R,$,U+32*j,16);for(j=0;8>j;++j)n(Ee,xe+j*m.B,z,Z+32*j,8),n(de,he+j*m.B,ce,ve+32*j,8)}}function zu(m,x,j,k,D,B,$,U,z){var Z=[0],ce=[0],ve=0,xe=z!=null?z.kd:0,pe=z??new lf;if(m==null||12>j)return 7;pe.data=m,pe.w=x,pe.ha=j,x=[x],j=[j],pe.gb=[pe.gb];e:{var Oe=x,Ee=j,de=pe.gb;if(t(m!=null),t(Ee!=null),t(de!=null),de[0]=0,12<=Ee[0]&&!r(m,Oe[0],"RIFF")){if(r(m,Oe[0]+8,"WEBP")){de=3;break e}var he=Ae(m,Oe[0]+4);if(12>he||4294967286<he){de=3;break e}if(xe&&he>Ee[0]-8){de=7;break e}de[0]=he,Oe[0]+=12,Ee[0]-=12}de=0}if(de!=0)return de;for(he=0<pe.gb[0],j=j[0];;){e:{var De=m;Ee=x,de=j;var Fe=Z,Re=ce,nt=Oe=[0];if((Je=ve=[ve])[0]=0,8>de[0])de=7;else{if(!r(De,Ee[0],"VP8X")){if(Ae(De,Ee[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var Xe=Ae(De,Ee[0]+8),mt=1+_e(De,Ee[0]+12);if(2147483648<=mt*(De=1+_e(De,Ee[0]+15))){de=3;break e}nt!=null&&(nt[0]=Xe),Fe!=null&&(Fe[0]=mt),Re!=null&&(Re[0]=De),Ee[0]+=18,de[0]-=18,Je[0]=1}de=0}}if(ve=ve[0],Oe=Oe[0],de!=0)return de;if(Ee=!!(2&Oe),!he&&ve)return 3;if(B!=null&&(B[0]=!!(16&Oe)),$!=null&&($[0]=Ee),U!=null&&(U[0]=0),$=Z[0],Oe=ce[0],ve&&Ee&&z==null){de=0;break}if(4>j){de=7;break}if(he&&ve||!he&&!ve&&!r(m,x[0],"ALPH")){j=[j],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Xe=m,de=x,he=j;var Je=pe.gb;Fe=pe.na,Re=pe.P,nt=pe.Sa,mt=22,t(Xe!=null),t(he!=null),De=de[0];var Zt=he[0];for(t(Fe!=null),t(nt!=null),Fe[0]=null,Re[0]=null,nt[0]=0;;){if(de[0]=De,he[0]=Zt,8>Zt){de=7;break e}var tr=Ae(Xe,De+4);if(4294967286<tr){de=3;break e}var Gt=8+tr+1&-2;if(mt+=Gt,0<Je&&mt>Je){de=3;break e}if(!r(Xe,De,"VP8 ")||!r(Xe,De,"VP8L")){de=0;break e}if(Zt[0]<Gt){de=7;break e}r(Xe,De,"ALPH")||(Fe[0]=Xe,Re[0]=De+8,nt[0]=tr),De+=Gt,Zt-=Gt}}if(j=j[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],de!=0)break}j=[j],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Je=m,de=x,he=j,Fe=pe.gb[0],Re=pe.Ja,nt=pe.xa,Xe=de[0],De=!r(Je,Xe,"VP8 "),mt=!r(Je,Xe,"VP8L"),t(Je!=null),t(he!=null),t(Re!=null),t(nt!=null),8>he[0])de=7;else{if(De||mt){if(Je=Ae(Je,Xe+4),12<=Fe&&Je>Fe-12){de=3;break e}if(xe&&Je>he[0]-8){de=7;break e}Re[0]=Je,de[0]+=8,he[0]-=8,nt[0]=mt}else nt[0]=5<=he[0]&&Je[Xe+0]==47&&!(Je[Xe+4]>>5),Re[0]=he[0];de=0}if(j=j[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],x=x[0],de!=0)break;if(4294967286<pe.Ja)return 3;if(U==null||Ee||(U[0]=pe.xa?2:1),$=[$],Oe=[Oe],pe.xa){if(5>j){de=7;break}U=$,xe=Oe,Ee=B,m==null||5>j?m=0:5<=j&&m[x+0]==47&&!(m[x+4]>>5)?(he=[0],Je=[0],Fe=[0],I(Re=new A,m,x,j),gt(Re,he,Je,Fe)?(U!=null&&(U[0]=he[0]),xe!=null&&(xe[0]=Je[0]),Ee!=null&&(Ee[0]=Fe[0]),m=1):m=0):m=0}else{if(10>j){de=7;break}U=Oe,m==null||10>j||!mg(m,x+3,j-3)?m=0:(xe=m[x+0]|m[x+1]<<8|m[x+2]<<16,Ee=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=pe.Ja||!Ee||!m?m=0:($&&($[0]=Ee),U&&(U[0]=m),m=1))}if(!m||($=$[0],Oe=Oe[0],ve&&(Z[0]!=$||ce[0]!=Oe)))return 3;z!=null&&(z[0]=pe,z.offset=x-z.w,t(4294967286>x-z.w),t(z.offset==z.ha-j));break}return de==0||de==7&&ve&&z==null?(B!=null&&(B[0]|=pe.na!=null&&0<pe.na.length),k!=null&&(k[0]=$),D!=null&&(D[0]=Oe),0):de}function pf(m,x,j){var k=x.width,D=x.height,B=0,$=0,U=k,z=D;if(x.Da=m!=null&&0<m.Da,x.Da&&(U=m.cd,z=m.bd,B=m.v,$=m.j,11>j||(B&=-2,$&=-2),0>B||0>$||0>=U||0>=z||B+U>k||$+z>D))return 0;if(x.v=B,x.j=$,x.va=B+U,x.o=$+z,x.U=U,x.T=z,x.da=m!=null&&0<m.da,x.da){if(!Ze(U,z,j=[m.ib],B=[m.hb]))return 0;x.ib=j[0],x.hb=B[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*k/4&&x.hb<3*D/4,x.Kb=0),1}function mf(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function qu(m,x,j,k){if(k==null||0>=m||0>=x)return 2;if(j!=null){if(j.Da){var D=j.cd,B=j.bd,$=-2&j.v,U=-2&j.j;if(0>$||0>U||0>=D||0>=B||$+D>m||U+B>x)return 2;m=D,x=B}if(j.da){if(!Ze(m,x,D=[j.ib],B=[j.hb]))return 2;m=D[0],x=B[0]}}k.width=m,k.height=x;e:{var z=k.width,Z=k.height;if(m=k.S,0>=z||0>=Z||!(m>=Fg&&13>m))m=2;else{if(0>=k.Rd&&k.sd==null){$=B=D=x=0;var ce=(U=z*fj[m])*Z;if(11>m||(B=(Z+1)/2*(x=(z+1)/2),m==12&&($=(D=z)*Z)),(Z=a(ce+2*B+$))==null){m=1;break e}k.sd=Z,11>m?((z=k.f.RGBA).eb=Z,z.fb=0,z.A=U,z.size=ce):((z=k.f.kb).y=Z,z.O=0,z.fa=U,z.Fd=ce,z.f=Z,z.N=0+ce,z.Ab=x,z.Cd=B,z.ea=Z,z.W=0+ce+B,z.Db=x,z.Ed=B,m==12&&(z.F=Z,z.J=0+ce+2*B),z.Tc=$,z.lb=D)}if(x=1,D=k.S,B=k.width,$=k.height,D>=Fg&&13>D)if(11>D)m=k.f.RGBA,x&=(U=Math.abs(m.A))*($-1)+B<=m.size,x&=U>=B*fj[D],x&=m.eb!=null;else{m=k.f.kb,U=(B+1)/2,ce=($+1)/2,z=Math.abs(m.fa),Z=Math.abs(m.Ab);var ve=Math.abs(m.Db),xe=Math.abs(m.lb),pe=xe*($-1)+B;x&=z*($-1)+B<=m.Fd,x&=Z*(ce-1)+U<=m.Cd,x=(x&=ve*(ce-1)+U<=m.Ed)&z>=B&Z>=U&ve>=U,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,D==12&&(x&=xe>=B,x&=pe<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||j!=null&&j.fd&&(m=mf(k)),m}var Dn=64,Wu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hu=24,Gu=32,gf=8,_s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];oe("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(m){return m},T.Predictor2=function(m,x,j){return x[j+0]},T.Predictor3=function(m,x,j){return x[j+1]},T.Predictor4=function(m,x,j){return x[j-1]},T.Predictor5=function(m,x,j){return ye(ye(m,x[j+1]),x[j+0])},T.Predictor6=function(m,x,j){return ye(m,x[j-1])},T.Predictor7=function(m,x,j){return ye(m,x[j+0])},T.Predictor8=function(m,x,j){return ye(x[j-1],x[j+0])},T.Predictor9=function(m,x,j){return ye(x[j+0],x[j+1])},T.Predictor10=function(m,x,j){return ye(ye(m,x[j-1]),ye(x[j+0],x[j+1]))},T.Predictor11=function(m,x,j){var k=x[j+0];return 0>=qe(k>>24&255,m>>24&255,(x=x[j-1])>>24&255)+qe(k>>16&255,m>>16&255,x>>16&255)+qe(k>>8&255,m>>8&255,x>>8&255)+qe(255&k,255&m,255&x)?k:m},T.Predictor12=function(m,x,j){var k=x[j+0];return(be((m>>24&255)+(k>>24&255)-((x=x[j-1])>>24&255))<<24|be((m>>16&255)+(k>>16&255)-(x>>16&255))<<16|be((m>>8&255)+(k>>8&255)-(x>>8&255))<<8|be((255&m)+(255&k)-(255&x)))>>>0},T.Predictor13=function(m,x,j){var k=x[j-1];return(Ie((m=ye(m,x[j+0]))>>24&255,k>>24&255)<<24|Ie(m>>16&255,k>>16&255)<<16|Ie(m>>8&255,k>>8&255)<<8|Ie(m>>0&255,k>>0&255))>>>0};var vx=T.PredictorAdd0;T.PredictorAdd1=it,oe("Predictor2","PredictorAdd2"),oe("Predictor3","PredictorAdd3"),oe("Predictor4","PredictorAdd4"),oe("Predictor5","PredictorAdd5"),oe("Predictor6","PredictorAdd6"),oe("Predictor7","PredictorAdd7"),oe("Predictor8","PredictorAdd8"),oe("Predictor9","PredictorAdd9"),oe("Predictor10","PredictorAdd10"),oe("Predictor11","PredictorAdd11"),oe("Predictor12","PredictorAdd12"),oe("Predictor13","PredictorAdd13");var yf=T.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Lg,ma=T.ColorIndexInverseTransform,Yu=T.MapARGB,Dg=T.VP8LColorIndexInverseTransformAlpha,Rg=T.MapAlpha,Xo=T.VP8LPredictorsAdd=[];Xo.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Nc,Ns,is,Zo,oo,lo,Ku,co,Jr,vf,os,ga,Xu,Og,xf,jc,Cc,Jo,kc,Zu,Pc,Qo,wf,ya,va,pr,mr,Qr,gn=a(511),uo=a(2041),bf=a(225),Ju=a(767),Mg=0,xx=uo,Ig=bf,Gs=Ju,xa=gn,Fg=0,Bg=1,tj=2,$g=3,Ug=4,wx=5,rj=6,bx=7,Sx=8,Vg=9,_x=10,kF=[2,3,7],PF=[3,3,11],nj=[280,256,256,256,40],EF=[0,1,1,1,0],AF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],TF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DF=8,Nx=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jx=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Sf=null,RF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],OF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],MF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],IF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],FF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],BF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],el=[],qa=[],ho=[],$F=1,aj=2,tl=[],wa=[];Te("UpsampleRgbLinePair",zt,3),Te("UpsampleBgrLinePair",Lr,3),Te("UpsampleRgbaLinePair",za,4),Te("UpsampleBgraLinePair",Sn,4),Te("UpsampleArgbLinePair",Vn,4),Te("UpsampleRgba4444LinePair",dn,2),Te("UpsampleRgb565LinePair",Ur,2);var UF=T.UpsampleRgbLinePair,VF=T.UpsampleBgrLinePair,ij=T.UpsampleRgbaLinePair,oj=T.UpsampleBgraLinePair,lj=T.UpsampleArgbLinePair,cj=T.UpsampleRgba4444LinePair,zF=T.UpsampleRgb565LinePair,zg=16,qg=1<<zg-1,_f=-227,Cx=482,uj=6,qF=(256<<uj)-1,dj=0,WF=a(256),HF=a(256),GF=a(256),YF=a(256),KF=a(Cx-_f),XF=a(Cx-_f);Ti("YuvToRgbRow",zt,3),Ti("YuvToBgrRow",Lr,3),Ti("YuvToRgbaRow",za,4),Ti("YuvToBgraRow",Sn,4),Ti("YuvToArgbRow",Vn,4),Ti("YuvToRgba4444Row",dn,2),Ti("YuvToRgb565Row",Ur,2);var hj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wg=[0,2,8],ZF=[8,7,6,4,4,2,2,2,1,1,1,1],JF=1;this.WebPDecodeRGBA=function(m,x,j,k,D){var B=Bg,$=new Uu,U=new $r;$.ba=U,U.S=B,U.width=[U.width],U.height=[U.height];var z=U.width,Z=U.height,ce=new cn;if(ce==null||m==null)var ve=2;else t(ce!=null),ve=zu(m,x,j,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(ve!=0?z=0:(z!=null&&(z[0]=ce.width[0]),Z!=null&&(Z[0]=ce.height[0]),z=1),z){U.width=U.width[0],U.height=U.height[0],k!=null&&(k[0]=U.width),D!=null&&(D[0]=U.height);e:{if(k=new Ru,(D=new lf).data=m,D.w=x,D.ha=j,D.kd=1,x=[0],t(D!=null),((m=zu(D.data,D.w,D.ha,null,null,null,x,null,D))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(t($!=null),k.data=D.data,k.w=D.w+D.offset,k.ha=D.ha-D.offset,k.put=Ni,k.ac=Ln,k.bc=ji,k.ma=$,D.xa){if((m=pa())==null){$=1;break e}if(function(xe,pe){var Oe=[0],Ee=[0],de=[0];t:for(;;){if(xe==null)return 0;if(pe==null)return xe.a=2,0;if(xe.l=pe,xe.a=0,I(xe.m,pe.data,pe.w,pe.ha),!gt(xe.m,Oe,Ee,de)){xe.a=3;break t}if(xe.xb=aj,pe.width=Oe[0],pe.height=Ee[0],!Pi(Oe[0],Ee[0],1,xe,null))break t;return 1}return t(xe.a!=0),0}(m,k)){if(k=(x=qu(k.width,k.height,$.Oa,$.ba))==0){t:{k=m;r:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((j=k.l)!=null),t((D=j.ma)!=null),k.xb!=0){if(k.ca=D.ba,k.tb=D.tb,t(k.ca!=null),!pf(D.Oa,j,$g)){k.a=2;break r}if(!xc(k,j.width)||j.da)break r;if((j.da||et(k.ca.S))&&ge(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ge()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!Ye(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!$a(k,k.V,k.Ba,k.c,k.i,j.o,Pu))break r;D.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(x=m.a)}else x=m.a}else{if((m=new Q1)==null){$=1;break e}if(m.Fa=D.na,m.P=D.P,m.qc=D.Sa,gg(m,k)){if((x=qu(k.width,k.height,$.Oa,$.ba))==0){if(m.Aa=0,j=$.Oa,t((D=m)!=null),j!=null){if(0<(z=0>(z=j.Md)?0:100<z?255:255*z/100)){for(Z=ce=0;4>Z;++Z)12>(ve=D.pb[Z]).lc&&(ve.ia=z*ZF[0>ve.lc?0:ve.lc]>>3),ce|=ve.ia;ce&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=j.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}ex(m,k)||(x=m.a)}}else x=m.a}x==0&&$.Oa!=null&&$.Oa.fd&&(x=mf($.ba))}$=x}B=$!=0?null:11>B?U.f.RGBA.eb:U.f.kb.y}else B=null;return B};var fj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,H){for(var Q="",L=0;L<4;L++)Q+=String.fromCharCode(T[H++]);return Q}function d(T,H){return(T[H+0]<<0|T[H+1]<<8|T[H+2]<<16)>>>0}function h(T,H){return(T[H+0]<<0|T[H+1]<<8|T[H+2]<<16|T[H+3]<<24)>>>0}new c;var f=[0],p=[0],g=[],y=new c,S=e,b=function(T,H){var Q={},L=0,E=!1,W=0,F=0;if(Q.frames=[],!function(V,X,ae,q){for(var se=0;se<q;se++)if(V[X+se]!=ae.charCodeAt(se))return!0;return!1}(T,H,"RIFF",4)){for(h(T,H+=4),H+=8;H<T.length;){var K=u(T,H),ne=h(T,H+=4);H+=4;var Y=ne+(1&ne);switch(K){case"VP8 ":case"VP8L":Q.frames[L]===void 0&&(Q.frames[L]={}),(ie=Q.frames[L]).src_off=E?F:H-8,ie.src_size=W+ne+8,L++,E&&(E=!1,W=0,F=0);break;case"VP8X":(ie=Q.header={}).feature_flags=T[H];var I=H+4;ie.canvas_width=1+d(T,I),I+=3,ie.canvas_height=1+d(T,I),I+=3;break;case"ALPH":E=!0,W=Y+8,F=H-8;break;case"ANIM":(ie=Q.header).bgcolor=h(T,H),I=H+4,ie.loop_count=(me=T)[(A=I)+0]<<0|me[A+1]<<8,I+=2;break;case"ANMF":var G,ie;(ie=Q.frames[L]={}).offset_x=2*d(T,H),H+=3,ie.offset_y=2*d(T,H),H+=3,ie.width=1+d(T,H),H+=3,ie.height=1+d(T,H),H+=3,ie.duration=d(T,H),H+=3,G=T[H++],ie.dispose=1&G,ie.blend=G>>1&1}K!="ANMF"&&(H+=Y)}var me,A;return Q}}(S,0);b.response=S,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,N=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],p=[w.canvas_width];for(var C=0;C<N.length&&N[C].blend!=0;C++);}var P=N[0],M=y.WebPDecodeRGBA(S,P.src_off,P.src_size,p,f);P.rgba=M,P.imgwidth=p[0],P.imgheight=f[0];for(var R=0;R<p[0]*f[0]*4;R++)g[R]=M[R];return this.width=p,this.height=f,this.data=g,this}(function(e){var t=function(){return typeof k5=="function"},r=function(f,p,g,y){var S=4,b=i;switch(y){case e.image_compression.FAST:S=1,b=a;break;case e.image_compression.MEDIUM:S=6,b=o;break;case e.image_compression.SLOW:S=9,b=c}f=n(f,p,g,b);var w=k5(f,{level:S});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(f,p,g,y){for(var S,b,w,N=f.length/p,C=new Uint8Array(f.length+N),P=d(),M=0;M<N;M+=1){if(w=M*p,S=f.subarray(w,w+p),y)C.set(y(S,g,b),w+M);else{for(var R,T=P.length,H=[];R<T;R+=1)H[R]=P[R](S,g,b);var Q=h(H.concat());C.set(H[Q],w+M)}b=S}return C},s=function(f){var p=Array.apply([],f);return p.unshift(0),p},a=function(f,p){var g,y=[],S=f.length;y[0]=1;for(var b=0;b<S;b+=1)g=f[b-p]||0,y[b+1]=f[b]-g+256&255;return y},i=function(f,p,g){var y,S=[],b=f.length;S[0]=2;for(var w=0;w<b;w+=1)y=g&&g[w]||0,S[w+1]=f[w]-y+256&255;return S},o=function(f,p,g){var y,S,b=[],w=f.length;b[0]=3;for(var N=0;N<w;N+=1)y=f[N-p]||0,S=g&&g[N]||0,b[N+1]=f[N]+256-(y+S>>>1)&255;return b},c=function(f,p,g){var y,S,b,w,N=[],C=f.length;N[0]=4;for(var P=0;P<C;P+=1)y=f[P-p]||0,S=g&&g[P]||0,b=g&&g[P-p]||0,w=u(y,S,b),N[P+1]=f[P]-w+256&255;return N},u=function(f,p,g){if(f===p&&p===g)return f;var y=Math.abs(p-g),S=Math.abs(f-g),b=Math.abs(f+p-g-g);return y<=S&&y<=b?f:S<=b?p:g},d=function(){return[s,a,i,o,c]},h=function(f){var p=f.map(function(g){return g.reduce(function(y,S){return y+Math.abs(S)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(f,p,g,y){var S,b,w,N,C,P,M,R,T,H,Q,L,E,W,F,K=this.decode.FLATE_DECODE,ne="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(w=new yre(f)).imgData,b=w.bits,S=w.colorSpace,C=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){T=(R=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,Q=new Uint8Array(T*w.colors),H=new Uint8Array(T);var Y,I=w.pixelBitlength-w.bits;for(W=0,F=0;W<T;W++){for(E=R[W],Y=0;Y<I;)Q[F++]=E>>>Y&255,Y+=w.bits;H[W]=E>>>Y&255}}if(w.bits===16){T=(R=new Uint32Array(w.decodePixels().buffer)).length,Q=new Uint8Array(T*(32/w.pixelBitlength)*w.colors),H=new Uint8Array(T*(32/w.pixelBitlength)),L=w.colors>1,W=0,F=0;for(var G=0;W<T;)E=R[W++],Q[F++]=E>>>0&255,L&&(Q[F++]=E>>>16&255,E=R[W++],Q[F++]=E>>>0&255),H[G++]=E>>>16&255;b=8}y!==e.image_compression.NONE&&t()?(f=r(Q,w.width*w.colors,w.colors,y),M=r(H,w.width,1,y)):(f=Q,M=H,K=void 0)}if(w.colorType===3&&(S=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var ie=w.transparency.indexed,me=0;for(W=0,T=ie.length;W<T;++W)me+=ie[W];if((me/=255)===T-1&&ie.indexOf(0)!==-1)N=[ie.indexOf(0)];else if(me!==T){for(R=w.decodePixels(),H=new Uint8Array(R.length),W=0,T=R.length;W<T;W++)H[W]=ie[R[W]];M=r(H,w.width,1)}}var A=function(V){var X;switch(V){case e.image_compression.FAST:X=11;break;case e.image_compression.MEDIUM:X=13;break;case e.image_compression.SLOW:X=14;break;default:X=12}return X}(y);return K===this.decode.FLATE_DECODE&&(ne="/Predictor "+A+" "),ne+="/Colors "+C+" /BitsPerComponent "+b+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:g,data:f,index:p,filter:K,decodeParameters:ne,transparency:N,palette:P,sMask:M,predictor:A,width:w.width,height:w.height,bitsPerComponent:b,colorSpace:S}}}})(xt.API),function(e){e.processGIF89A=function(t,r,n,s){var a=new vre(t),i=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:i,height:o},d=new s2(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(xt.API),Xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){hr.log("bit decode error:"+r)}},Xa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[i+4*o]=c.blue,this.data[i+4*o+1]=c.green,this.data[i+4*o+2]=c.red,this.data[i+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Xa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*s*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},Xa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Xa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}this.pos+=e}},Xa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,c=(i>>5&r)/r*255|0,u=(i>>11)/t*255|0,d=s*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Xa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},Xa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=i}},Xa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var a=new Xa(t,!1),i=a.width,o=a.height,c={data:a.getData(),width:i,height:o},u=new s2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(xt.API),FP.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var a=new FP(t),i=a.width,o=a.height,c={data:a.getData(),width:i,height:o},u=new s2(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(xt.API),xt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,c=0,u=0;u<s;u+=4){var d=n[u],h=n[u+1],f=n[u+2],p=n[u+3];a[o++]=d,a[o++]=h,a[o++]=f,i[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},xt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dd=xt.API,Uy=dd.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=t.doKerning!==!1,f=0,p=e.length,g=0,y=o[0]||c,S=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?S.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+i*(1e3/a)||0)/1e3):(f=h&&sr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,S.push((o[n]||y)/c+f)),g=n;return S},RP=dd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return dd.processArabic&&(e=dd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Uy.apply(this,arguments).reduce(function(a,i){return a+i},0)},OP=function(e,t,r,n){for(var s=[],a=0,i=e.length,o=0;a!==i&&o+t[a]<r;)o+=t[a],a++;s.push(e.slice(0,a));var c=a;for(o=0;a!==i;)o+t[a]>n&&(s.push(e.slice(c,a)),o=0,c=a),o+=t[a],a++;return c!==a&&s.push(e.slice(c,a)),s},MP=function(e,t,r){r||(r={});var n,s,a,i,o,c,u,d=[],h=[d],f=r.textIndent||0,p=0,g=0,y=e.split(" "),S=Uy.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var b=Array(c).join(" "),w=[];y.map(function(C){(C=C.split(/\s*\n/)).length>1?w=w.concat(C.map(function(P,M){return(M&&P.length?`
`:"")+P})):w.push(C[0])}),y=w,c=RP.apply(this,[b,r])}for(a=0,i=y.length;a<i;a++){var N=0;if(n=y[a],c&&n[0]==`
`&&(n=n.substr(1),N=1),f+p+(g=(s=Uy.apply(this,[n,r])).reduce(function(C,P){return C+P},0))>t||N){if(g>t){for(o=OP.apply(this,[n,s,t-(f+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);g=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,P){return C+P},0)}else d=[n];h.push(d),f=g+c,p=S}else d.push(n),f+=p+g,p=S}return u=c?function(C,P){return(P?b:"")+C.join(" ")}:function(C){return C.join(" ")},h.map(u)},dd.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(MP.apply(this,[n[o],i,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},i=e.__fontmetrics__.compress=function(h){var f,p,g,y,S=["{"];for(var b in h){if(f=h[b],isNaN(parseInt(b,10))?p="'"+b+"'":(b=parseInt(b,10),p=(p=a(b).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(g=a(f).slice(3),y="-"):(g=a(f).slice(2),y=""),g=y+g.slice(0,-1)+n[g.slice(-1)];else{if(sr(f)!=="object")throw new Error("Don't know what to do with value type "+sr(f)+".");g=i(f)}S.push(p+g)}return S.push("}"),S.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,y,S={},b=1,w=S,N=[],C="",P="",M=h.length-1,R=1;R<M;R+=1)(y=h[R])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(N.push([w,g]),w={},g=void 0):y=="}"?((p=N.pop())[0][p[1]]=w,g=void 0,w=p[0]):y=="-"?b=-1:g===void 0?r.hasOwnProperty(y)?(C+=r[y],g=parseInt(C,16)*b,b=1,C=""):C+=y:r.hasOwnProperty(y)?(P+=r[y],w[g]=parseInt(P,16)*b,b=1,g=void 0,P=""):P+=y;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(xt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=r.charCodeAt(a);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(jp(o)),i.metadata=e.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(s,n)}}])}(xt),function(e){function t(){return(wt.canvg?Promise.resolve(wt.canvg):$o(()=>import("./index.es-DsL5vKgA.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}xt.API.addSvgAsImage=function(r,n,s,a,i,o,c,u){if(isNaN(n)||isNaN(s))throw hr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw hr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=a,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,s,a,i,c,u)})}}(),xt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},xt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),c=[],u=0,d=0,h=0;function f(g,y){var S,b=!1;for(S=0;S<g.length;S+=1)g[S]===y&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(h=0;h<p;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(sr(e)==="object"){for(s in e)if(a=e[s],f(o,s)&&a!==void 0){if(r[s].type==="boolean"&&typeof a=="boolean")r[s].value=a;else if(r[s].type==="name"&&f(r[s].valueSet,a))r[s].value=a;else if(r[s].type==="integer"&&Number.isInteger(a))r[s].value=a;else if(r[s].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?y.push("/"+g+" /"+r[g].value):y.push("/"+g+" "+r[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+i.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+a+i+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(xt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,i){for(var o,c=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=a.length;h<f;++h){if(o=i.metadata.characterToGlyph(a.charCodeAt(h)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=a.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(a){var i,o,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(o=Object.keys(a).sort(function(p,g){return p-g})).length;h<f;h++)i=o[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[i]!==void 0&&a[i]!==null&&typeof a[i].toString=="function"&&(u=("0000"+a[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),c.push("<"+i+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var y=u();d({data:p,addLength1:!0,objectId:y}),c("endobj");var S=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+gd(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+gd(o.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+gd(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(i){var o=i.font,c=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=u();d({data:f,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var S=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+gd(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+gd(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var s=function(a){var i,o=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},f=h.pdfEscape,p=h.activeFontKey,g=h.fonts,y=p,S="",b=0,w="",N=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:h};for(w=o,y=p,Array.isArray(o)&&(w=o[0]),b=0;b<w.length;b+=1)g[y].metadata.hasOwnProperty("cmap")&&(i=g[y].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),i||w[b].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?S+=w[b]:S+="";var C="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?C=f(S,y).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(C=r(S,g[y])),h.isHex=!0,{text:C,x:c,y:u,options:d,mutex:h}};t.events.push(["postProcessText",function(a){var i=a.text||"",o=[],c={text:i,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([s(Object.assign({},c,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(s(Object.assign({},c,{text:i[u]})).text);a.text=o}else a.text=s(Object.assign({},c,{text:i})).text}])}(xt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(xt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,a,i,o,c,u,d,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var C=function(L){var E=L.charCodeAt(),W=E>>8,F=y[W];return F!==void 0?h[256*F+(255&E)]:W===252||W===253?"AL":b.test(W)?"L":W===8?"R":"N"},P=function(L){for(var E,W=0;W<L.length;W++){if((E=C(L.charAt(W)))==="L")return!1;if(E==="R")return!0}return!1},M=function(L,E,W,F){var K,ne,Y,I,G=E[F];switch(G){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(G="AN");break;case"AL":w=!0,G="R";break;case"WS":G="N";break;case"CS":F<1||F+1>=E.length||(K=W[F-1])!=="EN"&&K!=="AN"||(ne=E[F+1])!=="EN"&&ne!=="AN"?G="N":w&&(ne="AN"),G=ne===K?ne:"N";break;case"ES":G=(K=F>0?W[F-1]:"B")==="EN"&&F+1<E.length&&E[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&W[F-1]==="EN"){G="EN";break}if(w){G="N";break}for(Y=F+1,I=E.length;Y<I&&E[Y]==="ET";)Y++;G=Y<I&&E[Y]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(I=E.length,Y=F+1;Y<I&&E[Y]==="NSM";)Y++;if(Y<I){var ie=L[F],me=ie>=1425&&ie<=2303||ie===64286;if(K=E[Y],me&&(K==="R"||K==="AL")){G="R";break}}}G=F<1||(K=E[F-1])==="B"?"N":W[F-1];break;case"B":w=!1,s=!0,G=N;break;case"S":a=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":G="N"}return G},R=function(L,E,W){var F=L.split("");return W&&T(F,W,{hiLevel:N}),F.reverse(),E&&E.reverse(),F.join("")},T=function(L,E,W){var F,K,ne,Y,I,G=-1,ie=L.length,me=0,A=[],V=N?p:f,X=[];for(w=!1,s=!1,a=!1,K=0;K<ie;K++)X[K]=C(L[K]);for(ne=0;ne<ie;ne++){if(I=me,A[ne]=M(L,X,A,ne),F=240&(me=V[I][g[A[ne]]]),me&=15,E[ne]=Y=V[me][5],F>0)if(F===16){for(K=G;K<ne;K++)E[K]=1;G=-1}else G=-1;if(V[me][6])G===-1&&(G=ne);else if(G>-1){for(K=G;K<ne;K++)E[K]=Y;G=-1}X[ne]==="B"&&(E[ne]=0),W.hiLevel|=Y}a&&function(ae,q,se){for(var ue=0;ue<se;ue++)if(ae[ue]==="S"){q[ue]=N;for(var fe=ue-1;fe>=0&&ae[fe]==="WS";fe--)q[fe]=N}}(X,E,ie)},H=function(L,E,W,F,K){if(!(K.hiLevel<L)){if(L===1&&N===1&&!s)return E.reverse(),void(W&&W.reverse());for(var ne,Y,I,G,ie=E.length,me=0;me<ie;){if(F[me]>=L){for(I=me+1;I<ie&&F[I]>=L;)I++;for(G=me,Y=I-1;G<Y;G++,Y--)ne=E[G],E[G]=E[Y],E[Y]=ne,W&&(ne=W[G],W[G]=W[Y],W[Y]=ne);me=I}me++}}},Q=function(L,E,W){var F=L.split(""),K={hiLevel:N};return W||(W=[]),T(F,W,K),function(ne,Y,I){if(I.hiLevel!==0&&d)for(var G,ie=0;ie<ne.length;ie++)Y[ie]===1&&(G=S.indexOf(ne[ie]))>=0&&(ne[ie]=S[G+1])}(F,W,K),H(2,F,E,W,K),H(1,F,E,W,K),F.join("")};return this.__bidiEngine__.doBidiReorder=function(L,E,W){if(function(K,ne){if(ne)for(var Y=0;Y<K.length;Y++)ne[Y]=Y;o===void 0&&(o=P(K)),u===void 0&&(u=P(K))}(L,E),i||!c||u)if(i&&c&&o^u)N=o?1:0,L=R(L,E,W);else if(!i&&c&&u)N=o?1:0,L=Q(L,E,W),L=R(L,E);else if(!i||o||c||u){if(i&&!c&&o^u)L=R(L,E),o?(N=0,L=Q(L,E,W)):(N=1,L=Q(L,E,W),L=R(L,E));else if(i&&o&&!c&&u)N=1,L=Q(L,E,W),L=R(L,E);else if(!i&&!c&&o^u){var F=d;o?(N=1,L=Q(L,E,W),N=0,d=!1,L=Q(L,E,W),d=F):(N=0,L=Q(L,E,W),L=R(L,E),N=1,d=!1,L=Q(L,E,W),d=F,L=R(L,E))}}else N=0,L=Q(L,E,W);else N=o?1:0,L=Q(L,E,W);return L},this.__bidiEngine__.setOptions=function(L){L&&(i=L.isInputVisual,c=L.isOutputVisual,o=L.isInputRtl,u=L.isOutputRtl,d=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var i=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(i=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?i.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):i.push([r.doBidiReorder(s[o])]);n.text=i}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(xt),xt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new rc(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Dre(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new xre(this.contents),this.head=new bre(this),this.name=new Cre(this),this.cmap=new OO(this),this.toUnicode={},this.hhea=new Sre(this),this.maxp=new kre(this),this.hmtx=new Pre(this),this.post=new Nre(this),this.os2=new _re(this),this.loca=new Lre(this),this.glyf=new Ere(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,c,u;for(u=[],i=0,o=(c=this.bbox).length;i<o;i++)t=c[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,a,i,o;for(i=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)s=t.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return i*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var _i,rc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,a,i,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^i)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*a+65536*i+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),xre=function(){var e;function t(r){var n,s,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,a,i,o,c,u,d,h,f,p,g,y;for(y in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),i=Math.floor(h/c),d=16*p-h,(s=new rc).writeInt(this.scalarType),s.writeShort(p),s.writeShort(h),s.writeShort(i),s.writeShort(d),a=16*p,u=s.pos+a,o=null,g=[],r)for(f=r[y],s.writeString(y),s.writeInt(e(f)),s.writeInt(u),s.writeInt(f.length),g=g.concat(f),y==="head"&&(o=u),u+=f.length;u%4;)g.push(0),u++;return s.write(g),n=2981146554-e(s.data),s.pos=o+8,s.writeUInt32(n),s.data},e=function(r){var n,s,a,i;for(r=MO.call(r);r.length%4;)r.push(0);for(a=new rc(r),s=0,n=0,i=r.length;n<i;n=n+=4)s+=a.readUInt32();return 4294967295&s},t}(),wre={}.hasOwnProperty,no=function(e,t){for(var r in t)wre.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};_i=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var bre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new rc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),BP=function(){function e(t,r){var n,s,a,i,o,c,u,d,h,f,p,g,y,S,b,w,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),f=p/2,t.pos+=6,a=function(){var C,P;for(P=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)P.push(t.readUInt16());return P}(),t.pos+=2,y=function(){var C,P;for(P=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)P.push(t.readUInt16());return P}(),u=function(){var C,P;for(P=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)P.push(t.readUInt16());return P}(),d=function(){var C,P;for(P=[],c=C=0;0<=f?C<f:C>f;c=0<=f?++C:--C)P.push(t.readUInt16());return P}(),s=(this.length-t.pos+this.offset)/2,o=function(){var C,P;for(P=[],c=C=0;0<=s?C<s:C>s;c=0<=s?++C:--C)P.push(t.readUInt16());return P}(),c=b=0,N=a.length;b<N;c=++b)for(S=a[c],n=w=g=y[c];g<=S?w<=S:w>=S;n=g<=S?++w:--w)d[c]===0?i=n+u[c]:(i=o[d[c]/2+(n-g)-(f-c)]||0)!==0&&(i+=u[c]),this.codeMap[n]=65535&i}t.pos=h}return e.encode=function(t,r){var n,s,a,i,o,c,u,d,h,f,p,g,y,S,b,w,N,C,P,M,R,T,H,Q,L,E,W,F,K,ne,Y,I,G,ie,me,A,V,X,ae,q,se,ue,fe,Ce,Pe,_e;switch(F=new rc,i=Object.keys(t).sort(function(Ae,Ye){return Ae-Ye}),r){case"macroman":for(y=0,S=function(){var Ae=[];for(g=0;g<256;++g)Ae.push(0);return Ae}(),w={0:0},a={},K=0,G=i.length;K<G;K++)w[fe=t[s=i[K]]]==null&&(w[fe]=++y),a[s]={old:t[s],new:w[t[s]]},S[s]=w[t[s]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(S),{charMap:a,subtable:F.data,maxGlyphID:y+1};case"unicode":for(E=[],h=[],N=0,w={},n={},b=u=null,ne=0,ie=i.length;ne<ie;ne++)w[P=t[s=i[ne]]]==null&&(w[P]=++N),n[s]={old:P,new:w[P]},o=w[P]-s,b!=null&&o===u||(b&&h.push(b),E.push(s),u=o),b=s;for(b&&h.push(b),h.push(65535),E.push(65535),Q=2*(H=E.length),T=2*Math.pow(Math.log(H)/Math.LN2,2),f=Math.log(T/2)/Math.LN2,R=2*H-T,c=[],M=[],p=[],g=Y=0,me=E.length;Y<me;g=++Y){if(L=E[g],d=h[g],L===65535){c.push(0),M.push(0);break}if(L-(W=n[L].new)>=32768)for(c.push(0),M.push(2*(p.length+H-g)),s=I=L;L<=d?I<=d:I>=d;s=L<=d?++I:--I)p.push(n[s].new);else c.push(W-L),M.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*H+2*p.length),F.writeUInt16(0),F.writeUInt16(Q),F.writeUInt16(T),F.writeUInt16(f),F.writeUInt16(R),se=0,A=h.length;se<A;se++)s=h[se],F.writeUInt16(s);for(F.writeUInt16(0),ue=0,V=E.length;ue<V;ue++)s=E[ue],F.writeUInt16(s);for(Ce=0,X=c.length;Ce<X;Ce++)o=c[Ce],F.writeUInt16(o);for(Pe=0,ae=M.length;Pe<ae;Pe++)C=M[Pe],F.writeUInt16(C);for(_e=0,q=p.length;_e<q;_e++)y=p[_e],F.writeUInt16(y);return{charMap:n,subtable:F.data,maxGlyphID:N+1}}},e}(),OO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)n=new BP(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,a;return n==null&&(n="macroman"),s=BP.encode(r,n),(a=new rc).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),Sre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),_re=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Nre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var i;for(s=r.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],i=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;i=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),jre=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Cre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,a,i,o,c,u,d,h,f,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},i=h=0,f=s.length;h<f;i=++h)a=s[i],r.pos=a.offset,d=r.readString(a.length),o=new jre(d,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),kre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Pre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,a,i,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],n=d=0;0<=a?d<a:d>a;n=0<=a?++d:--d)h.push(r.readInt16());return h}(),this.widths=(function(){var d,h,f,p;for(p=[],d=0,h=(f=this.metrics).length;d<h;d++)i=f[d],p.push(i.advance);return p}).call(this),s=this.widths[this.widths.length-1],u=[],n=o=0;0<=a?o<a:o>a;n=0<=a?++o:--o)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),MO=[].slice,Ere=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,a,i,o,c,u,d,h,f;return r in this.cache?this.cache[r]:(i=this.file.loca,n=this.file.contents,s=i.indexOf(r),(a=i.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,o=(c=new rc(n.read(a))).readShort(),d=c.readShort(),f=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[r]=o===-1?new Tre(c,d,f,u,h):new Are(c,o,d,f,u,h),this.cache[r]))},t.prototype.encode=function(r,n,s){var a,i,o,c,u;for(o=[],i=[],c=0,u=n.length;c<u;c++)a=r[n[c]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},t}(),Are=function(){function e(t,r,n,s,a,i){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Tre=function(){function e(t,r,n,s,a){var i,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new rc(MO.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Lre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return no(t,_i),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*r.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(r.readUInt32());return i}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<n.length&&n[i]==o){++i,s[o]=a;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(a+=u)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},t}(),Dre=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,a;for(r in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,a,i,o,c;for(s={},i=0,o=t.length;i<o;i++)s[a=t[i]]=this.font.glyf.glyphFor(a);for(a in r=[],s)(n=s[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],s[a]=n;return s},e.prototype.encode=function(t,r){var n,s,a,i,o,c,u,d,h,f,p,g,y,S,b;for(s in n=OO.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),p={0:0},b=n.charMap)p[(c=b[s]).old]=c.new;for(g in f=n.maxGlyphID,i)g in p||(p[g]=f++);return d=function(w){var N,C;for(N in C={},w)C[w[N]]=N;return C}(p),h=Object.keys(d).sort(function(w,N){return w-N}),y=function(){var w,N,C;for(C=[],w=0,N=h.length;w<N;w++)o=h[w],C.push(d[o]);return C}(),a=this.font.glyf.encode(i,y,p),u=this.font.loca.encode(a.offsets,y),S={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();xt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,a,i;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in a=["<<"],r)i=r[s],a.push("/"+s+" "+t.convert(i));return a.push(">>"),a.join(`
`)}return""+r},t}();function IO(e,t,r,n,s){n=n||{};var a=1.15,i=s.internal.scaleFactor,o=s.internal.getFontSize()/i,c=s.getLineHeightFactor?s.getLineHeightFactor():a,u=o*c,d=/\r\n|\r|\n/g,h="",f=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof e=="string"?e.split(d):e,f=h.length||1),r+=o*(2-a),n.valign==="middle"?r-=f/2*u:n.valign==="bottom"&&(r-=f*u),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),h&&f>=1){for(var g=0;g<h.length;g++)s.text(h[g],t-s.getStringUnitWidth(h[g])*p,r),r+=u;return s}t-=s.getStringUnitWidth(e)*p}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var $P={},Jd=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:$P=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,c=i.fontName;if(t.font&&(c=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(c,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=e.unifyColor(t.lineColor),d&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,a){return this.jsPDFDocument.rect(t,r,n,s,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return $P||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),R5=function(e,t){return R5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},R5(e,t)};function FO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");R5(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var BO=function(e){FO(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Rre(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Ore(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function d0(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,i){return Math.max(a,i)},0);return s}function $O(e,t,r,n){var s=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:a});var i=UO(s,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function UO(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function M1(e,t){var r,n,s,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function VO(e,t){var r=M1(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Mre(e,t,r,n,s){var a={},i=1.3333333333333333,o=a2(t,function(N){return s.getComputedStyle(N).backgroundColor});o!=null&&(a.fillColor=o);var c=a2(t,function(N){return s.getComputedStyle(N).color});c!=null&&(a.textColor=c);var u=Fre(n,r);u&&(a.cellPadding=u);var d="borderTopColor",h=i*r,f=n.borderTopWidth;if(n.borderBottomWidth===f&&n.borderRightWidth===f&&n.borderLeftWidth===f){var p=(parseFloat(f)||0)/h;p&&(a.lineWidth=p)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var g=a2(t,function(N){return s.getComputedStyle(N)[d]});g!=null&&(a.lineColor=g);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var S=parseInt(n.fontSize||"");isNaN(S)||(a.fontSize=S/i);var b=Ire(n);b&&(a.fontStyle=b);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(a.font=w),a}function Ire(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function a2(e,t){var r=zO(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function zO(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:zO(e.parentElement,t):r}function Fre(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(o){return parseInt(o||"0")/n}),i=M1(a,0);return s>i.top&&(i.top=s),s>i.bottom&&(i.bottom=s),i}function qO(e,t,r,n,s){var a,i;n===void 0&&(n=!1),s===void 0&&(s=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var c=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],h=[],f=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:h,foot:f};for(var p=0;p<o.rows.length;p++){var g=o.rows[p],y=(i=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.tagName)===null||i===void 0?void 0:i.toLowerCase(),S=Bre(c,u,r,g,n,s);S&&(y==="thead"?d.push(S):y==="tfoot"?f.push(S):h.push(S))}return{head:d,body:h,foot:f}}function Bre(e,t,r,n,s,a){for(var i=new BO(n),o=0;o<n.cells.length;o++){var c=n.cells[o],u=r.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;a&&(d=Mre(e,c,t,u,r)),i.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:$re(c)})}}var h=r.getComputedStyle(n);if(i.length>0&&(s||h.display!=="none"))return i}function $re(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Ure(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var a=s[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function ko(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a}function Vre(e,t){var r=new Jd(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();Ure(s,n,t);var a=ko({},s,n,t),i;typeof window<"u"&&(i=window);var o=zre(s,n,t),c=qre(s,n,t),u=Wre(r,a),d=Gre(r,a,i);return{id:t.tableId,content:d,hooks:c,styles:o,settings:u}}function zre(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=e[c],d=t[c],h=r[c];n.columnStyles=ko({},u,d,h)}else{var f=[e,t,r],p=f.map(function(g){return g[c]||{}});n[c]=ko({},p[0],p[1],p[2])}},a=0,i=Object.keys(n);a<i.length;a++){var o=i[a];s(o)}return n}function qre(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,i=n;a<i.length;a++){var o=i[a];o.didParseCell&&s.didParseCell.push(o.didParseCell),o.willDrawCell&&s.willDrawCell.push(o.willDrawCell),o.didDrawCell&&s.didDrawCell.push(o.didDrawCell),o.willDrawPage&&s.willDrawPage.push(o.willDrawPage),o.didDrawPage&&s.didDrawPage.push(o.didDrawPage)}return s}function Wre(e,t){var r,n,s,a,i,o,c,u,d,h,f,p,g=M1(t.margin,40/e.scaleFactor()),y=(r=Hre(e,t.startY))!==null&&r!==void 0?r:g.top,S;t.showFoot===!0?S="everyPage":t.showFoot===!1?S="never":S=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var w=(a=t.useCss)!==null&&a!==void 0?a:!1,N=t.theme||(w?"plain":"striped"),C=!!t.horizontalPageBreak,P=(i=t.horizontalPageBreakRepeat)!==null&&i!==void 0?i:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:N,startY:y,margin:g,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:S,tableLineWidth:(h=t.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(f=t.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:C,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Hre(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var i=r.startPageNumber+r.pageNumber-1;a=i===s}return typeof t=="number"?t:(t==null||t===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Gre(e,t,r){var n=t.head||[],s=t.body||[],a=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=qO(e,t.html,r,i,t.useCss)||{};n=o.head||n,s=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Yre(n,s,a);return{columns:c,head:n,body:s,foot:a}}function Yre(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var i=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(i=(o==null?void 0:o.colSpan)||1);for(var c=0;c<i;c++){var u=void 0;Array.isArray(n)?u=s.length:u=a+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var O5=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Kre=function(e){FO(t,e);function t(r,n,s,a,i,o){var c=e.call(this,r,n,o)||this;return c.cell=s,c.row=a,c.column=i,c.section=a.section,c}return t}(O5),Xre=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,a,i){for(var o=0,c=r;o<c.length;o++){var u=c[o],d=new Kre(t,this,n,s,a,i),h=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var a=s[n];a(new O5(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var a=s[n];a(new O5(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,a){return s+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),WO=function(){function e(t,r,n,s,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof BO&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var a;return Math.max(n,((a=r.cells[s.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,a){var i=n.cells[a.index];if(!i)return 0;var o=r.getLineHeight(i.styles.fontSize),c=i.padding("vertical"),u=c+o;return u>s?u:s},0)},e}(),HO=function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var i=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=i.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,a=n*s+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=M1(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Zre=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var a=s[n],i=a.cells[this.index];i&&typeof i.styles.cellWidth=="number"&&(r=Math.max(r,i.styles.cellWidth))}return r},e}();function Jre(e,t){Qre(e,t);var r=[],n=0;t.columns.forEach(function(a){var i=a.getMaxCustomCellWidth(t);i?a.width=i:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=M5(r,s,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),s&&(s=M5(r,s,function(a){return a.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),tne(t),rne(t,e),ene(t)}function Qre(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=VO(e,t);t.allRows().forEach(function(a){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=a.cells[c.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,a,c,null);var h=u.padding("horizontal");u.contentWidth=d0(u.text,u.styles,e)+h;var f=d0(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=f+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(a){for(var i=0,o=t.columns;i<o.length;i++){var c=o[i],u=a.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function M5(e,t,r){for(var n=t,s=e.reduce(function(p,g){return p+g.wrappedWidth},0),a=0;a<e.length;a++){var i=e[a],o=i.wrappedWidth/s,c=n*o,u=i.width+c,d=r(i),h=u<d?d:u;t-=h-i.width,i.width=h}if(t=Math.round(t*1e10)/1e10,t){var f=e.filter(function(p){return t<0?p.width>r(p):!0});f.length&&(t=M5(f,t,r))}return t}function ene(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var a=n[s],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=t[c.index];if(r>1)r--,delete a.cells[c.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[c.index],u.left--,u.left<=1&&delete t[c.index];else{var d=a.cells[c.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var h=n.length-s,f=d.rowSpan>h?h:d.rowSpan;t[c.index]={cell:d,left:f,row:a}}}}}function tne(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,a=0,i=0,o=0;o<e.columns.length;o++){var c=e.columns[o];if(i-=1,i>1&&e.columns[o+1])a+=c.width,delete n.cells[c.index];else if(s){var u=s;delete n.cells[c.index],s=null,u.width=c.width+a}else{var u=n.cells[c.index];if(!u)continue;if(i=u.colSpan,a=0,u.colSpan>1){s=u,a+=c.width;continue}u.width=c.width+a}}}function rne(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var a=s[n],i=0,o=e.columns;i<o.length;i++){var c=o[i],u=a.cells[c.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=UP(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=UP(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<f*u.rowSpan?r={height:f,count:u.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>a.height&&(a.height=f)}}r.count--}}function UP(e,t,r,n,s){return e.map(function(a){return nne(a,t,r,n,s)})}function nne(e,t,r,n,s){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=d0(e,r,n))return e;for(;t<d0(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function sne(e,t){var r=new Jd(e),n=ane(t,r.scaleFactor()),s=new Xre(t,n);return Jre(r,s),r.applyStyles(r.userStyles),s}function ane(e,t){var r=e.content,n=one(r.columns);if(r.head.length===0){var s=VP(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=VP(n,"foot");s&&r.foot.push(s)}var a=e.settings.theme,i=e.styles;return{columns:n,head:i2("head",r.head,n,i,a,t),body:i2("body",r.body,n,i,a,t),foot:i2("foot",r.foot,n,i,a,t)}}function i2(e,t,r,n,s,a){var i={},o=t.map(function(c,u){for(var d=0,h={},f=0,p=0,g=0,y=r;g<y.length;g++){var S=y[g];if(i[S.index]==null||i[S.index].left===0)if(p===0){var b=void 0;Array.isArray(c)?b=c[S.index-f-d]:b=c[S.dataKey];var w={};typeof b=="object"&&!Array.isArray(b)&&(w=(b==null?void 0:b.styles)||{});var N=lne(e,S,u,s,n,a,w),C=new HO(b,N,e);h[S.dataKey]=C,h[S.index]=C,p=C.colSpan-1,i[S.index]={left:C.rowSpan-1,times:p}}else p--,f++;else i[S.index].left--,p=i[S.index].times,d++}return new WO(c,u,e,h)});return o}function VP(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=ine(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function ine(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function one(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new Zre(s,t,r)})}function lne(e,t,r,n,s,a,i){var o=Ore(n),c;e==="head"?c=s.headStyles:e==="body"?c=s.bodyStyles:e==="foot"&&(c=s.footStyles);var u=ko({},o.table,o[e],s.styles,c),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},h=e==="body"?d:{},f=e==="body"&&r%2===0?ko({},o.alternateRow,s.alternateRowStyles):{},p=Rre(a),g=ko({},p,u,f,h);return ko(g,i)}function cne(e,t,r){var n;r===void 0&&(r={});var s=VO(e,t),a=new Map,i=[],o=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(f){var p=t.columns.find(function(g){return g.dataKey===f||g.index===f});p&&!a.has(p.index)&&(a.set(p.index,!0),i.push(p.index),o.push(t.columns[p.index]),s-=p.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(a.has(d)){d++;continue}var h=t.columns[d].wrappedWidth;if(u||s>=h)u=!1,i.push(d),o.push(t.columns[d]),s-=h;else break;d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function une(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=cne(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function dne(e,t){var r=t.settings,n=r.startY,s=r.margin,a={x:s.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+s.bottom+i;if(r.pageBreak==="avoid"){var c=t.body,u=c.reduce(function(f,p){return f+p.height},0);o+=u}var d=new Jd(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(YO(d),a.y=s.top),t.callWillDrawPageHooks(d,a);var h=ko({},a);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?hne(d,t,h,a):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(f){return Uo(d,t,f,a,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(f,p){var g=p===t.body.length-1;h0(d,t,f,g,h,a,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(f){return Uo(d,t,f,a,t.columns)})),$O(d,t,h,a),t.callEndPageHooks(d,a),t.finalY=a.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function hne(e,t,r,n){var s=une(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?Cp(e,t,r,n,u.columns,!0):zP(e,t,n,u.columns),fne(e,t,r,n,u.columns),o2(e,t,n,u.columns)});else for(var i=-1,o=s[0],c=function(){var u=i;if(o){e.applyStyles(e.userStyles);var d=o.columns;i>=0?Cp(e,t,r,n,d,!0):zP(e,t,n,d),u=qP(e,t,i+1,n,d),o2(e,t,n,d)}var h=u-i;s.slice(1).forEach(function(f){e.applyStyles(e.userStyles),Cp(e,t,r,n,f.columns,!0),qP(e,t,i+1,n,f.columns,h),o2(e,t,n,f.columns)}),i=u};i<t.body.length-1;)c()}function zP(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(a){return Uo(e,t,a,r,n)})}function fne(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(a,i){var o=i===t.body.length-1;h0(e,t,a,o,r,n,s)})}function qP(e,t,r,n,s,a){e.applyStyles(e.userStyles),a=a??t.body.length;var i=Math.min(r+a,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(c,u){var d=r+u===t.body.length-1,h=GO(e,t,d,n);c.canEntireRowFit(h,s)&&(Uo(e,t,c,n,s),o=r+u)}),o}function o2(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(a){return Uo(e,t,a,r,n)})}function pne(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),a=Math.floor((t-s)/n);return Math.max(0,a)}function mne(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var a=0,i=0,o=r.columns;i<o.length;i++){var c=o[i],u=e.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new HO(u.raw,u.styles,u.section);d=ko(d,u),d.text=[];var h=pne(u,t,n);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var f=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(f,p),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(f,p),d.contentHeight>a&&(a=d.contentHeight),s[c.index]=d}}var g=new WO(e.raw,-1,e.section,s,!0);g.height=a;for(var y=0,S=r.columns;y<S.length;y++){var c=S[y],d=g.cells[c.index];d&&(d.height=g.height);var u=e.cells[c.index];u&&(u.height=e.height)}return g}function gne(e,t,r,n){var s=e.pageSize().height,a=n.settings.margin,i=a.top+a.bottom,o=s-i;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,e),u=c<r;if(c>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),h=t.getMaxCellHeight(n.columns)>o;return h?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function h0(e,t,r,n,s,a,i){var o=GO(e,t,n,a);if(r.canEntireRowFit(o,i))Uo(e,t,r,a,i);else if(gne(e,r,o,t)){var c=mne(r,o,t,e);Uo(e,t,r,a,i),Cp(e,t,s,a,i),h0(e,t,c,n,s,a,i)}else Cp(e,t,s,a,i),h0(e,t,r,n,s,a,i)}function Uo(e,t,r,n,s){n.x=t.settings.margin.left;for(var a=0,i=s;a<i.length;a++){var o=i[a],c=r.cells[o.index];if(!c){n.x+=o.width;continue}e.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,c,r,o,n);if(u===!1){n.x+=o.width;continue}yne(e,c,n);var d=c.getTextPos();IO(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,r,o,n),n.x+=o.width}n.y+=r.height}function yne(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=UO(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),vne(e,t,r,n.lineWidth))}function vne(e,t,r,n){var s,a,i,o;n.top&&(s=r.x,a=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,a,i,o)),n.bottom&&(s=r.x,a=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,a,i,o)),n.left&&(s=r.x,a=r.y,i=r.x,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,s,a,i,o)),n.right&&(s=r.x+t.width,a=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,s,a,i,o));function c(u,d,h,f,p){e.getDocument().setLineWidth(u),e.getDocument().line(d,h,f,p,"S")}}function GO(e,t,r,n){var s=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function Cp(e,t,r,n,s,a){s===void 0&&(s=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(o){return Uo(e,t,o,n,s)}),t.callEndPageHooks(e,n);var i=t.settings.margin;$O(e,t,r,n),YO(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Uo(e,t,o,n,s)}),e.applyStyles(e.userStyles))}function YO(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function xne(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=Vre(this,n),a=sne(this,s);return dne(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){IO(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Jd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Jd.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Jd(this),a=qO(s,t,window,r,!1),i=a.head,o=a.body,c=((n=i[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:o,data:o}}}var l2;try{if(typeof window<"u"&&window){var WP=window,HP=WP.jsPDF||((l2=WP.jspdf)===null||l2===void 0?void 0:l2.jsPDF);HP&&xne(HP)}}catch(e){console.error("Could not apply autoTable plugin",e)}const wne=async(e,t)=>{switch(t){case"json":return bne(e);case"csv":return Sne(e);case"pdf":return _ne(e);case"excel":return Nne(e);default:throw new Error(`Unsupported export format: ${t}`)}},bne=e=>new Promise(t=>{const r=JSON.stringify(e,null,2),n=new Blob([r],{type:"application/json"}),s=URL.createObjectURL(n),a=document.createElement("a");a.href=s,a.download=`transactly-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),t()}),Sne=e=>new Promise(t=>{try{const r=e.map(c=>{var u,d,h,f,p,g,y,S,b,w,N;return{id:c.id,name:c.name,date:c.date,totalAmount:c.totalAmount,status:c.status,supplierName:(u=c.loadBuy)==null?void 0:u.supplierName,goodsName:(d=c.loadBuy)==null?void 0:d.goodsName,quantity:(h=c.loadBuy)==null?void 0:h.quantity,purchaseRate:(f=c.loadBuy)==null?void 0:f.purchaseRate,totalCost:(p=c.loadBuy)==null?void 0:p.totalCost,buyerName:(g=c.loadSold)==null?void 0:g.buyerName,saleRate:(y=c.loadSold)==null?void 0:y.saleRate,totalSaleAmount:(S=c.loadSold)==null?void 0:S.totalSaleAmount,origin:(b=c.transportation)==null?void 0:b.origin,destination:(w=c.transportation)==null?void 0:w.destination,transportCharges:(N=c.transportation)==null?void 0:N.charges}}),n=Object.keys(r[0]||{});let s=n.join(",")+`
`;r.forEach(c=>{const u=n.map(d=>{const h=c[d],f=h==null?"":String(h);return f.includes(",")||f.includes(`
`)||f.includes('"')?`"${f.replace(/"/g,'""')}"`:f}).join(",");s+=u+`
`});const a=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download=`transactly-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i),t()}catch(r){console.error("CSV Export error:",r),t()}}),_ne=e=>new Promise(t=>{try{const r=new xt;r.setFontSize(18),r.text("Transaction Export",14,22),r.setFontSize(11),r.text(`Generated on: ${new Date().toLocaleDateString()}`,14,30);const n=e.map(s=>{var a,i;return[s.id.substring(0,8)+"...",s.name||"N/A",new Date(s.date||"").toLocaleDateString(),((a=s.totalAmount)==null?void 0:a.toString())||"0",s.status||"pending",((i=s.loadBuy)==null?void 0:i.goodsName)||"N/A"]});r.autoTable({head:[["ID","Name","Date","Amount","Status","Goods"]],body:n,startY:40,headStyles:{fillColor:[51,51,51]},alternateRowStyles:{fillColor:[245,245,245]}}),r.save(`transactly-export-${new Date().toISOString().split("T")[0]}.pdf`),t()}catch(r){console.error("PDF Export error:",r),t()}}),Nne=e=>new Promise(t=>{try{const r=e.map(o=>{var c,u,d,h,f,p,g,y,S,b,w;return{id:o.id,name:o.name,date:o.date,totalAmount:o.totalAmount,status:o.status,supplierName:(c=o.loadBuy)==null?void 0:c.supplierName,goodsName:(u=o.loadBuy)==null?void 0:u.goodsName,quantity:(d=o.loadBuy)==null?void 0:d.quantity,purchaseRate:(h=o.loadBuy)==null?void 0:h.purchaseRate,totalCost:(f=o.loadBuy)==null?void 0:f.totalCost,buyerName:(p=o.loadSold)==null?void 0:p.buyerName,saleRate:(g=o.loadSold)==null?void 0:g.saleRate,totalSaleAmount:(y=o.loadSold)==null?void 0:y.totalSaleAmount,origin:(S=o.transportation)==null?void 0:S.origin,destination:(b=o.transportation)==null?void 0:b.destination,transportCharges:(w=o.transportation)==null?void 0:w.charges}});let n=`<?xml version="1.0"?>
<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet">
<Worksheet ss:Name="Sheet1">
<Table>
`;n+=`<Row>
`,Object.keys(r[0]||{}).forEach(o=>{n+=`<Cell><Data ss:Type="String">${o}</Data></Cell>
`}),n+=`</Row>
`,r.forEach(o=>{n+=`<Row>
`,Object.values(o).forEach(c=>{if(c==null)n+=`<Cell><Data ss:Type="String"></Data></Cell>
`;else if(typeof c=="number")n+=`<Cell><Data ss:Type="Number">${c}</Data></Cell>
`;else{const u=String(c).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");n+=`<Cell><Data ss:Type="String">${u}</Data></Cell>
`}}),n+=`</Row>
`}),n+=`</Table>
</Worksheet>
</Workbook>`;const s=new Blob([n],{type:"application/vnd.ms-excel"}),a=URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=`transactly-export-${new Date().toISOString().split("T")[0]}.xls`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a),t()}catch(r){console.error("Excel Export error:",r),t()}});var CN="Tabs",[jne,hde]=ha(CN,[pc]),KO=pc(),[Cne,kN]=jne(CN),XO=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=Yh(o),[h,f]=$s({prop:n,onChange:s,defaultProp:a});return l.jsx(Cne,{scope:r,baseId:Ta(),value:h,onValueChange:f,orientation:i,dir:d,activationMode:c,children:l.jsx(ct.div,{dir:d,"data-orientation":i,...u,ref:t})})});XO.displayName=CN;var ZO="TabsList",JO=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=kN(ZO,r),i=KO(r);return l.jsx(C1,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:l.jsx(ct.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});JO.displayName=ZO;var QO="TabsTrigger",eM=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=kN(QO,r),o=KO(r),c=nM(i.baseId,n),u=sM(i.baseId,n),d=n===i.value;return l.jsx(k1,{asChild:!0,...o,focusable:!s,active:d,children:l.jsx(ct.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Ge(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:Ge(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:Ge(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(n)})})})});eM.displayName=QO;var tM="TabsContent",rM=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,o=kN(tM,r),c=nM(o.baseId,n),u=sM(o.baseId,n),d=n===o.value,h=v.useRef(d);return v.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(zs,{present:s||d,children:({present:f})=>l.jsx(ct.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});rM.displayName=tM;function nM(e,t){return`${e}-trigger-${t}`}function sM(e,t){return`${e}-content-${t}`}var kne=XO,aM=JO,iM=eM,oM=rM;const c2=768;function rg(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${c2-1}px)`),n=()=>{t(window.innerWidth<c2)};return r.addEventListener("change",n),t(window.innerWidth<c2),()=>r.removeEventListener("change",n)},[]),!!e}const su=kne,Hl=v.forwardRef(({className:e,...t},r)=>{const n=rg();return l.jsx(aM,{ref:r,className:Ue("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n?"overflow-x-auto scrollbar-hide w-full":"",e),...t})});Hl.displayName=aM.displayName;const tn=v.forwardRef(({className:e,icon:t,children:r,...n},s)=>{const a=rg(),i=n["data-state"]==="active";return l.jsxs(iM,{ref:s,className:Ue("relative inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a&&"min-w-[40px]",a&&!i&&t&&"px-2 py-1",e),...n,children:[t&&l.jsx("span",{className:Ue("transition-all duration-200",i||!a?"mr-2":"mr-0"),children:t}),l.jsx("span",{className:Ue("transition-all duration-200 whitespace-nowrap",a&&!i&&t?"sr-only":"inline-block"),children:r}),i&&l.jsx("span",{className:"tab-active-indicator absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})});tn.displayName=iM.displayName;const Gr=v.forwardRef(({className:e,...t},r)=>l.jsx(oM,{ref:r,className:Ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gr.displayName=oM.displayName;const Pne=()=>{const[e,t]=ke.useState(""),[r,n]=ke.useState(""),[s,a]=ke.useState(null),{formatCurrency:i}=SN(),o=()=>{const c=parseFloat(e),u=parseFloat(r);!isNaN(c)&&!isNaN(u)?a(c*u/100):a(null)};return l.jsxs(kr,{className:"border-none shadow-none",children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Tax Calculator"}),l.jsx(Fs,{children:"Calculate tax based on amount and rate."})]}),l.jsxs(vr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"tax-amount",children:"Amount"}),l.jsx(Le,{id:"tax-amount",type:"number",placeholder:"Enter amount",value:e,onChange:c=>t(c.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"tax-rate",children:"Tax Rate (%)"}),l.jsx(Le,{id:"tax-rate",type:"number",placeholder:"Enter tax rate",value:r,onChange:c=>n(c.target.value)})]}),l.jsx(Se,{onClick:o,children:"Calculate Tax"}),s!==null&&e&&l.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[l.jsxs("p",{children:["Calculated Tax: ",l.jsx("span",{className:"font-semibold",children:i(s)})]}),l.jsxs("p",{children:["Total Amount (incl. Tax): ",l.jsx("span",{className:"font-semibold",children:i(parseFloat(e)+s)})]})]})]})]})};function GP(e,[t,r]){return Math.min(r,Math.max(t,e))}function PN(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Ene=[" ","Enter","ArrowUp","ArrowDown"],Ane=[" ","Enter"],ng="Select",[I1,F1,Tne]=H0(ng),[Kh,fde]=ha(ng,[Tne,uc]),B1=uc(),[Lne,mc]=Kh(ng),[Dne,Rne]=Kh(ng),lM=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:g}=e,y=B1(t),[S,b]=v.useState(null),[w,N]=v.useState(null),[C,P]=v.useState(!1),M=Yh(u),[R=!1,T]=$s({prop:n,defaultProp:s,onChange:a}),[H,Q]=$s({prop:i,defaultProp:o,onChange:c}),L=v.useRef(null),E=S?g||!!S.closest("form"):!0,[W,F]=v.useState(new Set),K=Array.from(W).map(ne=>ne.props.value).join(";");return l.jsx(e1,{...y,children:l.jsxs(Lne,{required:p,scope:t,trigger:S,onTriggerChange:b,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:C,onValueNodeHasChildrenChange:P,contentId:Ta(),value:H,onValueChange:Q,open:R,onOpenChange:T,dir:M,triggerPointerDownPosRef:L,disabled:f,children:[l.jsx(I1.Provider,{scope:t,children:l.jsx(Dne,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(ne=>{F(Y=>new Set(Y).add(ne))},[]),onNativeOptionRemove:v.useCallback(ne=>{F(Y=>{const I=new Set(Y);return I.delete(ne),I})},[]),children:r})}),E?l.jsxs(DM,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:H,onChange:ne=>Q(ne.target.value),disabled:f,form:g,children:[H===void 0?l.jsx("option",{value:""}):null,Array.from(W)]},K):null]})})};lM.displayName=ng;var cM="SelectTrigger",uM=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=B1(r),i=mc(cM,r),o=i.disabled||n,c=Ft(t,i.onTriggerChange),u=F1(r),d=v.useRef("touch"),[h,f,p]=RM(y=>{const S=u().filter(N=>!N.disabled),b=S.find(N=>N.value===i.value),w=OM(S,y,b);w!==void 0&&i.onValueChange(w.value)}),g=y=>{o||(i.onOpenChange(!0),p()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return l.jsx(Wm,{asChild:!0,...a,children:l.jsx(ct.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":LM(i.value)?"":void 0,...s,ref:c,onClick:Ge(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:Ge(s.onPointerDown,y=>{d.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:Ge(s.onKeyDown,y=>{const S=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(S&&y.key===" ")&&Ene.includes(y.key)&&(g(),y.preventDefault())})})})});uM.displayName=cM;var dM="SelectValue",hM=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...o}=e,c=mc(dM,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Ft(t,c.onValueNodeChange);return Tn(()=>{u(d)},[u,d]),l.jsx(ct.span,{...o,ref:h,style:{pointerEvents:"none"},children:LM(c.value)?l.jsx(l.Fragment,{children:i}):a})});hM.displayName=dM;var One="SelectIcon",fM=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(ct.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});fM.displayName=One;var Mne="SelectPortal",pM=e=>l.jsx(Ih,{asChild:!0,...e});pM.displayName=Mne;var pu="SelectContent",mM=v.forwardRef((e,t)=>{const r=mc(pu,e.__scopeSelect),[n,s]=v.useState();if(Tn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?wu.createPortal(l.jsx(gM,{scope:e.__scopeSelect,children:l.jsx(I1.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(yM,{...e,ref:t})});mM.displayName=pu;var Ja=10,[gM,gc]=Kh(pu),Ine="SelectContentImpl",yM=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:S,...b}=e,w=mc(pu,r),[N,C]=v.useState(null),[P,M]=v.useState(null),R=Ft(t,se=>C(se)),[T,H]=v.useState(null),[Q,L]=v.useState(null),E=F1(r),[W,F]=v.useState(!1),K=v.useRef(!1);v.useEffect(()=>{if(N)return P1(N)},[N]),N1();const ne=v.useCallback(se=>{const[ue,...fe]=E().map(_e=>_e.ref.current),[Ce]=fe.slice(-1),Pe=document.activeElement;for(const _e of se)if(_e===Pe||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ue&&P&&(P.scrollTop=0),_e===Ce&&P&&(P.scrollTop=P.scrollHeight),_e==null||_e.focus(),document.activeElement!==Pe))return},[E,P]),Y=v.useCallback(()=>ne([T,N]),[ne,T,N]);v.useEffect(()=>{W&&Y()},[W,Y]);const{onOpenChange:I,triggerPointerDownPosRef:G}=w;v.useEffect(()=>{if(N){let se={x:0,y:0};const ue=Ce=>{var Pe,_e;se={x:Math.abs(Math.round(Ce.pageX)-(((Pe=G.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((_e=G.current)==null?void 0:_e.y)??0))}},fe=Ce=>{se.x<=10&&se.y<=10?Ce.preventDefault():N.contains(Ce.target)||I(!1),document.removeEventListener("pointermove",ue),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",fe,{capture:!0})}}},[N,I,G]),v.useEffect(()=>{const se=()=>I(!1);return window.addEventListener("blur",se),window.addEventListener("resize",se),()=>{window.removeEventListener("blur",se),window.removeEventListener("resize",se)}},[I]);const[ie,me]=RM(se=>{const ue=E().filter(Pe=>!Pe.disabled),fe=ue.find(Pe=>Pe.ref.current===document.activeElement),Ce=OM(ue,se,fe);Ce&&setTimeout(()=>Ce.ref.current.focus())}),A=v.useCallback((se,ue,fe)=>{const Ce=!K.current&&!fe;(w.value!==void 0&&w.value===ue||Ce)&&(H(se),Ce&&(K.current=!0))},[w.value]),V=v.useCallback(()=>N==null?void 0:N.focus(),[N]),X=v.useCallback((se,ue,fe)=>{const Ce=!K.current&&!fe;(w.value!==void 0&&w.value===ue||Ce)&&L(se)},[w.value]),ae=n==="popper"?I5:vM,q=ae===I5?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:S}:{};return l.jsx(gM,{scope:r,content:N,viewport:P,onViewportChange:M,itemRefCallback:A,selectedItem:T,onItemLeave:V,itemTextRefCallback:X,focusSelectedItem:Y,selectedItemText:Q,position:n,isPositioned:W,searchRef:ie,children:l.jsx(Qm,{as:Ji,allowPinchZoom:!0,children:l.jsx(Jm,{asChild:!0,trapped:w.open,onMountAutoFocus:se=>{se.preventDefault()},onUnmountAutoFocus:Ge(s,se=>{var ue;(ue=w.trigger)==null||ue.focus({preventScroll:!0}),se.preventDefault()}),children:l.jsx(bu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:se=>se.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(ae,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:se=>se.preventDefault(),...b,...q,onPlaced:()=>F(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ge(b.onKeyDown,se=>{const ue=se.ctrlKey||se.altKey||se.metaKey;if(se.key==="Tab"&&se.preventDefault(),!ue&&se.key.length===1&&me(se.key),["ArrowUp","ArrowDown","Home","End"].includes(se.key)){let Ce=E().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(se.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(se.key)){const Pe=se.target,_e=Ce.indexOf(Pe);Ce=Ce.slice(_e+1)}setTimeout(()=>ne(Ce)),se.preventDefault()}})})})})})})});yM.displayName=Ine;var Fne="SelectItemAlignedPosition",vM=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=mc(pu,r),i=gc(pu,r),[o,c]=v.useState(null),[u,d]=v.useState(null),h=Ft(t,R=>d(R)),f=F1(r),p=v.useRef(!1),g=v.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:b,focusSelectedItem:w}=i,N=v.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&y&&S&&b){const R=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),H=a.valueNode.getBoundingClientRect(),Q=b.getBoundingClientRect();if(a.dir!=="rtl"){const Pe=Q.left-T.left,_e=H.left-Pe,Ae=R.left-_e,Ye=R.width+Ae,je=Math.max(Ye,T.width),re=window.innerWidth-Ja,Ze=GP(_e,[Ja,Math.max(Ja,re-je)]);o.style.minWidth=Ye+"px",o.style.left=Ze+"px"}else{const Pe=T.right-Q.right,_e=window.innerWidth-H.right-Pe,Ae=window.innerWidth-R.right-_e,Ye=R.width+Ae,je=Math.max(Ye,T.width),re=window.innerWidth-Ja,Ze=GP(_e,[Ja,Math.max(Ja,re-je)]);o.style.minWidth=Ye+"px",o.style.right=Ze+"px"}const L=f(),E=window.innerHeight-Ja*2,W=y.scrollHeight,F=window.getComputedStyle(u),K=parseInt(F.borderTopWidth,10),ne=parseInt(F.paddingTop,10),Y=parseInt(F.borderBottomWidth,10),I=parseInt(F.paddingBottom,10),G=K+ne+W+I+Y,ie=Math.min(S.offsetHeight*5,G),me=window.getComputedStyle(y),A=parseInt(me.paddingTop,10),V=parseInt(me.paddingBottom,10),X=R.top+R.height/2-Ja,ae=E-X,q=S.offsetHeight/2,se=S.offsetTop+q,ue=K+ne+se,fe=G-ue;if(ue<=X){const Pe=L.length>0&&S===L[L.length-1].ref.current;o.style.bottom="0px";const _e=u.clientHeight-y.offsetTop-y.offsetHeight,Ae=Math.max(ae,q+(Pe?V:0)+_e+Y),Ye=ue+Ae;o.style.height=Ye+"px"}else{const Pe=L.length>0&&S===L[0].ref.current;o.style.top="0px";const Ae=Math.max(X,K+y.offsetTop+(Pe?A:0)+q)+fe;o.style.height=Ae+"px",y.scrollTop=ue-X+y.offsetTop}o.style.margin=`${Ja}px 0`,o.style.minHeight=ie+"px",o.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,o,u,y,S,b,a.dir,n]);Tn(()=>N(),[N]);const[C,P]=v.useState();Tn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const M=v.useCallback(R=>{R&&g.current===!0&&(N(),w==null||w(),g.current=!1)},[N,w]);return l.jsx($ne,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:l.jsx(ct.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});vM.displayName=Fne;var Bne="SelectPopperPosition",I5=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ja,...a}=e,i=B1(r);return l.jsx(t1,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});I5.displayName=Bne;var[$ne,EN]=Kh(pu,{}),F5="SelectViewport",xM=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=gc(F5,r),i=EN(F5,r),o=Ft(t,a.onViewportChange),c=v.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(I1.Slot,{scope:r,children:l.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ge(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-Ja*2,y=parseFloat(h.style.minHeight),S=parseFloat(h.style.height),b=Math.max(y,S);if(b<g){const w=b+p,N=Math.min(g,w),C=w-N;h.style.height=N+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});xM.displayName=F5;var wM="SelectGroup",[Une,Vne]=Kh(wM),zne=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ta();return l.jsx(Une,{scope:r,id:s,children:l.jsx(ct.div,{role:"group","aria-labelledby":s,...n,ref:t})})});zne.displayName=wM;var bM="SelectLabel",SM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vne(bM,r);return l.jsx(ct.div,{id:s.id,...n,ref:t})});SM.displayName=bM;var f0="SelectItem",[qne,_M]=Kh(f0),NM=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,o=mc(f0,r),c=gc(f0,r),u=o.value===n,[d,h]=v.useState(a??""),[f,p]=v.useState(!1),g=Ft(t,w=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,w,n,s)}),y=Ta(),S=v.useRef("touch"),b=()=>{s||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(qne,{scope:r,value:n,disabled:s,textId:y,isSelected:u,onItemTextChange:v.useCallback(w=>{h(N=>N||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(I1.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(ct.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:Ge(i.onFocus,()=>p(!0)),onBlur:Ge(i.onBlur,()=>p(!1)),onClick:Ge(i.onClick,()=>{S.current!=="mouse"&&b()}),onPointerUp:Ge(i.onPointerUp,()=>{S.current==="mouse"&&b()}),onPointerDown:Ge(i.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:Ge(i.onPointerMove,w=>{var N;S.current=w.pointerType,s?(N=c.onItemLeave)==null||N.call(c):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ge(i.onPointerLeave,w=>{var N;w.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:Ge(i.onKeyDown,w=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&w.key===" "||(Ane.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});NM.displayName=f0;var np="SelectItemText",jM=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=mc(np,r),o=gc(np,r),c=_M(np,r),u=Rne(np,r),[d,h]=v.useState(null),f=Ft(t,b=>h(b),c.onItemTextChange,b=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=v.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=u;return Tn(()=>(y(g),()=>S(g)),[y,S,g]),l.jsxs(l.Fragment,{children:[l.jsx(ct.span,{id:c.textId,...a,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?wu.createPortal(a.children,i.valueNode):null]})});jM.displayName=np;var CM="SelectItemIndicator",kM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return _M(CM,r).isSelected?l.jsx(ct.span,{"aria-hidden":!0,...n,ref:t}):null});kM.displayName=CM;var B5="SelectScrollUpButton",PM=v.forwardRef((e,t)=>{const r=gc(B5,e.__scopeSelect),n=EN(B5,e.__scopeSelect),[s,a]=v.useState(!1),i=Ft(t,n.onScrollButtonChange);return Tn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(AM,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});PM.displayName=B5;var $5="SelectScrollDownButton",EM=v.forwardRef((e,t)=>{const r=gc($5,e.__scopeSelect),n=EN($5,e.__scopeSelect),[s,a]=v.useState(!1),i=Ft(t,n.onScrollButtonChange);return Tn(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),s?l.jsx(AM,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});EM.displayName=$5;var AM=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=gc("SelectScrollButton",r),i=v.useRef(null),o=F1(r),c=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Tn(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(ct.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ge(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ge(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ge(s.onPointerLeave,()=>{c()})})}),Wne="SelectSeparator",TM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(ct.div,{"aria-hidden":!0,...n,ref:t})});TM.displayName=Wne;var U5="SelectArrow",Hne=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=B1(r),a=mc(U5,r),i=gc(U5,r);return a.open&&i.position==="popper"?l.jsx(r1,{...s,...n,ref:t}):null});Hne.displayName=U5;function LM(e){return e===""||e===void 0}var DM=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=v.useRef(null),a=Ft(t,s),i=PN(r);return v.useEffect(()=>{const o=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[i,r]),l.jsx(Vm,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});DM.displayName="BubbleSelect";function RM(e){const t=$n(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(i=>{const o=r.current+i;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),a=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function OM(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=Gne(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Gne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Yne=lM,MM=uM,Kne=hM,Xne=fM,Zne=pM,IM=mM,Jne=xM,FM=SM,BM=NM,Qne=jM,ese=kM,$M=PM,UM=EM,VM=TM;const Pn=Yne,En=Kne,wn=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(MM,{ref:n,className:Ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(Xne,{asChild:!0,children:l.jsx(JS,{className:"h-4 w-4 opacity-50"})})]}));wn.displayName=MM.displayName;const zM=v.forwardRef(({className:e,...t},r)=>l.jsx($M,{ref:r,className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx($$,{className:"h-4 w-4"})}));zM.displayName=$M.displayName;const qM=v.forwardRef(({className:e,...t},r)=>l.jsx(UM,{ref:r,className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(JS,{className:"h-4 w-4"})}));qM.displayName=UM.displayName;const bn=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(Zne,{children:l.jsxs(IM,{ref:s,className:Ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(zM,{}),l.jsx(Jne,{className:Ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(qM,{})]})}));bn.displayName=IM.displayName;const tse=v.forwardRef(({className:e,...t},r)=>l.jsx(FM,{ref:r,className:Ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));tse.displayName=FM.displayName;const ft=v.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(BM,{ref:n,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(ese,{children:l.jsx(ZS,{className:"h-4 w-4"})})}),l.jsx(Qne,{children:t})]}));ft.displayName=BM.displayName;const rse=v.forwardRef(({className:e,...t},r)=>l.jsx(VM,{ref:r,className:Ue("-mx-1 my-1 h-px bg-muted",e),...t}));rse.displayName=VM.displayName;const nse=()=>{const[e,t]=ke.useState(""),[r,n]=ke.useState(""),[s,a]=ke.useState(""),[i,o]=ke.useState("years"),[c,u]=ke.useState(null),{formatCurrency:d}=SN(),h=()=>{const f=parseFloat(e),p=parseFloat(r)/100;let g=parseFloat(s);if(isNaN(f)||isNaN(p)||isNaN(g)){u(null);return}i==="months"&&(g=g/12);const y=f*p*g;u(y)};return l.jsxs(kr,{className:"border-none shadow-none",children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Simple Interest Calculator"}),l.jsx(Fs,{children:"Calculate simple interest based on principal, rate, and time."})]}),l.jsxs(vr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"principal",children:"Principal Amount"}),l.jsx(Le,{id:"principal",type:"number",placeholder:"Enter principal amount",value:e,onChange:f=>t(f.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"interest-rate",children:"Annual Interest Rate (%)"}),l.jsx(Le,{id:"interest-rate",type:"number",placeholder:"Enter annual rate",value:r,onChange:f=>n(f.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2 col-span-2",children:[l.jsx(we,{htmlFor:"time",children:"Time Period"}),l.jsx(Le,{id:"time",type:"number",placeholder:"Enter time period",value:s,onChange:f=>a(f.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"time-unit",children:"Unit"}),l.jsxs(Pn,{value:i,onValueChange:f=>o(f),children:[l.jsx(wn,{id:"time-unit",children:l.jsx(En,{placeholder:"Select unit"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"years",children:"Years"}),l.jsx(ft,{value:"months",children:"Months"})]})]})]})]}),l.jsx(Se,{onClick:h,children:"Calculate Interest"}),c!==null&&e&&l.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[l.jsxs("p",{children:["Calculated Interest: ",l.jsx("span",{className:"font-semibold",children:d(c)})]}),l.jsxs("p",{children:["Total Amount (Principal + Interest): ",l.jsx("span",{className:"font-semibold",children:d(parseFloat(e)+c)})]})]})]})]})},YP=["USD","EUR","GBP","JPY","INR","CAD","AUD"],sse=()=>{const[e,t]=ke.useState(""),[r,n]=ke.useState("USD"),[s,a]=ke.useState("INR"),[i,o]=ke.useState(null),[c,u]=ke.useState(!1),d=async()=>{u(!0),o(null);const f=parseFloat(e);if(isNaN(f)||r===s){u(!1);return}await new Promise(y=>setTimeout(y,500));const g=f*(s==="INR"?83.5:.9);o(g),u(!1)},h=()=>{const f=r;n(s),a(f)};return l.jsxs(kr,{className:"border-none shadow-none",children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Currency Converter"}),l.jsx(Fs,{children:"Convert amounts between different currencies."})]}),l.jsxs(vr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"convert-amount",children:"Amount"}),l.jsx(Le,{id:"convert-amount",type:"number",placeholder:"Enter amount to convert",value:e,onChange:f=>t(f.target.value)})]}),l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(we,{htmlFor:"from-currency",children:"From"}),l.jsxs(Pn,{value:r,onValueChange:n,children:[l.jsx(wn,{id:"from-currency",children:l.jsx(En,{placeholder:"Select currency"})}),l.jsx(bn,{children:YP.map(f=>l.jsx(ft,{value:f,children:f},f))})]})]}),l.jsx(Se,{variant:"ghost",size:"icon",onClick:h,"aria-label":"Swap currencies",children:l.jsx(M$,{className:"h-4 w-4"})}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(we,{htmlFor:"to-currency",children:"To"}),l.jsxs(Pn,{value:s,onValueChange:a,children:[l.jsx(wn,{id:"to-currency",children:l.jsx(En,{placeholder:"Select currency"})}),l.jsx(bn,{children:YP.map(f=>l.jsx(ft,{value:f,children:f},f))})]})]})]}),l.jsx(Se,{onClick:d,disabled:c||!e,children:c?"Converting...":"Convert"}),i!==null&&!c&&l.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-md",children:[l.jsxs("p",{className:"font-semibold text-lg",children:[e," ",r," = ",new Intl.NumberFormat(void 0,{style:"currency",currency:s}).format(i)]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"(Using placeholder conversion rate)"})]}),l.jsx("div",{className:"mt-4 p-3 border rounded-md text-sm text-muted-foreground",children:"Note: This converter currently uses placeholder rates. Integrating live exchange rates requires an external API subscription."})]})]})},Vy=({value:e,onChange:t,className:r,...n})=>{const s=v.useRef(null),[a,i]=v.useState(!1),[o,c]=v.useState(null),u=()=>{i(!0)},d=()=>{i(!1)},h=f=>{c(f.target.selectionStart),t(f.target.value)};return v.useEffect(()=>{if(a&&s.current&&(s.current.focus(),o!==null))try{s.current.setSelectionRange(o,o)}catch{}},[a,e,o]),l.jsx("input",{ref:s,value:e,onChange:h,onFocus:u,onBlur:d,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n})},ase=({value:e,onChange:t,className:r,...n})=>{const s=v.useRef(null),[a,i]=v.useState(!1),[o,c]=v.useState(null),u=()=>{i(!0)},d=()=>{i(!1)},h=f=>{c(f.target.selectionStart),t(f.target.value)};return v.useEffect(()=>{if(a&&s.current&&(s.current.focus(),o!==null))try{s.current.setSelectionRange(o,o)}catch{}},[a,e,o]),l.jsx("textarea",{ref:s,value:e,onChange:h,onFocus:u,onBlur:d,className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...n})};var AN="Radio",[ise,WM]=ha(AN),[ose,lse]=ise(AN),HM=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:i,value:o="on",onCheck:c,form:u,...d}=e,[h,f]=v.useState(null),p=Ft(t,S=>f(S)),g=v.useRef(!1),y=h?u||!!h.closest("form"):!0;return l.jsxs(ose,{scope:r,checked:s,disabled:i,children:[l.jsx(ct.button,{type:"button",role:"radio","aria-checked":s,"data-state":KM(s),"data-disabled":i?"":void 0,disabled:i,value:o,...d,ref:p,onClick:Ge(e.onClick,S=>{s||c==null||c(),y&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})}),y&&l.jsx(cse,{control:h,bubbles:!g.current,name:n,value:o,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});HM.displayName=AN;var GM="RadioIndicator",YM=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=lse(GM,r);return l.jsx(zs,{present:n||a.checked,children:l.jsx(ct.span,{"data-state":KM(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});YM.displayName=GM;var cse=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=v.useRef(null),i=PN(r),o=l_(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[i,r,n]),l.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function KM(e){return e?"checked":"unchecked"}var use=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],TN="RadioGroup",[dse,pde]=ha(TN,[pc,WM]),XM=pc(),ZM=WM(),[hse,fse]=dse(TN),JM=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:i=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=e,p=XM(r),g=Yh(u),[y,S]=$s({prop:a,defaultProp:s,onChange:h});return l.jsx(hse,{scope:r,name:n,required:i,disabled:o,value:y,onValueChange:S,children:l.jsx(C1,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:l.jsx(ct.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":o?"":void 0,dir:g,...f,ref:t})})})});JM.displayName=TN;var QM="RadioGroupItem",eI=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=fse(QM,r),i=a.disabled||n,o=XM(r),c=ZM(r),u=v.useRef(null),d=Ft(t,u),h=a.value===s.value,f=v.useRef(!1);return v.useEffect(()=>{const p=y=>{use.includes(y.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),l.jsx(k1,{asChild:!0,...o,focusable:!i,active:h,children:l.jsx(HM,{disabled:i,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Ge(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ge(s.onFocus,()=>{var p;f.current&&((p=u.current)==null||p.click())})})})});eI.displayName=QM;var pse="RadioGroupIndicator",tI=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=ZM(r);return l.jsx(YM,{...s,...n,ref:t})});tI.displayName=pse;var rI=JM,nI=eI,mse=tI;const sI=v.forwardRef(({className:e,...t},r)=>l.jsx(rI,{className:Ue("grid gap-2",e),...t,ref:r}));sI.displayName=rI.displayName;const V5=v.forwardRef(({className:e,...t},r)=>l.jsx(nI,{ref:r,className:Ue("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(mse,{className:"flex items-center justify-center",children:l.jsx(xT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));V5.displayName=nI.displayName;const aI=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:Ue("w-full caption-bottom text-sm",e),...t})}));aI.displayName="Table";const iI=v.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:Ue("[&_tr]:border-b",e),...t}));iI.displayName="TableHeader";const oI=v.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:Ue("[&_tr:last-child]:border-0",e),...t}));oI.displayName="TableBody";const gse=v.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:Ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));gse.displayName="TableFooter";const z5=v.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:Ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));z5.displayName="TableRow";const Ic=v.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:Ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ic.displayName="TableHead";const Fc=v.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:Ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Fc.displayName="TableCell";const yse=v.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:Ue("mt-4 text-sm text-muted-foreground",e),...t}));yse.displayName="TableCaption";function vse(e,t=[]){let r=[];function n(a,i){const o=v.createContext(i),c=r.length;r=[...r,i];function u(h){const{scope:f,children:p,...g}=h,y=(f==null?void 0:f[e][c])||o,S=v.useMemo(()=>g,Object.values(g));return l.jsx(y.Provider,{value:S,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||o,g=v.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(i=>v.createContext(i));return function(o){const c=(o==null?void 0:o[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return s.scopeName=e,[n,xse(s,...t)]}function xse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((o,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...o,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var wse="Toggle",LN=v.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:s,...a}=e,[i=!1,o]=$s({prop:r,onChange:s,defaultProp:n});return l.jsx(ct.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Ge(e.onClick,()=>{e.disabled||o(!i)})})});LN.displayName=wse;var lI=LN,Xh="ToggleGroup",[cI,mde]=vse(Xh,[pc]),uI=pc(),DN=ke.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const s=n;return l.jsx(bse,{...s,ref:t})}if(r==="multiple"){const s=n;return l.jsx(Sse,{...s,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Xh}\``)});DN.displayName=Xh;var[dI,hI]=cI(Xh),bse=ke.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i,o]=$s({prop:r,defaultProp:n,onChange:s});return l.jsx(dI,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:o,onItemDeactivate:ke.useCallback(()=>o(""),[o]),children:l.jsx(fI,{...a,ref:t})})}),Sse=ke.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[i=[],o]=$s({prop:r,defaultProp:n,onChange:s}),c=ke.useCallback(d=>o((h=[])=>[...h,d]),[o]),u=ke.useCallback(d=>o((h=[])=>h.filter(f=>f!==d)),[o]);return l.jsx(dI,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:l.jsx(fI,{...a,ref:t})})});DN.displayName=Xh;var[_se,Nse]=cI(Xh),fI=ke.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:s=!0,orientation:a,dir:i,loop:o=!0,...c}=e,u=uI(r),d=Yh(i),h={role:"group",dir:d,...c};return l.jsx(_se,{scope:r,rovingFocus:s,disabled:n,children:s?l.jsx(C1,{asChild:!0,...u,orientation:a,dir:d,loop:o,children:l.jsx(ct.div,{...h,ref:t})}):l.jsx(ct.div,{...h,ref:t})})}),p0="ToggleGroupItem",pI=ke.forwardRef((e,t)=>{const r=hI(p0,e.__scopeToggleGroup),n=Nse(p0,e.__scopeToggleGroup),s=uI(e.__scopeToggleGroup),a=r.value.includes(e.value),i=n.disabled||e.disabled,o={...e,pressed:a,disabled:i},c=ke.useRef(null);return n.rovingFocus?l.jsx(k1,{asChild:!0,...s,focusable:!i,active:a,ref:c,children:l.jsx(KP,{...o,ref:t})}):l.jsx(KP,{...o,ref:t})});pI.displayName=p0;var KP=ke.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...s}=e,a=hI(p0,r),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},o=a.type==="single"?i:void 0;return l.jsx(LN,{...o,...s,ref:t,onPressedChange:c=>{c?a.onItemActivate(n):a.onItemDeactivate(n)}})}),mI=DN,gI=pI;const yI=zm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),jse=v.forwardRef(({className:e,variant:t,size:r,...n},s)=>l.jsx(lI,{ref:s,className:Ue(yI({variant:t,size:r,className:e})),...n}));jse.displayName=lI.displayName;const vI=v.createContext({size:"default",variant:"default"}),xI=v.forwardRef(({className:e,variant:t,size:r,children:n,...s},a)=>l.jsx(mI,{ref:a,className:Ue("flex items-center justify-center gap-1",e),...s,children:l.jsx(vI.Provider,{value:{variant:t,size:r},children:n})}));xI.displayName=mI.displayName;const sp=v.forwardRef(({className:e,children:t,variant:r,size:n,...s},a)=>{const i=v.useContext(vI);return l.jsx(gI,{ref:a,className:Ue(yI({variant:i.variant||r,size:i.size||n}),e),...s,children:t})});sp.displayName=gI.displayName;function Xt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ds(e,t){const r=Xt(e);return isNaN(t)?Vs(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function yi(e,t){const r=Xt(e);if(isNaN(t))return Vs(e,NaN);if(!t)return r;const n=r.getDate(),s=Vs(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const RN=6048e5,Cse=864e5,wI=6e4,bI=36e5;let kse={};function sg(){return kse}function Ma(e,t){var o,c,u,d;const r=sg(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Xt(e),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function mu(e){return Ma(e,{weekStartsOn:1})}function SI(e){const t=Xt(e),r=t.getFullYear(),n=Vs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=mu(n),a=Vs(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=mu(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function kh(e){const t=Xt(e);return t.setHours(0,0,0,0),t}function m0(e){const t=Xt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function qi(e,t){const r=kh(e),n=kh(t),s=+r-m0(r),a=+n-m0(n);return Math.round((s-a)/Cse)}function Pse(e){const t=SI(e),r=Vs(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),mu(r)}function q5(e,t){const r=t*7;return ds(e,r)}function Ese(e,t){return yi(e,t*12)}function Ase(e){let t;return e.forEach(function(r){const n=Xt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Tse(e){let t;return e.forEach(r=>{const n=Xt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function $1(e){return Vs(e,Date.now())}function rs(e,t){const r=kh(e),n=kh(t);return+r==+n}function ON(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _I(e){if(!ON(e)&&typeof e!="number")return!1;const t=Xt(e);return!isNaN(Number(t))}function gm(e,t){const r=Xt(e),n=Xt(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function Lse(e,t,r){const n=Ma(e,r),s=Ma(t,r),a=+n-m0(n),i=+s-m0(s);return Math.round((a-i)/RN)}function MN(e){const t=Xt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Bs(e){const t=Xt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function NI(e){const t=Xt(e),r=Vs(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function IN(e,t){var o,c,u,d;const r=sg(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Xt(e),a=s.getDay(),i=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function jI(e){return IN(e,{weekStartsOn:1})}const Dse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rse=(e,t,r)=>{let n;const s=Dse[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function u2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ose={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ise={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fse={date:u2({formats:Ose,defaultWidth:"full"}),time:u2({formats:Mse,defaultWidth:"full"}),dateTime:u2({formats:Ise,defaultWidth:"full"})},Bse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$se=(e,t,r,n)=>Bse[e];function Vf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Use={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Wse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Hse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gse=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yse={ordinalNumber:Gse,era:Vf({values:Use,defaultWidth:"wide"}),quarter:Vf({values:Vse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vf({values:zse,defaultWidth:"wide"}),day:Vf({values:qse,defaultWidth:"wide"}),dayPeriod:Vf({values:Wse,defaultWidth:"wide",formattingValues:Hse,defaultFormattingWidth:"wide"})};function zf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?Xse(o,h=>h.test(i)):Kse(o,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function Kse(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Xse(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Zse(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const o=t.slice(s.length);return{value:i,rest:o}}}const Jse=/^(\d+)(th|st|nd|rd)?/i,Qse=/\d+/i,eae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tae={any:[/^b/i,/^(a|c)/i]},rae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nae={any:[/1/i,/2/i,/3/i,/4/i]},sae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},iae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uae={ordinalNumber:Zse({matchPattern:Jse,parsePattern:Qse,valueCallback:e=>parseInt(e,10)}),era:zf({matchPatterns:eae,defaultMatchWidth:"wide",parsePatterns:tae,defaultParseWidth:"any"}),quarter:zf({matchPatterns:rae,defaultMatchWidth:"wide",parsePatterns:nae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zf({matchPatterns:sae,defaultMatchWidth:"wide",parsePatterns:aae,defaultParseWidth:"any"}),day:zf({matchPatterns:iae,defaultMatchWidth:"wide",parsePatterns:oae,defaultParseWidth:"any"}),dayPeriod:zf({matchPatterns:lae,defaultMatchWidth:"any",parsePatterns:cae,defaultParseWidth:"any"})},CI={code:"en-US",formatDistance:Rse,formatLong:Fse,formatRelative:$se,localize:Yse,match:uae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dae(e){const t=Xt(e);return qi(t,NI(t))+1}function kI(e){const t=Xt(e),r=+mu(t)-+Pse(t);return Math.round(r/RN)+1}function PI(e,t){var d,h,f,p;const r=Xt(e),n=r.getFullYear(),s=sg(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=Vs(e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const o=Ma(i,t),c=Vs(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Ma(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function hae(e,t){var o,c,u,d;const r=sg(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=PI(e,t),a=Vs(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Ma(a,t)}function EI(e,t){const r=Xt(e),n=+Ma(r,t)-+hae(r,t);return Math.round(n/RN)+1}function nr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const hl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return nr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):nr(r+1,2)},d(e,t){return nr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return nr(e.getHours()%12||12,t.length)},H(e,t){return nr(e.getHours(),t.length)},m(e,t){return nr(e.getMinutes(),t.length)},s(e,t){return nr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return nr(s,t.length)}},hd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return hl.y(e,t)},Y:function(e,t,r,n){const s=PI(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return nr(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):nr(a,t.length)},R:function(e,t){const r=SI(e);return nr(r,t.length)},u:function(e,t){const r=e.getFullYear();return nr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return nr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return nr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return hl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return nr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=EI(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):nr(s,t.length)},I:function(e,t,r){const n=kI(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):nr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):hl.d(e,t)},D:function(e,t,r){const n=dae(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):nr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return nr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return nr(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return nr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=hd.noon:n===0?s=hd.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=hd.evening:n>=12?s=hd.afternoon:n>=4?s=hd.morning:s=hd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):hl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):nr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):nr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):hl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):hl.s(e,t)},S:function(e,t){return hl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return JP(n);case"XXXX":case"XX":return Bc(n);case"XXXXX":case"XXX":default:return Bc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return JP(n);case"xxxx":case"xx":return Bc(n);case"xxxxx":case"xxx":default:return Bc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ZP(n,":");case"OOOO":default:return"GMT"+Bc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ZP(n,":");case"zzzz":default:return"GMT"+Bc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return nr(n,t.length)},T:function(e,t,r){const n=e.getTime();return nr(n,t.length)}};function ZP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+nr(a,2)}function JP(e,t){return e%60===0?(e>0?"-":"+")+nr(Math.abs(e)/60,2):Bc(e,t)}function Bc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=nr(Math.trunc(n/60),2),a=nr(n%60,2);return r+s+t+a}const QP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},AI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fae=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return QP(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",QP(n,t)).replace("{{time}}",AI(s,t))},pae={p:AI,P:fae},mae=/^D+$/,gae=/^Y+$/,yae=["D","DD","YY","YYYY"];function vae(e){return mae.test(e)}function xae(e){return gae.test(e)}function wae(e,t,r){const n=bae(e,t,r);if(console.warn(n),yae.includes(e))throw new RangeError(n)}function bae(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_ae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nae=/^'([^]*?)'?$/,jae=/''/g,Cae=/[a-zA-Z]/;function vi(e,t,r){var d,h,f,p,g,y,S,b;const n=sg(),s=(r==null?void 0:r.locale)??n.locale??CI,a=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((b=(S=n.locale)==null?void 0:S.options)==null?void 0:b.weekStartsOn)??0,o=Xt(e);if(!_I(o))throw new RangeError("Invalid time value");let c=t.match(_ae).map(w=>{const N=w[0];if(N==="p"||N==="P"){const C=pae[N];return C(w,s.formatLong)}return w}).join("").match(Sae).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const N=w[0];if(N==="'")return{isToken:!1,value:kae(w)};if(XP[N])return{isToken:!0,value:w};if(N.match(Cae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const N=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&xae(N)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&vae(N))&&wae(N,t,String(e));const C=XP[N[0]];return C(o,N,s.localize,u)}).join("")}function kae(e){const t=e.match(Nae);return t?t[1].replace(jae,"'"):e}function Pae(e){const t=Xt(e),r=t.getFullYear(),n=t.getMonth(),s=Vs(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Eae(e){return Math.trunc(+Xt(e)/1e3)}function Aae(e){const t=Xt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Tae(e,t){return Lse(Aae(e),Bs(e),t)+1}function W5(e,t){const r=Xt(e),n=Xt(t);return r.getTime()>n.getTime()}function TI(e,t){const r=Xt(e),n=Xt(t);return+r<+n}function Lae(e,t,r){const n=Ma(e,r),s=Ma(t,r);return+n==+s}function U1(e,t){const r=Xt(e),n=Xt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Dae(e,t){const r=Xt(e),n=Xt(t);return r.getFullYear()===n.getFullYear()}function Rae(e){return U1(e,$1(e))}function Oae(e,t){return Lae(e,$1(e),t)}function Mae(e){return rs(e,$1(e))}function mv(e,t){return ds(e,-t)}function Iae(e){return rs(e,mv($1(e),1))}function Fae(e,t){const n=Vae(e);let s;if(n.date){const c=zae(n.date,2);s=qae(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let i=0,o;if(n.time&&(i=Wae(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(o=Hae(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(a+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+i+o)}const zy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Bae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$ae=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Uae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Vae(e){const t={},r=e.split(zy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],zy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(zy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=zy.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function zae(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function qae(e,t){if(t===null)return new Date(NaN);const r=e.match(Bae);if(!r)return new Date(NaN);const n=!!r[4],s=qf(r[1]),a=qf(r[2])-1,i=qf(r[3]),o=qf(r[4]),c=qf(r[5])-1;if(n)return Zae(t,o,c)?Gae(t,o,c):new Date(NaN);{const u=new Date(0);return!Kae(t,a,i)||!Xae(t,s)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(s,i)),u)}}function qf(e){return e?parseInt(e):1}function Wae(e){const t=e.match($ae);if(!t)return NaN;const r=d2(t[1]),n=d2(t[2]),s=d2(t[3]);return Jae(r,n,s)?r*bI+n*wI+s*1e3:NaN}function d2(e){return e&&parseFloat(e.replace(",","."))||0}function Hae(e){if(e==="Z")return 0;const t=e.match(Uae);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Qae(n,s)?r*(n*bI+s*wI):NaN}function Gae(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,a=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const Yae=[31,null,31,30,31,30,31,31,30,31,30,31];function LI(e){return e%400===0||e%4===0&&e%100!==0}function Kae(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Yae[t]||(LI(e)?29:28))}function Xae(e,t){return t>=1&&t<=(LI(e)?366:365)}function Zae(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Jae(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Qae(e,t){return t>=0&&t<=59}function h2(e,t){const r=Xt(e),n=r.getFullYear(),s=r.getDate(),a=Vs(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const i=Pae(a);return r.setMonth(t,Math.min(s,i)),r}function eE(e,t){const r=Xt(e);return isNaN(+r)?Vs(e,NaN):(r.setFullYear(t),r)}var DI="AlertDialog",[eie,gde]=ha(DI,[WR]),Ho=WR(),RI=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ho(t);return l.jsx(oO,{...n,...r,modal:!0})};RI.displayName=DI;var tie="AlertDialogTrigger",rie=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ho(r);return l.jsx(lO,{...s,...n,ref:t})});rie.displayName=tie;var nie="AlertDialogPortal",OI=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ho(t);return l.jsx(cO,{...n,...r})};OI.displayName=nie;var sie="AlertDialogOverlay",MI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ho(r);return l.jsx(vN,{...s,...n,ref:t})});MI.displayName=sie;var Qd="AlertDialogContent",[aie,iie]=eie(Qd),II=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Ho(r),i=v.useRef(null),o=Ft(t,i),c=v.useRef(null);return l.jsx(Ste,{contentName:Qd,titleName:FI,docsSlug:"alert-dialog",children:l.jsx(aie,{scope:r,cancelRef:c,children:l.jsxs(xN,{role:"alertdialog",...a,...s,ref:o,onOpenAutoFocus:Ge(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(HS,{children:n}),l.jsx(lie,{contentRef:i})]})})})});II.displayName=Qd;var FI="AlertDialogTitle",BI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ho(r);return l.jsx(wN,{...s,...n,ref:t})});BI.displayName=FI;var $I="AlertDialogDescription",UI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ho(r);return l.jsx(bN,{...s,...n,ref:t})});UI.displayName=$I;var oie="AlertDialogAction",VI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ho(r);return l.jsx(L1,{...s,...n,ref:t})});VI.displayName=oie;var zI="AlertDialogCancel",qI=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=iie(zI,r),a=Ho(r),i=Ft(t,s);return l.jsx(L1,{...a,...n,ref:i})});qI.displayName=zI;var lie=({contentRef:e})=>{const t=`\`${Qd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qd}\` by passing a \`${$I}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},cie=RI,uie=OI,WI=MI,HI=II,GI=VI,YI=qI,KI=BI,XI=UI;const die=cie,hie=uie,ZI=v.forwardRef(({className:e,...t},r)=>l.jsx(WI,{className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ZI.displayName=WI.displayName;const JI=v.forwardRef(({className:e,...t},r)=>l.jsxs(hie,{children:[l.jsx(ZI,{}),l.jsx(HI,{ref:r,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));JI.displayName=HI.displayName;const QI=({className:e,...t})=>l.jsx("div",{className:Ue("flex flex-col space-y-2 text-center sm:text-left",e),...t});QI.displayName="AlertDialogHeader";const e8=({className:e,...t})=>l.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e8.displayName="AlertDialogFooter";const t8=v.forwardRef(({className:e,...t},r)=>l.jsx(KI,{ref:r,className:Ue("text-lg font-semibold",e),...t}));t8.displayName=KI.displayName;const r8=v.forwardRef(({className:e,...t},r)=>l.jsx(XI,{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));r8.displayName=XI.displayName;const n8=v.forwardRef(({className:e,...t},r)=>l.jsx(GI,{ref:r,className:Ue(om(),e),...t}));n8.displayName=GI.displayName;const s8=v.forwardRef(({className:e,...t},r)=>l.jsx(YI,{ref:r,className:Ue(om({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));s8.displayName=YI.displayName;const fie=({isFormOpen:e,setIsFormOpen:t,dialogModeRef:r})=>{const[n,s]=v.useState([]),[a,i]=v.useState({user_id:"",direction:"paid",payment_type:"cash",date:new Date().toISOString().split("T")[0],recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),[o,c]=v.useState(!1),u=e!==void 0?e:o,d=t||c,[h,f]=v.useState(!0),[p,g]=v.useState(""),[y,S]=v.useState(null),[b,w]=v.useState({}),[N,C]=v.useState("all"),[P,M]=v.useState(!1),[R,T]=v.useState(!1),[H,Q]=v.useState(null),[L,E]=v.useState(!1),{toast:W}=ir(),{user:F}=Ar();v.useEffect(()=>{F!=null&&F.id&&K()},[F]),v.useEffect(()=>{r&&u&&f(r.current)},[r,u]);const K=async()=>{if(F!=null&&F.id)try{M(!0),console.log("Loading daily logs from local database...");const q=await Be.getDailyLogsByUser(F.id);console.log(`Loaded ${q.length} daily logs from local database`);const se=[...q].sort((ue,fe)=>new Date(fe.date).getTime()-new Date(ue.date).getTime());s(se)}catch(q){console.error("Error loading daily logs:",q),W({title:"Error",description:"Failed to load transaction history",variant:"destructive"})}finally{M(!1)}},ne=v.useMemo(()=>N==="all"?n:n.filter(q=>{try{const se=Fae(q.date);if(!_I(se))return!1;switch(N){case"today":return Mae(se);case"yesterday":return Iae(se);case"thisWeek":return Oae(se);case"thisMonth":return Rae(se);default:return!0}}catch(se){return console.error("Error parsing date for filtering:",q.date,se),!1}}),[n,N]),Y=(q,se)=>{b[q]&&w(ue=>({...ue,[q]:void 0})),i(ue=>({...ue,[q]:q==="amount"?parseFloat(se)||0:se})),q==="is_third_party"&&se!=="true"&&g(""),q==="direction"&&se==="received"&&g("")},I=q=>se=>{i(ue=>({...ue,[q]:se})),q==="is_third_party"&&se!=="true"&&g(""),q==="direction"&&se==="received"&&g("")},G=q=>{const se=q==="true";i(ue=>({...ue,is_third_party:se})),se||g("")},ie=q=>{Q(q),T(!0),i({user_id:q.user_id,direction:q.direction,payment_type:q.payment_type,date:q.date,recipient_name:q.recipient_name,amount:q.amount,is_third_party:q.is_third_party,third_party_name:q.third_party_name,notes:q.notes||""}),q.is_third_party&&q.third_party_name?g(q.third_party_name):g(""),f(!0),d(!0)},me=q=>{Q(q),E(!0)},A=async()=>{if(H)try{if(M(!0),console.log(`Deleting transaction ${H.id}...`),await Be.deleteDailyLog(H.id),navigator.onLine)try{await Qe.deleteDailyLog(H.id),console.log("Successfully deleted from Supabase")}catch(q){console.error("Error deleting from Supabase:",q)}await K(),W({title:"Success",description:"Transaction deleted successfully"})}catch(q){console.error("Error deleting transaction:",q),W({title:"Error",description:"Failed to delete transaction",variant:"destructive"})}finally{M(!1),E(!1),Q(null)}},V=()=>{d(!1),T(!1),Q(null),r&&f(r.current),i({user_id:(F==null?void 0:F.id)||"",direction:"paid",payment_type:"cash",date:new Date().toISOString().split("T")[0],recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),g(""),w({})},X=async()=>{if(!(F!=null&&F.id)){W({title:"Error",description:"You must be logged in to add transactions",variant:"destructive"});return}const q={};let se=!0;if(w({}),a.recipient_name.trim()||(q.recipient="Recipient/Source name is required.",se=!1),a.amount<=0&&(q.amount="Amount must be greater than zero.",se=!1),a.date||(q.date="Date is required.",se=!1),a.direction==="paid"&&a.is_third_party&&!p.trim()&&(q.thirdPartyName="Third-party name is required for this destination.",se=!1),!se){w(q),W({title:"Validation Error",description:"Please fix the errors indicated below.",variant:"destructive"});return}try{M(!0);const ue={...a,user_id:F.id,third_party_name:a.is_third_party?p.trim():void 0,attachment_url:y?URL.createObjectURL(y):R&&H?H.attachment_url:void 0};if(R&&H){console.log(`Updating transaction ${H.id}...`);const Ce={...ue,id:H.id,created_at:H.created_at};if(await Be.updateDailyLog(Ce),console.log("Successfully updated log in local database"),navigator.onLine){console.log("Online, syncing updated log to Supabase...");try{await Qe.updateDailyLog(Ce)?console.log("Successfully synced updated log to Supabase"):console.error("Failed to sync updated log to Supabase: result was null")}catch(Pe){console.error("Error syncing updated log to Supabase:",Pe)}}else console.log("Offline, skipping Supabase sync");W({title:"Success",description:"Transaction updated successfully."})}else{console.log("Adding new daily log...");const Ce=await Be.addDailyLog(ue);if(console.log("Successfully added log to local database:",Ce),navigator.onLine){console.log("Online, syncing daily log to Supabase...");try{const Pe=await Qe.createDailyLog(Ce);Pe?console.log("Successfully synced daily log to Supabase:",Pe):console.error("Failed to sync daily log to Supabase: result was null")}catch(Pe){console.error("Error syncing daily log to Supabase:",Pe)}}else console.log("Offline, skipping Supabase sync");W({title:"Success",description:"Transaction logged successfully."})}await K(),i({user_id:F.id,direction:"paid",payment_type:"cash",date:new Date().toISOString().split("T")[0],recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),g(""),S(null),T(!1),Q(null);const fe=document.getElementById("attachment");if(fe&&(fe.value=""),d(!1),navigator.onLine){console.log("Forcing sync of all data...");try{await Yt.forceSyncContacts(F.id),console.log("Force sync completed successfully")}catch(Ce){console.error("Error during force sync:",Ce)}}}catch(ue){console.error(`Error ${R?"updating":"adding"} transaction:`,ue),W({title:"Error",description:`Failed to ${R?"update":"add"} transaction`,variant:"destructive"})}finally{M(!1)}},ae=()=>l.jsxs("div",{className:"space-y-4 mb-4 p-4 border border-border/40 rounded-lg bg-background/50 backdrop-blur-sm",children:[l.jsx("h3",{className:"text-base font-medium mb-3",children:R?"Edit Transaction":"Transaction Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(we,{htmlFor:"direction",className:"text-xs text-muted-foreground",children:"Direction"}),l.jsxs(Pn,{name:"direction",value:a.direction,onValueChange:I("direction"),children:[l.jsx(wn,{id:"direction",className:"h-9",children:l.jsx(En,{placeholder:"Select direction"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"paid",children:"Outgoing (Paid)"}),l.jsx(ft,{value:"received",children:"Incoming (Received)"})]})]})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"payment_type",className:"text-xs text-muted-foreground",children:"Type"}),l.jsxs(Pn,{name:"payment_type",value:a.payment_type,onValueChange:I("payment_type"),children:[l.jsx(wn,{id:"payment_type",className:"h-9",children:l.jsx(En,{placeholder:"Select type"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"upi",children:"UPI"}),l.jsx(ft,{value:"cash",children:"Cash"}),l.jsx(ft,{value:"bank",children:"Bank Transfer"}),l.jsx(ft,{value:"others",children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"date",className:"text-xs text-muted-foreground",children:"Date"}),l.jsx(Vy,{id:"date",name:"date",type:"date",value:a.date,onChange:q=>Y("date",q),className:Ue("h-9",b.date&&"border-red-500 focus:border-red-500")}),b.date&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.date})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"recipient_name",className:"text-xs text-muted-foreground",children:a.direction==="paid"?"Recipient Name":"Source Name"}),l.jsx(Vy,{id:"recipient_name",name:"recipient_name",placeholder:a.direction==="paid"?"Enter recipient name":"Enter source name",value:a.recipient_name,onChange:q=>Y("recipient_name",q),className:Ue("h-9",b.recipient&&"border-red-500 focus:border-red-500")}),b.recipient&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.recipient})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"amount",className:"text-xs text-muted-foreground",children:"Amount"}),l.jsx(Vy,{id:"amount",name:"amount",type:"number",placeholder:"Enter amount",value:a.amount.toString(),onChange:q=>Y("amount",q),min:"0.01",step:"0.01",className:Ue("h-9",b.amount&&"border-red-500 focus:border-red-500")}),b.amount&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.amount})]}),a.direction==="paid"&&l.jsxs("div",{children:[l.jsx(we,{className:"text-xs text-muted-foreground",children:"Payment Destination"}),l.jsxs(sI,{value:a.is_third_party?"true":"false",onValueChange:G,className:"flex items-center space-x-4 mt-2",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(V5,{value:"false",id:"dest_direct",className:"h-3.5 w-3.5"}),l.jsx(we,{htmlFor:"dest_direct",className:"text-xs",children:"Direct to Recipient"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(V5,{value:"true",id:"dest_third_party",className:"h-3.5 w-3.5"}),l.jsx(we,{htmlFor:"dest_third_party",className:"text-xs",children:"To Third-Party"})]})]})]}),a.is_third_party&&l.jsxs("div",{children:[l.jsx(we,{htmlFor:"third_party_name",className:"text-xs text-muted-foreground",children:"Third-Party Name"}),l.jsx(Vy,{id:"third_party_name",name:"third_party_name",placeholder:"Enter third-party name",value:p,onChange:q=>{g(q),b.thirdPartyName&&w(se=>({...se,thirdPartyName:void 0}))},className:Ue("h-9",b.thirdPartyName&&"border-red-500 focus:border-red-500")}),b.thirdPartyName&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:b.thirdPartyName})]})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"notes",className:"text-xs text-muted-foreground",children:"Note (Optional)"}),l.jsx(ase,{id:"notes",name:"notes",placeholder:"Add any relevant notes...",value:a.notes||"",onChange:q=>Y("notes",q),className:"resize-none min-h-[60px]"})]}),l.jsxs("div",{children:[l.jsx(we,{htmlFor:"attachment",className:"text-xs text-muted-foreground",children:"Attachment (Optional)"}),l.jsx("input",{id:"attachment",name:"attachment",type:"file",onChange:q=>S(q.target.files?q.target.files[0]:null),className:"text-xs mt-1 w-full"}),y&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Selected: ",y.name]})]}),l.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[l.jsx(Se,{variant:"outline",size:"sm",onClick:V,disabled:P,children:"Cancel"}),l.jsx(Se,{size:"sm",onClick:X,disabled:P,children:P?"Saving...":R?"Update Transaction":"Save Transaction"})]})]});return l.jsxs(kr,{className:"border-0 shadow-none bg-transparent mt-0",children:[l.jsx("div",{className:"flex items-center",children:l.jsx("h2",{className:"text-xl font-bold",children:"History"})}),l.jsxs(vr,{className:"p-0 mt-2",children:[u&&!h&&l.jsx(ae,{}),l.jsx("div",{className:"flex items-center justify-between mt-2 mb-4",children:l.jsxs(xI,{type:"single",defaultValue:"all",value:N,onValueChange:q=>C(q||"all"),className:"bg-muted/20 rounded-lg p-0.5",size:"sm",children:[l.jsx(sp,{value:"all",className:"text-xs px-2.5 rounded-md","aria-label":"Show all",children:"All"}),l.jsx(sp,{value:"today",className:"text-xs px-2.5 rounded-md","aria-label":"Show today",children:"Today"}),l.jsx(sp,{value:"yesterday",className:"text-xs px-2.5 rounded-md","aria-label":"Show yesterday",children:"Yesterday"}),l.jsx(sp,{value:"thisWeek",className:"text-xs px-2.5 rounded-md","aria-label":"Show this week",children:"This Week"})]})}),P?l.jsx("div",{className:"text-center py-8 bg-muted/10 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading transactions..."})}):ne.length===0?l.jsxs("div",{className:"text-center py-8 bg-muted/10 rounded-lg",children:[l.jsx(U$,{className:"w-8 h-8 text-muted-foreground/50 mx-auto mb-2"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:n.length===0?"No transactions logged yet. Use the + button to add one.":`No transactions found for the selected filter (${N}).`})]}):l.jsxs("div",{className:"overflow-x-auto -mx-4 px-4",children:[l.jsx("div",{className:"md:hidden space-y-4",children:ne.map(q=>l.jsxs("div",{className:"border border-border/30 rounded-lg p-3 bg-background/50",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center",children:[q.direction==="received"?l.jsx(bb,{className:"h-4 w-4 text-green-500 mr-1.5"}):l.jsx(Sb,{className:"h-4 w-4 text-red-500 mr-1.5"}),l.jsx("span",{className:`text-sm font-medium ${q.direction==="received"?"text-green-500":"text-red-500"}`,children:q.direction==="received"?"Received":"Paid"})]}),l.jsx("div",{className:"text-sm font-mono font-medium",children:q.amount.toFixed(2)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs mb-3",children:[l.jsx("div",{className:"text-muted-foreground",children:"Date:"}),l.jsx("div",{children:new Date(q.date).toLocaleDateString()}),l.jsx("div",{className:"text-muted-foreground",children:"Type:"}),l.jsx("div",{className:"capitalize",children:q.payment_type.replace("_"," ")}),l.jsx("div",{className:"text-muted-foreground",children:q.direction==="received"?"From:":"To:"}),l.jsx("div",{children:q.recipient_name}),q.direction==="paid"&&q.is_third_party&&q.third_party_name&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-muted-foreground",children:"Third Party:"}),l.jsx("div",{children:q.third_party_name})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs(Se,{variant:"outline",size:"sm",className:"h-8 px-2",onClick:()=>ie(q),children:[l.jsx(fi,{className:"h-3.5 w-3.5 mr-1"}),"Edit"]}),l.jsxs(Se,{variant:"outline",size:"sm",className:"h-8 px-2 border-destructive text-destructive hover:bg-destructive/10",onClick:()=>me(q),children:[l.jsx(pi,{className:"h-3.5 w-3.5 mr-1"}),"Delete"]})]})]},q.id))}),l.jsxs(aI,{className:"min-w-full border border-border/30 rounded-lg overflow-hidden hidden md:table",children:[l.jsx(iI,{className:"bg-muted/10",children:l.jsxs(z5,{className:"hover:bg-transparent border-border/30",children:[l.jsx(Ic,{className:"w-24 py-2 text-xs",children:"Date"}),l.jsx(Ic,{className:"w-28 py-2 text-xs",children:"Direction"}),l.jsx(Ic,{className:"w-24 py-2 text-xs",children:"Type"}),l.jsx(Ic,{className:"py-2 text-xs",children:"Recipient/Source"}),l.jsx(Ic,{className:"py-2 text-xs text-right",children:"Amount"}),l.jsx(Ic,{className:"w-16 py-2 text-xs text-right",children:"Actions"})]})}),l.jsx(oI,{children:ne.map(q=>l.jsxs(z5,{className:"border-border/30 hover:bg-muted/5",children:[l.jsx(Fc,{className:"py-2 text-xs",children:new Date(q.date).toLocaleDateString()}),l.jsx(Fc,{className:"py-2 text-xs",children:l.jsxs("div",{className:"flex items-center",children:[q.direction==="received"?l.jsx(bb,{className:"h-3.5 w-3.5 text-green-500 mr-1.5"}):l.jsx(Sb,{className:"h-3.5 w-3.5 text-red-500 mr-1.5"}),l.jsx("span",{className:`${q.direction==="received"?"text-green-500":"text-red-500"}`,children:q.direction==="received"?"Received":"Paid"})]})}),l.jsx(Fc,{className:"py-2 text-xs capitalize",children:q.payment_type.replace("_"," ")}),l.jsxs(Fc,{className:"py-2 text-xs font-medium",children:[q.recipient_name,q.direction==="paid"&&q.is_third_party&&q.third_party_name&&l.jsxs("span",{className:"text-muted-foreground ml-2 text-xs",children:["→ ",q.third_party_name]})]}),l.jsx(Fc,{className:"py-2 text-xs font-mono text-right",children:q.amount.toFixed(2)}),l.jsx(Fc,{className:"py-2 text-xs text-right",children:l.jsxs("div",{className:"flex justify-end items-center space-x-1",children:[l.jsx(Se,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>ie(q),title:"Edit",children:l.jsx(fi,{className:"h-3.5 w-3.5"})}),l.jsx(Se,{variant:"ghost",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>me(q),title:"Delete",children:l.jsx(pi,{className:"h-3.5 w-3.5"})})]})})]},q.id))})]})]})]}),l.jsx(lr,{open:u&&h,onOpenChange:q=>{q?(d(q),f(!0)):V()},children:l.jsx(cr,{className:"sm:max-w-lg",children:l.jsx(ae,{})})}),l.jsx(die,{open:L,onOpenChange:E,children:l.jsxs(JI,{children:[l.jsxs(QI,{children:[l.jsx(t8,{children:"Are you sure?"}),l.jsxs(r8,{children:["This action cannot be undone. This will permanently delete the transaction",H&&l.jsxs("span",{className:"font-medium",children:[" for ",H.recipient_name]}),"."]})]}),l.jsxs(e8,{children:[l.jsx(s8,{disabled:P,children:"Cancel"}),l.jsx(n8,{onClick:A,disabled:P,className:"bg-destructive hover:bg-destructive/90",children:P?"Deleting...":"Delete"})]})]})})]})},pie=()=>{const{filteredTransactions:e,loading:t,searchQuery:r,setSearchQuery:n,setStatusFilter:s,loadTransactions:a}=YJ(),i=xs(),[o,c]=v.useState(!1),[u,d]=v.useState("TransactLy"),[h,f]=v.useState(!1),[p,g]=v.useState(!1),[y,S]=v.useState([]),[b,w]=v.useState([]),[N,C]=v.useState({name:"",email:"",phone:""}),[P,M]=v.useState({name:"",email:"",phone:""}),[R,T]=v.useState(!1),[H,Q]=v.useState("dashboard"),{toast:L}=ir(),E=async A=>{try{await wne(e,A),L({title:"Export Successful",description:`Transaction data has been exported as ${A.toUpperCase()}`})}catch(V){console.error("Export failed:",V),L({title:"Export Failed",description:"Failed to export transaction data",variant:"destructive"})}},W=A=>{s(A)},F=async()=>{try{const A=await localStorage.getItem("businessName");A&&d(A)}catch(A){console.error("Failed to load business name:",A)}},K=async()=>{try{const A=await localStorage.getItem("buyers"),V=await localStorage.getItem("sellers");A&&S(JSON.parse(A)),V&&w(JSON.parse(V))}catch(A){console.error("Failed to load buyers and sellers:",A)}},ne=A=>{const{name:V,value:X}=A.target;C(ae=>({...ae,[V]:X}))},Y=A=>{const{name:V,value:X}=A.target;M(ae=>({...ae,[V]:X}))},I=async()=>{try{if(!N.name||!N.phone){L({title:"Validation Error",description:"Name and Phone are required fields",variant:"destructive"});return}const A={id:`buyer-${Date.now()}`,name:N.name,email:N.email,phone:N.phone,date:new Date().toISOString()},V=[...y,A];S(V),await localStorage.setItem("buyers",JSON.stringify(V)),C({name:"",email:"",phone:""}),f(!1),L({title:"Success",description:"Buyer added successfully"})}catch(A){console.error("Failed to add buyer:",A),L({title:"Error",description:"Failed to add buyer",variant:"destructive"})}},G=async()=>{try{if(!P.name||!P.phone){L({title:"Validation Error",description:"Name and Phone are required fields",variant:"destructive"});return}const A={id:`seller-${Date.now()}`,name:P.name,email:P.email,phone:P.phone,date:new Date().toISOString()},V=[...b,A];w(V),await localStorage.setItem("sellers",JSON.stringify(V)),M({name:"",email:"",phone:""}),g(!1),L({title:"Success",description:"Seller added successfully"})}catch(A){console.error("Failed to add seller:",A),L({title:"Error",description:"Failed to add seller",variant:"destructive"})}},ie=()=>{i("/new-transaction")},me=()=>{switch(H){case"transactions":return"Business Transactions";case"calculations":return"Calculations";case"clients-vendors":return"Clients";default:return u}};return v.useEffect(()=>{F(),K()},[]),l.jsxs(Us.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col",children:[l.jsx(mte,{onExport:E,businessName:me()}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs(su,{defaultValue:"dashboard",value:H,onValueChange:Q,className:"w-full flex flex-col h-[calc(100vh-64px)]",children:[l.jsxs(Gr,{value:"dashboard",className:"container mx-auto px-4 py-4 flex-1 overflow-auto",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-4 gap-4",children:[l.jsx("div",{className:"w-full md:w-auto",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsx(gte,{searchQuery:r,setSearchQuery:n}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Se,{variant:e.length===0?"default":"outline",size:"sm",onClick:()=>W(null),children:"All"}),l.jsx(Se,{variant:"outline",size:"sm",onClick:()=>W("pending"),className:"border-amber-500 text-amber-500 hover:bg-amber-50",children:"Pending"}),l.jsx(Se,{variant:"outline",size:"sm",onClick:()=>W("completed"),className:"border-green-500 text-green-500 hover:bg-green-50",children:"Completed"})]})]})}),l.jsxs(lr,{open:o,onOpenChange:c,children:[l.jsx(Wl,{asChild:!0,children:l.jsxs(Se,{onClick:()=>c(!0),children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"New Transaction"]})}),l.jsx(fO,{onTransactionCreated:()=>{c(!1),a()}})]})]}),l.jsx(__,{children:t?l.jsx(Tte,{}):e.length===0?l.jsx(Ate,{hasSearchQuery:r.length>0,onCreateTransaction:ie}):l.jsx(Mte,{transactions:e,loading:t,onRefresh:a,onCreateTransaction:ie})})]}),l.jsx(Gr,{value:"clients-vendors",className:"container mx-auto px-4 py-8 flex-1 overflow-auto",children:l.jsxs(su,{defaultValue:"buyers",className:"w-full",children:[l.jsxs(Hl,{className:"grid w-full grid-cols-2 mb-4",children:[l.jsx(tn,{value:"buyers",icon:l.jsx(Nb,{className:"w-4 h-4"}),children:"Buyers"}),l.jsx(tn,{value:"sellers",icon:l.jsx(Cb,{className:"w-4 h-4"}),children:"Sellers"})]}),l.jsx(Gr,{value:"buyers",children:l.jsxs(kr,{children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Buyers Management"}),l.jsx(Fs,{children:"Add and manage your buyers in one place"})]}),l.jsx(vr,{children:y.length===0?l.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No buyers added yet. Add your first buyer."}):l.jsx("div",{className:"space-y-4",children:y.map(A=>l.jsx("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:A.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:A.phone}),A.email&&l.jsx("p",{className:"text-sm text-muted-foreground",children:A.email})]}),l.jsx("div",{className:"text-sm text-right mt-2 md:mt-0",children:l.jsxs("p",{className:"text-muted-foreground",children:["Added on ",new Date(A.date).toLocaleDateString()]})})]})},A.id))})}),l.jsx(Bo,{className:"flex justify-end",children:l.jsxs(lr,{open:h,onOpenChange:f,children:[l.jsx(Wl,{asChild:!0,children:l.jsxs(Se,{children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"Add New Buyer"]})}),l.jsxs(cr,{children:[l.jsxs(Pr,{children:[l.jsx(fr,{children:"Add New Buyer"}),l.jsx(S5,{children:"Enter the details of the new buyer to add them to your system."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"buyerName",className:"text-right",children:"Name"}),l.jsx(Le,{id:"buyerName",name:"name",className:"col-span-3",placeholder:"Enter buyer name",value:N.name,onChange:ne})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"buyerEmail",className:"text-right",children:"Email"}),l.jsx(Le,{id:"buyerEmail",name:"email",className:"col-span-3",placeholder:"Enter buyer email",value:N.email,onChange:ne})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"buyerPhone",className:"text-right",children:"Phone"}),l.jsx(Le,{id:"buyerPhone",name:"phone",className:"col-span-3",placeholder:"Enter buyer phone",value:N.phone,onChange:ne})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),l.jsx(Se,{type:"button",onClick:I,children:"Add Buyer"})]})]})]})})]})}),l.jsx(Gr,{value:"sellers",children:l.jsxs(kr,{children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Sellers Management"}),l.jsx(Fs,{children:"Add and manage your sellers in one place"})]}),l.jsx(vr,{children:b.length===0?l.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No sellers added yet. Add your first seller."}):l.jsx("div",{className:"space-y-4",children:b.map(A=>l.jsx("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:A.name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:A.phone}),A.email&&l.jsx("p",{className:"text-sm text-muted-foreground",children:A.email})]}),l.jsx("div",{className:"text-sm text-right mt-2 md:mt-0",children:l.jsxs("p",{className:"text-muted-foreground",children:["Added on ",new Date(A.date).toLocaleDateString()]})})]})},A.id))})}),l.jsx(Bo,{className:"flex justify-end",children:l.jsxs(lr,{open:p,onOpenChange:g,children:[l.jsx(Wl,{asChild:!0,children:l.jsxs(Se,{children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"Add New Seller"]})}),l.jsxs(cr,{children:[l.jsxs(Pr,{children:[l.jsx(fr,{children:"Add New Seller"}),l.jsx(S5,{children:"Enter the details of the new seller to add them to your system."})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"sellerName",className:"text-right",children:"Name"}),l.jsx(Le,{id:"sellerName",name:"name",className:"col-span-3",placeholder:"Enter seller name",value:P.name,onChange:Y})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"sellerEmail",className:"text-right",children:"Email"}),l.jsx(Le,{id:"sellerEmail",name:"email",className:"col-span-3",placeholder:"Enter seller email",value:P.email,onChange:Y})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"sellerPhone",className:"text-right",children:"Phone"}),l.jsx(Le,{id:"sellerPhone",name:"phone",className:"col-span-3",placeholder:"Enter seller phone",value:P.phone,onChange:Y})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),l.jsx(Se,{type:"button",onClick:G,children:"Add Seller"})]})]})]})})]})})]})}),l.jsxs(Gr,{value:"transactions",className:"container mx-auto px-4 py-8 flex-1 overflow-auto relative",children:[l.jsx(fie,{isFormOpen:R,setIsFormOpen:T,dialogModeRef:{current:!0}}),l.jsx(Se,{size:"icon",className:"h-12 w-12 rounded-full fixed bottom-24 right-6 shadow-lg z-10",onClick:()=>{T(!0)},children:l.jsx(na,{className:"h-5 w-5"})})]}),l.jsx(Gr,{value:"calculations",className:"container mx-auto px-4 py-8 flex-1 overflow-auto",children:l.jsx(kr,{children:l.jsx(vr,{className:"p-0 pt-6",children:l.jsxs(su,{defaultValue:"tax",className:"w-full",children:[l.jsxs(Hl,{className:"grid w-full grid-cols-3 mb-4",children:[l.jsx(tn,{value:"tax",icon:l.jsx(eU,{className:"w-4 h-4"}),children:"Tax"}),l.jsx(tn,{value:"interest",icon:l.jsx(X$,{className:"w-4 h-4"}),children:"Interest"}),l.jsx(tn,{value:"currency",icon:l.jsx(nU,{className:"w-4 h-4"}),children:"Currency"})]}),l.jsx(Gr,{value:"tax",children:l.jsx(Pne,{})}),l.jsx(Gr,{value:"interest",children:l.jsx(nse,{})}),l.jsx(Gr,{value:"currency",children:l.jsx(sse,{})})]})})})}),l.jsx(Gr,{value:"settings",className:"container mx-auto px-4 py-8 flex-1 overflow-auto",children:l.jsxs(kr,{children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Settings"}),l.jsx(Fs,{children:"Manage your application preferences"})]}),l.jsx(vr,{children:l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:"Business Information"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Update your business details"})]})})})]})}),l.jsx("div",{className:"mt-auto sticky bottom-0 z-10",children:l.jsxs(Hl,{className:"w-full bg-background border-t flex justify-between rounded-none",children:[l.jsx(tn,{value:"dashboard",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(B$,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]})}),l.jsx(tn,{value:"transactions",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Z$,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Transactions"})]})}),l.jsx(tn,{value:"calculations",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(F$,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Calculations"})]})}),l.jsx(tn,{value:"clients-vendors",className:"flex-1 py-3",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(I$,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Clients"})]})})]})})]})})]})};var Ds=(e=>(e.PURCHASES="purchases",e.TRANSPORTATION="transportation",e.SALES="sales",e.PAYMENTS="payments",e.NOTES="notes",e.ATTACHMENTS="attachments",e))(Ds||{});const mie=({activeTab:e,onTabChange:t,disabledTabs:r,isMobile:n})=>{const s=[{key:Ds.PURCHASES,label:"Purchases",icon:l.jsx(Q$,{className:"h-4 w-4"})},{key:Ds.TRANSPORTATION,label:"Transportation",icon:l.jsx(iU,{className:"h-4 w-4"})},{key:Ds.SALES,label:"Sales",icon:l.jsx(aU,{className:"h-4 w-4"})},{key:Ds.PAYMENTS,label:"Payments",icon:l.jsx(W$,{className:"h-4 w-4"})},{key:Ds.NOTES,label:"Notes",icon:l.jsx(QS,{className:"h-4 w-4"})},{key:Ds.ATTACHMENTS,label:"Attachments",icon:l.jsx(wT,{className:"h-4 w-4"})}];return l.jsx("div",{className:`flex ${n?"justify-around":"justify-start"} items-center`,children:s.map(a=>l.jsxs("button",{onClick:()=>t(a.key),disabled:r.includes(a.key),className:`flex items-center px-3 py-2 text-sm font-medium ${e===a.key?"text-primary border-b-2 border-primary":"text-foreground/80"} ${n?"flex-col":""}`,children:[a.icon,l.jsx("span",{className:`${n?"mt-1 text-xs":"ml-2"} ${e===a.key?"":"hidden md:inline"}`,children:a.label})]},a.key))})},Ph=v.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ph.displayName="Textarea";const gie=({transaction:e,refreshTransaction:t})=>{const{toast:r}=ir(),n=e.transportation,[s,a]=v.useState(!1),[i,o]=v.useState(null);v.useEffect(()=>{n?o({transaction_id:n.transaction_id,vehicle_type:n.vehicle_type,number_plate:n.number_plate,driver_phone:n.driver_phone||"",empty_weight:n.empty_weight,loaded_weight:n.loaded_weight,origin:n.origin,distance:n.distance,departure_date:n.departure_date||"",departure_time:n.departure_time||"",expected_arrival_date:n.expected_arrival_date||"",expected_arrival_time:n.expected_arrival_time||"",transportation_charges:n.transportation_charges,notes:n.notes||""}):(a(!0),o({transaction_id:e.transaction.id,vehicle_type:"",number_plate:"",driver_phone:"",empty_weight:0,loaded_weight:0,origin:"",distance:0,departure_date:"",departure_time:"",expected_arrival_date:"",expected_arrival_time:"",transportation_charges:0,notes:""}))},[n,e.transaction.id]);const c=d=>{if(!i)return;const{name:h,value:f}=d.target;o({...i,[h]:["empty_weight","loaded_weight","distance","transportation_charges"].includes(h)?parseFloat(f)||0:f})},u=async()=>{try{if(!i)return;n?await Xr.saveTransportation({...i,id:n.id}):await Xr.saveTransportation(i),await t(),a(!1),r({title:"Success",description:"Transportation details updated successfully"})}catch(d){console.error("Error updating transportation details:",d),r({title:"Error",description:"Failed to update transportation details",variant:"destructive"})}};return i?s?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium",children:n?"Edit Transportation Details":"Add Transportation Details"}),l.jsxs("div",{className:"flex space-x-2",children:[n&&l.jsx(Se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(Se,{onClick:u,children:"Save Changes"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"vehicle_type",children:"Vehicle Type"}),l.jsx(Le,{id:"vehicle_type",name:"vehicle_type",value:i.vehicle_type,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"number_plate",children:"Number Plate"}),l.jsx(Le,{id:"number_plate",name:"number_plate",value:i.number_plate,onChange:c})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"driver_phone",children:"Driver's Phone Number"}),l.jsx(Le,{id:"driver_phone",name:"driver_phone",value:i.driver_phone,onChange:c,placeholder:"Enter driver's phone number"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"empty_weight",children:"Empty Weight (kg)"}),l.jsx(Le,{id:"empty_weight",name:"empty_weight",type:"number",value:i.empty_weight,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"loaded_weight",children:"Loaded Weight (kg)"}),l.jsx(Le,{id:"loaded_weight",name:"loaded_weight",type:"number",value:i.loaded_weight,onChange:c})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"origin",children:"Origin"}),l.jsx(Le,{id:"origin",name:"origin",value:i.origin,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"distance",children:"Distance (km)"}),l.jsx(Le,{id:"distance",name:"distance",type:"number",value:i.distance,onChange:c})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"departure_date",children:"Departure Date"}),l.jsx(Le,{id:"departure_date",name:"departure_date",type:"date",value:i.departure_date,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"departure_time",children:"Departure Time"}),l.jsx(Le,{id:"departure_time",name:"departure_time",type:"time",value:i.departure_time,onChange:c})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"expected_arrival_date",children:"Expected Arrival Date"}),l.jsx(Le,{id:"expected_arrival_date",name:"expected_arrival_date",type:"date",value:i.expected_arrival_date,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"expected_arrival_time",children:"Expected Arrival Time"}),l.jsx(Le,{id:"expected_arrival_time",name:"expected_arrival_time",type:"time",value:i.expected_arrival_time,onChange:c})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"transportation_charges",children:"Transport Charges"}),l.jsx(Le,{id:"transportation_charges",name:"transportation_charges",type:"number",value:i.transportation_charges,onChange:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"notes",children:"Transportation Notes"}),l.jsx(Ph,{id:"notes",name:"notes",value:i.notes,onChange:c,placeholder:"Add details about the transportation",rows:4})]})]})]}):n?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Vehicle Information"}),l.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"bg-background hover:bg-secondary border border-border text-foreground",children:[l.jsx(fi,{className:"h-4 w-4 mr-1"}),"Edit Details"]})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehicle Type"}),l.jsx("p",{className:"font-medium text-foreground",children:n.vehicle_type})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Number Plate"}),l.jsx("p",{className:"font-medium text-foreground",children:n.number_plate})]}),n.driver_phone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Driver's Phone"}),l.jsx("p",{className:"font-medium text-foreground",children:n.driver_phone})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Load Measurements"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Empty Weight"}),l.jsxs("p",{className:"font-medium text-foreground",children:[n.empty_weight," kg"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loaded Weight"}),l.jsxs("p",{className:"font-medium text-foreground",children:[n.loaded_weight," kg"]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Schedule Details"}),l.jsxs("div",{className:"glass p-4 rounded-lg bg-card/80 border border-border",children:[n.departure_date&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Departure Date"}),l.jsx("p",{className:"font-medium text-foreground",children:new Date(n.departure_date).toLocaleDateString()})]}),n.departure_time&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Departure Time"}),l.jsx("p",{className:"font-medium text-foreground",children:n.departure_time})]})]}),n.expected_arrival_date&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Arrival Date"}),l.jsx("p",{className:"font-medium text-foreground",children:new Date(n.expected_arrival_date).toLocaleDateString()})]}),n.expected_arrival_time&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Arrival Time"}),l.jsx("p",{className:"font-medium text-foreground",children:n.expected_arrival_time})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Route Details"}),l.jsx("div",{className:"glass p-4 rounded-lg bg-card/80 border border-border",children:l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Origin"}),l.jsx("p",{className:"font-medium text-foreground",children:n.origin})]}),l.jsx("div",{className:"mx-4 text-muted-foreground",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),l.jsx("polyline",{points:"12 5 19 12 12 19"})]})}),l.jsxs("div",{className:"space-y-1 text-right",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Distance"}),l.jsxs("p",{className:"font-medium text-foreground",children:[n.distance," km"]})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Transport Charges"}),l.jsx("p",{className:"font-medium text-foreground",children:oi(n.transportation_charges)})]})})]})})]}),n.notes&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Transportation Notes"}),l.jsx("div",{className:"glass p-4 rounded-lg bg-card/80 border border-border",children:l.jsx("p",{className:"whitespace-pre-wrap text-foreground",children:n.notes})})]})]}):l.jsxs("div",{className:"text-center p-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No transportation data available"}),l.jsxs(Se,{onClick:()=>a(!0),variant:"outline",className:"bg-background hover:bg-secondary border border-border text-foreground",children:[l.jsx(fi,{className:"h-4 w-4 mr-1"}),"Add Transportation Details"]})]}):l.jsx("div",{children:"Loading..."})},yie=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({transaction_id:e.transaction.id,supplier_name:"",contact_number:"",goods_name:"",quantity:0,rate:0,total_cost:0,amount_paid:0,balance_due:0,payment_frequency:"one-time"}),{toast:f}=ir(),p=C=>{const{name:P,value:M}=C.target;if(s&&c){const R={...c};if(P==="quantity"||P==="rate"){const T=P==="quantity"?parseFloat(M)||0:c.quantity,H=P==="rate"?parseFloat(M)||0:c.rate,Q=T*H;R[P]=parseFloat(M)||0,R.total_cost=Q,R.balance_due=Q-R.amount_paid}else if(P==="amount_paid"){const T=parseFloat(M)||0;R.amount_paid=T,R.balance_due=R.total_cost-T}else R[P]=M;u(R)}else if(P==="quantity"||P==="rate"){const R=P==="quantity"?parseFloat(M)||0:d.quantity,T=P==="rate"?parseFloat(M)||0:d.rate,H=R*T;h(Q=>({...Q,[P]:parseFloat(M)||0,total_cost:H,balance_due:H-Q.amount_paid}))}else if(P==="amount_paid"){const R=parseFloat(M)||0;h(T=>({...T,amount_paid:R,balance_due:T.total_cost-R}))}else h(R=>({...R,[P]:M}))},g=C=>{s&&c?u(P=>({...P,payment_frequency:C})):h(P=>({...P,payment_frequency:C}))},y=async()=>{try{if(!d.supplier_name||!d.goods_name){f({title:"Validation Error",description:"Supplier name and goods name are required",variant:"destructive"});return}await Xr.addPurchase(d),await t(),h({transaction_id:e.transaction.id,supplier_name:"",contact_number:"",goods_name:"",quantity:0,rate:0,total_cost:0,amount_paid:0,balance_due:0,payment_frequency:"one-time"}),n(!1),f({title:"Success",description:"Purchase added successfully"})}catch(C){console.error("Error adding purchase:",C),f({title:"Error",description:"Failed to add purchase",variant:"destructive"})}},S=async()=>{try{if(!c)return;if(!c.supplier_name||!c.goods_name){f({title:"Validation Error",description:"Supplier name and goods name are required",variant:"destructive"});return}await Xr.updatePurchase(c),await t(),u(null),a(!1),f({title:"Success",description:"Purchase updated successfully"})}catch(C){console.error("Error updating purchase:",C),f({title:"Error",description:"Failed to update purchase",variant:"destructive"})}},b=async()=>{try{if(!c)return;await Xr.deletePurchase(c.id),await t(),u(null),o(!1),f({title:"Success",description:"Purchase deleted successfully"})}catch(C){console.error("Error deleting purchase:",C),f({title:"Error",description:"Failed to delete purchase",variant:"destructive"})}},w=C=>{u(C),a(!0)},N=C=>{u(C),o(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Purchases"}),l.jsxs(lr,{open:r,onOpenChange:n,children:[l.jsx(Wl,{asChild:!0,children:l.jsxs(Se,{size:"sm",children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Purchase"]})}),l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Add Purchase"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"supplier_name",className:"text-right",children:"Supplier Name"}),l.jsx(Le,{id:"supplier_name",name:"supplier_name",value:d.supplier_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Le,{id:"contact_number",name:"contact_number",value:d.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"goods_name",className:"text-right",children:"Goods Name"}),l.jsx(Le,{id:"goods_name",name:"goods_name",value:d.goods_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),l.jsx(Le,{id:"quantity",name:"quantity",type:"number",value:d.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"rate",className:"text-right",children:"Rate"}),l.jsx(Le,{id:"rate",name:"rate",type:"number",value:d.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"total_cost",className:"text-right",children:"Total Cost"}),l.jsx(Le,{id:"total_cost",name:"total_cost",type:"number",value:d.total_cost||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"amount_paid",className:"text-right",children:"Amount Paid"}),l.jsx(Le,{id:"amount_paid",name:"amount_paid",type:"number",value:d.amount_paid||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Le,{id:"balance_due",name:"balance_due",type:"number",value:d.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Le,{id:"payment_due_date",name:"payment_due_date",type:"date",value:d.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(Pn,{value:d.payment_frequency,onValueChange:g,children:[l.jsx(wn,{className:"col-span-3",children:l.jsx(En,{placeholder:"Select frequency"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"one-time",children:"One Time"}),l.jsx(ft,{value:"weekly",children:"Weekly"}),l.jsx(ft,{value:"monthly",children:"Monthly"}),l.jsx(ft,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(Se,{onClick:y,children:"Add Purchase"})]})]})]})]}),e.purchases.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:'No purchases added yet. Click "Add Purchase" to add your first purchase.'}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.purchases.map(C=>l.jsxs(kr,{className:"overflow-hidden",children:[l.jsxs(Ir,{className:"bg-muted/50 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(Fr,{className:"text-base",children:C.supplier_name}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>w(C),children:l.jsx(fi,{className:"h-4 w-4"})}),l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>N(C),children:l.jsx(pi,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:C.contact_number})]}),l.jsx(vr,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Goods:"}),l.jsx("span",{className:"text-sm font-medium",children:C.goods_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),l.jsx("span",{className:"text-sm font-medium",children:C.quantity})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Rate:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.rate)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Cost:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.total_cost)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount Paid:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.amount_paid)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Balance Due:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.balance_due)})]}),C.payment_due_date&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Due Date:"}),l.jsx("span",{className:"text-sm font-medium",children:new Date(C.payment_due_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Frequency:"}),l.jsx("span",{className:"text-sm font-medium capitalize",children:C.payment_frequency})]})]})})]},C.id))}),l.jsx(lr,{open:s,onOpenChange:a,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Edit Purchase"})}),c&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_supplier_name",className:"text-right",children:"Supplier Name"}),l.jsx(Le,{id:"edit_supplier_name",name:"supplier_name",value:c.supplier_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Le,{id:"edit_contact_number",name:"contact_number",value:c.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_goods_name",className:"text-right",children:"Goods Name"}),l.jsx(Le,{id:"edit_goods_name",name:"goods_name",value:c.goods_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_quantity",className:"text-right",children:"Quantity"}),l.jsx(Le,{id:"edit_quantity",name:"quantity",type:"number",value:c.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_rate",className:"text-right",children:"Rate"}),l.jsx(Le,{id:"edit_rate",name:"rate",type:"number",value:c.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_total_cost",className:"text-right",children:"Total Cost"}),l.jsx(Le,{id:"edit_total_cost",name:"total_cost",type:"number",value:c.total_cost||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_amount_paid",className:"text-right",children:"Amount Paid"}),l.jsx(Le,{id:"edit_amount_paid",name:"amount_paid",type:"number",value:c.amount_paid||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Le,{id:"edit_balance_due",name:"balance_due",type:"number",value:c.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Le,{id:"edit_payment_due_date",name:"payment_due_date",type:"date",value:c.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(Pn,{value:c.payment_frequency||"one-time",onValueChange:g,children:[l.jsx(wn,{className:"col-span-3",children:l.jsx(En,{placeholder:"Select frequency"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"one-time",children:"One Time"}),l.jsx(ft,{value:"weekly",children:"Weekly"}),l.jsx(ft,{value:"monthly",children:"Monthly"}),l.jsx(ft,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(Se,{onClick:S,children:"Save Changes"})]})]})}),l.jsx(lr,{open:i,onOpenChange:o,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Delete Purchase"})}),l.jsx("p",{children:"Are you sure you want to delete this purchase? This action cannot be undone."}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),l.jsx(Se,{variant:"destructive",onClick:b,children:"Delete"})]})]})})]})},vie=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({transaction_id:e.transaction.id,buyer_name:"",contact_number:"",quantity:0,rate:0,total_amount:0,amount_received:0,balance_due:0,payment_frequency:"one-time"}),{toast:f}=ir(),p=C=>{const{name:P,value:M}=C.target;if(s&&c){const R={...c};if(P==="quantity"||P==="rate"){const T=P==="quantity"?parseFloat(M)||0:c.quantity,H=P==="rate"?parseFloat(M)||0:c.rate,Q=T*H;R[P]=parseFloat(M)||0,R.total_amount=Q,R.balance_due=Q-R.amount_received}else if(P==="amount_received"){const T=parseFloat(M)||0;R.amount_received=T,R.balance_due=R.total_amount-T}else R[P]=M;u(R)}else if(P==="quantity"||P==="rate"){const R=P==="quantity"?parseFloat(M)||0:d.quantity,T=P==="rate"?parseFloat(M)||0:d.rate,H=R*T;h(Q=>({...Q,[P]:parseFloat(M)||0,total_amount:H,balance_due:H-Q.amount_received}))}else if(P==="amount_received"){const R=parseFloat(M)||0;h(T=>({...T,amount_received:R,balance_due:T.total_amount-R}))}else h(R=>({...R,[P]:M}))},g=C=>{s&&c?u(P=>({...P,payment_frequency:C})):h(P=>({...P,payment_frequency:C}))},y=async()=>{try{if(!d.buyer_name){f({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}await Xr.addSale(d),await t(),h({transaction_id:e.transaction.id,buyer_name:"",contact_number:"",quantity:0,rate:0,total_amount:0,amount_received:0,balance_due:0,payment_frequency:"one-time"}),n(!1),f({title:"Success",description:"Sale added successfully"})}catch(C){console.error("Error adding sale:",C),f({title:"Error",description:"Failed to add sale",variant:"destructive"})}},S=async()=>{try{if(!c)return;if(!c.buyer_name){f({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}await Xr.updateSale(c),await t(),u(null),a(!1),f({title:"Success",description:"Sale updated successfully"})}catch(C){console.error("Error updating sale:",C),f({title:"Error",description:"Failed to update sale",variant:"destructive"})}},b=async()=>{try{if(!c)return;await Xr.deleteSale(c.id),await t(),u(null),o(!1),f({title:"Success",description:"Sale deleted successfully"})}catch(C){console.error("Error deleting sale:",C),f({title:"Error",description:"Failed to delete sale",variant:"destructive"})}},w=C=>{u(C),a(!0)},N=C=>{u(C),o(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Sales"}),l.jsxs(lr,{open:r,onOpenChange:n,children:[l.jsx(Wl,{asChild:!0,children:l.jsxs(Se,{size:"sm",children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Sale"]})}),l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Add Sale"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"buyer_name",className:"text-right",children:"Buyer Name"}),l.jsx(Le,{id:"buyer_name",name:"buyer_name",value:d.buyer_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Le,{id:"contact_number",name:"contact_number",value:d.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"quantity",className:"text-right",children:"Quantity"}),l.jsx(Le,{id:"quantity",name:"quantity",type:"number",value:d.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"rate",className:"text-right",children:"Rate"}),l.jsx(Le,{id:"rate",name:"rate",type:"number",value:d.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"total_amount",className:"text-right",children:"Total Amount"}),l.jsx(Le,{id:"total_amount",name:"total_amount",type:"number",value:d.total_amount||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"amount_received",className:"text-right",children:"Amount Received"}),l.jsx(Le,{id:"amount_received",name:"amount_received",type:"number",value:d.amount_received||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Le,{id:"balance_due",name:"balance_due",type:"number",value:d.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Le,{id:"payment_due_date",name:"payment_due_date",type:"date",value:d.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(Pn,{value:d.payment_frequency,onValueChange:g,children:[l.jsx(wn,{className:"col-span-3",children:l.jsx(En,{placeholder:"Select frequency"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"one-time",children:"One Time"}),l.jsx(ft,{value:"weekly",children:"Weekly"}),l.jsx(ft,{value:"monthly",children:"Monthly"}),l.jsx(ft,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(Se,{onClick:y,children:"Add Sale"})]})]})]})]}),e.sales.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:'No sales added yet. Click "Add Sale" to add your first sale.'}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.sales.map(C=>l.jsxs(kr,{className:"overflow-hidden",children:[l.jsxs(Ir,{className:"bg-muted/50 pb-2",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(Fr,{className:"text-base",children:C.buyer_name}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>w(C),children:l.jsx(fi,{className:"h-4 w-4"})}),l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>N(C),children:l.jsx(pi,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:C.contact_number})]}),l.jsx(vr,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Quantity:"}),l.jsx("span",{className:"text-sm font-medium",children:C.quantity})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Rate:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.rate)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Amount:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.total_amount)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount Received:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.amount_received)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Balance Due:"}),l.jsx("span",{className:"text-sm font-medium",children:oi(C.balance_due)})]}),C.payment_due_date&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Due Date:"}),l.jsx("span",{className:"text-sm font-medium",children:new Date(C.payment_due_date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Frequency:"}),l.jsx("span",{className:"text-sm font-medium capitalize",children:C.payment_frequency})]})]})})]},C.id))}),l.jsx(lr,{open:s,onOpenChange:a,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Edit Sale"})}),c&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_buyer_name",className:"text-right",children:"Buyer Name"}),l.jsx(Le,{id:"edit_buyer_name",name:"buyer_name",value:c.buyer_name,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_contact_number",className:"text-right",children:"Contact Number"}),l.jsx(Le,{id:"edit_contact_number",name:"contact_number",value:c.contact_number,onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_quantity",className:"text-right",children:"Quantity"}),l.jsx(Le,{id:"edit_quantity",name:"quantity",type:"number",value:c.quantity||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_rate",className:"text-right",children:"Rate"}),l.jsx(Le,{id:"edit_rate",name:"rate",type:"number",value:c.rate||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_total_amount",className:"text-right",children:"Total Amount"}),l.jsx(Le,{id:"edit_total_amount",name:"total_amount",type:"number",value:c.total_amount||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_amount_received",className:"text-right",children:"Amount Received"}),l.jsx(Le,{id:"edit_amount_received",name:"amount_received",type:"number",value:c.amount_received||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_balance_due",className:"text-right",children:"Balance Due"}),l.jsx(Le,{id:"edit_balance_due",name:"balance_due",type:"number",value:c.balance_due||"",readOnly:!0,className:"col-span-3 bg-muted"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_payment_due_date",className:"text-right",children:"Payment Due Date"}),l.jsx(Le,{id:"edit_payment_due_date",name:"payment_due_date",type:"date",value:c.payment_due_date||"",onChange:p,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_payment_frequency",className:"text-right",children:"Payment Frequency"}),l.jsxs(Pn,{value:c.payment_frequency||"one-time",onValueChange:g,children:[l.jsx(wn,{className:"col-span-3",children:l.jsx(En,{placeholder:"Select frequency"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"one-time",children:"One Time"}),l.jsx(ft,{value:"weekly",children:"Weekly"}),l.jsx(ft,{value:"monthly",children:"Monthly"}),l.jsx(ft,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(Se,{onClick:S,children:"Save Changes"})]})]})}),l.jsx(lr,{open:i,onOpenChange:o,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Delete Sale"})}),l.jsx("p",{children:"Are you sure you want to delete this sale? This action cannot be undone."}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),l.jsx(Se,{variant:"destructive",onClick:b,children:"Delete"})]})]})})]})};var FN="Switch",[xie,yde]=ha(FN),[wie,bie]=xie(FN),a8=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:o,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=v.useState(null),g=Ft(t,N=>p(N)),y=v.useRef(!1),S=f?d||!!f.closest("form"):!0,[b=!1,w]=$s({prop:s,defaultProp:a,onChange:u});return l.jsxs(wie,{scope:r,checked:b,disabled:o,children:[l.jsx(ct.button,{type:"button",role:"switch","aria-checked":b,"aria-required":i,"data-state":l8(b),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:g,onClick:Ge(e.onClick,N=>{w(C=>!C),S&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),S&&l.jsx(Sie,{control:f,bubbles:!y.current,name:n,value:c,checked:b,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});a8.displayName=FN;var i8="SwitchThumb",o8=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=bie(i8,r);return l.jsx(ct.span,{"data-state":l8(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});o8.displayName=i8;var Sie=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=v.useRef(null),i=PN(r),o=l_(t);return v.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&h){const f=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(f)}},[i,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function l8(e){return e?"checked":"unchecked"}var c8=a8,_ie=o8;const ym=v.forwardRef(({className:e,...t},r)=>l.jsx(c8,{className:Ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(_ie,{className:Ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ym.displayName=c8.displayName;var St=function(){return St=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},St.apply(this,arguments)};function Nie(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function u8(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function ag(e){return e.mode==="multiple"}function ig(e){return e.mode==="range"}function V1(e){return e.mode==="single"}var jie={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Cie(e,t){return vi(e,"LLLL y",t)}function kie(e,t){return vi(e,"d",t)}function Pie(e,t){return vi(e,"LLLL",t)}function Eie(e){return"".concat(e)}function Aie(e,t){return vi(e,"cccccc",t)}function Tie(e,t){return vi(e,"yyyy",t)}var Lie=Object.freeze({__proto__:null,formatCaption:Cie,formatDay:kie,formatMonthCaption:Pie,formatWeekNumber:Eie,formatWeekdayName:Aie,formatYearCaption:Tie}),Die=function(e,t,r){return vi(e,"do MMMM (EEEE)",r)},Rie=function(){return"Month: "},Oie=function(){return"Go to next month"},Mie=function(){return"Go to previous month"},Iie=function(e,t){return vi(e,"cccc",t)},Fie=function(e){return"Week n. ".concat(e)},Bie=function(){return"Year: "},$ie=Object.freeze({__proto__:null,labelDay:Die,labelMonthDropdown:Rie,labelNext:Oie,labelPrevious:Mie,labelWeekNumber:Fie,labelWeekday:Iie,labelYearDropdown:Bie});function Uie(){var e="buttons",t=jie,r=CI,n={},s={},a=1,i={},o=new Date;return{captionLayout:e,classNames:t,formatters:Lie,labels:$ie,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:i,today:o,mode:"default"}}function Vie(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return n?a=Bs(n):t&&(a=new Date(t,0,1)),s?i=MN(s):r&&(i=new Date(r,11,31)),{fromDate:a?kh(a):void 0,toDate:i?kh(i):void 0}}var d8=v.createContext(void 0);function zie(e){var t,r=e.initialProps,n=Uie(),s=Vie(r),a=s.fromDate,i=s.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!a||!i)&&(o="buttons");var c;(V1(r)||ag(r)||ig(r))&&(c=r.onSelect);var u=St(St(St({},n),r),{captionLayout:o,classNames:St(St({},n.classNames),r.classNames),components:St({},r.components),formatters:St(St({},n.formatters),r.formatters),fromDate:a,labels:St(St({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:St(St({},n.modifiers),r.modifiers),modifiersClassNames:St(St({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:St(St({},n.styles),r.styles),toDate:i});return l.jsx(d8.Provider,{value:u,children:e.children})}function wr(){var e=v.useContext(d8);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function h8(e){var t=wr(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function qie(e){return l.jsx("svg",St({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function f8(e){var t,r,n=e.onChange,s=e.value,a=e.children,i=e.caption,o=e.className,c=e.style,u=wr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:qie;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:a}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Wie(e){var t,r=wr(),n=r.fromDate,s=r.toDate,a=r.styles,i=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(Dae(n,s))for(var f=Bs(n),p=n.getMonth();p<=s.getMonth();p++)h.push(h2(f,p));else for(var f=Bs(new Date),p=0;p<=11;p++)h.push(h2(f,p));var g=function(S){var b=Number(S.target.value),w=h2(Bs(e.displayMonth),b);e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:f8;return l.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:i}),children:h.map(function(S){return l.jsx("option",{value:S.getMonth(),children:o(S,{locale:i})},S.getMonth())})})}function Hie(e){var t,r=e.displayMonth,n=wr(),s=n.fromDate,a=n.toDate,i=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!s)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var p=s.getFullYear(),g=a.getFullYear(),y=p;y<=g;y++)f.push(eE(NI(new Date),y));var S=function(w){var N=eE(Bs(r),Number(w.target.value));e.onChange(N)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:f8;return l.jsx(b,{name:"years","aria-label":h(),className:c.dropdown_year,style:o.dropdown_year,onChange:S,value:r.getFullYear(),caption:d(r,{locale:i}),children:f.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:d(w,{locale:i})},w.getFullYear())})})}function Gie(e,t){var r=v.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function Yie(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,i=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(a&&gm(a,s)<0){var u=-1*(c-1);s=yi(a,u)}return i&&gm(s,i)<0&&(s=i),Bs(s)}function Kie(){var e=wr(),t=Yie(e),r=Gie(t,e.month),n=r[0],s=r[1],a=function(i){var o;if(!e.disableNavigation){var c=Bs(i);s(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,a]}function Xie(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Bs(e),a=Bs(yi(s,n)),i=gm(a,s),o=[],c=0;c<i;c++){var u=yi(s,c);o.push(u)}return r&&(o=o.reverse()),o}function Zie(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,o=Bs(e);if(!r)return yi(o,i);var c=gm(r,e);if(!(c<a))return yi(o,i)}}function Jie(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=n?a:1,o=Bs(e);if(!r)return yi(o,-i);var c=gm(o,r);if(!(c<=0))return yi(o,-i)}}var p8=v.createContext(void 0);function Qie(e){var t=wr(),r=Kie(),n=r[0],s=r[1],a=Xie(n,t),i=Zie(n,t),o=Jie(n,t),c=function(h){return a.some(function(f){return U1(h,f)})},u=function(h,f){c(h)||(f&&TI(h,f)?s(yi(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:o,nextMonth:i,isDateDisplayed:c};return l.jsx(p8.Provider,{value:d,children:e.children})}function og(){var e=v.useContext(p8);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function tE(e){var t,r=wr(),n=r.classNames,s=r.styles,a=r.components,i=og().goToMonth,o=function(d){i(yi(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:h8,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(Wie,{onChange:o,displayMonth:e.displayMonth}),l.jsx(Hie,{onChange:o,displayMonth:e.displayMonth})]})}function eoe(e){return l.jsx("svg",St({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function toe(e){return l.jsx("svg",St({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var g0=v.forwardRef(function(e,t){var r=wr(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var i=a.join(" "),o=St(St({},s.button_reset),s.button);return e.style&&Object.assign(o,e.style),l.jsx("button",St({},e,{ref:t,type:"button",className:i,style:o}))});function roe(e){var t,r,n=wr(),s=n.dir,a=n.locale,i=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var f=u(e.previousMonth,{locale:a}),p=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),y=[i.nav_button,i.nav_button_next].join(" "),S=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:toe,b=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:eoe;return l.jsxs("div",{className:i.nav,style:o.nav,children:[!e.hidePrevious&&l.jsx(g0,{name:"previous-month","aria-label":f,className:p,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(S,{className:i.nav_icon,style:o.nav_icon}):l.jsx(b,{className:i.nav_icon,style:o.nav_icon})}),!e.hideNext&&l.jsx(g0,{name:"next-month","aria-label":g,className:y,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(b,{className:i.nav_icon,style:o.nav_icon}):l.jsx(S,{className:i.nav_icon,style:o.nav_icon})})]})}function rE(e){var t=wr().numberOfMonths,r=og(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,i=r.displayMonths,o=i.findIndex(function(g){return U1(e.displayMonth,g)}),c=o===0,u=o===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){n&&a(n)},p=function(){s&&a(s)};return l.jsx(roe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:n,onPreviousClick:f,onNextClick:p})}function noe(e){var t,r=wr(),n=r.classNames,s=r.disableNavigation,a=r.styles,i=r.captionLayout,o=r.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:h8,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=l.jsx(tE,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(tE,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(rE,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(rE,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:a.caption,children:u})}function soe(e){var t=wr(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?l.jsx("tfoot",{className:s,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function aoe(e,t,r){for(var n=r?mu(new Date):Ma(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=ds(n,a);s.push(i)}return s}function ioe(){var e=wr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=aoe(s,a,i);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:s}),children:o(d,{locale:s})},h)})]})}function ooe(){var e,t=wr(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:ioe;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(a,{})})}function loe(e){var t=wr(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var BN=v.createContext(void 0);function coe(e){if(!ag(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(BN.Provider,{value:t,children:e.children})}return l.jsx(uoe,{initialProps:e.initialProps,children:e.children})}function uoe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,i=function(u,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var g=!!(d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var y=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!y){var S=n?u8([],n):[];if(d.selected){var b=S.findIndex(function(w){return rs(u,w)});S.splice(b,1)}else S.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,S,u,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=a&&n.length>a-1,h=n.some(function(f){return rs(f,u)});return!!(d&&!h)});var c={selected:n,onDayClick:i,modifiers:o};return l.jsx(BN.Provider,{value:c,children:r})}function $N(){var e=v.useContext(BN);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function doe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?rs(s,e)&&rs(n,e)?void 0:rs(s,e)?{from:s,to:void 0}:rs(n,e)?void 0:W5(n,e)?{from:e,to:s}:{from:n,to:e}:s?W5(e,s)?{from:s,to:e}:{from:e,to:s}:n?TI(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var UN=v.createContext(void 0);function hoe(e){if(!ig(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(UN.Provider,{value:t,children:e.children})}return l.jsx(foe,{initialProps:e.initialProps,children:e.children})}function foe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,i=s.to,o=t.min,c=t.max,u=function(p,g,y){var S,b;(S=t.onDayClick)===null||S===void 0||S.call(t,p,g,y);var w=doe(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,w,p,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],rs(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),o&&(a&&!i&&d.disabled.push({after:mv(a,o-1),before:ds(a,o-1)}),a&&i&&d.disabled.push({after:a,before:ds(a,o-1)}),!a&&i&&d.disabled.push({after:mv(i,o-1),before:ds(i,o-1)})),c){if(a&&!i&&(d.disabled.push({before:ds(a,-c+1)}),d.disabled.push({after:ds(a,c-1)})),a&&i){var h=qi(i,a)+1,f=c-h;d.disabled.push({before:mv(a,f)}),d.disabled.push({after:ds(i,f)})}!a&&i&&(d.disabled.push({before:ds(i,-c+1)}),d.disabled.push({after:ds(i,c-1)}))}return l.jsx(UN.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function VN(){var e=v.useContext(UN);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function gv(e){return Array.isArray(e)?u8([],e):e!==void 0?[e]:[]}function poe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=gv(s)}),t}var xi;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(xi||(xi={}));var moe=xi.Selected,yo=xi.Disabled,goe=xi.Hidden,yoe=xi.Today,f2=xi.RangeEnd,p2=xi.RangeMiddle,m2=xi.RangeStart,voe=xi.Outside;function xoe(e,t,r){var n,s=(n={},n[moe]=gv(e.selected),n[yo]=gv(e.disabled),n[goe]=gv(e.hidden),n[yoe]=[e.today],n[f2]=[],n[p2]=[],n[m2]=[],n[voe]=[],n);return e.fromDate&&s[yo].push({before:e.fromDate}),e.toDate&&s[yo].push({after:e.toDate}),ag(e)?s[yo]=s[yo].concat(t.modifiers[yo]):ig(e)&&(s[yo]=s[yo].concat(r.modifiers[yo]),s[m2]=r.modifiers[m2],s[p2]=r.modifiers[p2],s[f2]=r.modifiers[f2]),s}var m8=v.createContext(void 0);function woe(e){var t=wr(),r=$N(),n=VN(),s=xoe(t,r,n),a=poe(t.modifiers),i=St(St({},s),a);return l.jsx(m8.Provider,{value:i,children:e.children})}function g8(){var e=v.useContext(m8);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function boe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Soe(e){return!!(e&&typeof e=="object"&&"from"in e)}function _oe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Noe(e){return!!(e&&typeof e=="object"&&"before"in e)}function joe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Coe(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=qi(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var i=qi(e,n)>=0&&qi(s,e)>=0;return i}return s?rs(s,e):n?rs(n,e):!1}function koe(e){return ON(e)}function Poe(e){return Array.isArray(e)&&e.every(ON)}function Eoe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(koe(r))return rs(e,r);if(Poe(r))return r.includes(e);if(Soe(r))return Coe(e,r);if(joe(r))return r.dayOfWeek.includes(e.getDay());if(boe(r)){var n=qi(r.before,e),s=qi(r.after,e),a=n>0,i=s<0,o=W5(r.before,r.after);return o?i&&a:a||i}return _oe(r)?qi(e,r.after)>0:Noe(r)?qi(r.before,e)>0:typeof r=="function"?r(e):!1})}function zN(e,t,r){var n=Object.keys(t).reduce(function(a,i){var o=t[i];return Eoe(e,o)&&a.push(i),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!U1(e,r)&&(s.outside=!0),s}function Aoe(e,t){for(var r=Bs(e[0]),n=MN(e[e.length-1]),s,a,i=r;i<=n;){var o=zN(i,t),c=!o.disabled&&!o.hidden;if(!c){i=ds(i,1);continue}if(o.selected)return i;o.today&&!a&&(a=i),s||(s=i),i=ds(i,1)}return a||s}var Toe=365;function y8(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,i=t.retry,o=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:ds,week:q5,month:yi,year:Ese,startOfWeek:function(S){return s.ISOWeek?mu(S):Ma(S,{locale:h,weekStartsOn:c})},endOfWeek:function(S){return s.ISOWeek?jI(S):IN(S,{locale:h,weekStartsOn:c})}},p=f[r](e,n==="after"?1:-1);n==="before"&&u?p=Ase([u,p]):n==="after"&&d&&(p=Tse([d,p]));var g=!0;if(a){var y=zN(p,a);g=!y.disabled&&!y.hidden}return g?p:o.count>Toe?o.lastFocused:y8(p,{moveBy:r,direction:n,context:s,modifiers:a,retry:St(St({},o),{count:o.count+1})})}var v8=v.createContext(void 0);function Loe(e){var t=og(),r=g8(),n=v.useState(),s=n[0],a=n[1],i=v.useState(),o=i[0],c=i[1],u=Aoe(t.displayMonths,r),d=s??(o&&t.isDateDisplayed(o))?o:u,h=function(){c(s),a(void 0)},f=function(S){a(S)},p=wr(),g=function(S,b){if(s){var w=y8(s,{moveBy:S,direction:b,context:p,modifiers:r});rs(s,w)||(t.goToDate(w,s),f(w))}},y={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return l.jsx(v8.Provider,{value:y,children:e.children})}function qN(){var e=v.useContext(v8);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Doe(e,t){var r=g8(),n=zN(e,r,t);return n}var WN=v.createContext(void 0);function Roe(e){if(!V1(e.initialProps)){var t={selected:void 0};return l.jsx(WN.Provider,{value:t,children:e.children})}return l.jsx(Ooe,{initialProps:e.initialProps,children:e.children})}function Ooe(e){var t=e.initialProps,r=e.children,n=function(a,i,o){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,o),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,o)},s={selected:t.selected,onDayClick:n};return l.jsx(WN.Provider,{value:s,children:r})}function x8(){var e=v.useContext(WN);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Moe(e,t){var r=wr(),n=x8(),s=$N(),a=VN(),i=qN(),o=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,f=i.focus,p=i.focusMonthBefore,g=i.focusMonthAfter,y=i.focusYearBefore,S=i.focusYearAfter,b=i.focusStartOfWeek,w=i.focusEndOfWeek,N=function(Y){var I,G,ie,me;V1(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,Y):ag(r)?(G=s.onDayClick)===null||G===void 0||G.call(s,e,t,Y):ig(r)?(ie=a.onDayClick)===null||ie===void 0||ie.call(a,e,t,Y):(me=r.onDayClick)===null||me===void 0||me.call(r,e,t,Y)},C=function(Y){var I;f(e),(I=r.onDayFocus)===null||I===void 0||I.call(r,e,t,Y)},P=function(Y){var I;h(),(I=r.onDayBlur)===null||I===void 0||I.call(r,e,t,Y)},M=function(Y){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,e,t,Y)},R=function(Y){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,e,t,Y)},T=function(Y){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,e,t,Y)},H=function(Y){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,e,t,Y)},Q=function(Y){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,e,t,Y)},L=function(Y){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,e,t,Y)},E=function(Y){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,e,t,Y)},W=function(Y){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,e,t,Y)},F=function(Y){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,e,t,Y)},K=function(Y){var I;switch(Y.key){case"ArrowLeft":Y.preventDefault(),Y.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":Y.preventDefault(),Y.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":Y.preventDefault(),Y.stopPropagation(),u();break;case"ArrowUp":Y.preventDefault(),Y.stopPropagation(),d();break;case"PageUp":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?y():p();break;case"PageDown":Y.preventDefault(),Y.stopPropagation(),Y.shiftKey?S():g();break;case"Home":Y.preventDefault(),Y.stopPropagation(),b();break;case"End":Y.preventDefault(),Y.stopPropagation(),w();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,e,t,Y)},ne={onClick:N,onFocus:C,onBlur:P,onKeyDown:K,onKeyUp:F,onMouseEnter:M,onMouseLeave:R,onPointerEnter:T,onPointerLeave:H,onTouchCancel:Q,onTouchEnd:L,onTouchMove:E,onTouchStart:W};return ne}function Ioe(){var e=wr(),t=x8(),r=$N(),n=VN(),s=V1(e)?t.selected:ag(e)?r.selected:ig(e)?n.selected:void 0;return s}function Foe(e){return Object.values(xi).includes(e)}function Boe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Foe(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function $oe(e,t){var r=St({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=St(St({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Uoe(e,t,r){var n,s,a,i=wr(),o=qN(),c=Doe(e,t),u=Moe(e,c),d=Ioe(),h=!!(i.onDayClick||i.mode!=="default");v.useEffect(function(){var M;c.outside||o.focusedDay&&h&&rs(o.focusedDay,e)&&((M=r.current)===null||M===void 0||M.focus())},[o.focusedDay,e,r,h,c.outside]);var f=Boe(i,c).join(" "),p=$oe(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),y=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:loe,S=l.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:f,children:S,role:"gridcell"},w=o.focusTarget&&rs(o.focusTarget,e)&&!c.outside,N=o.focusedDay&&rs(o.focusedDay,e),C=St(St(St({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=N||w?0:-1,n)),u),P={isButton:h,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:C,divProps:b};return P}function Voe(e){var t=v.useRef(null),r=Uoe(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(g0,St({name:"day",ref:t},r.buttonProps)):l.jsx("div",St({},r.divProps))}function zoe(e){var t=e.number,r=e.dates,n=wr(),s=n.onWeekNumberClick,a=n.styles,i=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:o});if(!s)return l.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var h=c(Number(t),{locale:o}),f=function(p){s(t,r,p)};return l.jsx(g0,{name:"week-number","aria-label":h,className:i.weeknumber,style:a.weeknumber,onClick:f,children:d})}function qoe(e){var t,r,n=wr(),s=n.styles,a=n.classNames,i=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:Voe,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:zoe,d;return i&&(d=l.jsx("td",{className:a.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(h){return l.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:h})},Eae(h))})]})}function nE(e,t,r){for(var n=r!=null&&r.ISOWeek?jI(t):IN(t,r),s=r!=null&&r.ISOWeek?mu(e):Ma(e,r),a=qi(n,s),i=[],o=0;o<=a;o++)i.push(ds(s,o));var c=i.reduce(function(u,d){var h=r!=null&&r.ISOWeek?kI(d):EI(d,r),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function Woe(e,t){var r=nE(Bs(e),MN(e),t);if(t!=null&&t.useFixedWeeks){var n=Tae(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],i=q5(a,6-n),o=nE(q5(a,1),i,t);r.push.apply(r,o)}}return r}function Hoe(e){var t,r,n,s=wr(),a=s.locale,i=s.classNames,o=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,g=Woe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:h,firstWeekContainsDate:f}),y=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:ooe,S=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:qoe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:soe;return l.jsxs("table",{id:e.id,className:i.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(y,{}),l.jsx("tbody",{className:i.tbody,style:o.tbody,children:g.map(function(w){return l.jsx(S,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(b,{displayMonth:e.displayMonth})]})}function Goe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Yoe=Goe()?v.useLayoutEffect:v.useEffect,g2=!1,Koe=0;function sE(){return"react-day-picker-".concat(++Koe)}function Xoe(e){var t,r=e??(g2?sE():null),n=v.useState(r),s=n[0],a=n[1];return Yoe(function(){s===null&&a(sE())},[]),v.useEffect(function(){g2===!1&&(g2=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Zoe(e){var t,r,n=wr(),s=n.dir,a=n.classNames,i=n.styles,o=n.components,c=og().displayMonths,u=Xoe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],f=i.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,y=!p&&!g;s==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(h.push(a.caption_start),f=St(St({},f),i.caption_start)),g&&(h.push(a.caption_end),f=St(St({},f),i.caption_end)),y&&(h.push(a.caption_between),f=St(St({},f),i.caption_between));var S=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:noe;return l.jsxs("div",{className:h.join(" "),style:f,children:[l.jsx(S,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Hoe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Joe(e){var t=wr(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function Qoe(e){var t,r,n=e.initialProps,s=wr(),a=qN(),i=og(),o=v.useState(!1),c=o[0],u=o[1];v.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=St(St({},s.styles.root),s.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var S;return St(St({},g),(S={},S[y]=n[y],S))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Joe;return l.jsx("div",St({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:l.jsx(p,{children:i.displayMonths.map(function(g,y){return l.jsx(Zoe,{displayIndex:y,displayMonth:g},y)})})}))}function ele(e){var t=e.children,r=Nie(e,["children"]);return l.jsx(zie,{initialProps:r,children:l.jsx(Qie,{children:l.jsx(Roe,{initialProps:r,children:l.jsx(coe,{initialProps:r,children:l.jsx(hoe,{initialProps:r,children:l.jsx(woe,{children:l.jsx(Loe,{children:t})})})})})})})}function tle(e){return l.jsx(ele,St({},e,{children:l.jsx(Qoe,{initialProps:e})}))}function vm({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(tle,{showOutsideDays:r,className:Ue("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ue(om({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ue(om({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(gT,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(yT,{className:"h-4 w-4"})},...n})}vm.displayName="Calendar";var HN="Popover",[w8,vde]=ha(HN,[uc]),lg=uc(),[rle,yc]=w8(HN),b8=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,o=lg(t),c=v.useRef(null),[u,d]=v.useState(!1),[h=!1,f]=$s({prop:n,defaultProp:s,onChange:a});return l.jsx(e1,{...o,children:l.jsx(rle,{scope:t,contentId:Ta(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:v.useCallback(()=>d(!0),[]),onCustomAnchorRemove:v.useCallback(()=>d(!1),[]),modal:i,children:r})})};b8.displayName=HN;var S8="PopoverAnchor",nle=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=yc(S8,r),a=lg(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=s;return v.useEffect(()=>(i(),()=>o()),[i,o]),l.jsx(Wm,{...a,...n,ref:t})});nle.displayName=S8;var _8="PopoverTrigger",N8=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=yc(_8,r),a=lg(r),i=Ft(t,s.triggerRef),o=l.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":E8(s.open),...n,ref:i,onClick:Ge(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:l.jsx(Wm,{asChild:!0,...a,children:o})});N8.displayName=_8;var GN="PopoverPortal",[sle,ale]=w8(GN,{forceMount:void 0}),j8=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,a=yc(GN,t);return l.jsx(sle,{scope:t,forceMount:r,children:l.jsx(zs,{present:r||a.open,children:l.jsx(Ih,{asChild:!0,container:s,children:n})})})};j8.displayName=GN;var Eh="PopoverContent",C8=v.forwardRef((e,t)=>{const r=ale(Eh,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,a=yc(Eh,e.__scopePopover);return l.jsx(zs,{present:n||a.open,children:a.modal?l.jsx(ile,{...s,ref:t}):l.jsx(ole,{...s,ref:t})})});C8.displayName=Eh;var ile=v.forwardRef((e,t)=>{const r=yc(Eh,e.__scopePopover),n=v.useRef(null),s=Ft(t,n),a=v.useRef(!1);return v.useEffect(()=>{const i=n.current;if(i)return P1(i)},[]),l.jsx(Qm,{as:Ji,allowPinchZoom:!0,children:l.jsx(k8,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ge(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),ole=v.forwardRef((e,t)=>{const r=yc(Eh,e.__scopePopover),n=v.useRef(!1),s=v.useRef(!1);return l.jsx(k8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),k8=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=yc(Eh,r),p=lg(r);return N1(),l.jsx(Jm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(bu,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(t1,{"data-state":E8(f.open),role:"dialog",id:f.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),P8="PopoverClose",lle=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=yc(P8,r);return l.jsx(ct.button,{type:"button",...n,ref:t,onClick:Ge(e.onClick,()=>s.onOpenChange(!1))})});lle.displayName=P8;var cle="PopoverArrow",ule=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=lg(r);return l.jsx(r1,{...s,...n,ref:t})});ule.displayName=cle;function E8(e){return e?"open":"closed"}var dle=b8,hle=N8,fle=j8,A8=C8;const xm=dle,wm=hle,Ah=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>l.jsx(fle,{children:l.jsx(A8,{ref:s,align:t,sideOffset:r,className:Ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ah.displayName=A8.displayName;const ple=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(null),[d,h]=v.useState({transaction_id:e.transaction.id,amount:0,payment_mode:"cash",counterparty:"",direction:"outgoing",payment_date:new Date().toISOString(),notes:""}),{toast:f}=ir(),p=M=>{const{name:R,value:T,type:H}=M.target;s&&c?u({...c,[R]:H==="number"?parseFloat(T):T}):h({...d,[R]:H==="number"?parseFloat(T):T})},g=M=>{s&&c?u({...c,payment_mode:M}):h({...d,payment_mode:M})},y=M=>{s&&c?u({...c,direction:M?"incoming":"outgoing"}):h({...d,direction:M?"incoming":"outgoing"})},S=M=>{M&&(s&&c?u({...c,payment_date:M.toISOString()}):h({...d,payment_date:M.toISOString()}))},b=async()=>{try{if(!d.amount||!d.counterparty){f({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}await Xr.addPayment(d),f({title:"Success",description:"Payment added successfully"}),n(!1),h({transaction_id:e.transaction.id,amount:0,payment_mode:"cash",counterparty:"",direction:"outgoing",payment_date:new Date().toISOString(),notes:""}),await t()}catch(M){console.error("Error adding payment:",M),f({title:"Error",description:"Failed to add payment",variant:"destructive"})}},w=async()=>{try{if(!c)return;if(!c.amount||!c.counterparty){f({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}await Xr.updatePayment(c),f({title:"Success",description:"Payment updated successfully"}),a(!1),u(null),await t()}catch(M){console.error("Error updating payment:",M),f({title:"Error",description:"Failed to update payment",variant:"destructive"})}},N=async()=>{try{if(!c)return;await Xr.deletePayment(c.id),f({title:"Success",description:"Payment deleted successfully"}),o(!1),u(null),await t()}catch(M){console.error("Error deleting payment:",M),f({title:"Error",description:"Failed to delete payment",variant:"destructive"})}},C=M=>{u(M),a(!0)},P=M=>{u(M),o(!0)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Payments"}),l.jsxs(Se,{onClick:()=>n(!0),variant:"default",size:"sm",children:[l.jsx(na,{className:"h-4 w-4 mr-1"}),"Add Payment"]})]}),e.payments.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No payments recorded yet. Add your first payment."}):l.jsx("div",{className:"space-y-4",children:e.payments.map(M=>l.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[l.jsxs("div",{className:"mb-2 md:mb-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("span",{className:`mr-2 font-medium ${M.direction==="incoming"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[M.direction==="incoming"?"+":"-"," ",oi(M.amount)]}),l.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",M.payment_mode,")"]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["To/From: ",M.counterparty]})]}),l.jsxs("div",{className:"text-right flex items-center gap-2",children:[l.jsx("div",{children:l.jsx("div",{className:"text-sm",children:M.payment_date?new Date(M.payment_date).toLocaleDateString():"No date"})}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>C(M),children:l.jsx(fi,{className:"h-4 w-4"})}),l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>P(M),children:l.jsx(pi,{className:"h-4 w-4"})})]})]})]}),M.notes&&l.jsx("div",{className:"mt-2 text-sm border-t pt-2",children:l.jsx("p",{className:"text-muted-foreground",children:M.notes})})]},M.id))}),l.jsx(lr,{open:r,onOpenChange:n,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Add New Payment"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"amount",children:"Amount"}),l.jsx(Le,{id:"amount",name:"amount",type:"number",placeholder:"Enter amount",value:d.amount||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"paymentMode",children:"Payment Mode"}),l.jsxs(Pn,{onValueChange:g,defaultValue:d.payment_mode,children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select payment mode"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"cash",children:"Cash"}),l.jsx(ft,{value:"cheque",children:"Cheque"}),l.jsx(ft,{value:"upi",children:"UPI"}),l.jsx(ft,{value:"bank",children:"Bank Transfer"})]})]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"counterparty",children:"Counterparty"}),l.jsx(Le,{id:"counterparty",name:"counterparty",placeholder:"Enter counterparty name",value:d.counterparty||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{children:"Payment Date"}),l.jsxs(xm,{children:[l.jsx(wm,{asChild:!0,children:l.jsxs(Se,{variant:"outline",className:Ue("justify-start text-left font-normal",!d.date&&"text-muted-foreground"),children:[l.jsx(Vv,{className:"mr-2 h-4 w-4"}),d.date?vi(new Date(d.date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Ah,{className:"w-auto p-0",children:l.jsx(vm,{mode:"single",selected:d.date?new Date(d.date):void 0,onSelect:S,initialFocus:!0})})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ym,{id:"direction",checked:d.direction==="incoming",onCheckedChange:y}),l.jsx(we,{htmlFor:"direction",children:d.direction==="incoming"?"Incoming Payment (Received)":"Outgoing Payment (Paid)"})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"notes",children:"Notes (Optional)"}),l.jsx(Le,{id:"notes",name:"notes",placeholder:"Add payment notes",value:d.notes||"",onChange:p})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(Se,{onClick:b,children:"Add Payment"})]})]})}),l.jsx(lr,{open:s,onOpenChange:a,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Edit Payment"})}),c&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"edit_amount",children:"Amount"}),l.jsx(Le,{id:"edit_amount",name:"amount",type:"number",placeholder:"Enter amount",value:c.amount||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"edit_payment_mode",children:"Payment Mode"}),l.jsxs(Pn,{onValueChange:g,value:c.payment_mode,children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select payment mode"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"cash",children:"Cash"}),l.jsx(ft,{value:"cheque",children:"Cheque"}),l.jsx(ft,{value:"upi",children:"UPI"}),l.jsx(ft,{value:"bank",children:"Bank Transfer"})]})]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"edit_counterparty",children:"Counterparty"}),l.jsx(Le,{id:"edit_counterparty",name:"counterparty",placeholder:"Enter counterparty name",value:c.counterparty||"",onChange:p})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{children:"Payment Date"}),l.jsxs(xm,{children:[l.jsx(wm,{asChild:!0,children:l.jsxs(Se,{variant:"outline",className:Ue("justify-start text-left font-normal",!c.payment_date&&"text-muted-foreground"),children:[l.jsx(Vv,{className:"mr-2 h-4 w-4"}),c.payment_date?vi(new Date(c.payment_date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Ah,{className:"w-auto p-0",children:l.jsx(vm,{mode:"single",selected:c.payment_date?new Date(c.payment_date):void 0,onSelect:S,initialFocus:!0})})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ym,{id:"edit_direction",checked:c.direction==="incoming",onCheckedChange:y}),l.jsx(we,{htmlFor:"edit_direction",children:c.direction==="incoming"?"Incoming Payment (Received)":"Outgoing Payment (Paid)"})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"edit_notes",children:"Notes (Optional)"}),l.jsx(Le,{id:"edit_notes",name:"notes",placeholder:"Add payment notes",value:c.notes||"",onChange:p})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),l.jsx(Se,{onClick:w,children:"Save Changes"})]})]})}),l.jsx(lr,{open:i,onOpenChange:o,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Delete Payment"})}),l.jsx("p",{children:"Are you sure you want to delete this payment? This action cannot be undone."}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),l.jsx(Se,{variant:"destructive",onClick:N,children:"Delete"})]})]})})]})},mle=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),[s,a]=v.useState(null),[i,o]=v.useState(null),[c,u]=v.useState(""),[d,h]=v.useState(""),{toast:f}=ir(),p=async()=>{try{if(!c.trim()){f({title:"Error",description:"Note content cannot be empty",variant:"destructive"});return}await Xr.addNote(e.transaction.id,c.trim()),f({title:"Success",description:"Note added successfully"}),n(!1),u(""),await t()}catch(w){console.error("Error adding note:",w),f({title:"Error",description:"Failed to add note",variant:"destructive"})}},g=w=>{a(w.id),h(w.note)},y=()=>{a(null),h("")},S=async w=>{try{if(!d.trim()){f({title:"Error",description:"Note content cannot be empty",variant:"destructive"});return}const N=e.notes.find(C=>C.id===w);if(!N)throw new Error("Note not found");await Xr.updateNote({...N,note:d.trim()}),f({title:"Success",description:"Note updated successfully"}),a(null),h(""),await t()}catch(N){console.error("Error updating note:",N),f({title:"Error",description:"Failed to update note",variant:"destructive"})}},b=async w=>{try{await Xr.deleteNote(w),f({title:"Success",description:"Note deleted successfully"}),o(null),await t()}catch(N){console.error("Error deleting note:",N),f({title:"Error",description:"Failed to delete note",variant:"destructive"})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Notes"}),l.jsxs(Se,{onClick:()=>n(!0),variant:"default",size:"sm",children:[l.jsx(na,{className:"h-4 w-4 mr-1"}),"Add Note"]})]}),e.notes.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No notes added yet. Add your first note."}):l.jsx("div",{className:"space-y-4",children:e.notes.map(w=>l.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/5 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:w.created_at?new Date(w.created_at).toLocaleDateString()+" "+new Date(w.created_at).toLocaleTimeString():"No date"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>g(w),className:"h-7 px-2",children:l.jsx(fi,{className:"h-3.5 w-3.5"})}),l.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>o(w.id),className:"h-7 px-2 text-destructive hover:text-destructive",children:l.jsx(pi,{className:"h-3.5 w-3.5"})})]})]}),s===w.id?l.jsxs("div",{className:"mt-2 space-y-3",children:[l.jsx(Ph,{value:d,onChange:N=>h(N.target.value),rows:3,className:"w-full"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(Se,{variant:"outline",size:"sm",onClick:y,children:"Cancel"}),l.jsxs(Se,{variant:"default",size:"sm",onClick:()=>S(w.id),children:[l.jsx(sU,{className:"h-3.5 w-3.5 mr-1"}),"Save"]})]})]}):l.jsx("p",{className:"whitespace-pre-wrap",children:w.note})]},w.id))}),l.jsx(lr,{open:r,onOpenChange:n,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Add New Note"})}),l.jsx("div",{className:"grid gap-4 py-4",children:l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(we,{htmlFor:"noteContent",children:"Note Content"}),l.jsx(Ph,{id:"noteContent",placeholder:"Enter note content",value:c,onChange:w=>u(w.target.value),rows:5})]})}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),l.jsx(Se,{onClick:p,children:"Add Note"})]})]})}),l.jsx(lr,{open:!!i,onOpenChange:w=>!w&&o(null),children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Delete Note"})}),l.jsx("p",{className:"py-4",children:"Are you sure you want to delete this note? This action cannot be undone."}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>o(null),children:"Cancel"}),l.jsx(Se,{variant:"destructive",onClick:()=>i&&b(i),children:"Delete"})]})]})})]})},gle=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(!1),s=v.useRef(null),{toast:a}=ir(),{user:i}=Ar(),o=g=>{g.preventDefault(),n(!0)},c=()=>{n(!1)},u=g=>{g.preventDefault(),n(!1),g.dataTransfer.files&&g.dataTransfer.files.length>0&&h(g.dataTransfer.files)},d=g=>{g.target.files&&g.target.files.length>0&&h(g.target.files)},h=async g=>{try{if(!i){a({title:"Error",description:"You must be logged in to upload files",variant:"destructive"});return}for(let y=0;y<g.length;y++){const S=g[y];await Xr.addAttachment(e.transaction.id,i.id,S,S.name,S.type)}await t(),a({title:"Success",description:`${g.length} ${g.length===1?"file":"files"} uploaded successfully`})}catch(y){console.error("Error uploading files:",y),a({title:"Error",description:"Failed to upload files",variant:"destructive"})}},f=async g=>{try{await Xr.deleteAttachment(g),await t(),a({title:"Success",description:"Attachment deleted successfully"})}catch(y){console.error("Error deleting attachment:",y),a({title:"Error",description:"Failed to delete attachment",variant:"destructive"})}},p=g=>g.startsWith("image/")?l.jsx(K$,{className:"h-6 w-6 text-blue-500"}):l.jsx(QS,{className:"h-6 w-6 text-amber-500"});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Attachments"}),l.jsxs(Se,{onClick:()=>{var g;return(g=s.current)==null?void 0:g.click()},variant:"default",size:"sm",children:[l.jsx(na,{className:"h-4 w-4 mr-1"}),"Add Attachment"]}),l.jsx("input",{type:"file",ref:s,onChange:d,style:{display:"none"},multiple:!0})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center ${r?"border-primary bg-primary/10":"border-muted-foreground/20"}`,onDragOver:o,onDragLeave:c,onDrop:u,children:[l.jsx(wT,{className:"h-10 w-10 mx-auto text-muted-foreground mb-4"}),l.jsx("p",{className:"text-muted-foreground mb-2",children:"Drag and drop files here or"}),l.jsx(Se,{variant:"outline",onClick:()=>{var g;return(g=s.current)==null?void 0:g.click()},children:"Browse Files"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Supported file types: Images, PDFs, Documents"})]}),e.attachments.length===0?l.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No attachments added yet."}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:e.attachments.map(g=>l.jsxs("div",{className:"border rounded-lg p-4 flex flex-col h-full",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p(g.file_type),l.jsx("span",{className:"font-medium truncate max-w-[150px]",children:g.name})]}),l.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>f(g.id),children:l.jsx(X0,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-grow flex items-center justify-center my-2",children:g.file_type.startsWith("image/")?l.jsx("img",{src:g.uri,alt:g.name,className:"max-h-[100px] object-contain"}):l.jsx("div",{className:"text-muted-foreground text-sm px-2 py-1 bg-muted rounded",children:g.file_type.split("/")[1]||"File"})}),l.jsxs("div",{className:"mt-auto pt-2 flex justify-between items-center text-xs text-muted-foreground",children:[l.jsx("span",{children:g.created_at?new Date(g.created_at).toLocaleDateString():"No date"}),l.jsx(Se,{variant:"ghost",size:"sm",className:"h-6 p-0 text-primary",asChild:!0,children:l.jsx("a",{href:g.uri,download:g.name,children:l.jsx(Jf,{className:"h-4 w-4"})})})]})]},g.id))})]})},yle=({activeTab:e,transaction:t,refreshTransaction:r})=>{const n=()=>{switch(e){case Ds.PURCHASES:case"purchases":return l.jsx(yie,{transaction:t,refreshTransaction:r});case Ds.TRANSPORTATION:case"transportation":return l.jsx(gie,{transaction:t,refreshTransaction:r});case Ds.SALES:case"sales":return l.jsx(vie,{transaction:t,refreshTransaction:r});case Ds.PAYMENTS:case"payments":return l.jsx(ple,{transaction:t,refreshTransaction:r});case Ds.NOTES:case"notes":return l.jsx(mle,{transaction:t,refreshTransaction:r});case Ds.ATTACHMENTS:case"attachments":return l.jsx(gle,{transaction:t,refreshTransaction:r});default:return null}};return l.jsx("div",{className:"mt-6",children:l.jsx(__,{mode:"wait",children:l.jsx(Us.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"bg-card text-card-foreground rounded-lg p-6 shadow-sm border border-border",children:n()},e)})})},vle=({transaction:e,refreshTransaction:t})=>{const[r,n]=v.useState(()=>{const g=localStorage.getItem(`transaction_${e.transaction.id}_activeTab`);return g||Ds.PURCHASES}),[s,a]=v.useState(e),[i,o]=v.useState(!1);v.useEffect(()=>{a(e)},[e]),v.useEffect(()=>{localStorage.setItem(`transaction_${e.transaction.id}_activeTab`,r)},[r,e.transaction.id]);const c=xs(),{toast:u}=ir();Ar();const d=rg(),h=v.useCallback(async()=>{try{const g=await Xr.getCompleteTransaction(e.transaction.id);g&&a(g)}catch(g){console.error("Error refreshing transaction:",g)}},[e.transaction.id]),f=async()=>{const g=r;t?await t():await h();const y=localStorage.getItem(`transaction_${e.transaction.id}_activeTab`);n(y||g)};v.useEffect(()=>{(async()=>{if(s.purchases.length>0&&s.sales.length>0){const y=s.purchases.reduce((N,C)=>N+C.total_cost,0),S=s.purchases.reduce((N,C)=>N+C.amount_paid,0),b=s.sales.reduce((N,C)=>N+C.total_amount,0),w=s.sales.reduce((N,C)=>N+C.amount_received,0);if(S>=y&&w>=b&&s.transaction.status!=="completed"){const N={...s.transaction,status:"completed"};await Xr.updateTransaction(N),await f(),u({title:"Status Updated",description:"Transaction has been marked as completed automatically."})}}})()},[s,f,u]);const p=async()=>{try{await Xr.deleteTransaction(s.transaction.id),u({title:"Success",description:"Transaction deleted successfully"}),c("/")}catch(g){console.error("Error deleting transaction:",g),u({title:"Error",description:"Failed to delete transaction",variant:"destructive"})}};return l.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-background text-foreground",children:[l.jsxs("h2",{className:"text-lg font-medium",children:[s.transaction.name,l.jsx("span",{className:`ml-2 text-sm px-2 py-0.5 rounded-full ${s.transaction.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":s.transaction.status==="cancelled"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"}`,children:s.transaction.status.charAt(0).toUpperCase()+s.transaction.status.slice(1)})]}),l.jsxs(lr,{open:i,onOpenChange:o,children:[d?l.jsxs(i0,{children:[l.jsx(o0,{asChild:!0,children:l.jsxs(Se,{variant:"ghost",size:"icon",className:"text-foreground",children:[l.jsx(G$,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"More options"})]})}),l.jsx(fm,{align:"end",className:"bg-popover border border-border text-foreground",children:l.jsx(Wl,{asChild:!0,children:l.jsxs(No,{className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[l.jsx(pi,{className:"h-4 w-4 mr-2"}),"Delete Transaction"]})})})]}):l.jsx(Wl,{asChild:!0,children:l.jsxs(Se,{variant:"destructive",size:"sm",children:[l.jsx(pi,{className:"h-4 w-4 mr-2"}),"Delete Transaction"]})}),l.jsxs(cr,{className:"bg-background border border-border text-foreground",children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Are you sure?"})}),l.jsx("p",{className:"py-4",children:"This action cannot be undone. This will permanently delete this transaction and all its data."}),l.jsxs(Er,{className:"flex space-x-2 justify-end",children:[l.jsx(kte,{asChild:!0,children:l.jsx(Se,{variant:"outline",className:"bg-background hover:bg-secondary border border-border text-foreground",children:"Cancel"})}),l.jsx(Se,{variant:"destructive",onClick:p,children:"Delete"})]})]})]})]}),l.jsx("div",{className:`w-full border-b border-border bg-background ${d?"px-2 py-1":""}`,children:l.jsx(mie,{activeTab:r,onTabChange:g=>{n(g),localStorage.setItem(`transaction_${e.transaction.id}_activeTab`,g)},disabledTabs:[],isMobile:d})}),l.jsx("div",{className:`flex-1 overflow-auto bg-background ${d?"p-2":"px-4"}`,children:l.jsx(yle,{transaction:s,activeTab:r,refreshTransaction:f})})]})},xle=()=>{const{id:e}=Gq(),[t,r]=v.useState(null),[n,s]=v.useState(!0),a=xs(),{toast:i}=ir(),o=v.useCallback(async()=>{if(!e){a("/");return}try{s(!0);const u=await Xr.getCompleteTransaction(e);u?r(u):(i({title:"Error",description:"Transaction not found",variant:"destructive"}),a("/"))}catch(u){console.error("Failed to load transaction:",u),i({title:"Error",description:"Failed to load transaction details",variant:"destructive"})}finally{s(!1)}},[e,a,i]),c=async()=>{await o()};return v.useEffect(()=>{o()},[o]),l.jsxs(Us.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col bg-background text-foreground",children:[l.jsx("header",{className:"glass border-b sticky top-0 z-10 bg-background/80 backdrop-blur-sm border-border",children:l.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(VR,{variant:"ghost",onClick:()=>a("/"),"aria-label":"Go back",className:"text-foreground hover:bg-secondary",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 12H5"}),l.jsx("path",{d:"M12 19l-7-7 7-7"})]})}),l.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Transaction Details"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zR,{}),l.jsx(pm,{})]})]})}),l.jsx("main",{className:"flex-1 flex overflow-hidden bg-background",children:n?l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsx("div",{className:"animate-pulse-subtle",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"6"}),l.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"22"}),l.jsx("line",{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"}),l.jsx("line",{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"}),l.jsx("line",{x1:"2",y1:"12",x2:"6",y2:"12"}),l.jsx("line",{x1:"18",y1:"12",x2:"22",y2:"12"}),l.jsx("line",{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"}),l.jsx("line",{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"})]})})}):t?l.jsx(vle,{transaction:t,refreshTransaction:c}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:[l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-muted-foreground mb-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),l.jsx("h3",{className:"text-lg font-medium mb-2 text-foreground",children:"Transaction Not Found"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"The transaction you're looking for doesn't exist or has been deleted."}),l.jsx(Se,{onClick:()=>a("/"),className:"inline-flex items-center justify-center px-4 py-2 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"Return to Dashboard"})]})})]})},wle=()=>{const e=zh();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var cg=e=>e.type==="checkbox",Yc=e=>e instanceof Date,hs=e=>e==null;const T8=e=>typeof e=="object";var ln=e=>!hs(e)&&!Array.isArray(e)&&T8(e)&&!Yc(e),L8=e=>ln(e)&&e.target?cg(e.target)?e.target.checked:e.target.value:e,ble=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,D8=(e,t)=>e.has(ble(t)),Sle=e=>{const t=e.constructor&&e.constructor.prototype;return ln(t)&&t.hasOwnProperty("isPrototypeOf")},YN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Es(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(YN&&(e instanceof Blob||e instanceof FileList))&&(r||ln(e)))if(t=r?[]:{},!r&&!Sle(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Es(e[n]));else return e;return t}var z1=e=>Array.isArray(e)?e.filter(Boolean):[],Kr=e=>e===void 0,Ke=(e,t,r)=>{if(!t||!ln(e))return r;const n=z1(t.split(/[,[\].]+?/)).reduce((s,a)=>hs(s)?s:s[a],e);return Kr(n)||n===e?Kr(e[t])?r:e[t]:n},Ca=e=>typeof e=="boolean",KN=e=>/^\w*$/.test(e),R8=e=>z1(e.replace(/["|']|\]/g,"").split(/\.|\[/)),er=(e,t,r)=>{let n=-1;const s=KN(t)?[t]:R8(t),a=s.length,i=a-1;for(;++n<a;){const o=s[n];let c=r;if(n!==i){const u=e[o];c=ln(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__")return;e[o]=c,e=e[o]}return e};const y0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ii={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},O8=ke.createContext(null),q1=()=>ke.useContext(O8),_le=e=>{const{children:t,...r}=e;return ke.createElement(O8.Provider,{value:r},t)};var M8=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const i=a;return t._proxyFormState[i]!==ii.all&&(t._proxyFormState[i]=!n||ii.all),r&&(r[i]=!0),e[i]}});return s},As=e=>ln(e)&&!Object.keys(e).length,I8=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return As(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(i=>t[i]===(!n||ii.all))},kp=e=>Array.isArray(e)?e:[e],F8=(e,t,r)=>!e||!t||e===t||kp(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function XN(e){const t=ke.useRef(e);t.current=e,ke.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Nle(e){const t=q1(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[i,o]=ke.useState(r._formState),c=ke.useRef(!0),u=ke.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ke.useRef(s);return d.current=s,XN({disabled:n,next:h=>c.current&&F8(d.current,h.name,a)&&I8(h,u.current,r._updateFormState)&&o({...r._formState,...h}),subject:r._subjects.state}),ke.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),M8(i,r,u.current,!1)}var Wi=e=>typeof e=="string",B8=(e,t,r,n,s)=>Wi(e)?(n&&t.watch.add(e),Ke(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ke(r,a))):(n&&(t.watchAll=!0),r);function jle(e){const t=q1(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:i}=e||{},o=ke.useRef(n);o.current=n,XN({disabled:a,subject:r._subjects.values,next:d=>{F8(o.current,d.name,i)&&u(Es(B8(o.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=ke.useState(r._getWatch(n,s));return ke.useEffect(()=>r._removeUnmounted()),c}function Cle(e){const t=q1(),{name:r,disabled:n,control:s=t.control,shouldUnregister:a}=e,i=D8(s._names.array,r),o=jle({control:s,name:r,defaultValue:Ke(s._formValues,r,Ke(s._defaultValues,r,e.defaultValue)),exact:!0}),c=Nle({control:s,name:r,exact:!0}),u=ke.useRef(s.register(r,{...e.rules,value:o,...Ca(e.disabled)?{disabled:e.disabled}:{}}));return ke.useEffect(()=>{const d=s._options.shouldUnregister||a,h=(f,p)=>{const g=Ke(s._fields,f);g&&g._f&&(g._f.mount=p)};if(h(r,!0),d){const f=Es(Ke(s._options.defaultValues,r));er(s._defaultValues,r,f),Kr(Ke(s._formValues,r))&&er(s._formValues,r,f)}return()=>{(i?d&&!s._state.action:d)?s.unregister(r):h(r,!1)}},[r,s,i,a]),ke.useEffect(()=>{Ke(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:Ke(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:o,...Ca(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:ke.useCallback(d=>u.current.onChange({target:{value:L8(d),name:r},type:y0.CHANGE}),[r]),onBlur:ke.useCallback(()=>u.current.onBlur({target:{value:Ke(s._formValues,r),name:r},type:y0.BLUR}),[r,s]),ref:ke.useCallback(d=>{const h=Ke(s._fields,r);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ke(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ke(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ke(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ke(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ke(c.errors,r)}})}}const kle=e=>e.render(Cle(e));var $8=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},aE=e=>({isOnSubmit:!e||e===ii.onSubmit,isOnBlur:e===ii.onBlur,isOnChange:e===ii.onChange,isOnAll:e===ii.all,isOnTouch:e===ii.onTouched}),iE=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Pp=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Ke(e,s);if(a){const{_f:i,...o}=a;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Pp(o,t))break}else if(ln(o)&&Pp(o,t))break}}};var Ple=(e,t,r)=>{const n=kp(Ke(e,r));return er(n,"root",t[r]),er(e,r,n),e},ZN=e=>e.type==="file",Po=e=>typeof e=="function",v0=e=>{if(!YN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yv=e=>Wi(e),JN=e=>e.type==="radio",x0=e=>e instanceof RegExp;const oE={value:!1,isValid:!1},lE={value:!0,isValid:!0};var U8=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Kr(e[0].attributes.value)?Kr(e[0].value)||e[0].value===""?lE:{value:e[0].value,isValid:!0}:lE:oE}return oE};const cE={isValid:!1,value:null};var V8=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cE):cE;function uE(e,t,r="validate"){if(yv(e)||Array.isArray(e)&&e.every(yv)||Ca(e)&&!e)return{type:r,message:yv(e)?e:"",ref:t}}var fd=e=>ln(e)&&!x0(e)?e:{value:e,message:""},dE=async(e,t,r,n,s)=>{const{ref:a,refs:i,required:o,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:p,name:g,valueAsNumber:y,mount:S,disabled:b}=e._f,w=Ke(t,g);if(!S||b)return{};const N=i?i[0]:a,C=E=>{n&&N.reportValidity&&(N.setCustomValidity(Ca(E)?"":E||""),N.reportValidity())},P={},M=JN(a),R=cg(a),T=M||R,H=(y||ZN(a))&&Kr(a.value)&&Kr(w)||v0(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,Q=$8.bind(null,g,r,P),L=(E,W,F,K=vo.maxLength,ne=vo.minLength)=>{const Y=E?W:F;P[g]={type:E?K:ne,message:Y,ref:a,...Q(E?K:ne,Y)}};if(s?!Array.isArray(w)||!w.length:o&&(!T&&(H||hs(w))||Ca(w)&&!w||R&&!U8(i).isValid||M&&!V8(i).isValid)){const{value:E,message:W}=yv(o)?{value:!!o,message:o}:fd(o);if(E&&(P[g]={type:vo.required,message:W,ref:N,...Q(vo.required,W)},!r))return C(W),P}if(!H&&(!hs(d)||!hs(h))){let E,W;const F=fd(h),K=fd(d);if(!hs(w)&&!isNaN(w)){const ne=a.valueAsNumber||w&&+w;hs(F.value)||(E=ne>F.value),hs(K.value)||(W=ne<K.value)}else{const ne=a.valueAsDate||new Date(w),Y=ie=>new Date(new Date().toDateString()+" "+ie),I=a.type=="time",G=a.type=="week";Wi(F.value)&&w&&(E=I?Y(w)>Y(F.value):G?w>F.value:ne>new Date(F.value)),Wi(K.value)&&w&&(W=I?Y(w)<Y(K.value):G?w<K.value:ne<new Date(K.value))}if((E||W)&&(L(!!E,F.message,K.message,vo.max,vo.min),!r))return C(P[g].message),P}if((c||u)&&!H&&(Wi(w)||s&&Array.isArray(w))){const E=fd(c),W=fd(u),F=!hs(E.value)&&w.length>+E.value,K=!hs(W.value)&&w.length<+W.value;if((F||K)&&(L(F,E.message,W.message),!r))return C(P[g].message),P}if(f&&!H&&Wi(w)){const{value:E,message:W}=fd(f);if(x0(E)&&!w.match(E)&&(P[g]={type:vo.pattern,message:W,ref:a,...Q(vo.pattern,W)},!r))return C(W),P}if(p){if(Po(p)){const E=await p(w,t),W=uE(E,N);if(W&&(P[g]={...W,...Q(vo.validate,W.message)},!r))return C(W.message),P}else if(ln(p)){let E={};for(const W in p){if(!As(E)&&!r)break;const F=uE(await p[W](w,t),N,W);F&&(E={...F,...Q(W,F.message)},C(F.message),r&&(P[g]=E))}if(!As(E)&&(P[g]={ref:N,...E},!r))return P}}return C(!0),P};function Ele(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Kr(e)?n++:e[t[n++]];return e}function Ale(e){for(const t in e)if(e.hasOwnProperty(t)&&!Kr(e[t]))return!1;return!0}function yn(e,t){const r=Array.isArray(t)?t:KN(t)?[t]:R8(t),n=r.length===1?e:Ele(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(ln(n)&&As(n)||Array.isArray(n)&&Ale(n))&&yn(e,r.slice(0,-1)),e}var y2=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},H5=e=>hs(e)||!T8(e);function jl(e,t){if(H5(e)||H5(t))return e===t;if(Yc(e)&&Yc(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const a=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const i=t[s];if(Yc(a)&&Yc(i)||ln(a)&&ln(i)||Array.isArray(a)&&Array.isArray(i)?!jl(a,i):a!==i)return!1}}return!0}var z8=e=>e.type==="select-multiple",Tle=e=>JN(e)||cg(e),v2=e=>v0(e)&&e.isConnected,q8=e=>{for(const t in e)if(Po(e[t]))return!0;return!1};function w0(e,t={}){const r=Array.isArray(e);if(ln(e)||r)for(const n in e)Array.isArray(e[n])||ln(e[n])&&!q8(e[n])?(t[n]=Array.isArray(e[n])?[]:{},w0(e[n],t[n])):hs(e[n])||(t[n]=!0);return t}function W8(e,t,r){const n=Array.isArray(e);if(ln(e)||n)for(const s in e)Array.isArray(e[s])||ln(e[s])&&!q8(e[s])?Kr(t)||H5(r[s])?r[s]=Array.isArray(e[s])?w0(e[s],[]):{...w0(e[s])}:W8(e[s],hs(t)?{}:t[s],r[s]):r[s]=!jl(e[s],t[s]);return r}var Wf=(e,t)=>W8(e,t,w0(t)),H8=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Kr(e)?e:t?e===""?NaN:e&&+e:r&&Wi(e)?new Date(e):n?n(e):e;function x2(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return ZN(t)?t.files:JN(t)?V8(e.refs).value:z8(t)?[...t.selectedOptions].map(({value:r})=>r):cg(t)?U8(e.refs).value:H8(Kr(t.value)?e.ref.value:t.value,e)}var Lle=(e,t,r,n)=>{const s={};for(const a of e){const i=Ke(t,a);i&&er(s,a,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Hf=e=>Kr(e)?e:x0(e)?e.source:ln(e)?x0(e.value)?e.value.source:e.value:e;const hE="AsyncFunction";var Dle=e=>(!e||!e.validate)&&!!(Po(e.validate)&&e.validate.constructor.name===hE||ln(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===hE)),Rle=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function fE(e,t,r){const n=Ke(e,r);if(n||KN(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),i=Ke(t,a),o=Ke(e,a);if(i&&!Array.isArray(i)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};s.pop()}return{name:r}}var Ole=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Mle=(e,t)=>!z1(Ke(e,t)).length&&yn(e,t);const Ile={mode:ii.onSubmit,reValidateMode:ii.onChange,shouldFocusError:!0};function Fle(e={}){let t={...Ile,...e},r={submitCount:0,isDirty:!1,isLoading:Po(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=ln(t.defaultValues)||ln(t.values)?Es(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Es(s),i={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:y2(),array:y2(),state:y2()},f=aE(t.mode),p=aE(t.reValidateMode),g=t.criteriaMode===ii.all,y=J=>ee=>{clearTimeout(u),u=setTimeout(J,ee)},S=async J=>{if(!e.disabled&&(d.isValid||J)){const ee=t.resolver?As((await T()).errors):await Q(n,!0);ee!==r.isValid&&h.state.next({isValid:ee})}},b=(J,ee)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((J||Array.from(o.mount)).forEach(oe=>{oe&&(ee?er(r.validatingFields,oe,ee):yn(r.validatingFields,oe))}),h.state.next({validatingFields:r.validatingFields,isValidating:!As(r.validatingFields)}))},w=(J,ee=[],oe,Ne,ye=!0,be=!0)=>{if(Ne&&oe&&!e.disabled){if(i.action=!0,be&&Array.isArray(Ke(n,J))){const Ie=oe(Ke(n,J),Ne.argA,Ne.argB);ye&&er(n,J,Ie)}if(be&&Array.isArray(Ke(r.errors,J))){const Ie=oe(Ke(r.errors,J),Ne.argA,Ne.argB);ye&&er(r.errors,J,Ie),Mle(r.errors,J)}if(d.touchedFields&&be&&Array.isArray(Ke(r.touchedFields,J))){const Ie=oe(Ke(r.touchedFields,J),Ne.argA,Ne.argB);ye&&er(r.touchedFields,J,Ie)}d.dirtyFields&&(r.dirtyFields=Wf(s,a)),h.state.next({name:J,isDirty:E(J,ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else er(a,J,ee)},N=(J,ee)=>{er(r.errors,J,ee),h.state.next({errors:r.errors})},C=J=>{r.errors=J,h.state.next({errors:r.errors,isValid:!1})},P=(J,ee,oe,Ne)=>{const ye=Ke(n,J);if(ye){const be=Ke(a,J,Kr(oe)?Ke(s,J):oe);Kr(be)||Ne&&Ne.defaultChecked||ee?er(a,J,ee?be:x2(ye._f)):K(J,be),i.mount&&S()}},M=(J,ee,oe,Ne,ye)=>{let be=!1,Ie=!1;const qe={name:J};if(!e.disabled){const it=!!(Ke(n,J)&&Ke(n,J)._f&&Ke(n,J)._f.disabled);if(!oe||Ne){d.isDirty&&(Ie=r.isDirty,r.isDirty=qe.isDirty=E(),be=Ie!==qe.isDirty);const lt=it||jl(Ke(s,J),ee);Ie=!!(!it&&Ke(r.dirtyFields,J)),lt||it?yn(r.dirtyFields,J):er(r.dirtyFields,J,!0),qe.dirtyFields=r.dirtyFields,be=be||d.dirtyFields&&Ie!==!lt}if(oe){const lt=Ke(r.touchedFields,J);lt||(er(r.touchedFields,J,oe),qe.touchedFields=r.touchedFields,be=be||d.touchedFields&&lt!==oe)}be&&ye&&h.state.next(qe)}return be?qe:{}},R=(J,ee,oe,Ne)=>{const ye=Ke(r.errors,J),be=d.isValid&&Ca(ee)&&r.isValid!==ee;if(e.delayError&&oe?(c=y(()=>N(J,oe)),c(e.delayError)):(clearTimeout(u),c=null,oe?er(r.errors,J,oe):yn(r.errors,J)),(oe?!jl(ye,oe):ye)||!As(Ne)||be){const Ie={...Ne,...be&&Ca(ee)?{isValid:ee}:{},errors:r.errors,name:J};r={...r,...Ie},h.state.next(Ie)}},T=async J=>{b(J,!0);const ee=await t.resolver(a,t.context,Lle(J||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(J),ee},H=async J=>{const{errors:ee}=await T(J);if(J)for(const oe of J){const Ne=Ke(ee,oe);Ne?er(r.errors,oe,Ne):yn(r.errors,oe)}else r.errors=ee;return ee},Q=async(J,ee,oe={valid:!0})=>{for(const Ne in J){const ye=J[Ne];if(ye){const{_f:be,...Ie}=ye;if(be){const qe=o.array.has(be.name),it=ye._f&&Dle(ye._f);it&&d.validatingFields&&b([Ne],!0);const lt=await dE(ye,a,g,t.shouldUseNativeValidation&&!ee,qe);if(it&&d.validatingFields&&b([Ne]),lt[be.name]&&(oe.valid=!1,ee))break;!ee&&(Ke(lt,be.name)?qe?Ple(r.errors,lt,be.name):er(r.errors,be.name,lt[be.name]):yn(r.errors,be.name))}!As(Ie)&&await Q(Ie,ee,oe)}}return oe.valid},L=()=>{for(const J of o.unMount){const ee=Ke(n,J);ee&&(ee._f.refs?ee._f.refs.every(oe=>!v2(oe)):!v2(ee._f.ref))&&q(J)}o.unMount=new Set},E=(J,ee)=>!e.disabled&&(J&&ee&&er(a,J,ee),!jl(me(),s)),W=(J,ee,oe)=>B8(J,o,{...i.mount?a:Kr(ee)?s:Wi(J)?{[J]:ee}:ee},oe,ee),F=J=>z1(Ke(i.mount?a:s,J,e.shouldUnregister?Ke(s,J,[]):[])),K=(J,ee,oe={})=>{const Ne=Ke(n,J);let ye=ee;if(Ne){const be=Ne._f;be&&(!be.disabled&&er(a,J,H8(ee,be)),ye=v0(be.ref)&&hs(ee)?"":ee,z8(be.ref)?[...be.ref.options].forEach(Ie=>Ie.selected=ye.includes(Ie.value)):be.refs?cg(be.ref)?be.refs.length>1?be.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(ye)?!!ye.find(qe=>qe===Ie.value):ye===Ie.value)):be.refs[0]&&(be.refs[0].checked=!!ye):be.refs.forEach(Ie=>Ie.checked=Ie.value===ye):ZN(be.ref)?be.ref.value="":(be.ref.value=ye,be.ref.type||h.values.next({name:J,values:{...a}})))}(oe.shouldDirty||oe.shouldTouch)&&M(J,ye,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&ie(J)},ne=(J,ee,oe)=>{for(const Ne in ee){const ye=ee[Ne],be=`${J}.${Ne}`,Ie=Ke(n,be);(o.array.has(J)||ln(ye)||Ie&&!Ie._f)&&!Yc(ye)?ne(be,ye,oe):K(be,ye,oe)}},Y=(J,ee,oe={})=>{const Ne=Ke(n,J),ye=o.array.has(J),be=Es(ee);er(a,J,be),ye?(h.array.next({name:J,values:{...a}}),(d.isDirty||d.dirtyFields)&&oe.shouldDirty&&h.state.next({name:J,dirtyFields:Wf(s,a),isDirty:E(J,be)})):Ne&&!Ne._f&&!hs(be)?ne(J,be,oe):K(J,be,oe),iE(J,o)&&h.state.next({...r}),h.values.next({name:i.mount?J:void 0,values:{...a}})},I=async J=>{i.mount=!0;const ee=J.target;let oe=ee.name,Ne=!0;const ye=Ke(n,oe),be=()=>ee.type?x2(ye._f):L8(J),Ie=qe=>{Ne=Number.isNaN(qe)||Yc(qe)&&isNaN(qe.getTime())||jl(qe,Ke(a,oe,qe))};if(ye){let qe,it;const lt=be(),Lt=J.type===y0.BLUR||J.type===y0.FOCUS_OUT,ut=!Rle(ye._f)&&!t.resolver&&!Ke(r.errors,oe)&&!ye._f.deps||Ole(Lt,Ke(r.touchedFields,oe),r.isSubmitted,p,f),Nt=iE(oe,o,Lt);er(a,oe,lt),Lt?(ye._f.onBlur&&ye._f.onBlur(J),c&&c(0)):ye._f.onChange&&ye._f.onChange(J);const He=M(oe,lt,Lt,!1),br=!As(He)||Nt;if(!Lt&&h.values.next({name:oe,type:J.type,values:{...a}}),ut)return d.isValid&&(e.mode==="onBlur"?Lt&&S():S()),br&&h.state.next({name:oe,...Nt?{}:He});if(!Lt&&Nt&&h.state.next({...r}),t.resolver){const{errors:Ot}=await T([oe]);if(Ie(lt),Ne){const as=fE(r.errors,n,oe),Vt=fE(Ot,n,as.name||oe);qe=Vt.error,oe=Vt.name,it=As(Ot)}}else b([oe],!0),qe=(await dE(ye,a,g,t.shouldUseNativeValidation))[oe],b([oe]),Ie(lt),Ne&&(qe?it=!1:d.isValid&&(it=await Q(n,!0)));Ne&&(ye._f.deps&&ie(ye._f.deps),R(oe,it,qe,He))}},G=(J,ee)=>{if(Ke(r.errors,ee)&&J.focus)return J.focus(),1},ie=async(J,ee={})=>{let oe,Ne;const ye=kp(J);if(t.resolver){const be=await H(Kr(J)?J:ye);oe=As(be),Ne=J?!ye.some(Ie=>Ke(be,Ie)):oe}else J?(Ne=(await Promise.all(ye.map(async be=>{const Ie=Ke(n,be);return await Q(Ie&&Ie._f?{[be]:Ie}:Ie)}))).every(Boolean),!(!Ne&&!r.isValid)&&S()):Ne=oe=await Q(n);return h.state.next({...!Wi(J)||d.isValid&&oe!==r.isValid?{}:{name:J},...t.resolver||!J?{isValid:oe}:{},errors:r.errors}),ee.shouldFocus&&!Ne&&Pp(n,G,J?ye:o.mount),Ne},me=J=>{const ee={...i.mount?a:s};return Kr(J)?ee:Wi(J)?Ke(ee,J):J.map(oe=>Ke(ee,oe))},A=(J,ee)=>({invalid:!!Ke((ee||r).errors,J),isDirty:!!Ke((ee||r).dirtyFields,J),error:Ke((ee||r).errors,J),isValidating:!!Ke(r.validatingFields,J),isTouched:!!Ke((ee||r).touchedFields,J)}),V=J=>{J&&kp(J).forEach(ee=>yn(r.errors,ee)),h.state.next({errors:J?r.errors:{}})},X=(J,ee,oe)=>{const Ne=(Ke(n,J,{_f:{}})._f||{}).ref,ye=Ke(r.errors,J)||{},{ref:be,message:Ie,type:qe,...it}=ye;er(r.errors,J,{...it,...ee,ref:Ne}),h.state.next({name:J,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&Ne&&Ne.focus&&Ne.focus()},ae=(J,ee)=>Po(J)?h.values.subscribe({next:oe=>J(W(void 0,ee),oe)}):W(J,ee,!0),q=(J,ee={})=>{for(const oe of J?kp(J):o.mount)o.mount.delete(oe),o.array.delete(oe),ee.keepValue||(yn(n,oe),yn(a,oe)),!ee.keepError&&yn(r.errors,oe),!ee.keepDirty&&yn(r.dirtyFields,oe),!ee.keepTouched&&yn(r.touchedFields,oe),!ee.keepIsValidating&&yn(r.validatingFields,oe),!t.shouldUnregister&&!ee.keepDefaultValue&&yn(s,oe);h.values.next({values:{...a}}),h.state.next({...r,...ee.keepDirty?{isDirty:E()}:{}}),!ee.keepIsValid&&S()},se=({disabled:J,name:ee,field:oe,fields:Ne,value:ye})=>{if(Ca(J)&&i.mount||J){const be=J?void 0:Kr(ye)?x2(oe?oe._f:Ke(Ne,ee)._f):ye;er(a,ee,be),M(ee,be,!1,!1,!0)}},ue=(J,ee={})=>{let oe=Ke(n,J);const Ne=Ca(ee.disabled)||Ca(e.disabled);return er(n,J,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:J}},name:J,mount:!0,...ee}}),o.mount.add(J),oe?se({field:oe,disabled:Ca(ee.disabled)?ee.disabled:e.disabled,name:J,value:ee.value}):P(J,!0,ee.value),{...Ne?{disabled:ee.disabled||e.disabled}:{},...t.progressive?{required:!!ee.required,min:Hf(ee.min),max:Hf(ee.max),minLength:Hf(ee.minLength),maxLength:Hf(ee.maxLength),pattern:Hf(ee.pattern)}:{},name:J,onChange:I,onBlur:I,ref:ye=>{if(ye){ue(J,ee),oe=Ke(n,J);const be=Kr(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ie=Tle(be),qe=oe._f.refs||[];if(Ie?qe.find(it=>it===be):be===oe._f.ref)return;er(n,J,{_f:{...oe._f,...Ie?{refs:[...qe.filter(v2),be,...Array.isArray(Ke(s,J))?[{}]:[]],ref:{type:be.type,name:J}}:{ref:be}}}),P(J,!1,void 0,be)}else oe=Ke(n,J,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||ee.shouldUnregister)&&!(D8(o.array,J)&&i.action)&&o.unMount.add(J)}}},fe=()=>t.shouldFocusError&&Pp(n,G,o.mount),Ce=J=>{Ca(J)&&(h.state.next({disabled:J}),Pp(n,(ee,oe)=>{const Ne=Ke(n,oe);Ne&&(ee.disabled=Ne._f.disabled||J,Array.isArray(Ne._f.refs)&&Ne._f.refs.forEach(ye=>{ye.disabled=Ne._f.disabled||J}))},0,!1))},Pe=(J,ee)=>async oe=>{let Ne;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let ye=Es(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:be,values:Ie}=await T();r.errors=be,ye=Ie}else await Q(n);if(yn(r.errors,"root"),As(r.errors)){h.state.next({errors:{}});try{await J(ye,oe)}catch(be){Ne=be}}else ee&&await ee({...r.errors},oe),fe(),setTimeout(fe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:As(r.errors)&&!Ne,submitCount:r.submitCount+1,errors:r.errors}),Ne)throw Ne},_e=(J,ee={})=>{Ke(n,J)&&(Kr(ee.defaultValue)?Y(J,Es(Ke(s,J))):(Y(J,ee.defaultValue),er(s,J,Es(ee.defaultValue))),ee.keepTouched||yn(r.touchedFields,J),ee.keepDirty||(yn(r.dirtyFields,J),r.isDirty=ee.defaultValue?E(J,Es(Ke(s,J))):E()),ee.keepError||(yn(r.errors,J),d.isValid&&S()),h.state.next({...r}))},Ae=(J,ee={})=>{const oe=J?Es(J):s,Ne=Es(oe),ye=As(J),be=ye?s:Ne;if(ee.keepDefaultValues||(s=oe),!ee.keepValues){if(ee.keepDirtyValues){const Ie=new Set([...o.mount,...Object.keys(Wf(s,a))]);for(const qe of Array.from(Ie))Ke(r.dirtyFields,qe)?er(be,qe,Ke(a,qe)):Y(qe,Ke(be,qe))}else{if(YN&&Kr(J))for(const Ie of o.mount){const qe=Ke(n,Ie);if(qe&&qe._f){const it=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(v0(it)){const lt=it.closest("form");if(lt){lt.reset();break}}}}n={}}a=e.shouldUnregister?ee.keepDefaultValues?Es(s):{}:Es(be),h.array.next({values:{...be}}),h.values.next({values:{...be}})}o={mount:ee.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,i.watch=!!e.shouldUnregister,h.state.next({submitCount:ee.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:ee.keepDirty?r.isDirty:!!(ee.keepDefaultValues&&!jl(J,s)),isSubmitted:ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:ee.keepDirtyValues?ee.keepDefaultValues&&a?Wf(s,a):r.dirtyFields:ee.keepDefaultValues&&J?Wf(s,J):ee.keepDirty?r.dirtyFields:{},touchedFields:ee.keepTouched?r.touchedFields:{},errors:ee.keepErrors?r.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(J,ee)=>Ae(Po(J)?J(a):J,ee);return{control:{register:ue,unregister:q,getFieldState:A,handleSubmit:Pe,setError:X,_executeSchema:T,_getWatch:W,_getDirty:E,_updateValid:S,_removeUnmounted:L,_updateFieldArray:w,_updateDisabledField:se,_getFieldArray:F,_reset:Ae,_resetDefaultValues:()=>Po(t.defaultValues)&&t.defaultValues().then(J=>{Ye(J,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:J=>{r={...r,...J}},_disableForm:Ce,_subjects:h,_proxyFormState:d,_setErrors:C,get _fields(){return n},get _formValues(){return a},get _state(){return i},set _state(J){i=J},get _defaultValues(){return s},get _names(){return o},set _names(J){o=J},get _formState(){return r},set _formState(J){r=J},get _options(){return t},set _options(J){t={...t,...J}}},trigger:ie,register:ue,handleSubmit:Pe,watch:ae,setValue:Y,getValues:me,reset:Ye,resetField:_e,clearErrors:V,unregister:q,setError:X,setFocus:(J,ee={})=>{const oe=Ke(n,J),Ne=oe&&oe._f;if(Ne){const ye=Ne.refs?Ne.refs[0]:Ne.ref;ye.focus&&(ye.focus(),ee.shouldSelect&&ye.select())}},getFieldState:A}}function G8(e={}){const t=ke.useRef(),r=ke.useRef(),[n,s]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Po(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Po(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Fle(e),formState:n});const a=t.current.control;return a._options=e,XN({subject:a._subjects.state,next:i=>{I8(i,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),ke.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ke.useEffect(()=>{if(a._proxyFormState.isDirty){const i=a._getDirty();i!==n.isDirty&&a._subjects.state.next({isDirty:i})}},[a,n.isDirty]),ke.useEffect(()=>{e.values&&!jl(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,s(i=>({...i}))):a._resetDefaultValues()},[e.values,a]),ke.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),ke.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ke.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),ke.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=M8(n,a),t.current}const Y8=_le,K8=v.createContext({}),Ep=({...e})=>l.jsx(K8.Provider,{value:{name:e.name},children:l.jsx(kle,{...e})}),W1=()=>{const e=v.useContext(K8),t=v.useContext(X8),{getFieldState:r,formState:n}=q1(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},X8=v.createContext({}),eh=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return l.jsx(X8.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:Ue("space-y-2",e),...t})})});eh.displayName="FormItem";const th=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=W1();return l.jsx(we,{ref:r,className:Ue(n&&"text-destructive",e),htmlFor:s,...t})});th.displayName="FormLabel";const rh=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=W1();return l.jsx(Ji,{ref:t,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...e})});rh.displayName="FormControl";const Ble=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=W1();return l.jsx("p",{ref:r,id:n,className:Ue("text-sm text-muted-foreground",e),...t})});Ble.displayName="FormDescription";const nh=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:a}=W1(),i=s?String(s==null?void 0:s.message):t;return i?l.jsx("p",{ref:n,id:a,className:Ue("text-sm font-medium text-destructive",e),...r,children:i}):null});nh.displayName="FormMessage";const $le="transactly-db",Ule=1,ug=async()=>_1($le,Ule,{upgrade(e){e.objectStoreNames.contains("transactions")||e.createObjectStore("transactions",{keyPath:"id"})}}),Vle=async e=>{const t=await ug(),r=t.transaction("transactions","readwrite");await r.objectStore("transactions").add(e),await r.done,t.close()},zle=async e=>{const t=await ug(),s=await t.transaction("transactions","readonly").objectStore("transactions").get(e);return t.close(),s||null},qle=async()=>{const e=await ug(),n=await e.transaction("transactions","readonly").objectStore("transactions").getAll();return e.close(),n},Wle=async e=>{const t=await ug(),r=t.transaction("transactions","readwrite");await r.objectStore("transactions").put(e),await r.done,t.close()},Hle=async e=>{const t=await ug(),r=t.transaction("transactions","readwrite");await r.objectStore("transactions").delete(e),await r.done,t.close()},ap={getAllTransactions:async e=>{try{const t=await qle();return e?t.filter(r=>r.user_id===e):t}catch(t){return console.error("Error getting all transactions:",t),[]}},getTransaction:async e=>{try{return await zle(e)}catch(t){return console.error("Error getting transaction:",t),null}},addTransaction:async e=>{try{const t={...e,payments:e.payments||[],notes:e.notes||[],attachments:e.attachments||[],suppliers:e.suppliers||[],buyers:e.buyers||[],updatedAt:new Date().toISOString()};await Vle(t)}catch(t){throw console.error("Error adding transaction:",t),t}},updateTransaction:async e=>{try{const t={...e,payments:e.payments||[],notes:e.notes||[],attachments:e.attachments||[],suppliers:e.suppliers||[],buyers:e.buyers||[],updatedAt:new Date().toISOString()};await Wle(t)}catch(t){throw console.error("Error updating transaction:",t),t}},deleteTransaction:async e=>{try{await Hle(e)}catch(t){throw console.error("Error deleting transaction:",t),t}}};var qt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(qt||(qt={}));var G5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(G5||(G5={}));const st=qt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cl=e=>{switch(typeof e){case"undefined":return st.undefined;case"string":return st.string;case"number":return isNaN(e)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(e)?st.array:e===null?st.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?st.promise:typeof Map<"u"&&e instanceof Map?st.map:typeof Set<"u"&&e instanceof Set?st.set:typeof Date<"u"&&e instanceof Date?st.date:st.object;default:return st.unknown}},ze=qt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Gle=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class la extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let o=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof la))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}la.create=e=>new la(e);const Th=(e,t)=>{let r;switch(e.code){case ze.invalid_type:e.received===st.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ze.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,qt.jsonStringifyReplacer)}`;break;case ze.unrecognized_keys:r=`Unrecognized key(s) in object: ${qt.joinValues(e.keys,", ")}`;break;case ze.invalid_union:r="Invalid input";break;case ze.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qt.joinValues(e.options)}`;break;case ze.invalid_enum_value:r=`Invalid enum value. Expected ${qt.joinValues(e.options)}, received '${e.received}'`;break;case ze.invalid_arguments:r="Invalid function arguments";break;case ze.invalid_return_type:r="Invalid function return type";break;case ze.invalid_date:r="Invalid date";break;case ze.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:qt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ze.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ze.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ze.custom:r="Invalid input";break;case ze.invalid_intersection_types:r="Intersection results could not be merged";break;case ze.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ze.not_finite:r="Number must be finite";break;default:r=t.defaultError,qt.assertNever(e)}return{message:r}};let Z8=Th;function Yle(e){Z8=e}function b0(){return Z8}const S0=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],i={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:t,defaultError:o}).message;return{...s,path:a,message:o}},Kle=[];function tt(e,t){const r=b0(),n=S0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Th?void 0:Th].filter(s=>!!s)});e.common.issues.push(n)}class ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return _t;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,i=await s.value;n.push({key:a,value:i})}return ss.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return _t;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[a.value]=i.value)}return{status:t.value,value:n}}}const _t=Object.freeze({status:"aborted"}),Md=e=>({status:"dirty",value:e}),gs=e=>({status:"valid",value:e}),Y5=e=>e.status==="aborted",K5=e=>e.status==="dirty",bm=e=>e.status==="valid",Sm=e=>typeof Promise<"u"&&e instanceof Promise;function _0(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function J8(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var dt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(dt||(dt={}));var ip,op;class eo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pE=(e,t)=>{if(bm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new la(e.common.issues);return this._error=r,this._error}}};function Tt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,o)=>{var c,u;const{message:d}=e;return i.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:o.defaultError}},description:s}}class It{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Cl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Cl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ss,ctx:{common:t.parent.common,data:t.data,parsedType:Cl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Sm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cl(t)},a=this._parseSync({data:t,path:s.path,parent:s});return pE(s,a)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Cl(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Sm(s)?s:Promise.resolve(s));return pE(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const i=t(s),o=()=>a.addIssue({code:ze.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new wi({schema:this,typeName:bt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Zi.create(this,this._def)}nullable(){return ic.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return di.create(this,this._def)}promise(){return Dh.create(this,this._def)}or(t){return Cm.create([this,t],this._def)}and(t){return km.create(this,t,this._def)}transform(t){return new wi({...Tt(this._def),schema:this,typeName:bt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Lm({...Tt(this._def),innerType:this,defaultValue:r,typeName:bt.ZodDefault})}brand(){return new QN({typeName:bt.ZodBranded,type:this,...Tt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Dm({...Tt(this._def),innerType:this,catchValue:r,typeName:bt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return dg.create(this,t)}readonly(){return Rm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xle=/^c[^\s-]{8,}$/i,Zle=/^[0-9a-z]+$/,Jle=/^[0-9A-HJKMNP-TV-Z]{26}$/,Qle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ece=/^[a-z0-9_-]{21}$/i,tce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w2;const sce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ace=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ice=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Q8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oce=new RegExp(`^${Q8}$`);function eF(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function lce(e){return new RegExp(`^${eF(e)}$`)}function tF(e){let t=`${Q8}T${eF(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function cce(e,t){return!!((t==="v4"||!t)&&sce.test(e)||(t==="v6"||!t)&&ace.test(e))}class li extends It{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==st.string){const a=this._getOrReturnCtx(t);return tt(a,{code:ze.invalid_type,expected:st.string,received:a.parsedType}),_t}const n=new ss;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(s=this._getOrReturnCtx(t,s),i?tt(s,{code:ze.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&tt(s,{code:ze.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")rce.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"email",code:ze.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")w2||(w2=new RegExp(nce,"u")),w2.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"emoji",code:ze.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Qle.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"uuid",code:ze.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")ece.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"nanoid",code:ze.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Xle.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"cuid",code:ze.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Zle.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"cuid2",code:ze.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Jle.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"ulid",code:ze.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),tt(s,{validation:"url",code:ze.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"regex",code:ze.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?tF(a).test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?oce.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?lce(a).test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?tce.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"duration",code:ze.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?cce(t.data,a.version)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"ip",code:ze.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?ice.test(t.data)||(s=this._getOrReturnCtx(t,s),tt(s,{validation:"base64",code:ze.invalid_string,message:a.message}),n.dirty()):qt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:ze.invalid_string,...dt.errToObj(n)})}_addCheck(t){return new li({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...dt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...dt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...dt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...dt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...dt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...dt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...dt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...dt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...dt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...dt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...dt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...dt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...dt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...dt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...dt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...dt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...dt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...dt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...dt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...dt.errToObj(r)})}nonempty(t){return this.min(1,dt.errToObj(t))}trim(){return new li({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new li({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new li({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}li.create=e=>{var t;return new li({checks:[],typeName:bt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Tt(e)})};function uce(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(e.toFixed(s).replace(".","")),i=parseInt(t.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class nc extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==st.number){const a=this._getOrReturnCtx(t);return tt(a,{code:ze.invalid_type,expected:st.number,received:a.parsedType}),_t}let n;const s=new ss;for(const a of this._def.checks)a.kind==="int"?qt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?uce(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.not_finite,message:a.message}),s.dirty()):qt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,dt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,dt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,dt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,dt.toString(r))}setLimit(t,r,n,s){return new nc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:dt.toString(s)}]})}_addCheck(t){return new nc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:dt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:dt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&qt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}nc.create=e=>new nc({checks:[],typeName:bt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Tt(e)});class sc extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==st.bigint){const a=this._getOrReturnCtx(t);return tt(a,{code:ze.invalid_type,expected:st.bigint,received:a.parsedType}),_t}let n;const s=new ss;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),tt(n,{code:ze.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):qt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,dt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,dt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,dt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,dt.toString(r))}setLimit(t,r,n,s){return new sc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:dt.toString(s)}]})}_addCheck(t){return new sc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:dt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}sc.create=e=>{var t;return new sc({checks:[],typeName:bt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Tt(e)})};class _m extends It{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==st.boolean){const n=this._getOrReturnCtx(t);return tt(n,{code:ze.invalid_type,expected:st.boolean,received:n.parsedType}),_t}return gs(t.data)}}_m.create=e=>new _m({typeName:bt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Tt(e)});class gu extends It{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==st.date){const a=this._getOrReturnCtx(t);return tt(a,{code:ze.invalid_type,expected:st.date,received:a.parsedType}),_t}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return tt(a,{code:ze.invalid_date}),_t}const n=new ss;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),tt(s,{code:ze.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):qt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new gu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:dt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:dt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}gu.create=e=>new gu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:bt.ZodDate,...Tt(e)});class N0 extends It{_parse(t){if(this._getType(t)!==st.symbol){const n=this._getOrReturnCtx(t);return tt(n,{code:ze.invalid_type,expected:st.symbol,received:n.parsedType}),_t}return gs(t.data)}}N0.create=e=>new N0({typeName:bt.ZodSymbol,...Tt(e)});class Nm extends It{_parse(t){if(this._getType(t)!==st.undefined){const n=this._getOrReturnCtx(t);return tt(n,{code:ze.invalid_type,expected:st.undefined,received:n.parsedType}),_t}return gs(t.data)}}Nm.create=e=>new Nm({typeName:bt.ZodUndefined,...Tt(e)});class jm extends It{_parse(t){if(this._getType(t)!==st.null){const n=this._getOrReturnCtx(t);return tt(n,{code:ze.invalid_type,expected:st.null,received:n.parsedType}),_t}return gs(t.data)}}jm.create=e=>new jm({typeName:bt.ZodNull,...Tt(e)});class Lh extends It{constructor(){super(...arguments),this._any=!0}_parse(t){return gs(t.data)}}Lh.create=e=>new Lh({typeName:bt.ZodAny,...Tt(e)});class au extends It{constructor(){super(...arguments),this._unknown=!0}_parse(t){return gs(t.data)}}au.create=e=>new au({typeName:bt.ZodUnknown,...Tt(e)});class Vo extends It{_parse(t){const r=this._getOrReturnCtx(t);return tt(r,{code:ze.invalid_type,expected:st.never,received:r.parsedType}),_t}}Vo.create=e=>new Vo({typeName:bt.ZodNever,...Tt(e)});class j0 extends It{_parse(t){if(this._getType(t)!==st.undefined){const n=this._getOrReturnCtx(t);return tt(n,{code:ze.invalid_type,expected:st.void,received:n.parsedType}),_t}return gs(t.data)}}j0.create=e=>new j0({typeName:bt.ZodVoid,...Tt(e)});class di extends It{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==st.array)return tt(r,{code:ze.invalid_type,expected:st.array,received:r.parsedType}),_t;if(s.exactLength!==null){const i=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(i||o)&&(tt(r,{code:i?ze.too_big:ze.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(tt(r,{code:ze.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(tt(r,{code:ze.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>s.type._parseAsync(new eo(r,i,r.path,o)))).then(i=>ss.mergeArray(n,i));const a=[...r.data].map((i,o)=>s.type._parseSync(new eo(r,i,r.path,o)));return ss.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new di({...this._def,minLength:{value:t,message:dt.toString(r)}})}max(t,r){return new di({...this._def,maxLength:{value:t,message:dt.toString(r)}})}length(t,r){return new di({...this._def,exactLength:{value:t,message:dt.toString(r)}})}nonempty(t){return this.min(1,t)}}di.create=(e,t)=>new di({type:e,minLength:null,maxLength:null,exactLength:null,typeName:bt.ZodArray,...Tt(t)});function yd(e){if(e instanceof Dr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Zi.create(yd(n))}return new Dr({...e._def,shape:()=>t})}else return e instanceof di?new di({...e._def,type:yd(e.element)}):e instanceof Zi?Zi.create(yd(e.unwrap())):e instanceof ic?ic.create(yd(e.unwrap())):e instanceof to?to.create(e.items.map(t=>yd(t))):e}class Dr extends It{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=qt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==st.object){const u=this._getOrReturnCtx(t);return tt(u,{code:ze.invalid_type,expected:st.object,received:u.parsedType}),_t}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Vo&&this._def.unknownKeys==="strip"))for(const u in s.data)i.includes(u)||o.push(u);const c=[];for(const u of i){const d=a[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new eo(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Vo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")o.length>0&&(tt(s,{code:ze.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new eo(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>ss.mergeObjectSync(n,u)):ss.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return dt.errToObj,new Dr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,a,i,o;const c=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=dt.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Dr({...this._def,unknownKeys:"strip"})}passthrough(){return new Dr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Dr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Dr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:bt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Dr({...this._def,catchall:t})}pick(t){const r={};return qt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Dr({...this._def,shape:()=>r})}omit(t){const r={};return qt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Dr({...this._def,shape:()=>r})}deepPartial(){return yd(this)}partial(t){const r={};return qt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new Dr({...this._def,shape:()=>r})}required(t){const r={};return qt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Zi;)a=a._def.innerType;r[n]=a}}),new Dr({...this._def,shape:()=>r})}keyof(){return rF(qt.objectKeys(this.shape))}}Dr.create=(e,t)=>new Dr({shape:()=>e,unknownKeys:"strip",catchall:Vo.create(),typeName:bt.ZodObject,...Tt(t)});Dr.strictCreate=(e,t)=>new Dr({shape:()=>e,unknownKeys:"strict",catchall:Vo.create(),typeName:bt.ZodObject,...Tt(t)});Dr.lazycreate=(e,t)=>new Dr({shape:e,unknownKeys:"strip",catchall:Vo.create(),typeName:bt.ZodObject,...Tt(t)});class Cm extends It{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new la(o.ctx.common.issues));return tt(r,{code:ze.invalid_union,unionErrors:i}),_t}if(r.common.async)return Promise.all(n.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new la(c));return tt(r,{code:ze.invalid_union,unionErrors:o}),_t}}get options(){return this._def.options}}Cm.create=(e,t)=>new Cm({options:e,typeName:bt.ZodUnion,...Tt(t)});const wo=e=>e instanceof Em?wo(e.schema):e instanceof wi?wo(e.innerType()):e instanceof Am?[e.value]:e instanceof ac?e.options:e instanceof Tm?qt.objectValues(e.enum):e instanceof Lm?wo(e._def.innerType):e instanceof Nm?[void 0]:e instanceof jm?[null]:e instanceof Zi?[void 0,...wo(e.unwrap())]:e instanceof ic?[null,...wo(e.unwrap())]:e instanceof QN||e instanceof Rm?wo(e.unwrap()):e instanceof Dm?wo(e._def.innerType):[];class H1 extends It{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.object)return tt(r,{code:ze.invalid_type,expected:st.object,received:r.parsedType}),_t;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(tt(r,{code:ze.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_t)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const a of r){const i=wo(a.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,a)}}return new H1({typeName:bt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Tt(n)})}}function X5(e,t){const r=Cl(e),n=Cl(t);if(e===t)return{valid:!0,data:e};if(r===st.object&&n===st.object){const s=qt.objectKeys(t),a=qt.objectKeys(e).filter(o=>s.indexOf(o)!==-1),i={...e,...t};for(const o of a){const c=X5(e[o],t[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(r===st.array&&n===st.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],o=t[a],c=X5(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===st.date&&n===st.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class km extends It{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,i)=>{if(Y5(a)||Y5(i))return _t;const o=X5(a.value,i.value);return o.valid?((K5(a)||K5(i))&&r.dirty(),{status:r.value,value:o.data}):(tt(n,{code:ze.invalid_intersection_types}),_t)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}km.create=(e,t,r)=>new km({left:e,right:t,typeName:bt.ZodIntersection,...Tt(r)});class to extends It{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.array)return tt(n,{code:ze.invalid_type,expected:st.array,received:n.parsedType}),_t;if(n.data.length<this._def.items.length)return tt(n,{code:ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_t;!this._def.rest&&n.data.length>this._def.items.length&&(tt(n,{code:ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new eo(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>ss.mergeArray(r,i)):ss.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new to({...this._def,rest:t})}}to.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new to({items:e,typeName:bt.ZodTuple,rest:null,...Tt(t)})};class Pm extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.object)return tt(n,{code:ze.invalid_type,expected:st.object,received:n.parsedType}),_t;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in n.data)s.push({key:a._parse(new eo(n,o,n.path,o)),value:i._parse(new eo(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?ss.mergeObjectAsync(r,s):ss.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof It?new Pm({keyType:t,valueType:r,typeName:bt.ZodRecord,...Tt(n)}):new Pm({keyType:li.create(),valueType:t,typeName:bt.ZodRecord,...Tt(r)})}}class C0 extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.map)return tt(n,{code:ze.invalid_type,expected:st.map,received:n.parsedType}),_t;const s=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([o,c],u)=>({key:s._parse(new eo(n,o,n.path,[u,"key"])),value:a._parse(new eo(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return _t;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return _t;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}C0.create=(e,t,r)=>new C0({valueType:t,keyType:e,typeName:bt.ZodMap,...Tt(r)});class yu extends It{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==st.set)return tt(n,{code:ze.invalid_type,expected:st.set,received:n.parsedType}),_t;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(tt(n,{code:ze.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(tt(n,{code:ze.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return _t;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new eo(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(t,r){return new yu({...this._def,minSize:{value:t,message:dt.toString(r)}})}max(t,r){return new yu({...this._def,maxSize:{value:t,message:dt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}yu.create=(e,t)=>new yu({valueType:e,minSize:null,maxSize:null,typeName:bt.ZodSet,...Tt(t)});class sh extends It{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.function)return tt(r,{code:ze.invalid_type,expected:st.function,received:r.parsedType}),_t;function n(o,c){return S0({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,b0(),Th].filter(u=>!!u),issueData:{code:ze.invalid_arguments,argumentsError:c}})}function s(o,c){return S0({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,b0(),Th].filter(u=>!!u),issueData:{code:ze.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Dh){const o=this;return gs(async function(...c){const u=new la([]),d=await o._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(n(c,p)),u}),h=await Reflect.apply(i,this,d);return await o._def.returns._def.type.parseAsync(h,a).catch(p=>{throw u.addIssue(s(h,p)),u})})}else{const o=this;return gs(function(...c){const u=o._def.args.safeParse(c,a);if(!u.success)throw new la([n(c,u.error)]);const d=Reflect.apply(i,this,u.data),h=o._def.returns.safeParse(d,a);if(!h.success)throw new la([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new sh({...this._def,args:to.create(t).rest(au.create())})}returns(t){return new sh({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new sh({args:t||to.create([]).rest(au.create()),returns:r||au.create(),typeName:bt.ZodFunction,...Tt(n)})}}class Em extends It{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Em.create=(e,t)=>new Em({getter:e,typeName:bt.ZodLazy,...Tt(t)});class Am extends It{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return tt(r,{received:r.data,code:ze.invalid_literal,expected:this._def.value}),_t}return{status:"valid",value:t.data}}get value(){return this._def.value}}Am.create=(e,t)=>new Am({value:e,typeName:bt.ZodLiteral,...Tt(t)});function rF(e,t){return new ac({values:e,typeName:bt.ZodEnum,...Tt(t)})}class ac extends It{constructor(){super(...arguments),ip.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return tt(r,{expected:qt.joinValues(n),received:r.parsedType,code:ze.invalid_type}),_t}if(_0(this,ip)||J8(this,ip,new Set(this._def.values)),!_0(this,ip).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return tt(r,{received:r.data,code:ze.invalid_enum_value,options:n}),_t}return gs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ac.create(t,{...this._def,...r})}exclude(t,r=this._def){return ac.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ip=new WeakMap;ac.create=rF;class Tm extends It{constructor(){super(...arguments),op.set(this,void 0)}_parse(t){const r=qt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==st.string&&n.parsedType!==st.number){const s=qt.objectValues(r);return tt(n,{expected:qt.joinValues(s),received:n.parsedType,code:ze.invalid_type}),_t}if(_0(this,op)||J8(this,op,new Set(qt.getValidEnumValues(this._def.values))),!_0(this,op).has(t.data)){const s=qt.objectValues(r);return tt(n,{received:n.data,code:ze.invalid_enum_value,options:s}),_t}return gs(t.data)}get enum(){return this._def.values}}op=new WeakMap;Tm.create=(e,t)=>new Tm({values:e,typeName:bt.ZodNativeEnum,...Tt(t)});class Dh extends It{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==st.promise&&r.common.async===!1)return tt(r,{code:ze.invalid_type,expected:st.promise,received:r.parsedType}),_t;const n=r.parsedType===st.promise?r.data:Promise.resolve(r.data);return gs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Dh.create=(e,t)=>new Dh({type:e,typeName:bt.ZodPromise,...Tt(t)});class wi extends It{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{tt(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(n.data,a);if(n.common.async)return Promise.resolve(i).then(async o=>{if(r.value==="aborted")return _t;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?_t:c.status==="dirty"||r.value==="dirty"?Md(c.value):c});{if(r.value==="aborted")return _t;const o=this._def.schema._parseSync({data:i,path:n.path,parent:n});return o.status==="aborted"?_t:o.status==="dirty"||r.value==="dirty"?Md(o.value):o}}if(s.type==="refinement"){const i=o=>{const c=s.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?_t:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?_t:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!bm(i))return i;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>bm(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:r.value,value:o})):i);qt.assertNever(s)}}wi.create=(e,t,r)=>new wi({schema:e,typeName:bt.ZodEffects,effect:t,...Tt(r)});wi.createWithPreprocess=(e,t,r)=>new wi({schema:t,effect:{type:"preprocess",transform:e},typeName:bt.ZodEffects,...Tt(r)});class Zi extends It{_parse(t){return this._getType(t)===st.undefined?gs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zi.create=(e,t)=>new Zi({innerType:e,typeName:bt.ZodOptional,...Tt(t)});class ic extends It{_parse(t){return this._getType(t)===st.null?gs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ic.create=(e,t)=>new ic({innerType:e,typeName:bt.ZodNullable,...Tt(t)});class Lm extends It{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===st.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Lm.create=(e,t)=>new Lm({innerType:e,typeName:bt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Tt(t)});class Dm extends It{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sm(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new la(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new la(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Dm.create=(e,t)=>new Dm({innerType:e,typeName:bt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Tt(t)});class k0 extends It{_parse(t){if(this._getType(t)!==st.nan){const n=this._getOrReturnCtx(t);return tt(n,{code:ze.invalid_type,expected:st.nan,received:n.parsedType}),_t}return{status:"valid",value:t.data}}}k0.create=e=>new k0({typeName:bt.ZodNaN,...Tt(e)});const dce=Symbol("zod_brand");class QN extends It{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class dg extends It{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_t:a.status==="dirty"?(r.dirty(),Md(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_t:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new dg({in:t,out:r,typeName:bt.ZodPipeline})}}class Rm extends It{_parse(t){const r=this._def.innerType._parse(t),n=s=>(bm(s)&&(s.value=Object.freeze(s.value)),s);return Sm(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Rm.create=(e,t)=>new Rm({innerType:e,typeName:bt.ZodReadonly,...Tt(t)});function nF(e,t={},r){return e?Lh.create().superRefine((n,s)=>{var a,i;if(!e(n)){const o=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(i=(a=o.fatal)!==null&&a!==void 0?a:r)!==null&&i!==void 0?i:!0,u=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...u,fatal:c})}}):Lh.create()}const hce={object:Dr.lazycreate};var bt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(bt||(bt={}));const fce=(e,t={message:`Input not instance of ${e.name}`})=>nF(r=>r instanceof e,t),Ap=li.create,sF=nc.create,pce=k0.create,mce=sc.create,aF=_m.create,gce=gu.create,yce=N0.create,vce=Nm.create,xce=jm.create,wce=Lh.create,bce=au.create,Sce=Vo.create,_ce=j0.create,Nce=di.create,iF=Dr.create,jce=Dr.strictCreate,Cce=Cm.create,kce=H1.create,Pce=km.create,Ece=to.create,Ace=Pm.create,Tce=C0.create,Lce=yu.create,Dce=sh.create,Rce=Em.create,Oce=Am.create,Mce=ac.create,Ice=Tm.create,Fce=Dh.create,mE=wi.create,Bce=Zi.create,$ce=ic.create,Uce=wi.createWithPreprocess,Vce=dg.create,zce=()=>Ap().optional(),qce=()=>sF().optional(),Wce=()=>aF().optional(),Hce={string:e=>li.create({...e,coerce:!0}),number:e=>nc.create({...e,coerce:!0}),boolean:e=>_m.create({...e,coerce:!0}),bigint:e=>sc.create({...e,coerce:!0}),date:e=>gu.create({...e,coerce:!0})},Gce=_t;var b2=Object.freeze({__proto__:null,defaultErrorMap:Th,setErrorMap:Yle,getErrorMap:b0,makeIssue:S0,EMPTY_PATH:Kle,addIssueToContext:tt,ParseStatus:ss,INVALID:_t,DIRTY:Md,OK:gs,isAborted:Y5,isDirty:K5,isValid:bm,isAsync:Sm,get util(){return qt},get objectUtil(){return G5},ZodParsedType:st,getParsedType:Cl,ZodType:It,datetimeRegex:tF,ZodString:li,ZodNumber:nc,ZodBigInt:sc,ZodBoolean:_m,ZodDate:gu,ZodSymbol:N0,ZodUndefined:Nm,ZodNull:jm,ZodAny:Lh,ZodUnknown:au,ZodNever:Vo,ZodVoid:j0,ZodArray:di,ZodObject:Dr,ZodUnion:Cm,ZodDiscriminatedUnion:H1,ZodIntersection:km,ZodTuple:to,ZodRecord:Pm,ZodMap:C0,ZodSet:yu,ZodFunction:sh,ZodLazy:Em,ZodLiteral:Am,ZodEnum:ac,ZodNativeEnum:Tm,ZodPromise:Dh,ZodEffects:wi,ZodTransformer:wi,ZodOptional:Zi,ZodNullable:ic,ZodDefault:Lm,ZodCatch:Dm,ZodNaN:k0,BRAND:dce,ZodBranded:QN,ZodPipeline:dg,ZodReadonly:Rm,custom:nF,Schema:It,ZodSchema:It,late:hce,get ZodFirstPartyTypeKind(){return bt},coerce:Hce,any:wce,array:Nce,bigint:mce,boolean:aF,date:gce,discriminatedUnion:kce,effect:mE,enum:Mce,function:Dce,instanceof:fce,intersection:Pce,lazy:Rce,literal:Oce,map:Tce,nan:pce,nativeEnum:Ice,never:Sce,null:xce,nullable:$ce,number:sF,object:iF,oboolean:Wce,onumber:qce,optional:Bce,ostring:zce,pipeline:Vce,preprocess:Uce,promise:Fce,record:Ace,set:Lce,strictObject:jce,string:Ap,symbol:yce,transformer:mE,tuple:Ece,undefined:vce,union:Cce,unknown:bce,void:_ce,NEVER:Gce,ZodIssueCode:ze,quotelessJson:Gle,ZodError:la});const gE=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ke(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},oF=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?gE(n.ref,r,e):n.refs&&n.refs.forEach(s=>gE(s,r,e))}},Yce=(e,t)=>{t.shouldUseNativeValidation&&oF(e,t);const r={};for(const n in e){const s=Ke(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(Kce(t.names||Object.keys(e),n)){const i=Object.assign({},Ke(r,n));er(i,"root",a),er(r,n,i)}else er(r,n,a)}return r},Kce=(e,t)=>e.some(r=>r.startsWith(t+"."));var Xce=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=$8(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},lF=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(i,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&oF({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(i){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(i))return{values:{},errors:Yce(Xce(i.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw i}))}catch(i){return Promise.reject(i)}}};const Zce=b2.object({transactionName:b2.string().min(1,"Transaction name is required"),businessName:b2.string().optional()}),Jce=({onTransactionCreated:e})=>{const[t,r]=v.useState(!1),n=xs(),{toast:s}=ir(),{user:a}=Ar(),i=G8({resolver:lF(Zce),defaultValues:{transactionName:"",businessName:""}}),o=async c=>{r(!0);try{const u={id:$U("txn"),name:c.transactionName,date:new Date().toISOString(),totalAmount:0,status:"pending",loadBuy:void 0,transportation:void 0,loadSold:void 0,payments:[],notes:[],attachments:[],businessName:c.businessName||void 0,updatedAt:new Date().toISOString(),user_id:a==null?void 0:a.id};await ap.addTransaction(u),i.reset(),s({title:"Transaction Created",description:"Your new transaction has been created successfully."}),e&&e(),n(`/transaction/${u.id}`)}catch(u){console.error("Error creating transaction:",u),s({title:"Error",description:"Failed to create transaction. Please try again.",variant:"destructive"})}finally{r(!1)}};return l.jsx(Y8,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[l.jsx(Ep,{control:i.control,name:"transactionName",render:({field:c})=>l.jsxs(eh,{children:[l.jsx(th,{children:"Transaction Name"}),l.jsx(rh,{children:l.jsx(Le,{...c,placeholder:"Enter transaction name"})}),l.jsx(nh,{})]})}),l.jsx(Ep,{control:i.control,name:"businessName",render:({field:c})=>l.jsxs(eh,{children:[l.jsx(th,{children:"Business Name"}),l.jsx(rh,{children:l.jsx(Le,{...c,placeholder:"Enter business name"})}),l.jsx(nh,{})]})}),l.jsx(Se,{type:"submit",disabled:t,children:t?"Creating...":"Create Transaction"})]})})},Qce=()=>l.jsx("div",{className:"container mx-auto py-8",children:l.jsxs(kr,{className:"max-w-2xl mx-auto",children:[l.jsx(Ir,{children:l.jsx(Fr,{className:"text-2xl",children:"Create New Transaction"})}),l.jsx(vr,{children:l.jsx(Jce,{})})]})}),eue=[{code:"en",name:"English",nativeName:"English"},{code:"hi",name:"Hindi",nativeName:"हिन्दी"},{code:"bn",name:"Bengali",nativeName:"বাংলা"},{code:"te",name:"Telugu",nativeName:"తెలుగు"},{code:"ta",name:"Tamil",nativeName:"தமிழ்"},{code:"pa",name:"Punjabi",nativeName:"ਪੰਜਾਬੀ"}],S2={en:{sign_in:"Sign In",sign_up:"Create Account",email:"Email",phone:"Phone Number",password:"Password",confirm_password:"Confirm Password",name:"Full Name",forgot_password:"Forgot password?",reset_password:"Reset Password",verify_otp:"Verify OTP",send_otp:"Send OTP",resend_otp:"Resend OTP",dont_have_account:"Don't have an account? Sign up",already_have_account:"Already have an account? Sign in",settings:"Settings",profile:"Profile",change_password:"Change Password",language:"Language",currency:"Currency",date_format:"Date Format",default_view:"Default View",theme:"Theme",font_size:"Font Size",save:"Save",cancel:"Cancel",old_password:"Old Password",new_password:"New Password",calculations:"Calculations",tax_calculator:"Tax Calculator",interest_calculator:"Interest Calculator",currency_converter:"Currency Converter",calculate:"Calculate",result:"Result"},hi:{sign_in:"साइन इन करें",sign_up:"खाता बनाएं",email:"ईमेल",phone:"फ़ोन नंबर",password:"पासवर्ड",confirm_password:"पासवर्ड की पुष्टि करें",name:"पूरा नाम",forgot_password:"पासवर्ड भूल गए?",reset_password:"पासवर्ड रीसेट करें",verify_otp:"OTP सत्यापित करें",send_otp:"OTP भेजें",resend_otp:"OTP पुनः भेजें",dont_have_account:"खाता नहीं है? साइन अप करें",already_have_account:"पहले से ही खाता है? साइन इन करें",settings:"सेटिंग्स",profile:"प्रोफ़ाइल",change_password:"पासवर्ड बदलें",language:"भाषा",currency:"मुद्रा",date_format:"दिनांक प्रारूप",default_view:"डिफ़ॉल्ट दृश्य",theme:"थीम",font_size:"फ़ॉन्ट आकार",save:"सेव करें",cancel:"रद्द करें",old_password:"पुराना पासवर्ड",new_password:"नया पासवर्ड",calculations:"गणना",tax_calculator:"कर कैलकुलेटर",interest_calculator:"ब्याज कैलकुलेटर",currency_converter:"मुद्रा परिवर्तक",calculate:"गणना करें",result:"परिणाम"},bn:{sign_in:"সাইন ইন",sign_up:"অ্যাকাউন্ট তৈরি করুন",email:"ইমেইল",phone:"ফোন নম্বর",password:"পাসওয়ার্ড",confirm_password:"পাসওয়ার্ড নিশ্চিত করুন",name:"পুরো নাম",forgot_password:"পাসওয়ার্ড ভুলে গেছেন?",reset_password:"পাসওয়ার্ড রিসেট",verify_otp:"OTP যাচাই করুন",send_otp:"OTP পাঠান",resend_otp:"OTP আবার পাঠান",dont_have_account:"অ্যাকাউন্ট নেই? সাইন আপ করুন",already_have_account:"ইতিমধ্যে একটি অ্যাকাউন্ট আছে? সাইন ইন করুন",settings:"সেটিংস",profile:"প্রোফাইল",change_password:"পাসওয়ার্ড পরিবর্তন করুন",language:"ভাষা",currency:"মুদ্রা",date_format:"তারিখ ফরম্যাট",default_view:"ডিফল্ট ভিউ",theme:"থিম",font_size:"ফন্ট সাইজ",save:"সংরক্ষণ করুন",cancel:"বাতিল করুন",old_password:"পুরানো পাসওয়ার্ড",new_password:"নতুন পাসওয়ার্ড",calculations:"গণনা",tax_calculator:"ট্যাক্স ক্যালকুলেটর",interest_calculator:"সুদ ক্যালকুলেটর",currency_converter:"মুদ্রা কনভার্টার",calculate:"গণনা করুন",result:"ফলাফল"},te:{sign_in:"సైన్ ఇన్",sign_up:"ఖాతా సృష్టించండి",email:"ఇమెయిల్",phone:"ఫోన్ నంబర్",password:"పాస్‌వర్డ్",confirm_password:"పాస్‌వర్డ్ నిర్ధారించండి",name:"పూర్తి పేరు",forgot_password:"పాస్‌వర్డ్ మర్చిపోయారా?",reset_password:"పాస్‌వర్డ్ రీసెట్ చేయండి",verify_otp:"OTP ధృవీకరించండి",send_otp:"OTP పంపండి",resend_otp:"OTP మళ్ళీ పంపండి",dont_have_account:"ఖాతా లేదా? సైన్ అప్ చేయండి",already_have_account:"ఇప్పటికే ఖాతా ఉందా? సైన్ ఇన్ చేయండి",settings:"సెట్టింగ్‌లు",profile:"ప్రొఫైల్",change_password:"పాస్‌వర్డ్ మార్చండి",language:"భాష",currency:"కరెన్సీ",date_format:"తేదీ ఫార్మాట్",default_view:"డిఫాల్ట్ వీక్షణ",theme:"థీమ్",font_size:"ఫాంట్ సైజు",save:"సేవ్ చేయండి",cancel:"రద్దు చేయండి",old_password:"పాత పాస్‌వర్డ్",new_password:"కొత్త పాస్‌వర్డ్",calculations:"లెక్కింపులు",tax_calculator:"పన్ను క్యాల్క్యులేటర్",interest_calculator:"వడ్డీ క్యాల్క్యులేటర్",currency_converter:"కరెన్సీ కన్వర్టర్",calculate:"లెక్కించండి",result:"ఫలితం"},ta:{sign_in:"உள்நுழைக",sign_up:"கணக்கை உருவாக்குக",email:"மின்னஞ்சல்",phone:"தொலைபேசி எண்",password:"கடவுச்சொல்",confirm_password:"கடவுச்சொல்லை உறுதிப்படுத்துக",name:"முழு பெயர்",forgot_password:"கடவுச்சொல் மறந்துவிட்டீர்களா?",reset_password:"கடவுச்சொல்லை மீட்டமைக்க",verify_otp:"OTP ஐ சரிபார்க்கவும்",send_otp:"OTP அனுப்பு",resend_otp:"OTP ஐ மீண்டும் அனுப்பு",dont_have_account:"கணக்கு இல்லையா? பதிவு செய்யுங்கள்",already_have_account:"ஏற்கனவே கணக்கு உள்ளதா? உள்நுழைக",settings:"அமைப்புகள்",profile:"சுயவிவரம்",change_password:"கடவுச்சொல்லை மாற்று",language:"மொழி",currency:"நாணயம்",date_format:"தேதி வடிவம்",default_view:"இயல்புநிலை காட்சி",theme:"தீம்",font_size:"எழுத்துரு அளவு",save:"சேமி",cancel:"ரத்து செய்",old_password:"பழைய கடவுச்சொல்",new_password:"புதிய கடவுச்சொல்",calculations:"கணக்கீடுகள்",tax_calculator:"வரி கால்குலேட்டர்",interest_calculator:"வட்டி கால்குலேட்டர்",currency_converter:"நாணய மாற்றி",calculate:"கணக்கிடு",result:"முடிவு"},pa:{sign_in:"ਸਾਈਨ ਇਨ",sign_up:"ਖਾਤਾ ਬਣਾਓ",email:"ਈਮੇਲ",phone:"ਫੋਨ ਨੰਬਰ",password:"ਪਾਸਵਰਡ",confirm_password:"ਪਾਸਵਰਡ ਦੀ ਪੁਸ਼ਟੀ ਕਰੋ",name:"ਪੂਰਾ ਨਾਮ",forgot_password:"ਪਾਸਵਰਡ ਭੁੱਲ ਗਏ?",reset_password:"ਪਾਸਵਰਡ ਰੀਸੈਟ ਕਰੋ",verify_otp:"OTP ਦੀ ਪੁਸ਼ਟੀ ਕਰੋ",send_otp:"OTP ਭੇਜੋ",resend_otp:"OTP ਦੁਬਾਰਾ ਭੇਜੋ",dont_have_account:"ਖਾਤਾ ਨਹੀਂ ਹੈ? ਸਾਈਨ ਅੱਪ ਕਰੋ",already_have_account:"ਪਹਿਲਾਂ ਤੋਂ ਹੀ ਖਾਤਾ ਹੈ? ਸਾਈਨ ਇਨ ਕਰੋ",settings:"ਸੈਟਿੰਗਾਂ",profile:"ਪ੍ਰੋਫਾਈਲ",change_password:"ਪਾਸਵਰਡ ਬਦਲੋ",language:"ਭਾਸ਼ਾ",currency:"ਮੁਦਰਾ",date_format:"ਤਾਰੀਖ ਫਾਰਮੈਟ",default_view:"ਡਿਫੌਲਟ ਵਿਊ",theme:"ਥੀਮ",font_size:"ਫੋਂਟ ਆਕਾਰ",save:"ਸੰਭਾਲੋ",cancel:"ਰੱਦ ਕਰੋ",old_password:"ਪੁਰਾਣਾ ਪਾਸਵਰਡ",new_password:"ਨਵਾਂ ਪਾਸਵਰਡ",calculations:"ਗਣਨਾ",tax_calculator:"ਟੈਕਸ ਕੈਲਕੁਲੇਟਰ",interest_calculator:"ਵਿਆਜ ਕੈਲਕੁਲੇਟਰ",currency_converter:"ਮੁਦਰਾ ਕਨਵਰਟਰ",calculate:"ਗਣਨਾ ਕਰੋ",result:"ਨਤੀਜਾ"}},Z5="en",cF=v.createContext({language:Z5,setLanguage:()=>{},t:e=>e}),uF=({children:e})=>{const[t,r]=v.useState(()=>{const a=localStorage.getItem("language");return a&&S2[a]?a:Z5}),n=a=>{r(a),localStorage.setItem("language",a)},s=a=>{var i;return((i=S2[t])==null?void 0:i[a])||S2[Z5][a]||a};return l.jsx(cF.Provider,{value:{language:t,setLanguage:n,t:s},children:e})},ej=()=>v.useContext(cF),tue=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!0),[s,a]=v.useState(null),{user:i}=Ar(),{toast:o}=ir(),c=()=>navigator.onLine;v.useEffect(()=>{if(i){const h=localStorage.getItem(`lastSyncTime_${i.id}`);h&&a(parseInt(h,10)),u()}},[i]),v.useEffect(()=>{const h=()=>{r||d()};return window.addEventListener("online",h),window.addEventListener("offline",()=>u()),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",()=>u())}},[r]);const u=v.useCallback(async()=>{if(i)try{const f=(await ap.getAllTransactions()).filter(p=>!p.syncedAt||new Date(p.syncedAt).getTime()<new Date(p.updatedAt||p.date).getTime());n(f.length===0)}catch(h){console.error("Error checking unsynced changes:",h),n(!1)}},[i]),d=v.useCallback(async()=>{if(!i||!c()){o({title:"Sync failed",description:"You are offline. Please connect to the internet and try again.",variant:"destructive"});return}t(!0);try{const h=await ap.getAllTransactions();for(const g of h){if(g.syncedAt&&new Date(g.syncedAt).getTime()>=new Date(g.updatedAt||g.date).getTime())continue;const y={...g,user_id:i.id,syncedAt:new Date().toISOString()},{data:S}=await We.from("transactions").select("id").eq("id",g.id).eq("user_id",i.id).single();S?await We.from("transactions").update(y).eq("id",g.id).eq("user_id",i.id):await We.from("transactions").insert(y),await ap.updateTransaction({...g,syncedAt:new Date().toISOString()})}const{data:f}=await We.from("transactions").select("*").eq("user_id",i.id);if(f){const g=new Set(h.map(S=>S.id)),y=f.filter(S=>S&&"id"in S&&!g.has(S.id));for(const S of y)S&&await ap.addTransaction(S)}const p=Date.now();a(p),localStorage.setItem(`lastSyncTime_${i.id}`,p.toString()),n(!0),o({title:"Sync successful",description:"All your transactions have been synced to the cloud."})}catch(h){console.error("Sync error:",h),n(!1),o({title:"Sync failed",description:"There was an error syncing your data. Please try again.",variant:"destructive"})}finally{t(!1)}},[i,o]);return{isSyncing:e,isAllSynced:r,lastSyncTime:s,sync:d,checkUnsyncedChanges:u}},G1=({businessName:e="TransactLy",pageTitle:t,onEditName:r,children:n,onExport:s})=>{const{user:a,signOut:i}=Ar(),o=xs(),{isSyncing:c,isAllSynced:u,sync:d,lastSyncTime:h}=tue(),f=async()=>{await i(),o("/auth")},p=a!=null&&a.email?a.email[0].toUpperCase():"U",g=t||e;return l.jsxs("header",{className:"bg-background sticky top-0 z-10 border-b border-border",children:[l.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(yW,{to:"/",className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-md bg-primary flex items-center justify-center",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"}),l.jsx("path",{d:"M4 6v12c0 1.1.9 2 2 2h14v-4"}),l.jsx("path",{d:"M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z"})]})}),l.jsx("span",{className:"font-semibold text-lg",children:g})]})}),l.jsxs("div",{className:"flex items-center gap-3",children:[n,a&&l.jsxs(l.Fragment,{children:[l.jsxs(Se,{variant:u?"outline":"default",size:"sm",className:`gap-2 ${u?"":"animate-pulse"}`,onClick:d,disabled:c,children:[l.jsx(du,{className:`h-4 w-4 ${c?"animate-spin":""}`}),c?"Syncing...":u?"Synced":"Sync Now"]}),l.jsxs(i0,{children:[l.jsx(o0,{asChild:!0,children:l.jsx(Se,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8 p-0",children:l.jsx(cm,{className:"h-8 w-8",children:l.jsx(um,{children:p})})})}),l.jsxs(fm,{align:"end",children:[l.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:a==null?void 0:a.email}),l.jsx(Gd,{}),l.jsxs(No,{onClick:()=>o("/profile"),children:[l.jsx(jb,{className:"h-4 w-4 mr-2"}),"Profile"]}),l.jsx(Gd,{}),l.jsxs(No,{onClick:f,children:[l.jsx(_b,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]}),l.jsx(pm,{})]})]}),h&&l.jsxs("div",{className:"container mx-auto px-4 py-1 text-xs text-muted-foreground",children:["Last synced: ",new Date(h).toLocaleString()]})]})},_2=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),yE=e=>/^\+?[0-9]{10,15}$/.test(e),rue=()=>{const e=xs(),{user:t,signIn:r,signUp:n,signInWithPhone:s}=Ar(),{t:a}=ej(),{toast:i}=ir(),[o,c]=v.useState("signin"),[u,d]=v.useState(""),[h,f]=v.useState(null),[p,g]=v.useState(""),[y,S]=v.useState(""),[b,w]=v.useState(!1),[N,C]=v.useState(""),[P,M]=v.useState(""),[R,T]=v.useState(""),[H,Q]=v.useState(!1);v.useEffect(()=>{_2(u)?f("email"):yE(u)?f("phone"):f(null)},[u]),v.useEffect(()=>{C(""),M(""),w(!1),Q(!1),o==="signin"?(T(""),g(""),S("")):(d(""),f(null))},[o]),v.useEffect(()=>{t&&e("/")},[t,e]);const L=async F=>{F.preventDefault(),Q(!0);try{if(!u)throw new Error("Please enter an email or phone number");if(h==="email"){if(!N)throw new Error("Please enter your password");await r(u,N)}else if(h==="phone")await s(u),sessionStorage.setItem("verifyPhone",u),e("/verify-otp");else throw new Error("Please enter a valid email or phone number")}catch(K){i({title:"Sign In Failed",description:K.message||"An error occurred during sign in.",variant:"destructive"})}finally{Q(!1)}},E=async F=>{F.preventDefault(),Q(!0);try{if(!R)throw new Error("Please enter your name");if(!p)throw new Error("Please enter your email address");if(!_2(p))throw new Error("Please enter a valid email address");if(!y)throw new Error("Please enter your phone number");if(!yE(y))throw new Error("Please enter a valid phone number (e.g., +1234567890)");if(!N)throw new Error("Please enter a password");if(N.length<6)throw new Error("Password must be at least 6 characters");if(N!==P)throw new Error("Passwords do not match");await n(p,N,R,y),T(""),g(""),S(""),C(""),M(""),c("signin"),i({title:"Account Created",description:"Your account has been created successfully. Please check your email for verification and then sign in."})}catch(K){i({title:"Sign Up Failed",description:K.message||"An error occurred during registration.",variant:"destructive"})}finally{Q(!1)}},W=()=>{if(!u||!_2(u)){i({title:"Valid Email Required",description:"Please enter the email address associated with your account to reset your password.",variant:"destructive"});return}e("/reset-password",{state:{email:u}})};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(G1,{businessName:"TransactLy"}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsx(Us.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-md",children:l.jsxs(kr,{className:"border shadow-lg",children:[l.jsxs(Ir,{className:"space-y-1",children:[l.jsx(Fr,{className:"text-2xl text-center",children:a(o==="signin"?"sign_in":"sign_up")}),l.jsx(Fs,{className:"text-center",children:o==="signin"?"Enter your email/phone to sign in to your account":"Create a new account to get started"})]}),l.jsx(vr,{children:l.jsxs(su,{value:o,onValueChange:c,className:"w-full",children:[l.jsxs(Hl,{className:"grid w-full grid-cols-2 mb-6",children:[l.jsx(tn,{value:"signin",children:a("sign_in")}),l.jsx(tn,{value:"signup",children:a("sign_up")})]}),l.jsx(Gr,{value:"signin",children:l.jsxs("form",{onSubmit:L,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"signin-identifier",children:"Email or Phone Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(Le,{id:"signin-identifier",type:"text",placeholder:"Enter email or phone number",value:u,onChange:F=>d(F.target.value),className:"pl-10",required:!0}),l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:h==="email"?l.jsx(hw,{size:16}):h==="phone"?l.jsx(tU,{size:16}):l.jsx(hw,{size:16})})]})]}),h==="email"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(we,{htmlFor:"signin-password",children:a("password")}),l.jsx(Se,{type:"button",variant:"link",className:"px-0 text-xs",onClick:W,children:a("forgot_password")})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Le,{id:"signin-password",type:b?"text":"password",placeholder:"Enter your password",value:N,onChange:F=>C(F.target.value),className:"pr-10"}),l.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!b),children:b?l.jsx(H4,{size:16}):l.jsx(G4,{size:16})})]})]}),l.jsx(Se,{type:"submit",className:"w-full",disabled:H,children:H?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Processing..."]}):l.jsxs(l.Fragment,{children:[h==="phone"?"Continue with OTP":a("sign_in"),l.jsx(W4,{className:"ml-2 h-4 w-4"})]})})]})}),l.jsx(Gr,{value:"signup",children:l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"signup-name",children:a("name")}),l.jsx(Le,{id:"signup-name",placeholder:"Enter your full name",value:R,onChange:F=>T(F.target.value),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"signup-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Le,{id:"signup-email",type:"email",placeholder:"Enter your email address",value:p,onChange:F=>g(F.target.value),className:"pl-10",required:!0}),l.jsx(hw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"signup-phone",children:"Phone Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(Le,{id:"signup-phone",type:"tel",placeholder:"Enter your phone number (e.g., +1234567890)",value:y,onChange:F=>S(F.target.value),className:"pl-10",required:!0}),l.jsx(rU,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:16})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"signup-password",children:a("password")}),l.jsxs("div",{className:"relative",children:[l.jsx(Le,{id:"signup-password",type:b?"text":"password",placeholder:"Create a password (min. 6 characters)",value:N,onChange:F=>C(F.target.value),className:"pr-10",required:!0}),l.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>w(!b),children:b?l.jsx(H4,{size:16}):l.jsx(G4,{size:16})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"confirm-password",children:a("confirm_password")}),l.jsx(Le,{id:"confirm-password",type:b?"text":"password",placeholder:"Confirm your password",value:P,onChange:F=>M(F.target.value),required:!0})]}),l.jsx(Se,{type:"submit",className:"w-full",disabled:H,children:H?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Processing..."]}):l.jsxs(l.Fragment,{children:[a("sign_up"),l.jsx(W4,{className:"ml-2 h-4 w-4"})]})})]})})]})}),l.jsx(Bo,{className:"flex flex-col space-y-4 mt-4",children:l.jsx("div",{className:"text-sm text-center text-muted-foreground w-full",children:o==="signin"?l.jsxs("span",{children:[a("dont_have_account")," ",l.jsx(Se,{variant:"link",className:"p-0",onClick:()=>c("signup"),children:a("sign_up")})]}):l.jsxs("span",{children:[a("already_have_account")," ",l.jsx(Se,{variant:"link",className:"p-0",onClick:()=>c("signin"),children:a("sign_in")})]})})})]})})})]})};var nue=Object.defineProperty,sue=Object.defineProperties,aue=Object.getOwnPropertyDescriptors,P0=Object.getOwnPropertySymbols,dF=Object.prototype.hasOwnProperty,hF=Object.prototype.propertyIsEnumerable,vE=(e,t,r)=>t in e?nue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,iue=(e,t)=>{for(var r in t||(t={}))dF.call(t,r)&&vE(e,r,t[r]);if(P0)for(var r of P0(t))hF.call(t,r)&&vE(e,r,t[r]);return e},oue=(e,t)=>sue(e,aue(t)),lue=(e,t)=>{var r={};for(var n in e)dF.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&P0)for(var n of P0(e))t.indexOf(n)<0&&hF.call(e,n)&&(r[n]=e[n]);return r},cue="^\\d+$";function uue(e){let t=setTimeout(e,0),r=setTimeout(e,10),n=setTimeout(e,50);return[t,r,n]}function due(e){let t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}var hue=18,fF=40,fue=`${fF}px`,pue=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function mue({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:n}){let s=v.useRef({done:!1,refocused:!1}),[a,i]=v.useState(!1),[o,c]=v.useState(!1),[u,d]=v.useState(!1),h=v.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&a&&o,[a,o,r]),f=v.useCallback(()=>{let p=e.current,g=t.current;if(!p||!g||u||r==="none")return;let y=p,S=y.getBoundingClientRect().left+y.offsetWidth,b=y.getBoundingClientRect().top+y.offsetHeight/2,w=S-hue,N=b;if(!(document.querySelectorAll(pue).length===0&&document.elementFromPoint(w,N)===p)&&(i(!0),d(!0),!s.current.refocused&&document.activeElement===g)){let C=[g.selectionStart,g.selectionEnd];g.blur(),g.focus(),g.setSelectionRange(C[0],C[1]),s.current.refocused=!0}},[e,t,u,r]);return v.useEffect(()=>{let p=e.current;if(!p||r==="none")return;function g(){let S=window.innerWidth-p.getBoundingClientRect().right;c(S>=fF)}g();let y=setInterval(g,1e3);return()=>{clearInterval(y)}},[e,r]),v.useEffect(()=>{let p=n||document.activeElement===t.current;if(r==="none"||!p)return;let g=setTimeout(f,0),y=setTimeout(f,2e3),S=setTimeout(f,5e3),b=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(S),clearTimeout(b)}},[t,n,r,f]),{hasPWMBadge:a,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:fue}}var pF=v.createContext({}),mF=v.forwardRef((e,t)=>{var r=e,{value:n,onChange:s,maxLength:a,textAlign:i="left",pattern:o=cue,inputMode:c="numeric",onComplete:u,pushPasswordManagerStrategy:d="increase-width",containerClassName:h,noScriptCSSFallback:f=gue,render:p,children:g}=r,y=lue(r,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","containerClassName","noScriptCSSFallback","render","children"]),S,b,w,N,C;let[P,M]=v.useState(typeof y.defaultValue=="string"?y.defaultValue:""),R=n??P,T=due(R),H=v.useCallback(_e=>{s==null||s(_e),M(_e)},[s]),Q=v.useMemo(()=>o?typeof o=="string"?new RegExp(o):o:null,[o]),L=v.useRef(null),E=v.useRef(null),W=v.useRef({value:R,onChange:H,isIOS:typeof window<"u"&&((b=(S=window==null?void 0:window.CSS)==null?void 0:S.supports)==null?void 0:b.call(S,"-webkit-touch-callout","none"))}),F=v.useRef({prev:[(w=L.current)==null?void 0:w.selectionStart,(N=L.current)==null?void 0:N.selectionEnd,(C=L.current)==null?void 0:C.selectionDirection]});v.useImperativeHandle(t,()=>L.current,[]),v.useEffect(()=>{let _e=L.current,Ae=E.current;if(!_e||!Ae)return;W.current.value!==_e.value&&W.current.onChange(_e.value),F.current.prev=[_e.selectionStart,_e.selectionEnd,_e.selectionDirection];function Ye(){if(document.activeElement!==_e){ie(null),A(null);return}let Ze=_e.selectionStart,J=_e.selectionEnd,ee=_e.selectionDirection,oe=_e.maxLength,Ne=_e.value,ye=F.current.prev,be=-1,Ie=-1,qe;if(Ne.length!==0&&Ze!==null&&J!==null){let ut=Ze===J,Nt=Ze===Ne.length&&Ne.length<oe;if(ut&&!Nt){let He=Ze;if(He===0)be=0,Ie=1,qe="forward";else if(He===oe)be=He-1,Ie=He,qe="backward";else if(oe>1&&Ne.length>1){let br=0;if(ye[0]!==null&&ye[1]!==null){qe=He<ye[1]?"backward":"forward";let Ot=ye[0]===ye[1]&&ye[0]<oe;qe==="backward"&&!Ot&&(br=-1)}be=br+He,Ie=br+He+1}}be!==-1&&Ie!==-1&&be!==Ie&&L.current.setSelectionRange(be,Ie,qe)}let it=be!==-1?be:Ze,lt=Ie!==-1?Ie:J,Lt=qe??ee;ie(it),A(lt),F.current.prev=[it,lt,Lt]}if(document.addEventListener("selectionchange",Ye,{capture:!0}),Ye(),document.activeElement===_e&&I(!0),!document.getElementById("input-otp-style")){let Ze=document.createElement("style");if(Ze.id="input-otp-style",document.head.appendChild(Ze),Ze.sheet){let J="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Gf(Ze.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Gf(Ze.sheet,`[data-input-otp]:autofill { ${J} }`),Gf(Ze.sheet,`[data-input-otp]:-webkit-autofill { ${J} }`),Gf(Ze.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Gf(Ze.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let je=()=>{Ae&&Ae.style.setProperty("--root-height",`${_e.clientHeight}px`)};je();let re=new ResizeObserver(je);return re.observe(_e),()=>{document.removeEventListener("selectionchange",Ye,{capture:!0}),re.disconnect()}},[]);let[K,ne]=v.useState(!1),[Y,I]=v.useState(!1),[G,ie]=v.useState(null),[me,A]=v.useState(null);v.useEffect(()=>{uue(()=>{var _e,Ae,Ye,je;(_e=L.current)==null||_e.dispatchEvent(new Event("input"));let re=(Ae=L.current)==null?void 0:Ae.selectionStart,Ze=(Ye=L.current)==null?void 0:Ye.selectionEnd,J=(je=L.current)==null?void 0:je.selectionDirection;re!==null&&Ze!==null&&(ie(re),A(Ze),F.current.prev=[re,Ze,J])})},[R,Y]),v.useEffect(()=>{T!==void 0&&R!==T&&T.length<a&&R.length===a&&(u==null||u(R))},[a,u,T,R]);let V=mue({containerRef:E,inputRef:L,pushPasswordManagerStrategy:d,isFocused:Y}),X=v.useCallback(_e=>{let Ae=_e.currentTarget.value.slice(0,a);if(Ae.length>0&&Q&&!Q.test(Ae)){_e.preventDefault();return}typeof T=="string"&&Ae.length<T.length&&document.dispatchEvent(new Event("selectionchange")),H(Ae)},[a,H,T,Q]),ae=v.useCallback(()=>{var _e;if(L.current){let Ae=Math.min(L.current.value.length,a-1),Ye=L.current.value.length;(_e=L.current)==null||_e.setSelectionRange(Ae,Ye),ie(Ae),A(Ye)}I(!0)},[a]),q=v.useCallback(_e=>{var Ae,Ye;let je=L.current;if(!W.current.isIOS||!_e.clipboardData||!je)return;let re=_e.clipboardData.getData("text/plain");_e.preventDefault();let Ze=(Ae=L.current)==null?void 0:Ae.selectionStart,J=(Ye=L.current)==null?void 0:Ye.selectionEnd,ee=(Ze!==J?R.slice(0,Ze)+re+R.slice(J):R.slice(0,Ze)+re+R.slice(Ze)).slice(0,a);if(ee.length>0&&Q&&!Q.test(ee))return;je.value=ee,H(ee);let oe=Math.min(ee.length,a-1),Ne=ee.length;je.setSelectionRange(oe,Ne),ie(oe),A(Ne)},[a,H,Q,R]),se=v.useMemo(()=>({position:"relative",cursor:y.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[y.disabled]),ue=v.useMemo(()=>({position:"absolute",inset:0,width:V.willPushPWMBadge?`calc(100% + ${V.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:V.willPushPWMBadge?`inset(0 ${V.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:i,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[V.PWM_BADGE_SPACE_WIDTH,V.willPushPWMBadge,i]),fe=v.useMemo(()=>v.createElement("input",oue(iue({autoComplete:y.autoComplete||"one-time-code"},y),{"data-input-otp":!0,"data-input-otp-mss":G,"data-input-otp-mse":me,inputMode:c,pattern:Q==null?void 0:Q.source,style:ue,maxLength:a,value:R,ref:L,onPaste:_e=>{var Ae;q(_e),(Ae=y.onPaste)==null||Ae.call(y,_e)},onChange:X,onMouseOver:_e=>{var Ae;ne(!0),(Ae=y.onMouseOver)==null||Ae.call(y,_e)},onMouseLeave:_e=>{var Ae;ne(!1),(Ae=y.onMouseLeave)==null||Ae.call(y,_e)},onFocus:_e=>{var Ae;ae(),(Ae=y.onFocus)==null||Ae.call(y,_e)},onBlur:_e=>{var Ae;I(!1),(Ae=y.onBlur)==null||Ae.call(y,_e)}})),[X,ae,q,c,ue,a,me,G,y,Q==null?void 0:Q.source,R]),Ce=v.useMemo(()=>({slots:Array.from({length:a}).map((_e,Ae)=>{let Ye=Y&&G!==null&&me!==null&&(G===me&&Ae===G||Ae>=G&&Ae<me),je=R[Ae]!==void 0?R[Ae]:null;return{char:je,isActive:Ye,hasFakeCaret:Ye&&je===null}}),isFocused:Y,isHovering:!y.disabled&&K}),[Y,K,a,me,G,y.disabled,R]),Pe=v.useMemo(()=>p?p(Ce):v.createElement(pF.Provider,{value:Ce},g),[g,Ce,p]);return v.createElement(v.Fragment,null,f!==null&&v.createElement("noscript",null,v.createElement("style",null,f)),v.createElement("div",{ref:E,"data-input-otp-container":!0,style:se,className:h},Pe,v.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},fe)))});mF.displayName="Input";function Gf(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var gue=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const gF=v.forwardRef(({className:e,containerClassName:t,...r},n)=>l.jsx(mF,{ref:n,containerClassName:Ue("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Ue("disabled:cursor-not-allowed",e),...r}));gF.displayName="InputOTP";const yF=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ue("flex items-center",e),...t}));yF.displayName="InputOTPGroup";const $c=v.forwardRef(({index:e,className:t,...r},n)=>{const s=v.useContext(pF),{char:a,hasFakeCaret:i,isActive:o}=s.slots[e];return l.jsxs("div",{ref:n,className:Ue("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",o&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[a,i&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});$c.displayName="InputOTPSlot";const yue=v.forwardRef(({...e},t)=>l.jsx("div",{ref:t,role:"separator",...e,children:l.jsx(H$,{})}));yue.displayName="InputOTPSeparator";const vue=()=>{const e=xs(),{verifyOTP:t,resendOTP:r,user:n}=Ar(),{toast:s}=ir(),{t:a}=ej(),[i,o]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(30);v.useEffect(()=>{if(n){e("/");return}const w=sessionStorage.getItem("verifyPhone");if(!w){e("/auth");return}u(w);const N=setInterval(()=>{y(C=>C<=1?(clearInterval(N),0):C-1)},1e3);return()=>clearInterval(N)},[e,n]);const S=async()=>{if(i.length!==6){s({title:"Invalid OTP",description:"Please enter a valid 6-digit OTP.",variant:"destructive"});return}h(!0);try{await t(c,i),s({title:"Verification Successful",description:"You have been successfully signed in."}),sessionStorage.removeItem("verifyPhone"),e("/")}catch(w){s({title:"Verification Failed",description:w.message||"Could not verify OTP. Please try again.",variant:"destructive"})}finally{h(!1)}},b=async()=>{if(!(g>0)){p(!0);try{await r(c),y(30);const w=setInterval(()=>{y(N=>N<=1?(clearInterval(w),0):N-1)},1e3);s({title:"OTP Resent",description:"A new verification code has been sent to your phone."})}catch(w){s({title:"Failed to Resend OTP",description:w.message||"Could not resend verification code. Please try again.",variant:"destructive"})}finally{p(!1)}}};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(G1,{businessName:"TransactLy"}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsx(Us.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-md",children:l.jsxs(kr,{className:"border shadow-lg",children:[l.jsxs(Ir,{className:"space-y-1",children:[l.jsx(Fr,{className:"text-2xl text-center",children:a("verify_otp")}),l.jsxs(Fs,{className:"text-center",children:["Enter the verification code sent to ",c]})]}),l.jsxs(vr,{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-center",children:l.jsx(gF,{maxLength:6,value:i,onChange:o,className:"gap-2",children:l.jsxs(yF,{children:[l.jsx($c,{index:0}),l.jsx($c,{index:1}),l.jsx($c,{index:2}),l.jsx($c,{index:3}),l.jsx($c,{index:4}),l.jsx($c,{index:5})]})})}),l.jsx(Se,{onClick:S,className:"w-full",disabled:d||i.length!==6,children:d?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Verifying..."]}):a("verify_otp")}),l.jsx("div",{className:"text-center",children:l.jsx(Se,{variant:"link",disabled:g>0||f,onClick:b,children:g>0?`${a("resend_otp")} (${g}s)`:f?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," Sending..."]}):a("resend_otp")})})]}),l.jsx(Bo,{className:"flex flex-col space-y-4 mt-2",children:l.jsxs(Se,{variant:"outline",className:"w-full",onClick:()=>e("/auth"),children:[l.jsx(mT,{className:"mr-2 h-4 w-4"}),"Back to Sign In"]})})]})})})]})},xue=zm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vF=v.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:Ue(xue({variant:t}),e),...r}));vF.displayName="Alert";const xF=v.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:Ue("mb-1 font-medium leading-none tracking-tight",e),...t}));xF.displayName="AlertTitle";const wF=v.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Ue("text-sm [&_p]:leading-relaxed",e),...t}));wF.displayName="AlertDescription";const wue=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState(!1),{updatePassword:i,isLoading:o}=Ar(),c=xs(),{toast:u}=ir(),d=async h=>{if(h.preventDefault(),e!==r){u({title:"Passwords don't match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(e.length<6){u({title:"Password too short",description:"Password should be at least 6 characters long.",variant:"destructive"});return}try{await i(e),a(!0),u({title:"Password updated",description:"Your password has been successfully reset."}),setTimeout(()=>{c("/")},3e3)}catch(f){u({title:"Password reset failed",description:f.message||"Could not update password. Please try again.",variant:"destructive"})}};return l.jsxs(Us.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex flex-col items-center justify-center p-4 bg-background",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(pm,{})}),l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary flex items-center justify-center",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-primary-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"}),l.jsx("path",{d:"M4 6v12c0 1.1.9 2 2 2h14v-4"}),l.jsx("path",{d:"M18 12a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4v-4h-4z"})]})})}),l.jsxs(kr,{children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Reset Password"}),l.jsx(Fs,{children:"Create a new password for your account"})]}),s?l.jsxs(vr,{className:"space-y-4",children:[l.jsxs(vF,{className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-900",children:[l.jsx(ZS,{className:"h-4 w-4 text-green-500"}),l.jsx(xF,{children:"Success!"}),l.jsx(wF,{children:"Your password has been successfully reset. You will be redirected to login shortly."})]}),l.jsx("div",{className:"flex justify-center mt-4",children:l.jsx(Se,{onClick:()=>c("/auth"),variant:"outline",children:"Return to login"})})]}):l.jsxs("form",{onSubmit:d,children:[l.jsxs(vr,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"new-password",children:"New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Y4,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Le,{id:"new-password",type:"password",value:e,onChange:h=>t(h.target.value),placeholder:"New password",required:!0,className:"pl-10"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"confirm-password",children:"Confirm New Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Y4,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l.jsx(Le,{id:"confirm-password",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Confirm new password",required:!0,className:"pl-10"})]})]})]}),l.jsxs(Bo,{className:"flex flex-col space-y-4",children:[l.jsx(Se,{type:"submit",className:"w-full",disabled:o,children:o?"Updating...":"Reset Password"}),l.jsx(Se,{variant:"ghost",className:"w-full",onClick:()=>c("/auth"),type:"button",children:"Cancel"})]})]})]})]})]})},bue=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,a]=v.useState(!1),{user:i,updatePassword:o}=Ar(),{toast:c}=ir(),u=xs(),d=async h=>{if(h.preventDefault(),e!==r){c({title:"Passwords do not match",description:"Please make sure your passwords match.",variant:"destructive"});return}if(e.length<6){c({title:"Password too short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}a(!0);try{await o(e),t(""),n("")}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[l.jsx(G1,{businessName:"TransactLy",onEditName:()=>{}}),l.jsx("div",{className:"container max-w-4xl mx-auto flex-1 p-4",children:l.jsxs(Us.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[l.jsxs(Se,{variant:"ghost",size:"sm",className:"mb-4",onClick:()=>u("/"),children:[l.jsx(mT,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),l.jsxs(kr,{children:[l.jsx(Ir,{children:l.jsx(Fr,{className:"text-2xl",children:"Profile Settings"})}),l.jsxs(vr,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(we,{children:"Email"}),l.jsx("div",{className:"p-2 border rounded-md bg-muted/20",children:i==null?void 0:i.email})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Change Password"}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"new-password",children:"New Password"}),l.jsx(Le,{id:"new-password",type:"password",value:e,onChange:h=>t(h.target.value),placeholder:"Enter new password",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"confirm-password",children:"Confirm New Password"}),l.jsx(Le,{id:"confirm-password",type:"password",value:r,onChange:h=>n(h.target.value),placeholder:"Confirm new password",required:!0})]}),l.jsx(Se,{type:"submit",disabled:s,className:"w-full",children:s?"Updating...":"Update Password"})]})]})]})]})]})})]})},Sue=()=>{const e=xs();return l.jsxs("div",{className:"flex items-center mb-6 border-b pb-4",children:[l.jsxs(Se,{variant:"ghost",size:"icon",className:"mr-4",onClick:()=>e(-1),children:[l.jsx(gT,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Back"})]}),l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"TransactLy Settings"})]})};var _ue="Separator",xE="horizontal",Nue=["horizontal","vertical"],bF=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=xE,...s}=e,a=jue(n)?n:xE,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(ct.div,{"data-orientation":a,...o,...s,ref:t})});bF.displayName=_ue;function jue(e){return Nue.includes(e)}var SF=bF;const _F=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(SF,{ref:s,decorative:r,orientation:t,className:Ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));_F.displayName=SF.displayName;const Cue=({user:e,onUpdate:t})=>{var f;const[r,n]=v.useState(""),[s,a]=v.useState(""),[i,o]=v.useState(""),[c,u]=v.useState(!1);v.useEffect(()=>{var p,g,y;e&&(n(((p=e.user_metadata)==null?void 0:p.full_name)||((g=e.user_metadata)==null?void 0:g.name)||""),a(e.email||""),o(((y=e.user_metadata)==null?void 0:y.phone)||""))},[e]);const d=async p=>{p.preventDefault(),u(!0);try{await t({name:r,phone:i})}catch(g){console.error("Error updating profile:",g)}finally{u(!1)}},h=p=>p.split(" ").map(g=>g.charAt(0)).join("").toUpperCase().slice(0,2);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Profile"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your personal information."})]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[l.jsxs(cm,{className:"h-16 w-16",children:[l.jsx(n0,{src:((f=e==null?void 0:e.user_metadata)==null?void 0:f.avatar_url)||"",alt:r}),l.jsx(um,{className:"text-lg",children:h(r)})]}),l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("h3",{className:"font-medium",children:r||"Your Name"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),l.jsx(Se,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",children:"Change Avatar"})]}),l.jsx(_F,{}),l.jsxs("form",{onSubmit:d,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"name",children:"Full Name"}),l.jsx(Le,{id:"name",value:r,onChange:p=>n(p.target.value),placeholder:"Enter your full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"email",children:"Email"}),l.jsx(Le,{id:"email",type:"email",value:s,disabled:!0,className:"bg-muted"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Your email cannot be changed."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"phone",children:"Phone Number"}),l.jsx(Le,{id:"phone",value:i,onChange:p=>o(p.target.value),placeholder:"Enter your phone number"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(Se,{type:"submit",disabled:c,children:c?"Saving...":"Save Changes"})})]})]})},kue=iF({currentPassword:Ap().min(1,{message:"Current password is required."}),newPassword:Ap().min(8,{message:"New password must be at least 8 characters long."}),confirmNewPassword:Ap().min(1,{message:"Please confirm your new password."})}).refine(e=>e.newPassword===e.confirmNewPassword,{message:"New passwords don't match.",path:["confirmNewPassword"]}),Pue=({onPasswordChange:e})=>{const{user:t,updatePassword:r}=Ar(),{toast:n}=ir(),[s,a]=v.useState(!1),i=G8({resolver:lF(kue),defaultValues:{currentPassword:"",newPassword:"",confirmNewPassword:""}}),o=async c=>{if(!(t!=null&&t.email)){n({title:"Error",description:"User email not found.",variant:"destructive"});return}a(!0);try{if(e)await e(c.currentPassword,c.newPassword);else{const{error:u}=await We.auth.signInWithPassword({email:t.email,password:c.currentPassword});if(u){u.message.includes("Invalid login credentials")?n({title:"Verification Failed",description:"Incorrect current password.",variant:"destructive"}):n({title:"Verification Failed",description:u.message,variant:"destructive"});return}await r(c.newPassword)}i.reset()}catch(u){n({title:"Error",description:u.message||"An unexpected error occurred.",variant:"destructive"})}finally{a(!1)}};return l.jsxs(kr,{children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Change Password"}),l.jsx(Fs,{children:"Update your account security."})]}),l.jsx(Y8,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(o),children:[l.jsxs(vr,{className:"space-y-4",children:[l.jsx(Ep,{control:i.control,name:"currentPassword",render:({field:c})=>l.jsxs(eh,{children:[l.jsx(th,{children:"Current Password"}),l.jsx(rh,{children:l.jsx(Le,{...c,type:"password",placeholder:"Enter your current password"})}),l.jsx(nh,{})]})}),l.jsx(Ep,{control:i.control,name:"newPassword",render:({field:c})=>l.jsxs(eh,{children:[l.jsx(th,{children:"New Password"}),l.jsx(rh,{children:l.jsx(Le,{...c,type:"password",placeholder:"Enter your new password"})}),l.jsx(nh,{})]})}),l.jsx(Ep,{control:i.control,name:"confirmNewPassword",render:({field:c})=>l.jsxs(eh,{children:[l.jsx(th,{children:"Confirm New Password"}),l.jsx(rh,{children:l.jsx(Le,{...c,type:"password",placeholder:"Confirm your new password"})}),l.jsx(nh,{})]})})]}),l.jsx(Bo,{children:l.jsxs(Se,{type:"submit",disabled:s,children:[s&&l.jsx(K0,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})})]})})]})},Eue=({businessName:e="TransactLy",onBusinessNameChange:t})=>{const[r,n]=v.useState(e),[s,a]=v.useState(!1),i=async()=>{if(t&&r!==e){a(!0);try{await t(r)}catch(o){console.error("Error saving business name:",o)}finally{a(!1)}}};return l.jsxs(kr,{children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:"Preferences"}),l.jsx(Fs,{children:"Customize how the application appears and functions for you."})]}),l.jsx(vr,{className:"space-y-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"business-name",children:"Business Name"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Le,{id:"business-name",value:r,onChange:o=>n(o.target.value),placeholder:"Enter your business name",className:"flex-1"}),l.jsx(Se,{onClick:i,disabled:s||r===e,size:"sm",children:s?"Saving...":"Save"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This name will be displayed throughout the application."})]})})]})},Aue=({currentLanguage:e,onLanguageChange:t})=>{const{language:r,setLanguage:n,t:s}=ej(),a=async o=>{t&&await t(o),n(o)},i=e||r;return l.jsxs(kr,{children:[l.jsxs(Ir,{children:[l.jsx(Fr,{children:s("language")}),l.jsx(Fs,{children:"Choose your preferred language for the application."})]}),l.jsx(vr,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"language-select",children:s("language")}),l.jsxs(Pn,{value:i,onValueChange:a,children:[l.jsx(wn,{id:"language-select",className:"w-full md:w-[280px]",children:l.jsx(En,{placeholder:"Select Language"})}),l.jsx(bn,{children:eue.map(o=>l.jsxs(ft,{value:o.code,children:[o.nativeName," (",o.name,")"]},o.code))})]})]})})]})},qy="/photo_2025-03-28 13.45.48.jpeg",Tue=()=>{const[e,t]=v.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-4 p-4 border-t mt-8",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("img",{src:qy,alt:"Support QR Code",className:"w-20 h-20 object-contain rounded-md",onError:r=>{r.target.style.display="none",console.error("Failed to load QR code image:",qy)}})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"If you find this app helpful, consider supporting its development. Your contribution helps keep the app ad-free!"}),l.jsx("button",{onClick:()=>t(!0),className:"inline-block px-4 py-2 mt-2 text-sm font-semibold text-white bg-amber-500 rounded-md hover:bg-amber-600",children:"Buy Me a Coffee ☕"})]})]}),e&&l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:[l.jsx("img",{src:qy,alt:"Enlarged QR Code",className:"w-64 h-64 object-contain rounded-md",onError:r=>{r.target.style.display="none",console.error("Failed to load QR code image:",qy)}}),l.jsx("button",{onClick:()=>t(!1),className:"mt-4 px-4 py-2 text-sm font-semibold text-white bg-red-500 rounded-md hover:bg-red-600",children:"Close"})]})})]})},Lue=()=>{const[e,t]=v.useState("profile"),{user:r,updateProfile:n,updatePassword:s}=Ar(),{toast:a}=ir(),[i,o]=v.useState("TransactLy"),[c,u]=v.useState("en");v.useEffect(()=>{(async()=>{try{const y=await localStorage.getItem("businessName"),S=await localStorage.getItem("language");y&&o(y),S&&u(S)}catch(y){console.error("Failed to load settings:",y)}})()},[]);const d=async g=>{try{await n({name:g.name,phone:g.phone}),a({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(y){console.error("Error updating profile:",y),a({title:"Update Failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}},h=async(g,y)=>{try{await s(y),a({title:"Password Updated",description:"Your password has been changed successfully."})}catch(S){console.error("Error changing password:",S),a({title:"Change Failed",description:"Failed to change password. Please try again.",variant:"destructive"})}},f=async g=>{try{o(g),await localStorage.setItem("businessName",g),a({title:"Business Name Updated",description:"Your business name has been updated successfully."})}catch(y){console.error("Error saving business name:",y),a({title:"Update Failed",description:"Failed to update business name. Please try again.",variant:"destructive"})}},p=async g=>{try{u(g),await localStorage.setItem("language",g),a({title:"Language Updated",description:"Your language preference has been updated successfully."})}catch(y){console.error("Error saving language preference:",y),a({title:"Update Failed",description:"Failed to update language preference. Please try again.",variant:"destructive"})}};return l.jsxs("div",{className:"container mx-auto py-6 px-4 md:px-6 max-w-6xl",children:[l.jsx(Sue,{}),l.jsxs(kr,{className:"mt-6",children:[l.jsxs(Ir,{className:"pb-4",children:[l.jsx(Fr,{children:"Settings"}),l.jsx(Fs,{children:"Manage your account settings and preferences."})]}),l.jsx(vr,{className:"p-0",children:l.jsxs(su,{defaultValue:"profile",value:e,onValueChange:t,className:"w-full",children:[l.jsxs(Hl,{className:"grid grid-cols-4 md:grid-cols-5 border-b rounded-none w-full h-auto p-0",children:[l.jsx(tn,{value:"profile",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none py-2 text-sm",children:"Profile"}),l.jsx(tn,{value:"security",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none py-2 text-sm",children:"Security"}),l.jsx(tn,{value:"preferences",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none py-2 text-sm",children:"Preferences"}),l.jsx(tn,{value:"language",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none py-2 text-sm",children:"Language"}),l.jsx(tn,{value:"support",className:"data-[state=active]:border-b-2 data-[state=active]:border-primary rounded-none py-2 text-sm",children:"Support"})]}),l.jsxs("div",{className:"p-4 md:p-6",children:[l.jsx(Gr,{value:"profile",className:"mt-0",children:l.jsx(Cue,{user:r,onUpdate:d})}),l.jsx(Gr,{value:"security",className:"mt-0",children:l.jsx(Pue,{onPasswordChange:h})}),l.jsx(Gr,{value:"preferences",className:"mt-0",children:l.jsx(Eue,{businessName:i,onBusinessNameChange:f})}),l.jsx(Gr,{value:"language",className:"mt-0",children:l.jsx(Aue,{currentLanguage:c,onLanguageChange:p})}),l.jsx(Gr,{value:"support",className:"mt-0",children:l.jsx(Tue,{})})]})]})})]})]})},Due=({options:e})=>{const[t,r]=v.useState(!1);return rg(),l.jsx("div",{className:"fixed bottom-20 right-4 z-50",children:l.jsxs(xm,{open:t,onOpenChange:r,children:[l.jsx(wm,{asChild:!0,children:l.jsx(Se,{size:"icon",className:"rounded-full w-14 h-14 shadow-lg hover:shadow-xl transition-all",children:l.jsx(na,{className:"h-6 w-6"})})}),l.jsx(Ah,{side:"top",align:"end",alignOffset:-20,className:"p-2 w-auto min-w-[200px]",children:l.jsx("div",{className:"flex flex-col gap-2",children:e.map((n,s)=>l.jsxs(Se,{variant:"ghost",onClick:()=>{n.onClick(),r(!1)},className:"justify-start font-normal py-2",children:[n.icon&&l.jsx("span",{className:"mr-2",children:n.icon}),n.label]},s))})})]})})},Rue=({onSubmit:e,onCancel:t,initialData:r,isEditing:n=!1})=>{const[s,a]=v.useState({name:"",contact:"",quantitySold:0,saleRate:0,totalSaleAmount:0,amountReceived:0,pendingBalance:0,paymentDueDate:"",paymentFrequency:void 0});v.useEffect(()=>{r&&a(r)},[r]);const i=u=>{const{name:d,value:h}=u.target;let f=h;if(["quantitySold","saleRate","amountReceived"].includes(d)){if(f=parseFloat(h)||0,d==="quantitySold"||d==="saleRate"){const p=d==="quantitySold"?f:s.quantitySold,g=d==="saleRate"?f:s.saleRate,y=p*g,S=y-s.amountReceived;a(b=>({...b,[d]:f,totalSaleAmount:y,pendingBalance:S}));return}if(d==="amountReceived"){const p=f,g=s.totalSaleAmount-p;a(y=>({...y,amountReceived:p,pendingBalance:g}));return}}a(p=>({...p,[d]:f}))},o=u=>{a(d=>({...d,paymentFrequency:u}))},c=u=>{u.preventDefault(),e(s)};return l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"name",children:"Buyer Name"}),l.jsx(Le,{id:"name",name:"name",placeholder:"Enter buyer name",value:s.name,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"contact",children:"Contact Number"}),l.jsx(Le,{id:"contact",name:"contact",placeholder:"Enter contact number",value:s.contact,onChange:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"quantitySold",children:"Quantity Sold"}),l.jsx(Le,{id:"quantitySold",name:"quantitySold",type:"number",placeholder:"Enter quantity",value:s.quantitySold,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"saleRate",children:"Sale Rate (per unit)"}),l.jsx(Le,{id:"saleRate",name:"saleRate",type:"number",placeholder:"Enter rate per unit",value:s.saleRate,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"totalSaleAmount",children:"Total Sale Amount"}),l.jsx(Le,{id:"totalSaleAmount",name:"totalSaleAmount",type:"number",value:s.totalSaleAmount,readOnly:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"amountReceived",children:"Amount Received"}),l.jsx(Le,{id:"amountReceived",name:"amountReceived",type:"number",placeholder:"Enter amount received",value:s.amountReceived,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"pendingBalance",children:"Pending Balance"}),l.jsx(Le,{id:"pendingBalance",name:"pendingBalance",type:"number",value:s.pendingBalance,readOnly:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"paymentDueDate",children:"Payment Due Date"}),l.jsx(Le,{id:"paymentDueDate",name:"paymentDueDate",type:"date",value:s.paymentDueDate||"",onChange:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),l.jsxs(Pn,{onValueChange:o,value:s.paymentFrequency,children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select payment frequency"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"one-time",children:"One-time"}),l.jsx(ft,{value:"weekly",children:"Weekly"}),l.jsx(ft,{value:"monthly",children:"Monthly"}),l.jsx(ft,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Se,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),l.jsx(Se,{type:"submit",children:n?"Update Buyer":"Add Buyer"})]})]})},Oue=({onSubmit:e,onCancel:t,initialData:r,isEditing:n=!1})=>{const[s,a]=v.useState({name:"",contact:"",goodsName:"",quantity:0,purchaseRate:0,totalCost:0,amountPaid:0,balance:0,paymentDueDate:"",paymentFrequency:void 0});v.useEffect(()=>{r&&a(r)},[r]);const i=u=>{const{name:d,value:h}=u.target;let f=h;if(["quantity","purchaseRate","amountPaid"].includes(d)){if(f=parseFloat(h)||0,d==="quantity"||d==="purchaseRate"){const p=d==="quantity"?f:s.quantity,g=d==="purchaseRate"?f:s.purchaseRate,y=p*g,S=y-s.amountPaid;a(b=>({...b,[d]:f,totalCost:y,balance:S}));return}if(d==="amountPaid"){const p=f,g=s.totalCost-p;a(y=>({...y,amountPaid:p,balance:g}));return}}a(p=>({...p,[d]:f}))},o=u=>{a(d=>({...d,paymentFrequency:u}))},c=u=>{u.preventDefault(),e(s)};return l.jsxs("form",{onSubmit:c,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"name",children:"Supplier Name"}),l.jsx(Le,{id:"name",name:"name",placeholder:"Enter supplier name",value:s.name,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"contact",children:"Contact Number"}),l.jsx(Le,{id:"contact",name:"contact",placeholder:"Enter contact number",value:s.contact,onChange:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"goodsName",children:"Goods Name"}),l.jsx(Le,{id:"goodsName",name:"goodsName",placeholder:"Enter goods name",value:s.goodsName,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"quantity",children:"Quantity"}),l.jsx(Le,{id:"quantity",name:"quantity",type:"number",placeholder:"Enter quantity",value:s.quantity,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"purchaseRate",children:"Purchase Rate (per unit)"}),l.jsx(Le,{id:"purchaseRate",name:"purchaseRate",type:"number",placeholder:"Enter rate per unit",value:s.purchaseRate,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"totalCost",children:"Total Cost"}),l.jsx(Le,{id:"totalCost",name:"totalCost",type:"number",value:s.totalCost,readOnly:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"amountPaid",children:"Amount Paid"}),l.jsx(Le,{id:"amountPaid",name:"amountPaid",type:"number",placeholder:"Enter amount paid",value:s.amountPaid,onChange:i,required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"balance",children:"Balance Due"}),l.jsx(Le,{id:"balance",name:"balance",type:"number",value:s.balance,readOnly:!0,className:"bg-muted"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"paymentDueDate",children:"Payment Due Date"}),l.jsx(Le,{id:"paymentDueDate",name:"paymentDueDate",type:"date",value:s.paymentDueDate||"",onChange:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(we,{htmlFor:"paymentFrequency",children:"Payment Frequency"}),l.jsxs(Pn,{onValueChange:o,value:s.paymentFrequency,children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select payment frequency"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"one-time",children:"One-time"}),l.jsx(ft,{value:"weekly",children:"Weekly"}),l.jsx(ft,{value:"monthly",children:"Monthly"}),l.jsx(ft,{value:"quarterly",children:"Quarterly"})]})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(Se,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),l.jsx(Se,{type:"submit",children:n?"Update Supplier":"Add Supplier"})]})]})},Mue=()=>{const[e,t]=v.useState("buyers"),[r,n]=v.useState(!1),[s,a]=v.useState(!1);rg();const i=[{label:"Add New Buyer",onClick:()=>n(!0),icon:l.jsx(Nb,{className:"h-4 w-4"})},{label:"Add New Seller",onClick:()=>a(!0),icon:l.jsx(Cb,{className:"h-4 w-4"})}];return l.jsxs("div",{className:"flex flex-col h-full w-full",children:[l.jsx(G1,{pageTitle:"Clients"}),l.jsx("div",{className:"p-2 sm:p-4 flex-1 overflow-auto",children:l.jsxs(su,{defaultValue:"buyers",value:e,onValueChange:t,children:[l.jsxs(Hl,{className:"w-full mb-4",children:[l.jsxs(tn,{value:"buyers",className:"flex-1",children:[l.jsx(Nb,{className:"mr-2 h-4 w-4"}),"Buyers"]}),l.jsxs(tn,{value:"sellers",className:"flex-1",children:[l.jsx(Cb,{className:"mr-2 h-4 w-4"}),"Sellers"]})]}),l.jsx(Gr,{value:"buyers",className:"mt-0",children:l.jsxs("div",{className:"border rounded-md p-6 min-h-[200px]",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Buyers Management"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Add and manage your buyers in one place"}),l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("p",{className:"text-center text-muted-foreground",children:"No buyers added yet. Add your first buyer."})})]})}),l.jsx(Gr,{value:"sellers",className:"mt-0",children:l.jsxs("div",{className:"border rounded-md p-6 min-h-[200px]",children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sellers Management"}),l.jsx("p",{className:"text-muted-foreground mb-8",children:"Add and manage your sellers in one place"}),l.jsx("div",{className:"flex justify-center items-center h-32",children:l.jsx("p",{className:"text-center text-muted-foreground",children:"No sellers added yet. Add your first seller."})})]})})]})}),l.jsx(Due,{options:i}),l.jsx(lr,{open:r,onOpenChange:n,children:l.jsxs(cr,{className:"max-h-[90vh] overflow-y-auto",children:[l.jsx(fr,{children:"Add New Buyer"}),l.jsx(Rue,{onSuccess:()=>n(!1)})]})}),l.jsx(lr,{open:s,onOpenChange:a,children:l.jsxs(cr,{className:"max-h-[90vh] overflow-y-auto",children:[l.jsx(fr,{children:"Add New Seller"}),l.jsx(Oue,{onSuccess:()=>a(!1)})]})})]})},NF=({type:e,onSyncComplete:t,className:r=""})=>{const[n,s]=v.useState(!1),{toast:a}=ir(),{user:i}=Ar(),o=async()=>{if(!(!(i!=null&&i.id)||n))try{s(!0),console.log(`Checking if ${e} table exists in Supabase...`);let c=[];e==="buyers"?c=await Be.getBuyersByUser(i.id):c=await Be.getSellersByUser(i.id),console.log(`Found ${c.length} local ${e}`);let u=0,d=0;for(const f of c)try{let p=null;e==="buyers"?(console.log(`Syncing buyer ${f.id} (${f.name}) to Supabase...`),p=await Qe.createBuyer(f)):(console.log(`Syncing seller ${f.id} (${f.name}) to Supabase...`),p=await Qe.createSeller(f)),p?(console.log(`Successfully synced ${e.slice(0,-1)} ${f.id}`),u++):(console.log(`Failed to sync ${e.slice(0,-1)} ${f.id}`),d++)}catch(p){console.error(`Error syncing ${e.slice(0,-1)} ${f.id}:`,p),d++}let h=!1;try{e==="buyers"?(console.log("Forcing sync of buyers using syncBuyers..."),h=await Yt.syncBuyers(i.id)):(console.log("Forcing sync of sellers using syncSellers..."),h=await Yt.syncSellers(i.id))}catch(f){console.error(`Error in regular sync of ${e}:`,f)}u>0||h?a({title:"Sync Successful",description:`${u} ${e} have been synchronized with the cloud.${d>0?` (${d} failed)`:""}`}):d>0?a({title:"Sync Partially Failed",description:`Failed to sync ${d} ${e}. Please check the console for details.`,variant:"destructive"}):a({title:"Sync Failed",description:"Please check your internet connection and try again.",variant:"destructive"}),t&&await t()}catch(c){console.error(`Error syncing ${e}:`,c),a({title:"Sync Error",description:`An error occurred while syncing your ${e}.`,variant:"destructive"})}finally{s(!1)}};return l.jsxs(Se,{variant:"outline",size:"sm",onClick:o,disabled:n||!navigator.onLine,className:r,children:[l.jsx(du,{className:`h-4 w-4 mr-2 ${n?"animate-spin":""}`}),n?"Syncing...":`Sync ${e.charAt(0).toUpperCase()+e.slice(1)}`]})},Iue=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(""),[i,o]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(null),[S,b]=v.useState({user_id:"",name:"",email:"",phone:""}),{user:w}=Ar(),{toast:N}=ir();v.useEffect(()=>{C()},[w]),v.useEffect(()=>{e.length>0?P():o([])},[e,s]);const C=async()=>{if(w!=null&&w.id)try{n(!0);const E=await Be.getBuyersByUser(w.id);t(E)}catch(E){console.error("Failed to load buyers:",E),N({title:"Error",description:"Failed to load buyers",variant:"destructive"})}finally{n(!1)}},P=()=>{if(!s.trim()){o(e);return}const E=s.toLowerCase(),W=e.filter(F=>F.name.toLowerCase().includes(E)||F.email&&F.email.toLowerCase().includes(E)||F.phone&&F.phone.toLowerCase().includes(E));o(W)},M=E=>{const{name:W,value:F}=E.target;d&&g?y({...g,[W]:F}):b({...S,[W]:F})},R=async()=>{if(w!=null&&w.id)try{if(!S.name){N({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}const E={...S,user_id:w.id},W=await Be.addBuyer(E);if(navigator.onLine)try{await Qe.createBuyer(W)}catch(F){console.error("Error syncing buyer to Supabase:",F)}await C(),u(!1),b({user_id:w.id,name:"",email:"",phone:""}),N({title:"Success",description:"Buyer added successfully"})}catch(E){console.error("Error adding buyer:",E),N({title:"Error",description:"Failed to add buyer",variant:"destructive"})}},T=async()=>{if(g)try{if(!g.name){N({title:"Validation Error",description:"Buyer name is required",variant:"destructive"});return}if(await Be.updateBuyer(g),navigator.onLine)try{await Qe.updateBuyer(g)}catch(E){console.error("Error syncing updated buyer to Supabase:",E)}await C(),h(!1),y(null),N({title:"Success",description:"Buyer updated successfully"})}catch(E){console.error("Error updating buyer:",E),N({title:"Error",description:"Failed to update buyer",variant:"destructive"})}},H=async()=>{if(g)try{if(await Be.deleteBuyer(g.id),navigator.onLine)try{await Qe.deleteBuyer(g.id)}catch(E){console.error("Error syncing deleted buyer to Supabase:",E)}await C(),p(!1),y(null),N({title:"Success",description:"Buyer deleted successfully"})}catch(E){console.error("Error deleting buyer:",E),N({title:"Error",description:"Failed to delete buyer",variant:"destructive"})}},Q=E=>{y(E),h(!0)},L=E=>{y(E),p(!0)};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Buyers"}),l.jsx(NF,{type:"buyers",onSyncComplete:C,className:"ml-2"})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[l.jsx(e_,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Le,{placeholder:"Search buyers...",className:"pl-8",value:s,onChange:E=>a(E.target.value)})]}),l.jsxs(Se,{onClick:()=>u(!0),children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Buyer"]})]})]}),i.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:e.length===0?"You haven't added any buyers yet. Click 'Add Buyer' to get started.":"No buyers match your search criteria."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(E=>l.jsxs(kr,{children:[l.jsx(Ir,{className:"pb-2",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(Fr,{className:"text-lg",children:E.name}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>Q(E),children:l.jsx(fi,{className:"h-4 w-4"})}),l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>L(E),children:l.jsx(pi,{className:"h-4 w-4"})})]})]})}),l.jsx(vr,{children:l.jsxs("div",{className:"space-y-2",children:[E.phone&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone:"}),l.jsx("span",{className:"text-sm font-medium",children:E.phone})]}),E.email&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Email:"}),l.jsx("span",{className:"text-sm font-medium",children:E.email})]})]})})]},E.id))}),l.jsx(lr,{open:c,onOpenChange:u,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Add New Buyer"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"name",className:"text-right",children:"Name"}),l.jsx(Le,{id:"name",name:"name",value:S.name,onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"phone",className:"text-right",children:"Phone"}),l.jsx(Le,{id:"phone",name:"phone",value:S.phone||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"email",className:"text-right",children:"Email"}),l.jsx(Le,{id:"email",name:"email",type:"email",value:S.email||"",onChange:M,className:"col-span-3"})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsx(Se,{onClick:R,children:"Add Buyer"})]})]})}),l.jsx(lr,{open:d,onOpenChange:h,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Edit Buyer"})}),g&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_name",className:"text-right",children:"Name"}),l.jsx(Le,{id:"edit_name",name:"name",value:g.name,onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_phone",className:"text-right",children:"Phone"}),l.jsx(Le,{id:"edit_phone",name:"phone",value:g.phone||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_email",className:"text-right",children:"Email"}),l.jsx(Le,{id:"edit_email",name:"email",type:"email",value:g.email||"",onChange:M,className:"col-span-3"})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(Se,{onClick:T,children:"Save Changes"})]})]})}),l.jsx(lr,{open:f,onOpenChange:p,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Delete Buyer"})}),l.jsx("p",{children:"Are you sure you want to delete this buyer? This action cannot be undone."}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(Se,{variant:"destructive",onClick:H,children:"Delete"})]})]})})]})},Fue=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(""),[i,o]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(null),[S,b]=v.useState({user_id:"",name:"",email:"",phone:""}),{user:w}=Ar(),{toast:N}=ir();v.useEffect(()=>{C()},[w]),v.useEffect(()=>{e.length>0?P():o([])},[e,s]);const C=async()=>{if(w!=null&&w.id)try{n(!0);const E=await Be.getSellersByUser(w.id);t(E)}catch(E){console.error("Failed to load sellers:",E),N({title:"Error",description:"Failed to load sellers",variant:"destructive"})}finally{n(!1)}},P=()=>{if(!s.trim()){o(e);return}const E=s.toLowerCase(),W=e.filter(F=>F.name.toLowerCase().includes(E)||F.email&&F.email.toLowerCase().includes(E)||F.phone&&F.phone.toLowerCase().includes(E));o(W)},M=E=>{const{name:W,value:F}=E.target;d&&g?y({...g,[W]:F}):b({...S,[W]:F})},R=async()=>{if(w!=null&&w.id)try{if(!S.name){N({title:"Validation Error",description:"Seller name is required",variant:"destructive"});return}const E={...S,user_id:w.id},W=await Be.addSeller(E);if(navigator.onLine)try{await Qe.createSeller(W)}catch(F){console.error("Error syncing seller to Supabase:",F)}await C(),u(!1),b({user_id:w.id,name:"",email:"",phone:""}),N({title:"Success",description:"Seller added successfully"})}catch(E){console.error("Error adding seller:",E),N({title:"Error",description:"Failed to add seller",variant:"destructive"})}},T=async()=>{if(g)try{if(!g.name){N({title:"Validation Error",description:"Seller name is required",variant:"destructive"});return}if(await Be.updateSeller(g),navigator.onLine)try{await Qe.updateSeller(g)}catch(E){console.error("Error syncing updated seller to Supabase:",E)}await C(),h(!1),y(null),N({title:"Success",description:"Seller updated successfully"})}catch(E){console.error("Error updating seller:",E),N({title:"Error",description:"Failed to update seller",variant:"destructive"})}},H=async()=>{if(g)try{if(await Be.deleteSeller(g.id),navigator.onLine)try{await Qe.deleteSeller(g.id)}catch(E){console.error("Error syncing deleted seller to Supabase:",E)}await C(),p(!1),y(null),N({title:"Success",description:"Seller deleted successfully"})}catch(E){console.error("Error deleting seller:",E),N({title:"Error",description:"Failed to delete seller",variant:"destructive"})}},Q=E=>{y(E),h(!0)},L=E=>{y(E),p(!0)};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Sellers"}),l.jsx(NF,{type:"sellers",onSyncComplete:C,className:"ml-2"})]}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[l.jsx(e_,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Le,{placeholder:"Search sellers...",className:"pl-8",value:s,onChange:E=>a(E.target.value)})]}),l.jsxs(Se,{onClick:()=>u(!0),children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Seller"]})]})]}),i.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:e.length===0?"You haven't added any sellers yet. Click 'Add Seller' to get started.":"No sellers match your search criteria."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(E=>l.jsxs(kr,{children:[l.jsx(Ir,{className:"pb-2",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx(Fr,{className:"text-lg",children:E.name}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>Q(E),children:l.jsx(fi,{className:"h-4 w-4"})}),l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>L(E),children:l.jsx(pi,{className:"h-4 w-4"})})]})]})}),l.jsx(vr,{children:l.jsxs("div",{className:"space-y-2",children:[E.phone&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone:"}),l.jsx("span",{className:"text-sm font-medium",children:E.phone})]}),E.email&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Email:"}),l.jsx("span",{className:"text-sm font-medium",children:E.email})]})]})})]},E.id))}),l.jsx(lr,{open:c,onOpenChange:u,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Add New Seller"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"name",className:"text-right",children:"Name"}),l.jsx(Le,{id:"name",name:"name",value:S.name,onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"phone",className:"text-right",children:"Phone"}),l.jsx(Le,{id:"phone",name:"phone",value:S.phone||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"email",className:"text-right",children:"Email"}),l.jsx(Le,{id:"email",name:"email",type:"email",value:S.email||"",onChange:M,className:"col-span-3"})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsx(Se,{onClick:R,children:"Add Seller"})]})]})}),l.jsx(lr,{open:d,onOpenChange:h,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Edit Seller"})}),g&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_name",className:"text-right",children:"Name"}),l.jsx(Le,{id:"edit_name",name:"name",value:g.name,onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_phone",className:"text-right",children:"Phone"}),l.jsx(Le,{id:"edit_phone",name:"phone",value:g.phone||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_email",className:"text-right",children:"Email"}),l.jsx(Le,{id:"edit_email",name:"email",type:"email",value:g.email||"",onChange:M,className:"col-span-3"})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(Se,{onClick:T,children:"Save Changes"})]})]})}),l.jsx(lr,{open:f,onOpenChange:p,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Delete Seller"})}),l.jsx("p",{children:"Are you sure you want to delete this seller? This action cannot be undone."}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(Se,{variant:"destructive",onClick:H,children:"Delete"})]})]})})]})},jF=({onSyncComplete:e,className:t=""})=>{const[r,n]=v.useState(!1),{toast:s}=ir(),{user:a}=Ar(),i=async()=>{if(!(!(a!=null&&a.id)||r))try{n(!0);const o=await Yt.forceSyncContacts(a.id);s(o?{title:"Sync Successful",description:"Your data has been synchronized with the cloud."}:{title:"Sync Failed",description:"Please check your internet connection and try again.",variant:"destructive"}),e&&await e()}catch(o){console.error("Error syncing data:",o),s({title:"Sync Error",description:"An error occurred while syncing your data.",variant:"destructive"})}finally{n(!1)}};return l.jsxs(Se,{variant:"outline",size:"sm",onClick:i,disabled:r||!navigator.onLine,className:t,children:[l.jsx(du,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),r?"Syncing...":"Force Sync"]})},Bue=()=>{const[e,t]=v.useState("buyers"),[r,n]=v.useState(0),{user:s}=Ar(),a=v.useCallback(async()=>{n(i=>i+1)},[]);return s?l.jsxs("div",{className:"container mx-auto py-6 px-4 sm:px-6",children:[l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Contacts Management"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your buyers and sellers in one place"})]}),l.jsx(jF,{onSyncComplete:a,className:"self-end"})]}),l.jsxs(su,{defaultValue:"buyers",value:e,onValueChange:t,children:[l.jsxs(Hl,{className:"grid w-full grid-cols-2 mb-8",children:[l.jsx(tn,{value:"buyers",children:"Buyers"}),l.jsx(tn,{value:"sellers",children:"Sellers"})]}),l.jsx(Gr,{value:"buyers",children:l.jsx(Iue,{},`buyers-${r}`)}),l.jsx(Gr,{value:"sellers",children:l.jsx(Fue,{},`sellers-${r}`)})]})]}):l.jsx(v_,{to:"/login"})},$ue=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,a]=v.useState(""),[i,o]=v.useState([]),[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[g,y]=v.useState(null),[S,b]=v.useState({user_id:"",direction:"paid",payment_type:"cash",date:new Date().toISOString(),recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),{user:w}=Ar(),{toast:N}=ir();v.useEffect(()=>{C()},[w]),v.useEffect(()=>{e.length>0?P():o([])},[e,s]);const C=async()=>{if(w!=null&&w.id)try{n(!0);const ne=[...await Be.getDailyLogsByUser(w.id)].sort((Y,I)=>new Date(I.date).getTime()-new Date(Y.date).getTime());t(ne)}catch(K){console.error("Failed to load daily logs:",K),N({title:"Error",description:"Failed to load daily logs",variant:"destructive"})}finally{n(!1)}},P=()=>{if(!s.trim()){o(e);return}const K=s.toLowerCase(),ne=e.filter(Y=>Y.recipient_name.toLowerCase().includes(K)||Y.third_party_name&&Y.third_party_name.toLowerCase().includes(K)||Y.notes&&Y.notes.toLowerCase().includes(K));o(ne)},M=K=>{const{name:ne,value:Y,type:I}=K.target,G=I==="number"?parseFloat(Y):Y;d&&g?y({...g,[ne]:G}):b({...S,[ne]:G})},R=(K,ne)=>{d&&g?y({...g,[K]:ne}):b({...S,[K]:ne})},T=(K,ne)=>{d&&g?y({...g,[K]:ne}):b({...S,[K]:ne})},H=K=>{K&&(d&&g?y({...g,date:K.toISOString()}):b({...S,date:K.toISOString()}))},Q=async()=>{if(!(w!=null&&w.id)){console.error("Cannot add log: User ID is missing");return}try{if(console.log("Adding new daily log..."),!S.recipient_name||!S.amount){console.log("Validation error: Recipient name or amount is missing"),N({title:"Validation Error",description:"Recipient name and amount are required",variant:"destructive"});return}if(S.is_third_party&&!S.third_party_name){console.log("Validation error: Third party name is required when third party is enabled"),N({title:"Validation Error",description:"Third party name is required when third party is enabled",variant:"destructive"});return}const K={...S,user_id:w.id};console.log("Adding daily log to local database:",K);const ne=await Be.addDailyLog(K);if(console.log("Successfully added daily log to local database:",ne),navigator.onLine){console.log("Online, syncing daily log to Supabase...");try{const Y=await Qe.createDailyLog(ne);Y?console.log("Successfully synced daily log to Supabase:",Y):console.error("Failed to sync daily log to Supabase: result was null")}catch(Y){console.error("Error syncing daily log to Supabase:",Y)}}else console.log("Offline, skipping Supabase sync");if(console.log("Reloading logs..."),await C(),u(!1),b({user_id:w.id,direction:"paid",payment_type:"cash",date:new Date().toISOString(),recipient_name:"",amount:0,is_third_party:!1,third_party_name:"",notes:""}),N({title:"Success",description:"Daily log added successfully"}),navigator.onLine){console.log("Forcing sync of all data...");try{await Yt.forceSyncContacts(w.id),console.log("Force sync completed successfully")}catch(Y){console.error("Error during force sync:",Y)}}}catch(K){console.error("Error adding daily log:",K),N({title:"Error",description:"Failed to add daily log",variant:"destructive"})}},L=async()=>{if(g)try{if(!g.recipient_name||!g.amount){N({title:"Validation Error",description:"Recipient name and amount are required",variant:"destructive"});return}if(g.is_third_party&&!g.third_party_name){N({title:"Validation Error",description:"Third party name is required when third party is enabled",variant:"destructive"});return}if(await Be.updateDailyLog(g),navigator.onLine)try{await Qe.updateDailyLog(g)}catch(K){console.error("Error syncing updated daily log to Supabase:",K)}await C(),h(!1),y(null),N({title:"Success",description:"Daily log updated successfully"})}catch(K){console.error("Error updating daily log:",K),N({title:"Error",description:"Failed to update daily log",variant:"destructive"})}},E=async()=>{if(g)try{if(await Be.deleteDailyLog(g.id),navigator.onLine)try{await Qe.deleteDailyLog(g.id)}catch(K){console.error("Error syncing deleted daily log to Supabase:",K)}await C(),p(!1),y(null),N({title:"Success",description:"Daily log deleted successfully"})}catch(K){console.error("Error deleting daily log:",K),N({title:"Error",description:"Failed to delete daily log",variant:"destructive"})}},W=K=>{y(K),h(!0)},F=K=>{y(K),p(!0)};return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Daily Logs"}),l.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[l.jsxs("div",{className:"relative flex-grow sm:flex-grow-0 sm:w-64",children:[l.jsx(e_,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Le,{placeholder:"Search logs...",className:"pl-8",value:s,onChange:K=>a(K.target.value)})]}),l.jsxs(Se,{onClick:()=>u(!0),children:[l.jsx(na,{className:"h-4 w-4 mr-2"}),"Add Log"]})]})]}),i.length===0?l.jsx("div",{className:"text-center py-10 text-muted-foreground",children:e.length===0?"You haven't added any daily logs yet. Click 'Add Log' to get started.":"No logs match your search criteria."}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(K=>l.jsxs(kr,{className:Ue("overflow-hidden",K.direction==="received"?"border-green-200 dark:border-green-900":"border-red-200 dark:border-red-900"),children:[l.jsxs(Ir,{className:Ue("pb-2",K.direction==="received"?"bg-green-50 dark:bg-green-950/30":"bg-red-50 dark:bg-red-950/30"),children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex items-center",children:[K.direction==="received"?l.jsx(z$,{className:"h-5 w-5 mr-2 text-green-600 dark:text-green-400"}):l.jsx(V$,{className:"h-5 w-5 mr-2 text-red-600 dark:text-red-400"}),l.jsx(Fr,{className:"text-lg",children:K.direction==="received"?"Received":"Paid"})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>W(K),children:l.jsx(fi,{className:"h-4 w-4"})}),l.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>F(K),children:l.jsx(pi,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(K.date).toLocaleDateString()})]}),l.jsx(vr,{className:"pt-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:K.direction==="received"?"From:":"To:"}),l.jsx("span",{className:"text-sm font-medium",children:K.recipient_name})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),l.jsx("span",{className:Ue("text-sm font-medium",K.direction==="received"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:oi(K.amount)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment Type:"}),l.jsx("span",{className:"text-sm font-medium capitalize",children:K.payment_type})]}),K.is_third_party&&K.third_party_name&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Third Party:"}),l.jsx("span",{className:"text-sm font-medium",children:K.third_party_name})]})]})}),K.notes&&l.jsx(Bo,{className:"border-t pt-4 pb-4 bg-muted/30",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:K.notes})})]},K.id))}),l.jsx(lr,{open:c,onOpenChange:u,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Add New Daily Log"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"direction",className:"text-right",children:"Direction"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(Pn,{value:S.direction,onValueChange:K=>R("direction",K),children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select direction"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"paid",children:"Paid (Outgoing)"}),l.jsx(ft,{value:"received",children:"Received (Incoming)"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"date",className:"text-right",children:"Date"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(xm,{children:[l.jsx(wm,{asChild:!0,children:l.jsxs(Se,{variant:"outline",className:Ue("w-full justify-start text-left font-normal",!S.date&&"text-muted-foreground"),children:[l.jsx(Vv,{className:"mr-2 h-4 w-4"}),S.date?vi(new Date(S.date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Ah,{className:"w-auto p-0",children:l.jsx(vm,{mode:"single",selected:S.date?new Date(S.date):void 0,onSelect:H,initialFocus:!0})})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"recipient_name",className:"text-right",children:S.direction==="received"?"From":"To"}),l.jsx(Le,{id:"recipient_name",name:"recipient_name",value:S.recipient_name,onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"amount",className:"text-right",children:"Amount"}),l.jsx(Le,{id:"amount",name:"amount",type:"number",value:S.amount||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"payment_type",className:"text-right",children:"Payment Type"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(Pn,{value:S.payment_type,onValueChange:K=>R("payment_type",K),children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select payment type"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"cash",children:"Cash"}),l.jsx(ft,{value:"upi",children:"UPI"}),l.jsx(ft,{value:"bank",children:"Bank Transfer"}),l.jsx(ft,{value:"others",children:"Others"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"is_third_party",className:"text-right",children:"Third Party"}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(ym,{id:"is_third_party",checked:S.is_third_party,onCheckedChange:K=>T("is_third_party",K)}),l.jsx(we,{htmlFor:"is_third_party",children:S.is_third_party?"Yes":"No"})]})]}),S.is_third_party&&l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"third_party_name",className:"text-right",children:"Third Party Name"}),l.jsx(Le,{id:"third_party_name",name:"third_party_name",value:S.third_party_name||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"notes",className:"text-right",children:"Notes"}),l.jsx(Ph,{id:"notes",name:"notes",value:S.notes||"",onChange:M,className:"col-span-3",rows:3})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),l.jsx(Se,{onClick:Q,children:"Add Log"})]})]})}),l.jsx(lr,{open:d,onOpenChange:h,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Edit Daily Log"})}),g&&l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_direction",className:"text-right",children:"Direction"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(Pn,{value:g.direction,onValueChange:K=>R("direction",K),children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select direction"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"paid",children:"Paid (Outgoing)"}),l.jsx(ft,{value:"received",children:"Received (Incoming)"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_date",className:"text-right",children:"Date"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(xm,{children:[l.jsx(wm,{asChild:!0,children:l.jsxs(Se,{variant:"outline",className:Ue("w-full justify-start text-left font-normal",!g.date&&"text-muted-foreground"),children:[l.jsx(Vv,{className:"mr-2 h-4 w-4"}),g.date?vi(new Date(g.date),"PPP"):l.jsx("span",{children:"Pick a date"})]})}),l.jsx(Ah,{className:"w-auto p-0",children:l.jsx(vm,{mode:"single",selected:g.date?new Date(g.date):void 0,onSelect:H,initialFocus:!0})})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_recipient_name",className:"text-right",children:g.direction==="received"?"From":"To"}),l.jsx(Le,{id:"edit_recipient_name",name:"recipient_name",value:g.recipient_name,onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_amount",className:"text-right",children:"Amount"}),l.jsx(Le,{id:"edit_amount",name:"amount",type:"number",value:g.amount||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_payment_type",className:"text-right",children:"Payment Type"}),l.jsx("div",{className:"col-span-3",children:l.jsxs(Pn,{value:g.payment_type,onValueChange:K=>R("payment_type",K),children:[l.jsx(wn,{children:l.jsx(En,{placeholder:"Select payment type"})}),l.jsxs(bn,{children:[l.jsx(ft,{value:"cash",children:"Cash"}),l.jsx(ft,{value:"upi",children:"UPI"}),l.jsx(ft,{value:"bank",children:"Bank Transfer"}),l.jsx(ft,{value:"others",children:"Others"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_is_third_party",className:"text-right",children:"Third Party"}),l.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[l.jsx(ym,{id:"edit_is_third_party",checked:g.is_third_party,onCheckedChange:K=>T("is_third_party",K)}),l.jsx(we,{htmlFor:"edit_is_third_party",children:g.is_third_party?"Yes":"No"})]})]}),g.is_third_party&&l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_third_party_name",className:"text-right",children:"Third Party Name"}),l.jsx(Le,{id:"edit_third_party_name",name:"third_party_name",value:g.third_party_name||"",onChange:M,className:"col-span-3"})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(we,{htmlFor:"edit_notes",className:"text-right",children:"Notes"}),l.jsx(Ph,{id:"edit_notes",name:"notes",value:g.notes||"",onChange:M,className:"col-span-3",rows:3})]})]}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),l.jsx(Se,{onClick:L,children:"Save Changes"})]})]})}),l.jsx(lr,{open:f,onOpenChange:p,children:l.jsxs(cr,{children:[l.jsx(Pr,{children:l.jsx(fr,{children:"Delete Daily Log"})}),l.jsx("p",{children:"Are you sure you want to delete this daily log? This action cannot be undone."}),l.jsxs(Er,{children:[l.jsx(Se,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(Se,{variant:"destructive",onClick:E,children:"Delete"})]})]})})]})},Uue=()=>{const[e,t]=v.useState(0),{user:r}=Ar(),n=v.useCallback(async()=>{t(s=>s+1)},[]);return r?l.jsxs("div",{className:"container mx-auto py-6 px-4 sm:px-6",children:[l.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Daily Logs"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Track your daily income and expenses"})]}),l.jsx(jF,{onSyncComplete:n,className:"self-end"})]}),l.jsx($ue,{},`daily-logs-${e}`)]}):l.jsx(v_,{to:"/login"})},Vue=v.createContext(void 0),CF=({children:e})=>{const[t,r]=v.useState(()=>{const u=localStorage.getItem("theme");return u&&["light","dark","system"].includes(u)?u:"system"}),[n,s]=v.useState(()=>{const u=localStorage.getItem("fontSize");return u&&["small","medium","large"].includes(u)?u:"medium"}),[a,i]=v.useState(!1);v.useEffect(()=>{const u=document.documentElement;localStorage.setItem("theme",t);const d=h=>{h?(u.classList.add("dark"),i(!0)):(u.classList.remove("dark"),i(!1))};if(t==="system"){const h=window.matchMedia("(prefers-color-scheme: dark)").matches;d(h);const f=window.matchMedia("(prefers-color-scheme: dark)"),p=g=>d(g.matches);return f.addEventListener("change",p),()=>f.removeEventListener("change",p)}else d(t==="dark")},[t]),v.useEffect(()=>{const u=document.documentElement;switch(localStorage.setItem("fontSize",n),u.classList.remove("text-sm","text-base","text-lg"),n){case"small":u.classList.add("text-sm");break;case"medium":u.classList.add("text-base");break;case"large":u.classList.add("text-lg");break}},[n]);const o=u=>{r(u)},c=u=>{s(u)};return l.jsx(Vue.Provider,{value:{theme:t,setTheme:o,fontSize:n,setFontSize:c,isDarkMode:a},children:e})},zue=new gq,fl=({children:e})=>{const{user:t,isLoading:r}=Ar();return r?l.jsx(KK,{message:"Loading your account..."}):t?l.jsx(l.Fragment,{children:e}):l.jsx(v_,{to:"/auth",replace:!0})},que=()=>{const[e,t]=v.useState(!1),[r,n]=v.useState(!1);v.useEffect(()=>{const o=new URLSearchParams(window.location.search),c=o.get("fallback")==="true",u=o.get("safe")==="true";if(n(u),c)return;u&&console.log("Running in safe mode - limited functionality");const d=window.onerror;window.onerror=(f,p,g,y,S)=>{if(console.error("Global error:",{message:f,source:p,lineno:g,colno:y,error:S}),f&&(f.toString().includes("ChunkLoadError")||f.toString().includes("Loading chunk")||f.toString().includes("Loading CSS chunk")||f.toString().includes("Unexpected token")||f.toString().includes("SyntaxError")||f.toString().includes("Cannot read property")||f.toString().includes("undefined is not an object")||f.toString().includes("null is not an object"))){t(!0);try{sessionStorage.setItem("app_error",JSON.stringify({message:f.toString(),source:p,lineno:g,colno:y,stack:S==null?void 0:S.stack,time:new Date().toISOString()}))}catch(b){console.error("Failed to store error info:",b)}}return typeof d=="function"?d(f,p,g,y,S):!1};const h=window.onunhandledrejection;return window.onunhandledrejection=function(f){if(console.error("Unhandled promise rejection:",f.reason),f.reason&&(f.reason.message&&(f.reason.message.includes("ChunkLoadError")||f.reason.message.includes("Loading chunk")||f.reason.message.includes("Network Error")||f.reason.message.includes("Failed to fetch")||f.reason.message.includes("NetworkError")||f.reason.message.includes("AbortError"))||f.reason.toString&&f.reason.toString().includes("SyntaxError"))){t(!0);try{sessionStorage.setItem("app_error",JSON.stringify({message:f.reason.message||f.reason.toString(),stack:f.reason.stack,time:new Date().toISOString()}))}catch(p){console.error("Failed to store error info:",p)}}if(typeof h=="function")return h.call(window,f)},()=>{window.onerror=d,window.onunhandledrejection=h}},[]),v.useEffect(()=>{e&&(console.log("Critical error detected, redirecting to fallback app..."),window.location.href="/?fallback=true")},[e]);const s=new URLSearchParams(window.location.search),a=s.get("fallback")==="true",i=s.get("safe")==="true";return a?l.jsx(GJ,{}):i||r?l.jsx(ke.StrictMode,{children:l.jsx(uF,{children:l.jsx(CF,{children:l.jsx(jD,{children:l.jsx(mO,{children:l.jsx(HJ,{})})})})})}):l.jsx(ke.StrictMode,{children:l.jsx(pJ,{children:l.jsx(fJ,{children:l.jsx(vq,{client:zue,children:l.jsxs(sL,{children:[l.jsx(qU,{}),l.jsx(xV,{}),l.jsx(pW,{children:l.jsx(__,{mode:"wait",children:l.jsxs(oW,{children:[l.jsx(Xs,{path:"/auth",element:l.jsx(rue,{})}),l.jsx(Xs,{path:"/verify-otp",element:l.jsx(vue,{})}),l.jsx(Xs,{path:"/reset-password",element:l.jsx(wue,{})}),l.jsx(Xs,{path:"/",element:l.jsx(fl,{children:l.jsx(pie,{})})}),l.jsx(Xs,{path:"/transaction/:id",element:l.jsx(fl,{children:l.jsx(xle,{})})}),l.jsx(Xs,{path:"/new-transaction",element:l.jsx(fl,{children:l.jsx(Qce,{})})}),l.jsx(Xs,{path:"/profile",element:l.jsx(fl,{children:l.jsx(bue,{})})}),l.jsx(Xs,{path:"/settings",element:l.jsx(fl,{children:l.jsx(Lue,{})})}),l.jsx(Xs,{path:"/clients",element:l.jsx(fl,{children:l.jsx(Mue,{})})}),l.jsx(Xs,{path:"/contacts",element:l.jsx(fl,{children:l.jsx(Bue,{})})}),l.jsx(Xs,{path:"/daily-logs",element:l.jsx(fl,{children:l.jsx(Uue,{})})}),l.jsx(Xs,{path:"*",element:l.jsx(wle,{})})]})})})]})})})})})},Wue=zA(document.getElementById("root"));Wue.render(l.jsx(ke.StrictMode,{children:l.jsx(uF,{children:l.jsx(CF,{children:l.jsx(jD,{children:l.jsxs(mO,{children:[" ",l.jsx(que,{})]})})})})}));window.clearAppLoadTimeout&&window.clearAppLoadTimeout();export{sr as _,Da as c,PE as g};
